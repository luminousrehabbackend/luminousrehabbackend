function u6(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ste=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function b1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _P(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Zg={exports:{}},L0={},Jg={exports:{}},$r={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sN;function AP(){if(sN)return $r;sN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function x(G){return G===null||typeof G!="object"?null:(G=m&&G[m]||G["@@iterator"],typeof G=="function"?G:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function j(G,R,z){this.props=G,this.context=R,this.refs=w,this.updater=z||p}j.prototype.isReactComponent={},j.prototype.setState=function(G,R){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,R,"setState")},j.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function C(){}C.prototype=j.prototype;function A(G,R,z){this.props=G,this.context=R,this.refs=w,this.updater=z||p}var k=A.prototype=new C;k.constructor=A,y(k,j.prototype),k.isPureReactComponent=!0;var P=Array.isArray,M=Object.prototype.hasOwnProperty,$={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function D(G,R,z){var U,Q={},J=null,re=null;if(R!=null)for(U in R.ref!==void 0&&(re=R.ref),R.key!==void 0&&(J=""+R.key),R)M.call(R,U)&&!L.hasOwnProperty(U)&&(Q[U]=R[U]);var le=arguments.length-2;if(le===1)Q.children=z;else if(1<le){for(var ye=Array(le),je=0;je<le;je++)ye[je]=arguments[je+2];Q.children=ye}if(G&&G.defaultProps)for(U in le=G.defaultProps,le)Q[U]===void 0&&(Q[U]=le[U]);return{$$typeof:t,type:G,key:J,ref:re,props:Q,_owner:$.current}}function V(G,R){return{$$typeof:t,type:G.type,key:R,ref:G.ref,props:G.props,_owner:G._owner}}function ne(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function B(G){var R={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(z){return R[z]})}var F=/\/+/g;function X(G,R){return typeof G=="object"&&G!==null&&G.key!=null?B(""+G.key):R.toString(36)}function ee(G,R,z,U,Q){var J=typeof G;(J==="undefined"||J==="boolean")&&(G=null);var re=!1;if(G===null)re=!0;else switch(J){case"string":case"number":re=!0;break;case"object":switch(G.$$typeof){case t:case e:re=!0}}if(re)return re=G,Q=Q(re),G=U===""?"."+X(re,0):U,P(Q)?(z="",G!=null&&(z=G.replace(F,"$&/")+"/"),ee(Q,R,z,"",function(je){return je})):Q!=null&&(ne(Q)&&(Q=V(Q,z+(!Q.key||re&&re.key===Q.key?"":(""+Q.key).replace(F,"$&/")+"/")+G)),R.push(Q)),1;if(re=0,U=U===""?".":U+":",P(G))for(var le=0;le<G.length;le++){J=G[le];var ye=U+X(J,le);re+=ee(J,R,z,ye,Q)}else if(ye=x(G),typeof ye=="function")for(G=ye.call(G),le=0;!(J=G.next()).done;)J=J.value,ye=U+X(J,le++),re+=ee(J,R,z,ye,Q);else if(J==="object")throw R=String(G),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return re}function xe(G,R,z){if(G==null)return G;var U=[],Q=0;return ee(G,U,"","",function(J){return R.call(z,J,Q++)}),U}function oe(G){if(G._status===-1){var R=G._result;R=R(),R.then(function(z){(G._status===0||G._status===-1)&&(G._status=1,G._result=z)},function(z){(G._status===0||G._status===-1)&&(G._status=2,G._result=z)}),G._status===-1&&(G._status=0,G._result=R)}if(G._status===1)return G._result.default;throw G._result}var pe={current:null},H={transition:null},q={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:H,ReactCurrentOwner:$};function ie(){throw Error("act(...) is not supported in production builds of React.")}return $r.Children={map:xe,forEach:function(G,R,z){xe(G,function(){R.apply(this,arguments)},z)},count:function(G){var R=0;return xe(G,function(){R++}),R},toArray:function(G){return xe(G,function(R){return R})||[]},only:function(G){if(!ne(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},$r.Component=j,$r.Fragment=r,$r.Profiler=i,$r.PureComponent=A,$r.StrictMode=n,$r.Suspense=c,$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,$r.act=ie,$r.cloneElement=function(G,R,z){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var U=y({},G.props),Q=G.key,J=G.ref,re=G._owner;if(R!=null){if(R.ref!==void 0&&(J=R.ref,re=$.current),R.key!==void 0&&(Q=""+R.key),G.type&&G.type.defaultProps)var le=G.type.defaultProps;for(ye in R)M.call(R,ye)&&!L.hasOwnProperty(ye)&&(U[ye]=R[ye]===void 0&&le!==void 0?le[ye]:R[ye])}var ye=arguments.length-2;if(ye===1)U.children=z;else if(1<ye){le=Array(ye);for(var je=0;je<ye;je++)le[je]=arguments[je+2];U.children=le}return{$$typeof:t,type:G.type,key:Q,ref:J,props:U,_owner:re}},$r.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:a,_context:G},G.Consumer=G},$r.createElement=D,$r.createFactory=function(G){var R=D.bind(null,G);return R.type=G,R},$r.createRef=function(){return{current:null}},$r.forwardRef=function(G){return{$$typeof:l,render:G}},$r.isValidElement=ne,$r.lazy=function(G){return{$$typeof:h,_payload:{_status:-1,_result:G},_init:oe}},$r.memo=function(G,R){return{$$typeof:u,type:G,compare:R===void 0?null:R}},$r.startTransition=function(G){var R=H.transition;H.transition={};try{G()}finally{H.transition=R}},$r.unstable_act=ie,$r.useCallback=function(G,R){return pe.current.useCallback(G,R)},$r.useContext=function(G){return pe.current.useContext(G)},$r.useDebugValue=function(){},$r.useDeferredValue=function(G){return pe.current.useDeferredValue(G)},$r.useEffect=function(G,R){return pe.current.useEffect(G,R)},$r.useId=function(){return pe.current.useId()},$r.useImperativeHandle=function(G,R,z){return pe.current.useImperativeHandle(G,R,z)},$r.useInsertionEffect=function(G,R){return pe.current.useInsertionEffect(G,R)},$r.useLayoutEffect=function(G,R){return pe.current.useLayoutEffect(G,R)},$r.useMemo=function(G,R){return pe.current.useMemo(G,R)},$r.useReducer=function(G,R,z){return pe.current.useReducer(G,R,z)},$r.useRef=function(G){return pe.current.useRef(G)},$r.useState=function(G){return pe.current.useState(G)},$r.useSyncExternalStore=function(G,R,z){return pe.current.useSyncExternalStore(G,R,z)},$r.useTransition=function(){return pe.current.useTransition()},$r.version="18.3.1",$r}var iN;function N1(){return iN||(iN=1,Jg.exports=AP()),Jg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN;function SP(){if(aN)return L0;aN=1;var t=N1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var h,m={},x=null,p=null;u!==void 0&&(x=""+u),c.key!==void 0&&(x=""+c.key),c.ref!==void 0&&(p=c.ref);for(h in c)n.call(c,h)&&!a.hasOwnProperty(h)&&(m[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)m[h]===void 0&&(m[h]=c[h]);return{$$typeof:e,type:l,key:x,ref:p,props:m,_owner:i.current}}return L0.Fragment=r,L0.jsx=o,L0.jsxs=o,L0}var oN;function EP(){return oN||(oN=1,Zg.exports=SP()),Zg.exports}var s=EP(),Up={},Qg={exports:{}},Oa={},ev={exports:{}},tv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lN;function kP(){return lN||(lN=1,(function(t){function e(H,q){var ie=H.length;H.push(q);e:for(;0<ie;){var G=ie-1>>>1,R=H[G];if(0<i(R,q))H[G]=q,H[ie]=R,ie=G;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var q=H[0],ie=H.pop();if(ie!==q){H[0]=ie;e:for(var G=0,R=H.length,z=R>>>1;G<z;){var U=2*(G+1)-1,Q=H[U],J=U+1,re=H[J];if(0>i(Q,ie))J<R&&0>i(re,Q)?(H[G]=re,H[J]=ie,G=J):(H[G]=Q,H[U]=ie,G=U);else if(J<R&&0>i(re,ie))H[G]=re,H[J]=ie,G=J;else break e}}return q}function i(H,q){var ie=H.sortIndex-q.sortIndex;return ie!==0?ie:H.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,m=null,x=3,p=!1,y=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(H){for(var q=r(u);q!==null;){if(q.callback===null)n(u);else if(q.startTime<=H)n(u),q.sortIndex=q.expirationTime,e(c,q);else break;q=r(u)}}function P(H){if(w=!1,k(H),!y)if(r(c)!==null)y=!0,oe(M);else{var q=r(u);q!==null&&pe(P,q.startTime-H)}}function M(H,q){y=!1,w&&(w=!1,C(D),D=-1),p=!0;var ie=x;try{for(k(q),m=r(c);m!==null&&(!(m.expirationTime>q)||H&&!B());){var G=m.callback;if(typeof G=="function"){m.callback=null,x=m.priorityLevel;var R=G(m.expirationTime<=q);q=t.unstable_now(),typeof R=="function"?m.callback=R:m===r(c)&&n(c),k(q)}else n(c);m=r(c)}if(m!==null)var z=!0;else{var U=r(u);U!==null&&pe(P,U.startTime-q),z=!1}return z}finally{m=null,x=ie,p=!1}}var $=!1,L=null,D=-1,V=5,ne=-1;function B(){return!(t.unstable_now()-ne<V)}function F(){if(L!==null){var H=t.unstable_now();ne=H;var q=!0;try{q=L(!0,H)}finally{q?X():($=!1,L=null)}}else $=!1}var X;if(typeof A=="function")X=function(){A(F)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,xe=ee.port2;ee.port1.onmessage=F,X=function(){xe.postMessage(null)}}else X=function(){j(F,0)};function oe(H){L=H,$||($=!0,X())}function pe(H,q){D=j(function(){H(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,oe(M))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(H){switch(x){case 1:case 2:case 3:var q=3;break;default:q=x}var ie=x;x=q;try{return H()}finally{x=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=x;x=H;try{return q()}finally{x=ie}},t.unstable_scheduleCallback=function(H,q,ie){var G=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?G+ie:G):ie=G,H){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ie+R,H={id:h++,callback:q,priorityLevel:H,startTime:ie,expirationTime:R,sortIndex:-1},ie>G?(H.sortIndex=ie,e(u,H),r(c)===null&&H===r(u)&&(w?(C(D),D=-1):w=!0,pe(P,ie-G))):(H.sortIndex=R,e(c,H),y||p||(y=!0,oe(M))),H},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(H){var q=x;return function(){var ie=x;x=q;try{return H.apply(this,arguments)}finally{x=ie}}}})(tv)),tv}var cN;function PP(){return cN||(cN=1,ev.exports=kP()),ev.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dN;function TP(){if(dN)return Oa;dN=1;var t=N1(),e=PP();function r(d){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+d,g=1;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(d,f){o(d,f),o(d+"Capture",f)}function o(d,f){for(i[d]=f,d=0;d<f.length;d++)n.add(f[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function x(d){return c.call(m,d)?!0:c.call(h,d)?!1:u.test(d)?m[d]=!0:(h[d]=!0,!1)}function p(d,f,g,b){if(g!==null&&g.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return b?!1:g!==null?!g.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function y(d,f,g,b){if(f===null||typeof f>"u"||p(d,f,g,b))return!0;if(b)return!1;if(g!==null)switch(g.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function w(d,f,g,b,E,I,Y){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=b,this.attributeNamespace=E,this.mustUseProperty=g,this.propertyName=d,this.type=f,this.sanitizeURL=I,this.removeEmptyString=Y}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){j[d]=new w(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var f=d[0];j[f]=new w(f,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){j[d]=new w(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){j[d]=new w(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){j[d]=new w(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){j[d]=new w(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){j[d]=new w(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){j[d]=new w(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){j[d]=new w(d,5,!1,d.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function A(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var f=d.replace(C,A);j[f]=new w(f,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var f=d.replace(C,A);j[f]=new w(f,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var f=d.replace(C,A);j[f]=new w(f,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){j[d]=new w(d,1,!1,d.toLowerCase(),null,!1,!1)}),j.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){j[d]=new w(d,1,!1,d.toLowerCase(),null,!0,!0)});function k(d,f,g,b){var E=j.hasOwnProperty(f)?j[f]:null;(E!==null?E.type!==0:b||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(y(f,g,E,b)&&(g=null),b||E===null?x(f)&&(g===null?d.removeAttribute(f):d.setAttribute(f,""+g)):E.mustUseProperty?d[E.propertyName]=g===null?E.type===3?!1:"":g:(f=E.attributeName,b=E.attributeNamespace,g===null?d.removeAttribute(f):(E=E.type,g=E===3||E===4&&g===!0?"":""+g,b?d.setAttributeNS(b,f,g):d.setAttribute(f,g))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),$=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),B=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),H=Symbol.iterator;function q(d){return d===null||typeof d!="object"?null:(d=H&&d[H]||d["@@iterator"],typeof d=="function"?d:null)}var ie=Object.assign,G;function R(d){if(G===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);G=f&&f[1]||""}return`
`+G+d}var z=!1;function U(d,f){if(!d||z)return"";z=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ue){var b=Ue}Reflect.construct(d,[],f)}else{try{f.call()}catch(Ue){b=Ue}d.call(f.prototype)}else{try{throw Error()}catch(Ue){b=Ue}d()}}catch(Ue){if(Ue&&b&&typeof Ue.stack=="string"){for(var E=Ue.stack.split(`
`),I=b.stack.split(`
`),Y=E.length-1,ve=I.length-1;1<=Y&&0<=ve&&E[Y]!==I[ve];)ve--;for(;1<=Y&&0<=ve;Y--,ve--)if(E[Y]!==I[ve]){if(Y!==1||ve!==1)do if(Y--,ve--,0>ve||E[Y]!==I[ve]){var Ne=`
`+E[Y].replace(" at new "," at ");return d.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",d.displayName)),Ne}while(1<=Y&&0<=ve);break}}}finally{z=!1,Error.prepareStackTrace=g}return(d=d?d.displayName||d.name:"")?R(d):""}function Q(d){switch(d.tag){case 5:return R(d.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return d=U(d.type,!1),d;case 11:return d=U(d.type.render,!1),d;case 1:return d=U(d.type,!0),d;default:return""}}function J(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case L:return"Fragment";case $:return"Portal";case V:return"Profiler";case D:return"StrictMode";case X:return"Suspense";case ee:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case B:return(d.displayName||"Context")+".Consumer";case ne:return(d._context.displayName||"Context")+".Provider";case F:var f=d.render;return d=d.displayName,d||(d=f.displayName||f.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case xe:return f=d.displayName||null,f!==null?f:J(d.type)||"Memo";case oe:f=d._payload,d=d._init;try{return J(d(f))}catch{}}return null}function re(d){var f=d.type;switch(d.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=f.render,d=d.displayName||d.name||"",f.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(f);case 8:return f===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function le(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function ye(d){var f=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function je(d){var f=ye(d)?"checked":"value",g=Object.getOwnPropertyDescriptor(d.constructor.prototype,f),b=""+d[f];if(!d.hasOwnProperty(f)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var E=g.get,I=g.set;return Object.defineProperty(d,f,{configurable:!0,get:function(){return E.call(this)},set:function(Y){b=""+Y,I.call(this,Y)}}),Object.defineProperty(d,f,{enumerable:g.enumerable}),{getValue:function(){return b},setValue:function(Y){b=""+Y},stopTracking:function(){d._valueTracker=null,delete d[f]}}}}function Se(d){d._valueTracker||(d._valueTracker=je(d))}function Be(d){if(!d)return!1;var f=d._valueTracker;if(!f)return!0;var g=f.getValue(),b="";return d&&(b=ye(d)?d.checked?"true":"false":d.value),d=b,d!==g?(f.setValue(d),!0):!1}function Fe(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function Te(d,f){var g=f.checked;return ie({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??d._wrapperState.initialChecked})}function ce(d,f){var g=f.defaultValue==null?"":f.defaultValue,b=f.checked!=null?f.checked:f.defaultChecked;g=le(f.value!=null?f.value:g),d._wrapperState={initialChecked:b,initialValue:g,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function $e(d,f){f=f.checked,f!=null&&k(d,"checked",f,!1)}function Ee(d,f){$e(d,f);var g=le(f.value),b=f.type;if(g!=null)b==="number"?(g===0&&d.value===""||d.value!=g)&&(d.value=""+g):d.value!==""+g&&(d.value=""+g);else if(b==="submit"||b==="reset"){d.removeAttribute("value");return}f.hasOwnProperty("value")?Pe(d,f.type,g):f.hasOwnProperty("defaultValue")&&Pe(d,f.type,le(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(d.defaultChecked=!!f.defaultChecked)}function lt(d,f,g){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var b=f.type;if(!(b!=="submit"&&b!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+d._wrapperState.initialValue,g||f===d.value||(d.value=f),d.defaultValue=f}g=d.name,g!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,g!==""&&(d.name=g)}function Pe(d,f,g){(f!=="number"||Fe(d.ownerDocument)!==d)&&(g==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+g&&(d.defaultValue=""+g))}var nt=Array.isArray;function We(d,f,g,b){if(d=d.options,f){f={};for(var E=0;E<g.length;E++)f["$"+g[E]]=!0;for(g=0;g<d.length;g++)E=f.hasOwnProperty("$"+d[g].value),d[g].selected!==E&&(d[g].selected=E),E&&b&&(d[g].defaultSelected=!0)}else{for(g=""+le(g),f=null,E=0;E<d.length;E++){if(d[E].value===g){d[E].selected=!0,b&&(d[E].defaultSelected=!0);return}f!==null||d[E].disabled||(f=d[E])}f!==null&&(f.selected=!0)}}function xt(d,f){if(f.dangerouslySetInnerHTML!=null)throw Error(r(91));return ie({},f,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function ct(d,f){var g=f.value;if(g==null){if(g=f.children,f=f.defaultValue,g!=null){if(f!=null)throw Error(r(92));if(nt(g)){if(1<g.length)throw Error(r(93));g=g[0]}f=g}f==null&&(f=""),g=f}d._wrapperState={initialValue:le(g)}}function tr(d,f){var g=le(f.value),b=le(f.defaultValue);g!=null&&(g=""+g,g!==d.value&&(d.value=g),f.defaultValue==null&&d.defaultValue!==g&&(d.defaultValue=g)),b!=null&&(d.defaultValue=""+b)}function It(d){var f=d.textContent;f===d._wrapperState.initialValue&&f!==""&&f!==null&&(d.value=f)}function St(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fr(d,f){return d==null||d==="http://www.w3.org/1999/xhtml"?St(f):d==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var Ct,mt=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,g,b,E){MSApp.execUnsafeLocalFunction(function(){return d(f,g,b,E)})}:d})(function(d,f){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=f;else{for(Ct=Ct||document.createElement("div"),Ct.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=Ct.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;f.firstChild;)d.appendChild(f.firstChild)}});function Et(d,f){if(f){var g=d.firstChild;if(g&&g===d.lastChild&&g.nodeType===3){g.nodeValue=f;return}}d.textContent=f}var jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rr=["Webkit","ms","Moz","O"];Object.keys(jt).forEach(function(d){rr.forEach(function(f){f=f+d.charAt(0).toUpperCase()+d.substring(1),jt[f]=jt[d]})});function cr(d,f,g){return f==null||typeof f=="boolean"||f===""?"":g||typeof f!="number"||f===0||jt.hasOwnProperty(d)&&jt[d]?(""+f).trim():f+"px"}function vt(d,f){d=d.style;for(var g in f)if(f.hasOwnProperty(g)){var b=g.indexOf("--")===0,E=cr(g,f[g],b);g==="float"&&(g="cssFloat"),b?d.setProperty(g,E):d[g]=E}}var Zt=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mr(d,f){if(f){if(Zt[d]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(r(137,d));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(r(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(r(61))}if(f.style!=null&&typeof f.style!="object")throw Error(r(62))}}function kt(d,f){if(d.indexOf("-")===-1)return typeof f.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qt=null;function Dt(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Or=null,Dr=null,Cr=null;function Mt(d){if(d=yd(d)){if(typeof Or!="function")throw Error(r(280));var f=d.stateNode;f&&(f=Ou(f),Or(d.stateNode,d.type,f))}}function ge(d){Dr?Cr?Cr.push(d):Cr=[d]:Dr=d}function pt(){if(Dr){var d=Dr,f=Cr;if(Cr=Dr=null,Mt(d),f)for(d=0;d<f.length;d++)Mt(f[d])}}function bt(d,f){return d(f)}function yr(){}var Qr=!1;function Ce(d,f,g){if(Qr)return d(f,g);Qr=!0;try{return bt(d,f,g)}finally{Qr=!1,(Dr!==null||Cr!==null)&&(yr(),pt())}}function wt(d,f){var g=d.stateNode;if(g===null)return null;var b=Ou(g);if(b===null)return null;g=b[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(d=d.type,b=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!b;break e;default:d=!1}if(d)return null;if(g&&typeof g!="function")throw Error(r(231,f,typeof g));return g}var tt=!1;if(l)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){tt=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{tt=!1}function Yr(d,f,g,b,E,I,Y,ve,Ne){var Ue=Array.prototype.slice.call(arguments,3);try{f.apply(g,Ue)}catch(at){this.onError(at)}}var Lr=!1,wr=null,Ve=!1,Rt=null,en={onError:function(d){Lr=!0,wr=d}};function bs(d,f,g,b,E,I,Y,ve,Ne){Lr=!1,wr=null,Yr.apply(en,arguments)}function mn(d,f,g,b,E,I,Y,ve,Ne){if(bs.apply(this,arguments),Lr){if(Lr){var Ue=wr;Lr=!1,wr=null}else throw Error(r(198));Ve||(Ve=!0,Rt=Ue)}}function Ln(d){var f=d,g=d;if(d.alternate)for(;f.return;)f=f.return;else{d=f;do f=d,(f.flags&4098)!==0&&(g=f.return),d=f.return;while(d)}return f.tag===3?g:null}function Is(d){if(d.tag===13){var f=d.memoizedState;if(f===null&&(d=d.alternate,d!==null&&(f=d.memoizedState)),f!==null)return f.dehydrated}return null}function Hn(d){if(Ln(d)!==d)throw Error(r(188))}function qn(d){var f=d.alternate;if(!f){if(f=Ln(d),f===null)throw Error(r(188));return f!==d?null:d}for(var g=d,b=f;;){var E=g.return;if(E===null)break;var I=E.alternate;if(I===null){if(b=E.return,b!==null){g=b;continue}break}if(E.child===I.child){for(I=E.child;I;){if(I===g)return Hn(E),d;if(I===b)return Hn(E),f;I=I.sibling}throw Error(r(188))}if(g.return!==b.return)g=E,b=I;else{for(var Y=!1,ve=E.child;ve;){if(ve===g){Y=!0,g=E,b=I;break}if(ve===b){Y=!0,b=E,g=I;break}ve=ve.sibling}if(!Y){for(ve=I.child;ve;){if(ve===g){Y=!0,g=I,b=E;break}if(ve===b){Y=!0,b=I,g=E;break}ve=ve.sibling}if(!Y)throw Error(r(189))}}if(g.alternate!==b)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?d:f}function Bi(d){return d=qn(d),d!==null?Ga(d):null}function Ga(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var f=Ga(d);if(f!==null)return f;d=d.sibling}return null}var Ui=e.unstable_scheduleCallback,go=e.unstable_cancelCallback,Go=e.unstable_shouldYield,td=e.unstable_requestPaint,bn=e.unstable_now,pc=e.unstable_getCurrentPriorityLevel,Il=e.unstable_ImmediatePriority,Si=e.unstable_UserBlockingPriority,vo=e.unstable_NormalPriority,Dl=e.unstable_LowPriority,Rl=e.unstable_IdlePriority,Ko=null,Ei=null;function rd(d){if(Ei&&typeof Ei.onCommitFiberRoot=="function")try{Ei.onCommitFiberRoot(Ko,d,void 0,(d.current.flags&128)===128)}catch{}}var Hs=Math.clz32?Math.clz32:er,Ke=Math.log,Xe=Math.LN2;function er(d){return d>>>=0,d===0?32:31-(Ke(d)/Xe|0)|0}var cn=64,dn=4194304;function In(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function mi(d,f){var g=d.pendingLanes;if(g===0)return 0;var b=0,E=d.suspendedLanes,I=d.pingedLanes,Y=g&268435455;if(Y!==0){var ve=Y&~E;ve!==0?b=In(ve):(I&=Y,I!==0&&(b=In(I)))}else Y=g&~E,Y!==0?b=In(Y):I!==0&&(b=In(I));if(b===0)return 0;if(f!==0&&f!==b&&(f&E)===0&&(E=b&-b,I=f&-f,E>=I||E===16&&(I&4194240)!==0))return f;if((b&4)!==0&&(b|=g&16),f=d.entangledLanes,f!==0)for(d=d.entanglements,f&=b;0<f;)g=31-Hs(f),E=1<<g,b|=d[g],f&=~E;return b}function aa(d,f){switch(d){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wn(d,f){for(var g=d.suspendedLanes,b=d.pingedLanes,E=d.expirationTimes,I=d.pendingLanes;0<I;){var Y=31-Hs(I),ve=1<<Y,Ne=E[Y];Ne===-1?((ve&g)===0||(ve&b)!==0)&&(E[Y]=aa(ve,f)):Ne<=f&&(d.expiredLanes|=ve),I&=~ve}}function xc(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Ah(){var d=cn;return cn<<=1,(cn&4194240)===0&&(cn=64),d}function gu(d){for(var f=[],g=0;31>g;g++)f.push(d);return f}function gc(d,f,g){d.pendingLanes|=f,f!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,f=31-Hs(f),d[f]=g}function yo(d,f){var g=d.pendingLanes&~f;d.pendingLanes=f,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=f,d.mutableReadLanes&=f,d.entangledLanes&=f,f=d.entanglements;var b=d.eventTimes;for(d=d.expirationTimes;0<g;){var E=31-Hs(g),I=1<<E;f[E]=0,b[E]=-1,d[E]=-1,g&=~I}}function nd(d,f){var g=d.entangledLanes|=f;for(d=d.entanglements;g;){var b=31-Hs(g),E=1<<b;E&f|d[b]&f&&(d[b]|=f),g&=~E}}var Zr=0;function Yo(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var sd,vu,Sh,Eh,id,Xo=!1,Ka=[],wo=null,Vi=null,Na=null,or=new Map,vc=new Map,bo=[],u0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kh(d,f){switch(d){case"focusin":case"focusout":wo=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":or.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":vc.delete(f.pointerId)}}function oa(d,f,g,b,E,I){return d===null||d.nativeEvent!==I?(d={blockedOn:f,domEventName:g,eventSystemFlags:b,nativeEvent:I,targetContainers:[E]},f!==null&&(f=yd(f),f!==null&&vu(f)),d):(d.eventSystemFlags|=b,f=d.targetContainers,E!==null&&f.indexOf(E)===-1&&f.push(E),d)}function Zo(d,f,g,b,E){switch(f){case"focusin":return wo=oa(wo,d,f,g,b,E),!0;case"dragenter":return Vi=oa(Vi,d,f,g,b,E),!0;case"mouseover":return Na=oa(Na,d,f,g,b,E),!0;case"pointerover":var I=E.pointerId;return or.set(I,oa(or.get(I)||null,d,f,g,b,E)),!0;case"gotpointercapture":return I=E.pointerId,vc.set(I,oa(vc.get(I)||null,d,f,g,b,E)),!0}return!1}function Ph(d){var f=Hl(d.target);if(f!==null){var g=Ln(f);if(g!==null){if(f=g.tag,f===13){if(f=Is(g),f!==null){d.blockedOn=f,id(d.priority,function(){Sh(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){d.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}d.blockedOn=null}function ad(d){if(d.blockedOn!==null)return!1;for(var f=d.targetContainers;0<f.length;){var g=wc(d.domEventName,d.eventSystemFlags,f[0],d.nativeEvent);if(g===null){g=d.nativeEvent;var b=new g.constructor(g.type,g);Qt=b,g.target.dispatchEvent(b),Qt=null}else return f=yd(g),f!==null&&vu(f),d.blockedOn=g,!1;f.shift()}return!0}function yc(d,f,g){ad(d)&&g.delete(f)}function yu(){Xo=!1,wo!==null&&ad(wo)&&(wo=null),Vi!==null&&ad(Vi)&&(Vi=null),Na!==null&&ad(Na)&&(Na=null),or.forEach(yc),vc.forEach(yc)}function Ya(d,f){d.blockedOn===f&&(d.blockedOn=null,Xo||(Xo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yu)))}function No(d){function f(E){return Ya(E,d)}if(0<Ka.length){Ya(Ka[0],d);for(var g=1;g<Ka.length;g++){var b=Ka[g];b.blockedOn===d&&(b.blockedOn=null)}}for(wo!==null&&Ya(wo,d),Vi!==null&&Ya(Vi,d),Na!==null&&Ya(Na,d),or.forEach(f),vc.forEach(f),g=0;g<bo.length;g++)b=bo[g],b.blockedOn===d&&(b.blockedOn=null);for(;0<bo.length&&(g=bo[0],g.blockedOn===null);)Ph(g),g.blockedOn===null&&bo.shift()}var Xa=P.ReactCurrentBatchConfig,od=!0;function wu(d,f,g,b){var E=Zr,I=Xa.transition;Xa.transition=null;try{Zr=1,Jo(d,f,g,b)}finally{Zr=E,Xa.transition=I}}function bu(d,f,g,b){var E=Zr,I=Xa.transition;Xa.transition=null;try{Zr=4,Jo(d,f,g,b)}finally{Zr=E,Xa.transition=I}}function Jo(d,f,g,b){if(od){var E=wc(d,f,g,b);if(E===null)Iu(d,f,b,jo,g),kh(d,b);else if(Zo(E,d,f,g,b))b.stopPropagation();else if(kh(d,b),f&4&&-1<u0.indexOf(d)){for(;E!==null;){var I=yd(E);if(I!==null&&sd(I),I=wc(d,f,g,b),I===null&&Iu(d,f,b,jo,g),I===E)break;E=I}E!==null&&b.stopPropagation()}else Iu(d,f,b,null,g)}}var jo=null;function wc(d,f,g,b){if(jo=null,d=Dt(b),d=Hl(d),d!==null)if(f=Ln(d),f===null)d=null;else if(g=f.tag,g===13){if(d=Is(f),d!==null)return d;d=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;d=null}else f!==d&&(d=null);return jo=d,null}function bc(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pc()){case Il:return 1;case Si:return 4;case vo:case Dl:return 16;case Rl:return 536870912;default:return 16}default:return 16}}var ja=null,Qo=null,Nc=null;function Nu(){if(Nc)return Nc;var d,f=Qo,g=f.length,b,E="value"in ja?ja.value:ja.textContent,I=E.length;for(d=0;d<g&&f[d]===E[d];d++);var Y=g-d;for(b=1;b<=Y&&f[g-b]===E[I-b];b++);return Nc=E.slice(d,1<b?1-b:void 0)}function Ca(d){var f=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&f===13&&(d=13)):d=f,d===10&&(d=13),32<=d||d===13?d:0}function _a(){return!0}function ju(){return!1}function pi(d){function f(g,b,E,I,Y){this._reactName=g,this._targetInst=E,this.type=b,this.nativeEvent=I,this.target=Y,this.currentTarget=null;for(var ve in d)d.hasOwnProperty(ve)&&(g=d[ve],this[ve]=g?g(I):I[ve]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?_a:ju,this.isPropagationStopped=ju,this}return ie(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),f}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ld=pi(Aa),S=ie({},Aa,{view:0,detail:0}),K=pi(S),me,we,ke,Ye=ie({},S,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ol,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==ke&&(ke&&d.type==="mousemove"?(me=d.screenX-ke.screenX,we=d.screenY-ke.screenY):we=me=0,ke=d),me)},movementY:function(d){return"movementY"in d?d.movementY:we}}),rt=pi(Ye),Lt=ie({},Ye,{dataTransfer:0}),Ht=pi(Lt),pr=ie({},S,{relatedTarget:0}),xr=pi(pr),tn=ie({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),Gn=pi(tn),Ns=ie({},Aa,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),En=pi(Ns),Ds=ie({},Aa,{data:0}),cs=pi(Ds),si={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Th(d){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(d):(d=$i[d])?!!f[d]:!1}function Ol(){return Th}var jc=ie({},S,{key:function(d){if(d.key){var f=si[d.key]||d.key;if(f!=="Unidentified")return f}return d.type==="keypress"?(d=Ca(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Sa[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ol,charCode:function(d){return d.type==="keypress"?Ca(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Ca(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Ll=pi(jc),Cc=ie({},Ye,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fl=pi(Cc),_c=ie({},S,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ol}),xi=pi(_c),Ac=ie({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sc=pi(Ac),Cu=ie({},Ye,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),_u=pi(Cu),Qn=[9,13,27,32],Za=l&&"CompositionEvent"in window,Co=null;l&&"documentMode"in document&&(Co=document.documentMode);var Ih=l&&"TextEvent"in window&&!Co,la=l&&(!Za||Co&&8<Co&&11>=Co),Ml=" ",cd=!1;function dd(d,f){switch(d){case"keyup":return Qn.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function el(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Ea=!1;function ca(d,f){switch(d){case"compositionend":return el(f);case"keypress":return f.which!==32?null:(cd=!0,Ml);case"textInput":return d=f.data,d===Ml&&cd?null:d;default:return null}}function da(d,f){if(Ea)return d==="compositionend"||!Za&&dd(d,f)?(d=Nu(),Nc=Qo=ja=null,Ea=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return la&&f.locale!=="ko"?null:f.data;default:return null}}var Bl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _o(d){var f=d&&d.nodeName&&d.nodeName.toLowerCase();return f==="input"?!!Bl[d.type]:f==="textarea"}function tl(d,f,g,b){ge(b),f=Fh(f,"onChange"),0<f.length&&(g=new ld("onChange","change",null,g,b),d.push({event:g,listeners:f}))}var rl=null,Ao=null;function ds(d){Pu(d,0)}function Ec(d){var f=Mc(d);if(Be(f))return d}function So(d,f){if(d==="change")return f}var Ja=!1;if(l){var kc;if(l){var Pc="oninput"in document;if(!Pc){var ud=document.createElement("div");ud.setAttribute("oninput","return;"),Pc=typeof ud.oninput=="function"}kc=Pc}else kc=!1;Ja=kc&&(!document.documentMode||9<document.documentMode)}function hd(){rl&&(rl.detachEvent("onpropertychange",nl),Ao=rl=null)}function nl(d){if(d.propertyName==="value"&&Ec(Ao)){var f=[];tl(f,Ao,d,Dt(d)),Ce(ds,f)}}function Ul(d,f,g){d==="focusin"?(hd(),rl=f,Ao=g,rl.attachEvent("onpropertychange",nl)):d==="focusout"&&hd()}function Vl(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Ec(Ao)}function Tc(d,f){if(d==="click")return Ec(f)}function $l(d,f){if(d==="input"||d==="change")return Ec(f)}function Ic(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var es=typeof Object.is=="function"?Object.is:Ic;function zi(d,f){if(es(d,f))return!0;if(typeof d!="object"||d===null||typeof f!="object"||f===null)return!1;var g=Object.keys(d),b=Object.keys(f);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var E=g[b];if(!c.call(f,E)||!es(d[E],f[E]))return!1}return!0}function rn(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function gn(d,f){var g=rn(d);d=0;for(var b;g;){if(g.nodeType===3){if(b=d+g.textContent.length,d<=f&&b>=f)return{node:g,offset:f-d};d=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=rn(g)}}function ts(d,f){return d&&f?d===f?!0:d&&d.nodeType===3?!1:f&&f.nodeType===3?ts(d,f.parentNode):"contains"in d?d.contains(f):d.compareDocumentPosition?!!(d.compareDocumentPosition(f)&16):!1:!1}function js(){for(var d=window,f=Fe();f instanceof d.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)d=f.contentWindow;else break;f=Fe(d.document)}return f}function Qa(d){var f=d&&d.nodeName&&d.nodeName.toLowerCase();return f&&(f==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||f==="textarea"||d.contentEditable==="true")}function Au(d){var f=js(),g=d.focusedElem,b=d.selectionRange;if(f!==g&&g&&g.ownerDocument&&ts(g.ownerDocument.documentElement,g)){if(b!==null&&Qa(g)){if(f=b.start,d=b.end,d===void 0&&(d=f),"selectionStart"in g)g.selectionStart=f,g.selectionEnd=Math.min(d,g.value.length);else if(d=(f=g.ownerDocument||document)&&f.defaultView||window,d.getSelection){d=d.getSelection();var E=g.textContent.length,I=Math.min(b.start,E);b=b.end===void 0?I:Math.min(b.end,E),!d.extend&&I>b&&(E=b,b=I,I=E),E=gn(g,I);var Y=gn(g,b);E&&Y&&(d.rangeCount!==1||d.anchorNode!==E.node||d.anchorOffset!==E.offset||d.focusNode!==Y.node||d.focusOffset!==Y.offset)&&(f=f.createRange(),f.setStart(E.node,E.offset),d.removeAllRanges(),I>b?(d.addRange(f),d.extend(Y.node,Y.offset)):(f.setEnd(Y.node,Y.offset),d.addRange(f)))}}for(f=[],d=g;d=d.parentNode;)d.nodeType===1&&f.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<f.length;g++)d=f[g],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var fd=l&&"documentMode"in document&&11>=document.documentMode,sl=null,Dh=null,md=null,Rh=!1;function h0(d,f,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Rh||sl==null||sl!==Fe(b)||(b=sl,"selectionStart"in b&&Qa(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),md&&zi(md,b)||(md=b,b=Fh(Dh,"onSelect"),0<b.length&&(f=new ld("onSelect","select",null,f,g),d.push({event:f,listeners:b}),f.target=sl)))}function Su(d,f){var g={};return g[d.toLowerCase()]=f.toLowerCase(),g["Webkit"+d]="webkit"+f,g["Moz"+d]="moz"+f,g}var Dc={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},Rc={},f0={};l&&(f0=document.createElement("div").style,"AnimationEvent"in window||(delete Dc.animationend.animation,delete Dc.animationiteration.animation,delete Dc.animationstart.animation),"TransitionEvent"in window||delete Dc.transitionend.transition);function Eu(d){if(Rc[d])return Rc[d];if(!Dc[d])return d;var f=Dc[d],g;for(g in f)if(f.hasOwnProperty(g)&&g in f0)return Rc[d]=f[g];return d}var m0=Eu("animationend"),p0=Eu("animationiteration"),x0=Eu("animationstart"),g0=Eu("transitionend"),v0=new Map,y0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(d,f){v0.set(d,f),a(f,[d])}for(var pd=0;pd<y0.length;pd++){var ki=y0[pd],ka=ki.toLowerCase(),Oh=ki[0].toUpperCase()+ki.slice(1);Eo(ka,"on"+Oh)}Eo(m0,"onAnimationEnd"),Eo(p0,"onAnimationIteration"),Eo(x0,"onAnimationStart"),Eo("dblclick","onDoubleClick"),Eo("focusin","onFocus"),Eo("focusout","onBlur"),Eo(g0,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ap=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function ku(d,f,g){var b=d.type||"unknown-event";d.currentTarget=g,mn(b,f,void 0,d),d.currentTarget=null}function Pu(d,f){f=(f&4)!==0;for(var g=0;g<d.length;g++){var b=d[g],E=b.event;b=b.listeners;e:{var I=void 0;if(f)for(var Y=b.length-1;0<=Y;Y--){var ve=b[Y],Ne=ve.instance,Ue=ve.currentTarget;if(ve=ve.listener,Ne!==I&&E.isPropagationStopped())break e;ku(E,ve,Ue),I=Ne}else for(Y=0;Y<b.length;Y++){if(ve=b[Y],Ne=ve.instance,Ue=ve.currentTarget,ve=ve.listener,Ne!==I&&E.isPropagationStopped())break e;ku(E,ve,Ue),I=Ne}}}if(Ve)throw d=Rt,Ve=!1,Rt=null,d}function Nn(d,f){var g=f[qi];g===void 0&&(g=f[qi]=new Set);var b=d+"__bubble";g.has(b)||(Tu(f,d,2,!1),g.add(b))}function Lh(d,f,g){var b=0;f&&(b|=4),Tu(g,d,b,f)}var xd="_reactListening"+Math.random().toString(36).slice(2);function Oc(d){if(!d[xd]){d[xd]=!0,n.forEach(function(g){g!=="selectionchange"&&(ap.has(g)||Lh(g,!1,d),Lh(g,!0,d))});var f=d.nodeType===9?d:d.ownerDocument;f===null||f[xd]||(f[xd]=!0,Lh("selectionchange",!1,f))}}function Tu(d,f,g,b){switch(bc(f)){case 1:var E=wu;break;case 4:E=bu;break;default:E=Jo}g=E.bind(null,f,g,d),E=void 0,!tt||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(E=!0),b?E!==void 0?d.addEventListener(f,g,{capture:!0,passive:E}):d.addEventListener(f,g,!0):E!==void 0?d.addEventListener(f,g,{passive:E}):d.addEventListener(f,g,!1)}function Iu(d,f,g,b,E){var I=b;if((f&1)===0&&(f&2)===0&&b!==null)e:for(;;){if(b===null)return;var Y=b.tag;if(Y===3||Y===4){var ve=b.stateNode.containerInfo;if(ve===E||ve.nodeType===8&&ve.parentNode===E)break;if(Y===4)for(Y=b.return;Y!==null;){var Ne=Y.tag;if((Ne===3||Ne===4)&&(Ne=Y.stateNode.containerInfo,Ne===E||Ne.nodeType===8&&Ne.parentNode===E))return;Y=Y.return}for(;ve!==null;){if(Y=Hl(ve),Y===null)return;if(Ne=Y.tag,Ne===5||Ne===6){b=I=Y;continue e}ve=ve.parentNode}}b=b.return}Ce(function(){var Ue=I,at=Dt(g),dt=[];e:{var st=v0.get(d);if(st!==void 0){var _t=ld,Bt=d;switch(d){case"keypress":if(Ca(g)===0)break e;case"keydown":case"keyup":_t=Ll;break;case"focusin":Bt="focus",_t=xr;break;case"focusout":Bt="blur",_t=xr;break;case"beforeblur":case"afterblur":_t=xr;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=rt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=Ht;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=xi;break;case m0:case p0:case x0:_t=Gn;break;case g0:_t=Sc;break;case"scroll":_t=K;break;case"wheel":_t=_u;break;case"copy":case"cut":case"paste":_t=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=Fl}var zt=(f&4)!==0,Ls=!zt&&d==="scroll",Re=zt?st!==null?st+"Capture":null:st;zt=[];for(var Ae=Ue,Me;Ae!==null;){Me=Ae;var ut=Me.stateNode;if(Me.tag===5&&ut!==null&&(Me=ut,Re!==null&&(ut=wt(Ae,Re),ut!=null&&zt.push(Du(Ae,ut,Me)))),Ls)break;Ae=Ae.return}0<zt.length&&(st=new _t(st,Bt,null,g,at),dt.push({event:st,listeners:zt}))}}if((f&7)===0){e:{if(st=d==="mouseover"||d==="pointerover",_t=d==="mouseout"||d==="pointerout",st&&g!==Qt&&(Bt=g.relatedTarget||g.fromElement)&&(Hl(Bt)||Bt[gi]))break e;if((_t||st)&&(st=at.window===at?at:(st=at.ownerDocument)?st.defaultView||st.parentWindow:window,_t?(Bt=g.relatedTarget||g.toElement,_t=Ue,Bt=Bt?Hl(Bt):null,Bt!==null&&(Ls=Ln(Bt),Bt!==Ls||Bt.tag!==5&&Bt.tag!==6)&&(Bt=null)):(_t=null,Bt=Ue),_t!==Bt)){if(zt=rt,ut="onMouseLeave",Re="onMouseEnter",Ae="mouse",(d==="pointerout"||d==="pointerover")&&(zt=Fl,ut="onPointerLeave",Re="onPointerEnter",Ae="pointer"),Ls=_t==null?st:Mc(_t),Me=Bt==null?st:Mc(Bt),st=new zt(ut,Ae+"leave",_t,g,at),st.target=Ls,st.relatedTarget=Me,ut=null,Hl(at)===Ue&&(zt=new zt(Re,Ae+"enter",Bt,g,at),zt.target=Me,zt.relatedTarget=Ls,ut=zt),Ls=ut,_t&&Bt)t:{for(zt=_t,Re=Bt,Ae=0,Me=zt;Me;Me=Lc(Me))Ae++;for(Me=0,ut=Re;ut;ut=Lc(ut))Me++;for(;0<Ae-Me;)zt=Lc(zt),Ae--;for(;0<Me-Ae;)Re=Lc(Re),Me--;for(;Ae--;){if(zt===Re||Re!==null&&zt===Re.alternate)break t;zt=Lc(zt),Re=Lc(Re)}zt=null}else zt=null;_t!==null&&op(dt,st,_t,zt,!1),Bt!==null&&Ls!==null&&op(dt,Ls,Bt,zt,!0)}}e:{if(st=Ue?Mc(Ue):window,_t=st.nodeName&&st.nodeName.toLowerCase(),_t==="select"||_t==="input"&&st.type==="file")var Gt=So;else if(_o(st))if(Ja)Gt=$l;else{Gt=Vl;var nr=Ul}else(_t=st.nodeName)&&_t.toLowerCase()==="input"&&(st.type==="checkbox"||st.type==="radio")&&(Gt=Tc);if(Gt&&(Gt=Gt(d,Ue))){tl(dt,Gt,g,at);break e}nr&&nr(d,st,Ue),d==="focusout"&&(nr=st._wrapperState)&&nr.controlled&&st.type==="number"&&Pe(st,"number",st.value)}switch(nr=Ue?Mc(Ue):window,d){case"focusin":(_o(nr)||nr.contentEditable==="true")&&(sl=nr,Dh=Ue,md=null);break;case"focusout":md=Dh=sl=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,h0(dt,g,at);break;case"selectionchange":if(fd)break;case"keydown":case"keyup":h0(dt,g,at)}var sr;if(Za)e:{switch(d){case"compositionstart":var br="onCompositionStart";break e;case"compositionend":br="onCompositionEnd";break e;case"compositionupdate":br="onCompositionUpdate";break e}br=void 0}else Ea?dd(d,g)&&(br="onCompositionEnd"):d==="keydown"&&g.keyCode===229&&(br="onCompositionStart");br&&(la&&g.locale!=="ko"&&(Ea||br!=="onCompositionStart"?br==="onCompositionEnd"&&Ea&&(sr=Nu()):(ja=at,Qo="value"in ja?ja.value:ja.textContent,Ea=!0)),nr=Fh(Ue,br),0<nr.length&&(br=new cs(br,d,null,g,at),dt.push({event:br,listeners:nr}),sr?br.data=sr:(sr=el(g),sr!==null&&(br.data=sr)))),(sr=Ih?ca(d,g):da(d,g))&&(Ue=Fh(Ue,"onBeforeInput"),0<Ue.length&&(at=new cs("onBeforeInput","beforeinput",null,g,at),dt.push({event:at,listeners:Ue}),at.data=sr))}Pu(dt,f)})}function Du(d,f,g){return{instance:d,listener:f,currentTarget:g}}function Fh(d,f){for(var g=f+"Capture",b=[];d!==null;){var E=d,I=E.stateNode;E.tag===5&&I!==null&&(E=I,I=wt(d,g),I!=null&&b.unshift(Du(d,I,E)),I=wt(d,f),I!=null&&b.push(Du(d,I,E))),d=d.return}return b}function Lc(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function op(d,f,g,b,E){for(var I=f._reactName,Y=[];g!==null&&g!==b;){var ve=g,Ne=ve.alternate,Ue=ve.stateNode;if(Ne!==null&&Ne===b)break;ve.tag===5&&Ue!==null&&(ve=Ue,E?(Ne=wt(g,I),Ne!=null&&Y.unshift(Du(g,Ne,ve))):E||(Ne=wt(g,I),Ne!=null&&Y.push(Du(g,Ne,ve)))),g=g.return}Y.length!==0&&d.push({event:f,listeners:Y})}var ug=/\r\n?/g,hg=/\u0000|\uFFFD/g;function lp(d){return(typeof d=="string"?d:""+d).replace(ug,`
`).replace(hg,"")}function Mh(d,f,g){if(f=lp(f),lp(d)!==f&&g)throw Error(r(425))}function gd(){}var Ru=null,Fc=null;function w0(d,f){return d==="textarea"||d==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var b0=typeof setTimeout=="function"?setTimeout:void 0,cp=typeof clearTimeout=="function"?clearTimeout:void 0,dp=typeof Promise=="function"?Promise:void 0,fg=typeof queueMicrotask=="function"?queueMicrotask:typeof dp<"u"?function(d){return dp.resolve(null).then(d).catch(mg)}:b0;function mg(d){setTimeout(function(){throw d})}function N0(d,f){var g=f,b=0;do{var E=g.nextSibling;if(d.removeChild(g),E&&E.nodeType===8)if(g=E.data,g==="/$"){if(b===0){d.removeChild(E),No(f);return}b--}else g!=="$"&&g!=="$?"&&g!=="$!"||b++;g=E}while(g);No(f)}function Pi(d){for(;d!=null;d=d.nextSibling){var f=d.nodeType;if(f===1||f===3)break;if(f===8){if(f=d.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return d}function Pa(d){d=d.previousSibling;for(var f=0;d;){if(d.nodeType===8){var g=d.data;if(g==="$"||g==="$!"||g==="$?"){if(f===0)return d;f--}else g==="/$"&&f++}d=d.previousSibling}return null}var Hi=Math.random().toString(36).slice(2),ko="__reactFiber$"+Hi,vd="__reactProps$"+Hi,gi="__reactContainer$"+Hi,qi="__reactEvents$"+Hi,pg="__reactListeners$"+Hi,xg="__reactHandles$"+Hi;function Hl(d){var f=d[ko];if(f)return f;for(var g=d.parentNode;g;){if(f=g[gi]||g[ko]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(d=Pa(d);d!==null;){if(g=d[ko])return g;d=Pa(d)}return f}d=g,g=d.parentNode}return null}function yd(d){return d=d[ko]||d[gi],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Mc(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(r(33))}function Ou(d){return d[vd]||null}var j0=[],il=-1;function eo(d){return{current:d}}function pn(d){0>il||(d.current=j0[il],j0[il]=null,il--)}function vn(d,f){il++,j0[il]=d.current,d.current=f}var ql={},ii=eo(ql),Wi=eo(!1),Bc=ql;function wd(d,f){var g=d.type.contextTypes;if(!g)return ql;var b=d.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===f)return b.__reactInternalMemoizedMaskedChildContext;var E={},I;for(I in g)E[I]=f[I];return b&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=f,d.__reactInternalMemoizedMaskedChildContext=E),E}function Gi(d){return d=d.childContextTypes,d!=null}function Bh(){pn(Wi),pn(ii)}function up(d,f,g){if(ii.current!==ql)throw Error(r(168));vn(ii,f),vn(Wi,g)}function C0(d,f,g){var b=d.stateNode;if(f=f.childContextTypes,typeof b.getChildContext!="function")return g;b=b.getChildContext();for(var E in b)if(!(E in f))throw Error(r(108,re(d)||"Unknown",E));return ie({},g,b)}function Uc(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||ql,Bc=ii.current,vn(ii,d),vn(Wi,Wi.current),!0}function hp(d,f,g){var b=d.stateNode;if(!b)throw Error(r(169));g?(d=C0(d,f,Bc),b.__reactInternalMemoizedMergedChildContext=d,pn(Wi),pn(ii),vn(ii,d)):pn(Wi),vn(Wi,g)}var al=null,Lu=!1,v=!1;function N(d){al===null?al=[d]:al.push(d)}function T(d){Lu=!0,N(d)}function O(){if(!v&&al!==null){v=!0;var d=0,f=Zr;try{var g=al;for(Zr=1;d<g.length;d++){var b=g[d];do b=b(!0);while(b!==null)}al=null,Lu=!1}catch(E){throw al!==null&&(al=al.slice(d+1)),Ui(Il,O),E}finally{Zr=f,v=!1}}return null}var W=[],Z=0,te=null,se=0,ae=[],de=0,be=null,De=1,he="";function _e(d,f){W[Z++]=se,W[Z++]=te,te=d,se=f}function Ie(d,f,g){ae[de++]=De,ae[de++]=he,ae[de++]=be,be=d;var b=De;d=he;var E=32-Hs(b)-1;b&=~(1<<E),g+=1;var I=32-Hs(f)+E;if(30<I){var Y=E-E%5;I=(b&(1<<Y)-1).toString(32),b>>=Y,E-=Y,De=1<<32-Hs(f)+E|g<<E|b,he=I+d}else De=1<<I|g<<E|b,he=d}function Ge(d){d.return!==null&&(_e(d,1),Ie(d,1,0))}function Oe(d){for(;d===te;)te=W[--Z],W[Z]=null,se=W[--Z],W[Z]=null;for(;d===be;)be=ae[--de],ae[de]=null,he=ae[--de],ae[de]=null,De=ae[--de],ae[de]=null}var ze=null,He=null,Ze=!1,Qe=null;function qt(d,f){var g=Ro(5,null,null,0);g.elementType="DELETED",g.stateNode=f,g.return=d,f=d.deletions,f===null?(d.deletions=[g],d.flags|=16):f.push(g)}function Pt(d,f){switch(d.tag){case 5:var g=d.type;return f=f.nodeType!==1||g.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(d.stateNode=f,ze=d,He=Pi(f.firstChild),!0):!1;case 6:return f=d.pendingProps===""||f.nodeType!==3?null:f,f!==null?(d.stateNode=f,ze=d,He=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(g=be!==null?{id:De,overflow:he}:null,d.memoizedState={dehydrated:f,treeContext:g,retryLane:1073741824},g=Ro(18,null,null,0),g.stateNode=f,g.return=d,d.child=g,ze=d,He=null,!0):!1;default:return!1}}function Sr(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Ft(d){if(Ze){var f=He;if(f){var g=f;if(!Pt(d,f)){if(Sr(d))throw Error(r(418));f=Pi(g.nextSibling);var b=ze;f&&Pt(d,f)?qt(b,g):(d.flags=d.flags&-4097|2,Ze=!1,ze=d)}}else{if(Sr(d))throw Error(r(418));d.flags=d.flags&-4097|2,Ze=!1,ze=d}}}function Vr(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;ze=d}function rs(d){if(d!==ze)return!1;if(!Ze)return Vr(d),Ze=!0,!1;var f;if((f=d.tag!==3)&&!(f=d.tag!==5)&&(f=d.type,f=f!=="head"&&f!=="body"&&!w0(d.type,d.memoizedProps)),f&&(f=He)){if(Sr(d))throw Tr(),Error(r(418));for(;f;)qt(d,f),f=Pi(f.nextSibling)}if(Vr(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,f=0;d;){if(d.nodeType===8){var g=d.data;if(g==="/$"){if(f===0){He=Pi(d.nextSibling);break e}f--}else g!=="$"&&g!=="$!"&&g!=="$?"||f++}d=d.nextSibling}He=null}}else He=ze?Pi(d.stateNode.nextSibling):null;return!0}function Tr(){for(var d=He;d;)d=Pi(d.nextSibling)}function Tt(){He=ze=null,Ze=!1}function gt(d){Qe===null?Qe=[d]:Qe.push(d)}var us=P.ReactCurrentBatchConfig;function dr(d,f,g){if(d=g.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(r(309));var b=g.stateNode}if(!b)throw Error(r(147,d));var E=b,I=""+d;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===I?f.ref:(f=function(Y){var ve=E.refs;Y===null?delete ve[I]:ve[I]=Y},f._stringRef=I,f)}if(typeof d!="string")throw Error(r(284));if(!g._owner)throw Error(r(290,d))}return d}function Fr(d,f){throw d=Object.prototype.toString.call(f),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":d))}function kn(d){var f=d._init;return f(d._payload)}function qs(d){function f(Re,Ae){if(d){var Me=Re.deletions;Me===null?(Re.deletions=[Ae],Re.flags|=16):Me.push(Ae)}}function g(Re,Ae){if(!d)return null;for(;Ae!==null;)f(Re,Ae),Ae=Ae.sibling;return null}function b(Re,Ae){for(Re=new Map;Ae!==null;)Ae.key!==null?Re.set(Ae.key,Ae):Re.set(Ae.index,Ae),Ae=Ae.sibling;return Re}function E(Re,Ae){return Re=Pd(Re,Ae),Re.index=0,Re.sibling=null,Re}function I(Re,Ae,Me){return Re.index=Me,d?(Me=Re.alternate,Me!==null?(Me=Me.index,Me<Ae?(Re.flags|=2,Ae):Me):(Re.flags|=2,Ae)):(Re.flags|=1048576,Ae)}function Y(Re){return d&&Re.alternate===null&&(Re.flags|=2),Re}function ve(Re,Ae,Me,ut){return Ae===null||Ae.tag!==6?(Ae=qg(Me,Re.mode,ut),Ae.return=Re,Ae):(Ae=E(Ae,Me),Ae.return=Re,Ae)}function Ne(Re,Ae,Me,ut){var Gt=Me.type;return Gt===L?at(Re,Ae,Me.props.children,ut,Me.key):Ae!==null&&(Ae.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===oe&&kn(Gt)===Ae.type)?(ut=E(Ae,Me.props),ut.ref=dr(Re,Ae,Me),ut.return=Re,ut):(ut=Ip(Me.type,Me.key,Me.props,null,Re.mode,ut),ut.ref=dr(Re,Ae,Me),ut.return=Re,ut)}function Ue(Re,Ae,Me,ut){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==Me.containerInfo||Ae.stateNode.implementation!==Me.implementation?(Ae=Wg(Me,Re.mode,ut),Ae.return=Re,Ae):(Ae=E(Ae,Me.children||[]),Ae.return=Re,Ae)}function at(Re,Ae,Me,ut,Gt){return Ae===null||Ae.tag!==7?(Ae=Hu(Me,Re.mode,ut,Gt),Ae.return=Re,Ae):(Ae=E(Ae,Me),Ae.return=Re,Ae)}function dt(Re,Ae,Me){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return Ae=qg(""+Ae,Re.mode,Me),Ae.return=Re,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case M:return Me=Ip(Ae.type,Ae.key,Ae.props,null,Re.mode,Me),Me.ref=dr(Re,null,Ae),Me.return=Re,Me;case $:return Ae=Wg(Ae,Re.mode,Me),Ae.return=Re,Ae;case oe:var ut=Ae._init;return dt(Re,ut(Ae._payload),Me)}if(nt(Ae)||q(Ae))return Ae=Hu(Ae,Re.mode,Me,null),Ae.return=Re,Ae;Fr(Re,Ae)}return null}function st(Re,Ae,Me,ut){var Gt=Ae!==null?Ae.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number")return Gt!==null?null:ve(Re,Ae,""+Me,ut);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case M:return Me.key===Gt?Ne(Re,Ae,Me,ut):null;case $:return Me.key===Gt?Ue(Re,Ae,Me,ut):null;case oe:return Gt=Me._init,st(Re,Ae,Gt(Me._payload),ut)}if(nt(Me)||q(Me))return Gt!==null?null:at(Re,Ae,Me,ut,null);Fr(Re,Me)}return null}function _t(Re,Ae,Me,ut,Gt){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return Re=Re.get(Me)||null,ve(Ae,Re,""+ut,Gt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case M:return Re=Re.get(ut.key===null?Me:ut.key)||null,Ne(Ae,Re,ut,Gt);case $:return Re=Re.get(ut.key===null?Me:ut.key)||null,Ue(Ae,Re,ut,Gt);case oe:var nr=ut._init;return _t(Re,Ae,Me,nr(ut._payload),Gt)}if(nt(ut)||q(ut))return Re=Re.get(Me)||null,at(Ae,Re,ut,Gt,null);Fr(Ae,ut)}return null}function Bt(Re,Ae,Me,ut){for(var Gt=null,nr=null,sr=Ae,br=Ae=0,Ni=null;sr!==null&&br<Me.length;br++){sr.index>br?(Ni=sr,sr=null):Ni=sr.sibling;var un=st(Re,sr,Me[br],ut);if(un===null){sr===null&&(sr=Ni);break}d&&sr&&un.alternate===null&&f(Re,sr),Ae=I(un,Ae,br),nr===null?Gt=un:nr.sibling=un,nr=un,sr=Ni}if(br===Me.length)return g(Re,sr),Ze&&_e(Re,br),Gt;if(sr===null){for(;br<Me.length;br++)sr=dt(Re,Me[br],ut),sr!==null&&(Ae=I(sr,Ae,br),nr===null?Gt=sr:nr.sibling=sr,nr=sr);return Ze&&_e(Re,br),Gt}for(sr=b(Re,sr);br<Me.length;br++)Ni=_t(sr,Re,br,Me[br],ut),Ni!==null&&(d&&Ni.alternate!==null&&sr.delete(Ni.key===null?br:Ni.key),Ae=I(Ni,Ae,br),nr===null?Gt=Ni:nr.sibling=Ni,nr=Ni);return d&&sr.forEach(function(Td){return f(Re,Td)}),Ze&&_e(Re,br),Gt}function zt(Re,Ae,Me,ut){var Gt=q(Me);if(typeof Gt!="function")throw Error(r(150));if(Me=Gt.call(Me),Me==null)throw Error(r(151));for(var nr=Gt=null,sr=Ae,br=Ae=0,Ni=null,un=Me.next();sr!==null&&!un.done;br++,un=Me.next()){sr.index>br?(Ni=sr,sr=null):Ni=sr.sibling;var Td=st(Re,sr,un.value,ut);if(Td===null){sr===null&&(sr=Ni);break}d&&sr&&Td.alternate===null&&f(Re,sr),Ae=I(Td,Ae,br),nr===null?Gt=Td:nr.sibling=Td,nr=Td,sr=Ni}if(un.done)return g(Re,sr),Ze&&_e(Re,br),Gt;if(sr===null){for(;!un.done;br++,un=Me.next())un=dt(Re,un.value,ut),un!==null&&(Ae=I(un,Ae,br),nr===null?Gt=un:nr.sibling=un,nr=un);return Ze&&_e(Re,br),Gt}for(sr=b(Re,sr);!un.done;br++,un=Me.next())un=_t(sr,Re,br,un.value,ut),un!==null&&(d&&un.alternate!==null&&sr.delete(un.key===null?br:un.key),Ae=I(un,Ae,br),nr===null?Gt=un:nr.sibling=un,nr=un);return d&&sr.forEach(function(CP){return f(Re,CP)}),Ze&&_e(Re,br),Gt}function Ls(Re,Ae,Me,ut){if(typeof Me=="object"&&Me!==null&&Me.type===L&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case M:e:{for(var Gt=Me.key,nr=Ae;nr!==null;){if(nr.key===Gt){if(Gt=Me.type,Gt===L){if(nr.tag===7){g(Re,nr.sibling),Ae=E(nr,Me.props.children),Ae.return=Re,Re=Ae;break e}}else if(nr.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===oe&&kn(Gt)===nr.type){g(Re,nr.sibling),Ae=E(nr,Me.props),Ae.ref=dr(Re,nr,Me),Ae.return=Re,Re=Ae;break e}g(Re,nr);break}else f(Re,nr);nr=nr.sibling}Me.type===L?(Ae=Hu(Me.props.children,Re.mode,ut,Me.key),Ae.return=Re,Re=Ae):(ut=Ip(Me.type,Me.key,Me.props,null,Re.mode,ut),ut.ref=dr(Re,Ae,Me),ut.return=Re,Re=ut)}return Y(Re);case $:e:{for(nr=Me.key;Ae!==null;){if(Ae.key===nr)if(Ae.tag===4&&Ae.stateNode.containerInfo===Me.containerInfo&&Ae.stateNode.implementation===Me.implementation){g(Re,Ae.sibling),Ae=E(Ae,Me.children||[]),Ae.return=Re,Re=Ae;break e}else{g(Re,Ae);break}else f(Re,Ae);Ae=Ae.sibling}Ae=Wg(Me,Re.mode,ut),Ae.return=Re,Re=Ae}return Y(Re);case oe:return nr=Me._init,Ls(Re,Ae,nr(Me._payload),ut)}if(nt(Me))return Bt(Re,Ae,Me,ut);if(q(Me))return zt(Re,Ae,Me,ut);Fr(Re,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"?(Me=""+Me,Ae!==null&&Ae.tag===6?(g(Re,Ae.sibling),Ae=E(Ae,Me),Ae.return=Re,Re=Ae):(g(Re,Ae),Ae=qg(Me,Re.mode,ut),Ae.return=Re,Re=Ae),Y(Re)):g(Re,Ae)}return Ls}var Cs=qs(!0),Kn=qs(!1),Rs=eo(null),Ws=null,Fn=null,Gr=null;function nn(){Gr=Fn=Ws=null}function Mn(d){var f=Rs.current;pn(Rs),d._currentValue=f}function sn(d,f,g){for(;d!==null;){var b=d.alternate;if((d.childLanes&f)!==f?(d.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),d===g)break;d=d.return}}function ns(d,f){Ws=d,Gr=Fn=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&f)!==0&&(Ia=!0),d.firstContext=null)}function ss(d){var f=d._currentValue;if(Gr!==d)if(d={context:d,memoizedValue:f,next:null},Fn===null){if(Ws===null)throw Error(r(308));Fn=d,Ws.dependencies={lanes:0,firstContext:d}}else Fn=Fn.next=d;return f}var jn=null;function vi(d){jn===null?jn=[d]:jn.push(d)}function yn(d,f,g,b){var E=f.interleaved;return E===null?(g.next=g,vi(f)):(g.next=E.next,E.next=g),f.interleaved=g,Cn(d,b)}function Cn(d,f){d.lanes|=f;var g=d.alternate;for(g!==null&&(g.lanes|=f),g=d,d=d.return;d!==null;)d.childLanes|=f,g=d.alternate,g!==null&&(g.childLanes|=f),g=d,d=d.return;return g.tag===3?g.stateNode:null}var _s=!1;function ai(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ki(d,f){d=d.updateQueue,f.updateQueue===d&&(f.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function hs(d,f){return{eventTime:d,lane:f,tag:0,payload:null,callback:null,next:null}}function fs(d,f,g){var b=d.updateQueue;if(b===null)return null;if(b=b.shared,(an&2)!==0){var E=b.pending;return E===null?f.next=f:(f.next=E.next,E.next=f),b.pending=f,Cn(d,g)}return E=b.interleaved,E===null?(f.next=f,vi(b)):(f.next=E.next,E.next=f),b.interleaved=f,Cn(d,g)}function yi(d,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194240)!==0)){var b=f.lanes;b&=d.pendingLanes,g|=b,f.lanes=g,nd(d,g)}}function _n(d,f){var g=d.updateQueue,b=d.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var E=null,I=null;if(g=g.firstBaseUpdate,g!==null){do{var Y={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};I===null?E=I=Y:I=I.next=Y,g=g.next}while(g!==null);I===null?E=I=f:I=I.next=f}else E=I=f;g={baseState:b.baseState,firstBaseUpdate:E,lastBaseUpdate:I,shared:b.shared,effects:b.effects},d.updateQueue=g;return}d=g.lastBaseUpdate,d===null?g.firstBaseUpdate=f:d.next=f,g.lastBaseUpdate=f}function wi(d,f,g,b){var E=d.updateQueue;_s=!1;var I=E.firstBaseUpdate,Y=E.lastBaseUpdate,ve=E.shared.pending;if(ve!==null){E.shared.pending=null;var Ne=ve,Ue=Ne.next;Ne.next=null,Y===null?I=Ue:Y.next=Ue,Y=Ne;var at=d.alternate;at!==null&&(at=at.updateQueue,ve=at.lastBaseUpdate,ve!==Y&&(ve===null?at.firstBaseUpdate=Ue:ve.next=Ue,at.lastBaseUpdate=Ne))}if(I!==null){var dt=E.baseState;Y=0,at=Ue=Ne=null,ve=I;do{var st=ve.lane,_t=ve.eventTime;if((b&st)===st){at!==null&&(at=at.next={eventTime:_t,lane:0,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null});e:{var Bt=d,zt=ve;switch(st=f,_t=g,zt.tag){case 1:if(Bt=zt.payload,typeof Bt=="function"){dt=Bt.call(_t,dt,st);break e}dt=Bt;break e;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=zt.payload,st=typeof Bt=="function"?Bt.call(_t,dt,st):Bt,st==null)break e;dt=ie({},dt,st);break e;case 2:_s=!0}}ve.callback!==null&&ve.lane!==0&&(d.flags|=64,st=E.effects,st===null?E.effects=[ve]:st.push(ve))}else _t={eventTime:_t,lane:st,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},at===null?(Ue=at=_t,Ne=dt):at=at.next=_t,Y|=st;if(ve=ve.next,ve===null){if(ve=E.shared.pending,ve===null)break;st=ve,ve=st.next,st.next=null,E.lastBaseUpdate=st,E.shared.pending=null}}while(!0);if(at===null&&(Ne=dt),E.baseState=Ne,E.firstBaseUpdate=Ue,E.lastBaseUpdate=at,f=E.shared.interleaved,f!==null){E=f;do Y|=E.lane,E=E.next;while(E!==f)}else I===null&&(E.shared.lanes=0);Uu|=Y,d.lanes=Y,d.memoizedState=dt}}function Ta(d,f,g){if(d=f.effects,f.effects=null,d!==null)for(f=0;f<d.length;f++){var b=d[f],E=b.callback;if(E!==null){if(b.callback=null,b=g,typeof E!="function")throw Error(r(191,E));E.call(b)}}}var to={},Gs=eo(to),ms=eo(to),Wl=eo(to);function ol(d){if(d===to)throw Error(r(174));return d}function bd(d,f){switch(vn(Wl,f),vn(ms,d),vn(Gs,to),d=f.nodeType,d){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:fr(null,"");break;default:d=d===8?f.parentNode:f,f=d.namespaceURI||null,d=d.tagName,f=fr(f,d)}pn(Gs),vn(Gs,f)}function Po(){pn(Gs),pn(ms),pn(Wl)}function fp(d){ol(Wl.current);var f=ol(Gs.current),g=fr(f,d.type);f!==g&&(vn(ms,d),vn(Gs,g))}function _0(d){ms.current===d&&(pn(Gs),pn(ms))}var Dn=eo(0);function ro(d){for(var f=d;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var A0=[];function S0(){for(var d=0;d<A0.length;d++)A0[d]._workInProgressVersionPrimary=null;A0.length=0}var Uh=P.ReactCurrentDispatcher,Vh=P.ReactCurrentBatchConfig,To=0,Bn=null,As=null,ps=null,Nd=!1,ll=!1,jd=0,gg=0;function Os(){throw Error(r(321))}function $h(d,f){if(f===null)return!1;for(var g=0;g<f.length&&g<d.length;g++)if(!es(d[g],f[g]))return!1;return!0}function Fu(d,f,g,b,E,I){if(To=I,Bn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Uh.current=d===null||d.memoizedState===null?Xk:Zk,d=g(b,E),ll){I=0;do{if(ll=!1,jd=0,25<=I)throw Error(r(301));I+=1,ps=As=null,f.updateQueue=null,Uh.current=Jk,d=g(b,E)}while(ll)}if(Uh.current=vp,f=As!==null&&As.next!==null,To=0,ps=As=Bn=null,Nd=!1,f)throw Error(r(300));return d}function Io(){var d=jd!==0;return jd=0,d}function no(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ps===null?Bn.memoizedState=ps=d:ps=ps.next=d,ps}function ua(){if(As===null){var d=Bn.alternate;d=d!==null?d.memoizedState:null}else d=As.next;var f=ps===null?Bn.memoizedState:ps.next;if(f!==null)ps=f,As=d;else{if(d===null)throw Error(r(310));As=d,d={memoizedState:As.memoizedState,baseState:As.baseState,baseQueue:As.baseQueue,queue:As.queue,next:null},ps===null?Bn.memoizedState=ps=d:ps=ps.next=d}return ps}function Mu(d,f){return typeof f=="function"?f(d):f}function zh(d){var f=ua(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=d;var b=As,E=b.baseQueue,I=g.pending;if(I!==null){if(E!==null){var Y=E.next;E.next=I.next,I.next=Y}b.baseQueue=E=I,g.pending=null}if(E!==null){I=E.next,b=b.baseState;var ve=Y=null,Ne=null,Ue=I;do{var at=Ue.lane;if((To&at)===at)Ne!==null&&(Ne=Ne.next={lane:0,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null}),b=Ue.hasEagerState?Ue.eagerState:d(b,Ue.action);else{var dt={lane:at,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null};Ne===null?(ve=Ne=dt,Y=b):Ne=Ne.next=dt,Bn.lanes|=at,Uu|=at}Ue=Ue.next}while(Ue!==null&&Ue!==I);Ne===null?Y=b:Ne.next=ve,es(b,f.memoizedState)||(Ia=!0),f.memoizedState=b,f.baseState=Y,f.baseQueue=Ne,g.lastRenderedState=b}if(d=g.interleaved,d!==null){E=d;do I=E.lane,Bn.lanes|=I,Uu|=I,E=E.next;while(E!==d)}else E===null&&(g.lanes=0);return[f.memoizedState,g.dispatch]}function Gl(d){var f=ua(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=d;var b=g.dispatch,E=g.pending,I=f.memoizedState;if(E!==null){g.pending=null;var Y=E=E.next;do I=d(I,Y.action),Y=Y.next;while(Y!==E);es(I,f.memoizedState)||(Ia=!0),f.memoizedState=I,f.baseQueue===null&&(f.baseState=I),g.lastRenderedState=I}return[I,b]}function mp(){}function E0(d,f){var g=Bn,b=ua(),E=f(),I=!es(b.memoizedState,E);if(I&&(b.memoizedState=E,Ia=!0),b=b.queue,Wh(xp.bind(null,g,b,d),[d]),b.getSnapshot!==f||I||ps!==null&&ps.memoizedState.tag&1){if(g.flags|=2048,ha(9,k0.bind(null,g,b,E,f),void 0,null),bi===null)throw Error(r(349));(To&30)!==0||pp(g,f,E)}return E}function pp(d,f,g){d.flags|=16384,d={getSnapshot:f,value:g},f=Bn.updateQueue,f===null?(f={lastEffect:null,stores:null},Bn.updateQueue=f,f.stores=[d]):(g=f.stores,g===null?f.stores=[d]:g.push(d))}function k0(d,f,g,b){f.value=g,f.getSnapshot=b,Cd(f)&&Hh(d)}function xp(d,f,g){return g(function(){Cd(f)&&Hh(d)})}function Cd(d){var f=d.getSnapshot;d=d.value;try{var g=f();return!es(d,g)}catch{return!0}}function Hh(d){var f=Cn(d,1);f!==null&&fl(f,d,1,-1)}function Bu(d){var f=no();return typeof d=="function"&&(d=d()),f.memoizedState=f.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:d},f.queue=d,d=d.dispatch=Yk.bind(null,Bn,d),[f.memoizedState,d]}function ha(d,f,g,b){return d={tag:d,create:f,destroy:g,deps:b,next:null},f=Bn.updateQueue,f===null?(f={lastEffect:null,stores:null},Bn.updateQueue=f,f.lastEffect=d.next=d):(g=f.lastEffect,g===null?f.lastEffect=d.next=d:(b=g.next,g.next=d,d.next=b,f.lastEffect=d)),d}function cl(){return ua().memoizedState}function so(d,f,g,b){var E=no();Bn.flags|=d,E.memoizedState=ha(1|f,g,void 0,b===void 0?null:b)}function Vc(d,f,g,b){var E=ua();b=b===void 0?null:b;var I=void 0;if(As!==null){var Y=As.memoizedState;if(I=Y.destroy,b!==null&&$h(b,Y.deps)){E.memoizedState=ha(f,g,I,b);return}}Bn.flags|=d,E.memoizedState=ha(1|f,g,I,b)}function qh(d,f){return so(8390656,8,d,f)}function Wh(d,f){return Vc(2048,8,d,f)}function gp(d,f){return Vc(4,2,d,f)}function Gh(d,f){return Vc(4,4,d,f)}function Kh(d,f){if(typeof f=="function")return d=d(),f(d),function(){f(null)};if(f!=null)return d=d(),f.current=d,function(){f.current=null}}function r5(d,f,g){return g=g!=null?g.concat([d]):null,Vc(4,4,Kh.bind(null,f,d),g)}function vg(){}function n5(d,f){var g=ua();f=f===void 0?null:f;var b=g.memoizedState;return b!==null&&f!==null&&$h(f,b[1])?b[0]:(g.memoizedState=[d,f],d)}function s5(d,f){var g=ua();f=f===void 0?null:f;var b=g.memoizedState;return b!==null&&f!==null&&$h(f,b[1])?b[0]:(d=d(),g.memoizedState=[d,f],d)}function i5(d,f,g){return(To&21)===0?(d.baseState&&(d.baseState=!1,Ia=!0),d.memoizedState=g):(es(g,f)||(g=Ah(),Bn.lanes|=g,Uu|=g,d.baseState=!0),f)}function Gk(d,f){var g=Zr;Zr=g!==0&&4>g?g:4,d(!0);var b=Vh.transition;Vh.transition={};try{d(!1),f()}finally{Zr=g,Vh.transition=b}}function a5(){return ua().memoizedState}function Kk(d,f,g){var b=Ed(d);if(g={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null},o5(d))l5(f,g);else if(g=yn(d,f,g,b),g!==null){var E=ma();fl(g,d,b,E),c5(g,f,b)}}function Yk(d,f,g){var b=Ed(d),E={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null};if(o5(d))l5(f,E);else{var I=d.alternate;if(d.lanes===0&&(I===null||I.lanes===0)&&(I=f.lastRenderedReducer,I!==null))try{var Y=f.lastRenderedState,ve=I(Y,g);if(E.hasEagerState=!0,E.eagerState=ve,es(ve,Y)){var Ne=f.interleaved;Ne===null?(E.next=E,vi(f)):(E.next=Ne.next,Ne.next=E),f.interleaved=E;return}}catch{}finally{}g=yn(d,f,E,b),g!==null&&(E=ma(),fl(g,d,b,E),c5(g,f,b))}}function o5(d){var f=d.alternate;return d===Bn||f!==null&&f===Bn}function l5(d,f){ll=Nd=!0;var g=d.pending;g===null?f.next=f:(f.next=g.next,g.next=f),d.pending=f}function c5(d,f,g){if((g&4194240)!==0){var b=f.lanes;b&=d.pendingLanes,g|=b,f.lanes=g,nd(d,g)}}var vp={readContext:ss,useCallback:Os,useContext:Os,useEffect:Os,useImperativeHandle:Os,useInsertionEffect:Os,useLayoutEffect:Os,useMemo:Os,useReducer:Os,useRef:Os,useState:Os,useDebugValue:Os,useDeferredValue:Os,useTransition:Os,useMutableSource:Os,useSyncExternalStore:Os,useId:Os,unstable_isNewReconciler:!1},Xk={readContext:ss,useCallback:function(d,f){return no().memoizedState=[d,f===void 0?null:f],d},useContext:ss,useEffect:qh,useImperativeHandle:function(d,f,g){return g=g!=null?g.concat([d]):null,so(4194308,4,Kh.bind(null,f,d),g)},useLayoutEffect:function(d,f){return so(4194308,4,d,f)},useInsertionEffect:function(d,f){return so(4,2,d,f)},useMemo:function(d,f){var g=no();return f=f===void 0?null:f,d=d(),g.memoizedState=[d,f],d},useReducer:function(d,f,g){var b=no();return f=g!==void 0?g(f):f,b.memoizedState=b.baseState=f,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:f},b.queue=d,d=d.dispatch=Kk.bind(null,Bn,d),[b.memoizedState,d]},useRef:function(d){var f=no();return d={current:d},f.memoizedState=d},useState:Bu,useDebugValue:vg,useDeferredValue:function(d){return no().memoizedState=d},useTransition:function(){var d=Bu(!1),f=d[0];return d=Gk.bind(null,d[1]),no().memoizedState=d,[f,d]},useMutableSource:function(){},useSyncExternalStore:function(d,f,g){var b=Bn,E=no();if(Ze){if(g===void 0)throw Error(r(407));g=g()}else{if(g=f(),bi===null)throw Error(r(349));(To&30)!==0||pp(b,f,g)}E.memoizedState=g;var I={value:g,getSnapshot:f};return E.queue=I,qh(xp.bind(null,b,I,d),[d]),b.flags|=2048,ha(9,k0.bind(null,b,I,g,f),void 0,null),g},useId:function(){var d=no(),f=bi.identifierPrefix;if(Ze){var g=he,b=De;g=(b&~(1<<32-Hs(b)-1)).toString(32)+g,f=":"+f+"R"+g,g=jd++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=gg++,f=":"+f+"r"+g.toString(32)+":";return d.memoizedState=f},unstable_isNewReconciler:!1},Zk={readContext:ss,useCallback:n5,useContext:ss,useEffect:Wh,useImperativeHandle:r5,useInsertionEffect:gp,useLayoutEffect:Gh,useMemo:s5,useReducer:zh,useRef:cl,useState:function(){return zh(Mu)},useDebugValue:vg,useDeferredValue:function(d){var f=ua();return i5(f,As.memoizedState,d)},useTransition:function(){var d=zh(Mu)[0],f=ua().memoizedState;return[d,f]},useMutableSource:mp,useSyncExternalStore:E0,useId:a5,unstable_isNewReconciler:!1},Jk={readContext:ss,useCallback:n5,useContext:ss,useEffect:Wh,useImperativeHandle:r5,useInsertionEffect:gp,useLayoutEffect:Gh,useMemo:s5,useReducer:Gl,useRef:cl,useState:function(){return Gl(Mu)},useDebugValue:vg,useDeferredValue:function(d){var f=ua();return As===null?f.memoizedState=d:i5(f,As.memoizedState,d)},useTransition:function(){var d=Gl(Mu)[0],f=ua().memoizedState;return[d,f]},useMutableSource:mp,useSyncExternalStore:E0,useId:a5,unstable_isNewReconciler:!1};function dl(d,f){if(d&&d.defaultProps){f=ie({},f),d=d.defaultProps;for(var g in d)f[g]===void 0&&(f[g]=d[g]);return f}return f}function yg(d,f,g,b){f=d.memoizedState,g=g(b,f),g=g==null?f:ie({},f,g),d.memoizedState=g,d.lanes===0&&(d.updateQueue.baseState=g)}var yp={isMounted:function(d){return(d=d._reactInternals)?Ln(d)===d:!1},enqueueSetState:function(d,f,g){d=d._reactInternals;var b=ma(),E=Ed(d),I=hs(b,E);I.payload=f,g!=null&&(I.callback=g),f=fs(d,I,E),f!==null&&(fl(f,d,E,b),yi(f,d,E))},enqueueReplaceState:function(d,f,g){d=d._reactInternals;var b=ma(),E=Ed(d),I=hs(b,E);I.tag=1,I.payload=f,g!=null&&(I.callback=g),f=fs(d,I,E),f!==null&&(fl(f,d,E,b),yi(f,d,E))},enqueueForceUpdate:function(d,f){d=d._reactInternals;var g=ma(),b=Ed(d),E=hs(g,b);E.tag=2,f!=null&&(E.callback=f),f=fs(d,E,b),f!==null&&(fl(f,d,b,g),yi(f,d,b))}};function d5(d,f,g,b,E,I,Y){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(b,I,Y):f.prototype&&f.prototype.isPureReactComponent?!zi(g,b)||!zi(E,I):!0}function u5(d,f,g){var b=!1,E=ql,I=f.contextType;return typeof I=="object"&&I!==null?I=ss(I):(E=Gi(f)?Bc:ii.current,b=f.contextTypes,I=(b=b!=null)?wd(d,E):ql),f=new f(g,I),d.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=yp,d.stateNode=f,f._reactInternals=d,b&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=E,d.__reactInternalMemoizedMaskedChildContext=I),f}function h5(d,f,g,b){d=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,b),f.state!==d&&yp.enqueueReplaceState(f,f.state,null)}function wg(d,f,g,b){var E=d.stateNode;E.props=g,E.state=d.memoizedState,E.refs={},ai(d);var I=f.contextType;typeof I=="object"&&I!==null?E.context=ss(I):(I=Gi(f)?Bc:ii.current,E.context=wd(d,I)),E.state=d.memoizedState,I=f.getDerivedStateFromProps,typeof I=="function"&&(yg(d,f,I,g),E.state=d.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(f=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),f!==E.state&&yp.enqueueReplaceState(E,E.state,null),wi(d,g,E,b),E.state=d.memoizedState),typeof E.componentDidMount=="function"&&(d.flags|=4194308)}function Yh(d,f){try{var g="",b=f;do g+=Q(b),b=b.return;while(b);var E=g}catch(I){E=`
Error generating stack: `+I.message+`
`+I.stack}return{value:d,source:f,stack:E,digest:null}}function bg(d,f,g){return{value:d,source:null,stack:g??null,digest:f??null}}function Ng(d,f){try{console.error(f.value)}catch(g){setTimeout(function(){throw g})}}var Qk=typeof WeakMap=="function"?WeakMap:Map;function f5(d,f,g){g=hs(-1,g),g.tag=3,g.payload={element:null};var b=f.value;return g.callback=function(){Ap||(Ap=!0,Fg=b),Ng(d,f)},g}function m5(d,f,g){g=hs(-1,g),g.tag=3;var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var E=f.value;g.payload=function(){return b(E)},g.callback=function(){Ng(d,f)}}var I=d.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(g.callback=function(){Ng(d,f),typeof b!="function"&&(Ad===null?Ad=new Set([this]):Ad.add(this));var Y=f.stack;this.componentDidCatch(f.value,{componentStack:Y!==null?Y:""})}),g}function p5(d,f,g){var b=d.pingCache;if(b===null){b=d.pingCache=new Qk;var E=new Set;b.set(f,E)}else E=b.get(f),E===void 0&&(E=new Set,b.set(f,E));E.has(g)||(E.add(g),d=fP.bind(null,d,f,g),f.then(d,d))}function x5(d){do{var f;if((f=d.tag===13)&&(f=d.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return d;d=d.return}while(d!==null);return null}function g5(d,f,g,b,E){return(d.mode&1)===0?(d===f?d.flags|=65536:(d.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(f=hs(-1,1),f.tag=2,fs(g,f,1))),g.lanes|=1),d):(d.flags|=65536,d.lanes=E,d)}var eP=P.ReactCurrentOwner,Ia=!1;function fa(d,f,g,b){f.child=d===null?Kn(f,null,g,b):Cs(f,d.child,g,b)}function v5(d,f,g,b,E){g=g.render;var I=f.ref;return ns(f,E),b=Fu(d,f,g,b,I,E),g=Io(),d!==null&&!Ia?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~E,$c(d,f,E)):(Ze&&g&&Ge(f),f.flags|=1,fa(d,f,b,E),f.child)}function y5(d,f,g,b,E){if(d===null){var I=g.type;return typeof I=="function"&&!Hg(I)&&I.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(f.tag=15,f.type=I,w5(d,f,I,b,E)):(d=Ip(g.type,null,b,f,f.mode,E),d.ref=f.ref,d.return=f,f.child=d)}if(I=d.child,(d.lanes&E)===0){var Y=I.memoizedProps;if(g=g.compare,g=g!==null?g:zi,g(Y,b)&&d.ref===f.ref)return $c(d,f,E)}return f.flags|=1,d=Pd(I,b),d.ref=f.ref,d.return=f,f.child=d}function w5(d,f,g,b,E){if(d!==null){var I=d.memoizedProps;if(zi(I,b)&&d.ref===f.ref)if(Ia=!1,f.pendingProps=b=I,(d.lanes&E)!==0)(d.flags&131072)!==0&&(Ia=!0);else return f.lanes=d.lanes,$c(d,f,E)}return jg(d,f,g,b,E)}function b5(d,f,g){var b=f.pendingProps,E=b.children,I=d!==null?d.memoizedState:null;if(b.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(Zh,io),io|=g;else{if((g&1073741824)===0)return d=I!==null?I.baseLanes|g:g,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:d,cachePool:null,transitions:null},f.updateQueue=null,vn(Zh,io),io|=d,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=I!==null?I.baseLanes:g,vn(Zh,io),io|=b}else I!==null?(b=I.baseLanes|g,f.memoizedState=null):b=g,vn(Zh,io),io|=b;return fa(d,f,E,g),f.child}function N5(d,f){var g=f.ref;(d===null&&g!==null||d!==null&&d.ref!==g)&&(f.flags|=512,f.flags|=2097152)}function jg(d,f,g,b,E){var I=Gi(g)?Bc:ii.current;return I=wd(f,I),ns(f,E),g=Fu(d,f,g,b,I,E),b=Io(),d!==null&&!Ia?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~E,$c(d,f,E)):(Ze&&b&&Ge(f),f.flags|=1,fa(d,f,g,E),f.child)}function j5(d,f,g,b,E){if(Gi(g)){var I=!0;Uc(f)}else I=!1;if(ns(f,E),f.stateNode===null)bp(d,f),u5(f,g,b),wg(f,g,b,E),b=!0;else if(d===null){var Y=f.stateNode,ve=f.memoizedProps;Y.props=ve;var Ne=Y.context,Ue=g.contextType;typeof Ue=="object"&&Ue!==null?Ue=ss(Ue):(Ue=Gi(g)?Bc:ii.current,Ue=wd(f,Ue));var at=g.getDerivedStateFromProps,dt=typeof at=="function"||typeof Y.getSnapshotBeforeUpdate=="function";dt||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(ve!==b||Ne!==Ue)&&h5(f,Y,b,Ue),_s=!1;var st=f.memoizedState;Y.state=st,wi(f,b,Y,E),Ne=f.memoizedState,ve!==b||st!==Ne||Wi.current||_s?(typeof at=="function"&&(yg(f,g,at,b),Ne=f.memoizedState),(ve=_s||d5(f,g,ve,b,st,Ne,Ue))?(dt||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(f.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=Ne),Y.props=b,Y.state=Ne,Y.context=Ue,b=ve):(typeof Y.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{Y=f.stateNode,Ki(d,f),ve=f.memoizedProps,Ue=f.type===f.elementType?ve:dl(f.type,ve),Y.props=Ue,dt=f.pendingProps,st=Y.context,Ne=g.contextType,typeof Ne=="object"&&Ne!==null?Ne=ss(Ne):(Ne=Gi(g)?Bc:ii.current,Ne=wd(f,Ne));var _t=g.getDerivedStateFromProps;(at=typeof _t=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(ve!==dt||st!==Ne)&&h5(f,Y,b,Ne),_s=!1,st=f.memoizedState,Y.state=st,wi(f,b,Y,E);var Bt=f.memoizedState;ve!==dt||st!==Bt||Wi.current||_s?(typeof _t=="function"&&(yg(f,g,_t,b),Bt=f.memoizedState),(Ue=_s||d5(f,g,Ue,b,st,Bt,Ne)||!1)?(at||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(b,Bt,Ne),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(b,Bt,Ne)),typeof Y.componentDidUpdate=="function"&&(f.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof Y.componentDidUpdate!="function"||ve===d.memoizedProps&&st===d.memoizedState||(f.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||ve===d.memoizedProps&&st===d.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=Bt),Y.props=b,Y.state=Bt,Y.context=Ne,b=Ue):(typeof Y.componentDidUpdate!="function"||ve===d.memoizedProps&&st===d.memoizedState||(f.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||ve===d.memoizedProps&&st===d.memoizedState||(f.flags|=1024),b=!1)}return Cg(d,f,g,b,I,E)}function Cg(d,f,g,b,E,I){N5(d,f);var Y=(f.flags&128)!==0;if(!b&&!Y)return E&&hp(f,g,!1),$c(d,f,I);b=f.stateNode,eP.current=f;var ve=Y&&typeof g.getDerivedStateFromError!="function"?null:b.render();return f.flags|=1,d!==null&&Y?(f.child=Cs(f,d.child,null,I),f.child=Cs(f,null,ve,I)):fa(d,f,ve,I),f.memoizedState=b.state,E&&hp(f,g,!0),f.child}function C5(d){var f=d.stateNode;f.pendingContext?up(d,f.pendingContext,f.pendingContext!==f.context):f.context&&up(d,f.context,!1),bd(d,f.containerInfo)}function _5(d,f,g,b,E){return Tt(),gt(E),f.flags|=256,fa(d,f,g,b),f.child}var _g={dehydrated:null,treeContext:null,retryLane:0};function Ag(d){return{baseLanes:d,cachePool:null,transitions:null}}function A5(d,f,g){var b=f.pendingProps,E=Dn.current,I=!1,Y=(f.flags&128)!==0,ve;if((ve=Y)||(ve=d!==null&&d.memoizedState===null?!1:(E&2)!==0),ve?(I=!0,f.flags&=-129):(d===null||d.memoizedState!==null)&&(E|=1),vn(Dn,E&1),d===null)return Ft(f),d=f.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((f.mode&1)===0?f.lanes=1:d.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(Y=b.children,d=b.fallback,I?(b=f.mode,I=f.child,Y={mode:"hidden",children:Y},(b&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=Y):I=Dp(Y,b,0,null),d=Hu(d,b,g,null),I.return=f,d.return=f,I.sibling=d,f.child=I,f.child.memoizedState=Ag(g),f.memoizedState=_g,d):Sg(f,Y));if(E=d.memoizedState,E!==null&&(ve=E.dehydrated,ve!==null))return tP(d,f,Y,b,ve,E,g);if(I){I=b.fallback,Y=f.mode,E=d.child,ve=E.sibling;var Ne={mode:"hidden",children:b.children};return(Y&1)===0&&f.child!==E?(b=f.child,b.childLanes=0,b.pendingProps=Ne,f.deletions=null):(b=Pd(E,Ne),b.subtreeFlags=E.subtreeFlags&14680064),ve!==null?I=Pd(ve,I):(I=Hu(I,Y,g,null),I.flags|=2),I.return=f,b.return=f,b.sibling=I,f.child=b,b=I,I=f.child,Y=d.child.memoizedState,Y=Y===null?Ag(g):{baseLanes:Y.baseLanes|g,cachePool:null,transitions:Y.transitions},I.memoizedState=Y,I.childLanes=d.childLanes&~g,f.memoizedState=_g,b}return I=d.child,d=I.sibling,b=Pd(I,{mode:"visible",children:b.children}),(f.mode&1)===0&&(b.lanes=g),b.return=f,b.sibling=null,d!==null&&(g=f.deletions,g===null?(f.deletions=[d],f.flags|=16):g.push(d)),f.child=b,f.memoizedState=null,b}function Sg(d,f){return f=Dp({mode:"visible",children:f},d.mode,0,null),f.return=d,d.child=f}function wp(d,f,g,b){return b!==null&&gt(b),Cs(f,d.child,null,g),d=Sg(f,f.pendingProps.children),d.flags|=2,f.memoizedState=null,d}function tP(d,f,g,b,E,I,Y){if(g)return f.flags&256?(f.flags&=-257,b=bg(Error(r(422))),wp(d,f,Y,b)):f.memoizedState!==null?(f.child=d.child,f.flags|=128,null):(I=b.fallback,E=f.mode,b=Dp({mode:"visible",children:b.children},E,0,null),I=Hu(I,E,Y,null),I.flags|=2,b.return=f,I.return=f,b.sibling=I,f.child=b,(f.mode&1)!==0&&Cs(f,d.child,null,Y),f.child.memoizedState=Ag(Y),f.memoizedState=_g,I);if((f.mode&1)===0)return wp(d,f,Y,null);if(E.data==="$!"){if(b=E.nextSibling&&E.nextSibling.dataset,b)var ve=b.dgst;return b=ve,I=Error(r(419)),b=bg(I,b,void 0),wp(d,f,Y,b)}if(ve=(Y&d.childLanes)!==0,Ia||ve){if(b=bi,b!==null){switch(Y&-Y){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(b.suspendedLanes|Y))!==0?0:E,E!==0&&E!==I.retryLane&&(I.retryLane=E,Cn(d,E),fl(b,d,E,-1))}return zg(),b=bg(Error(r(421))),wp(d,f,Y,b)}return E.data==="$?"?(f.flags|=128,f.child=d.child,f=mP.bind(null,d),E._reactRetry=f,null):(d=I.treeContext,He=Pi(E.nextSibling),ze=f,Ze=!0,Qe=null,d!==null&&(ae[de++]=De,ae[de++]=he,ae[de++]=be,De=d.id,he=d.overflow,be=f),f=Sg(f,b.children),f.flags|=4096,f)}function S5(d,f,g){d.lanes|=f;var b=d.alternate;b!==null&&(b.lanes|=f),sn(d.return,f,g)}function Eg(d,f,g,b,E){var I=d.memoizedState;I===null?d.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:E}:(I.isBackwards=f,I.rendering=null,I.renderingStartTime=0,I.last=b,I.tail=g,I.tailMode=E)}function E5(d,f,g){var b=f.pendingProps,E=b.revealOrder,I=b.tail;if(fa(d,f,b.children,g),b=Dn.current,(b&2)!==0)b=b&1|2,f.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=f.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&S5(d,g,f);else if(d.tag===19)S5(d,g,f);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}b&=1}if(vn(Dn,b),(f.mode&1)===0)f.memoizedState=null;else switch(E){case"forwards":for(g=f.child,E=null;g!==null;)d=g.alternate,d!==null&&ro(d)===null&&(E=g),g=g.sibling;g=E,g===null?(E=f.child,f.child=null):(E=g.sibling,g.sibling=null),Eg(f,!1,E,g,I);break;case"backwards":for(g=null,E=f.child,f.child=null;E!==null;){if(d=E.alternate,d!==null&&ro(d)===null){f.child=E;break}d=E.sibling,E.sibling=g,g=E,E=d}Eg(f,!0,g,null,I);break;case"together":Eg(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function bp(d,f){(f.mode&1)===0&&d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2)}function $c(d,f,g){if(d!==null&&(f.dependencies=d.dependencies),Uu|=f.lanes,(g&f.childLanes)===0)return null;if(d!==null&&f.child!==d.child)throw Error(r(153));if(f.child!==null){for(d=f.child,g=Pd(d,d.pendingProps),f.child=g,g.return=f;d.sibling!==null;)d=d.sibling,g=g.sibling=Pd(d,d.pendingProps),g.return=f;g.sibling=null}return f.child}function rP(d,f,g){switch(f.tag){case 3:C5(f),Tt();break;case 5:fp(f);break;case 1:Gi(f.type)&&Uc(f);break;case 4:bd(f,f.stateNode.containerInfo);break;case 10:var b=f.type._context,E=f.memoizedProps.value;vn(Rs,b._currentValue),b._currentValue=E;break;case 13:if(b=f.memoizedState,b!==null)return b.dehydrated!==null?(vn(Dn,Dn.current&1),f.flags|=128,null):(g&f.child.childLanes)!==0?A5(d,f,g):(vn(Dn,Dn.current&1),d=$c(d,f,g),d!==null?d.sibling:null);vn(Dn,Dn.current&1);break;case 19:if(b=(g&f.childLanes)!==0,(d.flags&128)!==0){if(b)return E5(d,f,g);f.flags|=128}if(E=f.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),vn(Dn,Dn.current),b)break;return null;case 22:case 23:return f.lanes=0,b5(d,f,g)}return $c(d,f,g)}var k5,kg,P5,T5;k5=function(d,f){for(var g=f.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},kg=function(){},P5=function(d,f,g,b){var E=d.memoizedProps;if(E!==b){d=f.stateNode,ol(Gs.current);var I=null;switch(g){case"input":E=Te(d,E),b=Te(d,b),I=[];break;case"select":E=ie({},E,{value:void 0}),b=ie({},b,{value:void 0}),I=[];break;case"textarea":E=xt(d,E),b=xt(d,b),I=[];break;default:typeof E.onClick!="function"&&typeof b.onClick=="function"&&(d.onclick=gd)}mr(g,b);var Y;g=null;for(Ue in E)if(!b.hasOwnProperty(Ue)&&E.hasOwnProperty(Ue)&&E[Ue]!=null)if(Ue==="style"){var ve=E[Ue];for(Y in ve)ve.hasOwnProperty(Y)&&(g||(g={}),g[Y]="")}else Ue!=="dangerouslySetInnerHTML"&&Ue!=="children"&&Ue!=="suppressContentEditableWarning"&&Ue!=="suppressHydrationWarning"&&Ue!=="autoFocus"&&(i.hasOwnProperty(Ue)?I||(I=[]):(I=I||[]).push(Ue,null));for(Ue in b){var Ne=b[Ue];if(ve=E?.[Ue],b.hasOwnProperty(Ue)&&Ne!==ve&&(Ne!=null||ve!=null))if(Ue==="style")if(ve){for(Y in ve)!ve.hasOwnProperty(Y)||Ne&&Ne.hasOwnProperty(Y)||(g||(g={}),g[Y]="");for(Y in Ne)Ne.hasOwnProperty(Y)&&ve[Y]!==Ne[Y]&&(g||(g={}),g[Y]=Ne[Y])}else g||(I||(I=[]),I.push(Ue,g)),g=Ne;else Ue==="dangerouslySetInnerHTML"?(Ne=Ne?Ne.__html:void 0,ve=ve?ve.__html:void 0,Ne!=null&&ve!==Ne&&(I=I||[]).push(Ue,Ne)):Ue==="children"?typeof Ne!="string"&&typeof Ne!="number"||(I=I||[]).push(Ue,""+Ne):Ue!=="suppressContentEditableWarning"&&Ue!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ue)?(Ne!=null&&Ue==="onScroll"&&Nn("scroll",d),I||ve===Ne||(I=[])):(I=I||[]).push(Ue,Ne))}g&&(I=I||[]).push("style",g);var Ue=I;(f.updateQueue=Ue)&&(f.flags|=4)}},T5=function(d,f,g,b){g!==b&&(f.flags|=4)};function P0(d,f){if(!Ze)switch(d.tailMode){case"hidden":f=d.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?d.tail=null:g.sibling=null;break;case"collapsed":g=d.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?f||d.tail===null?d.tail=null:d.tail.sibling=null:b.sibling=null}}function Yi(d){var f=d.alternate!==null&&d.alternate.child===d.child,g=0,b=0;if(f)for(var E=d.child;E!==null;)g|=E.lanes|E.childLanes,b|=E.subtreeFlags&14680064,b|=E.flags&14680064,E.return=d,E=E.sibling;else for(E=d.child;E!==null;)g|=E.lanes|E.childLanes,b|=E.subtreeFlags,b|=E.flags,E.return=d,E=E.sibling;return d.subtreeFlags|=b,d.childLanes=g,f}function nP(d,f,g){var b=f.pendingProps;switch(Oe(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yi(f),null;case 1:return Gi(f.type)&&Bh(),Yi(f),null;case 3:return b=f.stateNode,Po(),pn(Wi),pn(ii),S0(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(d===null||d.child===null)&&(rs(f)?f.flags|=4:d===null||d.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Qe!==null&&(Ug(Qe),Qe=null))),kg(d,f),Yi(f),null;case 5:_0(f);var E=ol(Wl.current);if(g=f.type,d!==null&&f.stateNode!=null)P5(d,f,g,b,E),d.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!b){if(f.stateNode===null)throw Error(r(166));return Yi(f),null}if(d=ol(Gs.current),rs(f)){b=f.stateNode,g=f.type;var I=f.memoizedProps;switch(b[ko]=f,b[vd]=I,d=(f.mode&1)!==0,g){case"dialog":Nn("cancel",b),Nn("close",b);break;case"iframe":case"object":case"embed":Nn("load",b);break;case"video":case"audio":for(E=0;E<zl.length;E++)Nn(zl[E],b);break;case"source":Nn("error",b);break;case"img":case"image":case"link":Nn("error",b),Nn("load",b);break;case"details":Nn("toggle",b);break;case"input":ce(b,I),Nn("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!I.multiple},Nn("invalid",b);break;case"textarea":ct(b,I),Nn("invalid",b)}mr(g,I),E=null;for(var Y in I)if(I.hasOwnProperty(Y)){var ve=I[Y];Y==="children"?typeof ve=="string"?b.textContent!==ve&&(I.suppressHydrationWarning!==!0&&Mh(b.textContent,ve,d),E=["children",ve]):typeof ve=="number"&&b.textContent!==""+ve&&(I.suppressHydrationWarning!==!0&&Mh(b.textContent,ve,d),E=["children",""+ve]):i.hasOwnProperty(Y)&&ve!=null&&Y==="onScroll"&&Nn("scroll",b)}switch(g){case"input":Se(b),lt(b,I,!0);break;case"textarea":Se(b),It(b);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(b.onclick=gd)}b=E,f.updateQueue=b,b!==null&&(f.flags|=4)}else{Y=E.nodeType===9?E:E.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=St(g)),d==="http://www.w3.org/1999/xhtml"?g==="script"?(d=Y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof b.is=="string"?d=Y.createElement(g,{is:b.is}):(d=Y.createElement(g),g==="select"&&(Y=d,b.multiple?Y.multiple=!0:b.size&&(Y.size=b.size))):d=Y.createElementNS(d,g),d[ko]=f,d[vd]=b,k5(d,f,!1,!1),f.stateNode=d;e:{switch(Y=kt(g,b),g){case"dialog":Nn("cancel",d),Nn("close",d),E=b;break;case"iframe":case"object":case"embed":Nn("load",d),E=b;break;case"video":case"audio":for(E=0;E<zl.length;E++)Nn(zl[E],d);E=b;break;case"source":Nn("error",d),E=b;break;case"img":case"image":case"link":Nn("error",d),Nn("load",d),E=b;break;case"details":Nn("toggle",d),E=b;break;case"input":ce(d,b),E=Te(d,b),Nn("invalid",d);break;case"option":E=b;break;case"select":d._wrapperState={wasMultiple:!!b.multiple},E=ie({},b,{value:void 0}),Nn("invalid",d);break;case"textarea":ct(d,b),E=xt(d,b),Nn("invalid",d);break;default:E=b}mr(g,E),ve=E;for(I in ve)if(ve.hasOwnProperty(I)){var Ne=ve[I];I==="style"?vt(d,Ne):I==="dangerouslySetInnerHTML"?(Ne=Ne?Ne.__html:void 0,Ne!=null&&mt(d,Ne)):I==="children"?typeof Ne=="string"?(g!=="textarea"||Ne!=="")&&Et(d,Ne):typeof Ne=="number"&&Et(d,""+Ne):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(i.hasOwnProperty(I)?Ne!=null&&I==="onScroll"&&Nn("scroll",d):Ne!=null&&k(d,I,Ne,Y))}switch(g){case"input":Se(d),lt(d,b,!1);break;case"textarea":Se(d),It(d);break;case"option":b.value!=null&&d.setAttribute("value",""+le(b.value));break;case"select":d.multiple=!!b.multiple,I=b.value,I!=null?We(d,!!b.multiple,I,!1):b.defaultValue!=null&&We(d,!!b.multiple,b.defaultValue,!0);break;default:typeof E.onClick=="function"&&(d.onclick=gd)}switch(g){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Yi(f),null;case 6:if(d&&f.stateNode!=null)T5(d,f,d.memoizedProps,b);else{if(typeof b!="string"&&f.stateNode===null)throw Error(r(166));if(g=ol(Wl.current),ol(Gs.current),rs(f)){if(b=f.stateNode,g=f.memoizedProps,b[ko]=f,(I=b.nodeValue!==g)&&(d=ze,d!==null))switch(d.tag){case 3:Mh(b.nodeValue,g,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Mh(b.nodeValue,g,(d.mode&1)!==0)}I&&(f.flags|=4)}else b=(g.nodeType===9?g:g.ownerDocument).createTextNode(b),b[ko]=f,f.stateNode=b}return Yi(f),null;case 13:if(pn(Dn),b=f.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(Ze&&He!==null&&(f.mode&1)!==0&&(f.flags&128)===0)Tr(),Tt(),f.flags|=98560,I=!1;else if(I=rs(f),b!==null&&b.dehydrated!==null){if(d===null){if(!I)throw Error(r(318));if(I=f.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));I[ko]=f}else Tt(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Yi(f),I=!1}else Qe!==null&&(Ug(Qe),Qe=null),I=!0;if(!I)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=g,f):(b=b!==null,b!==(d!==null&&d.memoizedState!==null)&&b&&(f.child.flags|=8192,(f.mode&1)!==0&&(d===null||(Dn.current&1)!==0?oi===0&&(oi=3):zg())),f.updateQueue!==null&&(f.flags|=4),Yi(f),null);case 4:return Po(),kg(d,f),d===null&&Oc(f.stateNode.containerInfo),Yi(f),null;case 10:return Mn(f.type._context),Yi(f),null;case 17:return Gi(f.type)&&Bh(),Yi(f),null;case 19:if(pn(Dn),I=f.memoizedState,I===null)return Yi(f),null;if(b=(f.flags&128)!==0,Y=I.rendering,Y===null)if(b)P0(I,!1);else{if(oi!==0||d!==null&&(d.flags&128)!==0)for(d=f.child;d!==null;){if(Y=ro(d),Y!==null){for(f.flags|=128,P0(I,!1),b=Y.updateQueue,b!==null&&(f.updateQueue=b,f.flags|=4),f.subtreeFlags=0,b=g,g=f.child;g!==null;)I=g,d=b,I.flags&=14680066,Y=I.alternate,Y===null?(I.childLanes=0,I.lanes=d,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=Y.childLanes,I.lanes=Y.lanes,I.child=Y.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=Y.memoizedProps,I.memoizedState=Y.memoizedState,I.updateQueue=Y.updateQueue,I.type=Y.type,d=Y.dependencies,I.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),g=g.sibling;return vn(Dn,Dn.current&1|2),f.child}d=d.sibling}I.tail!==null&&bn()>Jh&&(f.flags|=128,b=!0,P0(I,!1),f.lanes=4194304)}else{if(!b)if(d=ro(Y),d!==null){if(f.flags|=128,b=!0,g=d.updateQueue,g!==null&&(f.updateQueue=g,f.flags|=4),P0(I,!0),I.tail===null&&I.tailMode==="hidden"&&!Y.alternate&&!Ze)return Yi(f),null}else 2*bn()-I.renderingStartTime>Jh&&g!==1073741824&&(f.flags|=128,b=!0,P0(I,!1),f.lanes=4194304);I.isBackwards?(Y.sibling=f.child,f.child=Y):(g=I.last,g!==null?g.sibling=Y:f.child=Y,I.last=Y)}return I.tail!==null?(f=I.tail,I.rendering=f,I.tail=f.sibling,I.renderingStartTime=bn(),f.sibling=null,g=Dn.current,vn(Dn,b?g&1|2:g&1),f):(Yi(f),null);case 22:case 23:return $g(),b=f.memoizedState!==null,d!==null&&d.memoizedState!==null!==b&&(f.flags|=8192),b&&(f.mode&1)!==0?(io&1073741824)!==0&&(Yi(f),f.subtreeFlags&6&&(f.flags|=8192)):Yi(f),null;case 24:return null;case 25:return null}throw Error(r(156,f.tag))}function sP(d,f){switch(Oe(f),f.tag){case 1:return Gi(f.type)&&Bh(),d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 3:return Po(),pn(Wi),pn(ii),S0(),d=f.flags,(d&65536)!==0&&(d&128)===0?(f.flags=d&-65537|128,f):null;case 5:return _0(f),null;case 13:if(pn(Dn),d=f.memoizedState,d!==null&&d.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Tt()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 19:return pn(Dn),null;case 4:return Po(),null;case 10:return Mn(f.type._context),null;case 22:case 23:return $g(),null;case 24:return null;default:return null}}var Np=!1,Xi=!1,iP=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function Xh(d,f){var g=d.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(b){Ss(d,f,b)}else g.current=null}function Pg(d,f,g){try{g()}catch(b){Ss(d,f,b)}}var I5=!1;function aP(d,f){if(Ru=od,d=js(),Qa(d)){if("selectionStart"in d)var g={start:d.selectionStart,end:d.selectionEnd};else e:{g=(g=d.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var E=b.anchorOffset,I=b.focusNode;b=b.focusOffset;try{g.nodeType,I.nodeType}catch{g=null;break e}var Y=0,ve=-1,Ne=-1,Ue=0,at=0,dt=d,st=null;t:for(;;){for(var _t;dt!==g||E!==0&&dt.nodeType!==3||(ve=Y+E),dt!==I||b!==0&&dt.nodeType!==3||(Ne=Y+b),dt.nodeType===3&&(Y+=dt.nodeValue.length),(_t=dt.firstChild)!==null;)st=dt,dt=_t;for(;;){if(dt===d)break t;if(st===g&&++Ue===E&&(ve=Y),st===I&&++at===b&&(Ne=Y),(_t=dt.nextSibling)!==null)break;dt=st,st=dt.parentNode}dt=_t}g=ve===-1||Ne===-1?null:{start:ve,end:Ne}}else g=null}g=g||{start:0,end:0}}else g=null;for(Fc={focusedElem:d,selectionRange:g},od=!1,Ot=f;Ot!==null;)if(f=Ot,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,Ot=d;else for(;Ot!==null;){f=Ot;try{var Bt=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(Bt!==null){var zt=Bt.memoizedProps,Ls=Bt.memoizedState,Re=f.stateNode,Ae=Re.getSnapshotBeforeUpdate(f.elementType===f.type?zt:dl(f.type,zt),Ls);Re.__reactInternalSnapshotBeforeUpdate=Ae}break;case 3:var Me=f.stateNode.containerInfo;Me.nodeType===1?Me.textContent="":Me.nodeType===9&&Me.documentElement&&Me.removeChild(Me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ut){Ss(f,f.return,ut)}if(d=f.sibling,d!==null){d.return=f.return,Ot=d;break}Ot=f.return}return Bt=I5,I5=!1,Bt}function T0(d,f,g){var b=f.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var E=b=b.next;do{if((E.tag&d)===d){var I=E.destroy;E.destroy=void 0,I!==void 0&&Pg(f,g,I)}E=E.next}while(E!==b)}}function jp(d,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&d)===d){var b=g.create;g.destroy=b()}g=g.next}while(g!==f)}}function Tg(d){var f=d.ref;if(f!==null){var g=d.stateNode;switch(d.tag){case 5:d=g;break;default:d=g}typeof f=="function"?f(d):f.current=d}}function D5(d){var f=d.alternate;f!==null&&(d.alternate=null,D5(f)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(f=d.stateNode,f!==null&&(delete f[ko],delete f[vd],delete f[qi],delete f[pg],delete f[xg])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function R5(d){return d.tag===5||d.tag===3||d.tag===4}function O5(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||R5(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Ig(d,f,g){var b=d.tag;if(b===5||b===6)d=d.stateNode,f?g.nodeType===8?g.parentNode.insertBefore(d,f):g.insertBefore(d,f):(g.nodeType===8?(f=g.parentNode,f.insertBefore(d,g)):(f=g,f.appendChild(d)),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=gd));else if(b!==4&&(d=d.child,d!==null))for(Ig(d,f,g),d=d.sibling;d!==null;)Ig(d,f,g),d=d.sibling}function Dg(d,f,g){var b=d.tag;if(b===5||b===6)d=d.stateNode,f?g.insertBefore(d,f):g.appendChild(d);else if(b!==4&&(d=d.child,d!==null))for(Dg(d,f,g),d=d.sibling;d!==null;)Dg(d,f,g),d=d.sibling}var Ti=null,ul=!1;function _d(d,f,g){for(g=g.child;g!==null;)L5(d,f,g),g=g.sibling}function L5(d,f,g){if(Ei&&typeof Ei.onCommitFiberUnmount=="function")try{Ei.onCommitFiberUnmount(Ko,g)}catch{}switch(g.tag){case 5:Xi||Xh(g,f);case 6:var b=Ti,E=ul;Ti=null,_d(d,f,g),Ti=b,ul=E,Ti!==null&&(ul?(d=Ti,g=g.stateNode,d.nodeType===8?d.parentNode.removeChild(g):d.removeChild(g)):Ti.removeChild(g.stateNode));break;case 18:Ti!==null&&(ul?(d=Ti,g=g.stateNode,d.nodeType===8?N0(d.parentNode,g):d.nodeType===1&&N0(d,g),No(d)):N0(Ti,g.stateNode));break;case 4:b=Ti,E=ul,Ti=g.stateNode.containerInfo,ul=!0,_d(d,f,g),Ti=b,ul=E;break;case 0:case 11:case 14:case 15:if(!Xi&&(b=g.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){E=b=b.next;do{var I=E,Y=I.destroy;I=I.tag,Y!==void 0&&((I&2)!==0||(I&4)!==0)&&Pg(g,f,Y),E=E.next}while(E!==b)}_d(d,f,g);break;case 1:if(!Xi&&(Xh(g,f),b=g.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=g.memoizedProps,b.state=g.memoizedState,b.componentWillUnmount()}catch(ve){Ss(g,f,ve)}_d(d,f,g);break;case 21:_d(d,f,g);break;case 22:g.mode&1?(Xi=(b=Xi)||g.memoizedState!==null,_d(d,f,g),Xi=b):_d(d,f,g);break;default:_d(d,f,g)}}function F5(d){var f=d.updateQueue;if(f!==null){d.updateQueue=null;var g=d.stateNode;g===null&&(g=d.stateNode=new iP),f.forEach(function(b){var E=pP.bind(null,d,b);g.has(b)||(g.add(b),b.then(E,E))})}}function hl(d,f){var g=f.deletions;if(g!==null)for(var b=0;b<g.length;b++){var E=g[b];try{var I=d,Y=f,ve=Y;e:for(;ve!==null;){switch(ve.tag){case 5:Ti=ve.stateNode,ul=!1;break e;case 3:Ti=ve.stateNode.containerInfo,ul=!0;break e;case 4:Ti=ve.stateNode.containerInfo,ul=!0;break e}ve=ve.return}if(Ti===null)throw Error(r(160));L5(I,Y,E),Ti=null,ul=!1;var Ne=E.alternate;Ne!==null&&(Ne.return=null),E.return=null}catch(Ue){Ss(E,f,Ue)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)M5(f,d),f=f.sibling}function M5(d,f){var g=d.alternate,b=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(hl(f,d),Kl(d),b&4){try{T0(3,d,d.return),jp(3,d)}catch(zt){Ss(d,d.return,zt)}try{T0(5,d,d.return)}catch(zt){Ss(d,d.return,zt)}}break;case 1:hl(f,d),Kl(d),b&512&&g!==null&&Xh(g,g.return);break;case 5:if(hl(f,d),Kl(d),b&512&&g!==null&&Xh(g,g.return),d.flags&32){var E=d.stateNode;try{Et(E,"")}catch(zt){Ss(d,d.return,zt)}}if(b&4&&(E=d.stateNode,E!=null)){var I=d.memoizedProps,Y=g!==null?g.memoizedProps:I,ve=d.type,Ne=d.updateQueue;if(d.updateQueue=null,Ne!==null)try{ve==="input"&&I.type==="radio"&&I.name!=null&&$e(E,I),kt(ve,Y);var Ue=kt(ve,I);for(Y=0;Y<Ne.length;Y+=2){var at=Ne[Y],dt=Ne[Y+1];at==="style"?vt(E,dt):at==="dangerouslySetInnerHTML"?mt(E,dt):at==="children"?Et(E,dt):k(E,at,dt,Ue)}switch(ve){case"input":Ee(E,I);break;case"textarea":tr(E,I);break;case"select":var st=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!I.multiple;var _t=I.value;_t!=null?We(E,!!I.multiple,_t,!1):st!==!!I.multiple&&(I.defaultValue!=null?We(E,!!I.multiple,I.defaultValue,!0):We(E,!!I.multiple,I.multiple?[]:"",!1))}E[vd]=I}catch(zt){Ss(d,d.return,zt)}}break;case 6:if(hl(f,d),Kl(d),b&4){if(d.stateNode===null)throw Error(r(162));E=d.stateNode,I=d.memoizedProps;try{E.nodeValue=I}catch(zt){Ss(d,d.return,zt)}}break;case 3:if(hl(f,d),Kl(d),b&4&&g!==null&&g.memoizedState.isDehydrated)try{No(f.containerInfo)}catch(zt){Ss(d,d.return,zt)}break;case 4:hl(f,d),Kl(d);break;case 13:hl(f,d),Kl(d),E=d.child,E.flags&8192&&(I=E.memoizedState!==null,E.stateNode.isHidden=I,!I||E.alternate!==null&&E.alternate.memoizedState!==null||(Lg=bn())),b&4&&F5(d);break;case 22:if(at=g!==null&&g.memoizedState!==null,d.mode&1?(Xi=(Ue=Xi)||at,hl(f,d),Xi=Ue):hl(f,d),Kl(d),b&8192){if(Ue=d.memoizedState!==null,(d.stateNode.isHidden=Ue)&&!at&&(d.mode&1)!==0)for(Ot=d,at=d.child;at!==null;){for(dt=Ot=at;Ot!==null;){switch(st=Ot,_t=st.child,st.tag){case 0:case 11:case 14:case 15:T0(4,st,st.return);break;case 1:Xh(st,st.return);var Bt=st.stateNode;if(typeof Bt.componentWillUnmount=="function"){b=st,g=st.return;try{f=b,Bt.props=f.memoizedProps,Bt.state=f.memoizedState,Bt.componentWillUnmount()}catch(zt){Ss(b,g,zt)}}break;case 5:Xh(st,st.return);break;case 22:if(st.memoizedState!==null){V5(dt);continue}}_t!==null?(_t.return=st,Ot=_t):V5(dt)}at=at.sibling}e:for(at=null,dt=d;;){if(dt.tag===5){if(at===null){at=dt;try{E=dt.stateNode,Ue?(I=E.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(ve=dt.stateNode,Ne=dt.memoizedProps.style,Y=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null,ve.style.display=cr("display",Y))}catch(zt){Ss(d,d.return,zt)}}}else if(dt.tag===6){if(at===null)try{dt.stateNode.nodeValue=Ue?"":dt.memoizedProps}catch(zt){Ss(d,d.return,zt)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===d)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===d)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===d)break e;at===dt&&(at=null),dt=dt.return}at===dt&&(at=null),dt.sibling.return=dt.return,dt=dt.sibling}}break;case 19:hl(f,d),Kl(d),b&4&&F5(d);break;case 21:break;default:hl(f,d),Kl(d)}}function Kl(d){var f=d.flags;if(f&2){try{e:{for(var g=d.return;g!==null;){if(R5(g)){var b=g;break e}g=g.return}throw Error(r(160))}switch(b.tag){case 5:var E=b.stateNode;b.flags&32&&(Et(E,""),b.flags&=-33);var I=O5(d);Dg(d,I,E);break;case 3:case 4:var Y=b.stateNode.containerInfo,ve=O5(d);Ig(d,ve,Y);break;default:throw Error(r(161))}}catch(Ne){Ss(d,d.return,Ne)}d.flags&=-3}f&4096&&(d.flags&=-4097)}function oP(d,f,g){Ot=d,B5(d)}function B5(d,f,g){for(var b=(d.mode&1)!==0;Ot!==null;){var E=Ot,I=E.child;if(E.tag===22&&b){var Y=E.memoizedState!==null||Np;if(!Y){var ve=E.alternate,Ne=ve!==null&&ve.memoizedState!==null||Xi;ve=Np;var Ue=Xi;if(Np=Y,(Xi=Ne)&&!Ue)for(Ot=E;Ot!==null;)Y=Ot,Ne=Y.child,Y.tag===22&&Y.memoizedState!==null?$5(E):Ne!==null?(Ne.return=Y,Ot=Ne):$5(E);for(;I!==null;)Ot=I,B5(I),I=I.sibling;Ot=E,Np=ve,Xi=Ue}U5(d)}else(E.subtreeFlags&8772)!==0&&I!==null?(I.return=E,Ot=I):U5(d)}}function U5(d){for(;Ot!==null;){var f=Ot;if((f.flags&8772)!==0){var g=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:Xi||jp(5,f);break;case 1:var b=f.stateNode;if(f.flags&4&&!Xi)if(g===null)b.componentDidMount();else{var E=f.elementType===f.type?g.memoizedProps:dl(f.type,g.memoizedProps);b.componentDidUpdate(E,g.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var I=f.updateQueue;I!==null&&Ta(f,I,b);break;case 3:var Y=f.updateQueue;if(Y!==null){if(g=null,f.child!==null)switch(f.child.tag){case 5:g=f.child.stateNode;break;case 1:g=f.child.stateNode}Ta(f,Y,g)}break;case 5:var ve=f.stateNode;if(g===null&&f.flags&4){g=ve;var Ne=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":Ne.autoFocus&&g.focus();break;case"img":Ne.src&&(g.src=Ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var Ue=f.alternate;if(Ue!==null){var at=Ue.memoizedState;if(at!==null){var dt=at.dehydrated;dt!==null&&No(dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Xi||f.flags&512&&Tg(f)}catch(st){Ss(f,f.return,st)}}if(f===d){Ot=null;break}if(g=f.sibling,g!==null){g.return=f.return,Ot=g;break}Ot=f.return}}function V5(d){for(;Ot!==null;){var f=Ot;if(f===d){Ot=null;break}var g=f.sibling;if(g!==null){g.return=f.return,Ot=g;break}Ot=f.return}}function $5(d){for(;Ot!==null;){var f=Ot;try{switch(f.tag){case 0:case 11:case 15:var g=f.return;try{jp(4,f)}catch(Ne){Ss(f,g,Ne)}break;case 1:var b=f.stateNode;if(typeof b.componentDidMount=="function"){var E=f.return;try{b.componentDidMount()}catch(Ne){Ss(f,E,Ne)}}var I=f.return;try{Tg(f)}catch(Ne){Ss(f,I,Ne)}break;case 5:var Y=f.return;try{Tg(f)}catch(Ne){Ss(f,Y,Ne)}}}catch(Ne){Ss(f,f.return,Ne)}if(f===d){Ot=null;break}var ve=f.sibling;if(ve!==null){ve.return=f.return,Ot=ve;break}Ot=f.return}}var lP=Math.ceil,Cp=P.ReactCurrentDispatcher,Rg=P.ReactCurrentOwner,Do=P.ReactCurrentBatchConfig,an=0,bi=null,Ks=null,Ii=0,io=0,Zh=eo(0),oi=0,I0=null,Uu=0,_p=0,Og=0,D0=null,Da=null,Lg=0,Jh=1/0,zc=null,Ap=!1,Fg=null,Ad=null,Sp=!1,Sd=null,Ep=0,R0=0,Mg=null,kp=-1,Pp=0;function ma(){return(an&6)!==0?bn():kp!==-1?kp:kp=bn()}function Ed(d){return(d.mode&1)===0?1:(an&2)!==0&&Ii!==0?Ii&-Ii:us.transition!==null?(Pp===0&&(Pp=Ah()),Pp):(d=Zr,d!==0||(d=window.event,d=d===void 0?16:bc(d.type)),d)}function fl(d,f,g,b){if(50<R0)throw R0=0,Mg=null,Error(r(185));gc(d,g,b),((an&2)===0||d!==bi)&&(d===bi&&((an&2)===0&&(_p|=g),oi===4&&kd(d,Ii)),Ra(d,b),g===1&&an===0&&(f.mode&1)===0&&(Jh=bn()+500,Lu&&O()))}function Ra(d,f){var g=d.callbackNode;Wn(d,f);var b=mi(d,d===bi?Ii:0);if(b===0)g!==null&&go(g),d.callbackNode=null,d.callbackPriority=0;else if(f=b&-b,d.callbackPriority!==f){if(g!=null&&go(g),f===1)d.tag===0?T(H5.bind(null,d)):N(H5.bind(null,d)),fg(function(){(an&6)===0&&O()}),g=null;else{switch(Yo(b)){case 1:g=Il;break;case 4:g=Si;break;case 16:g=vo;break;case 536870912:g=Rl;break;default:g=vo}g=J5(g,z5.bind(null,d))}d.callbackPriority=f,d.callbackNode=g}}function z5(d,f){if(kp=-1,Pp=0,(an&6)!==0)throw Error(r(327));var g=d.callbackNode;if(Qh()&&d.callbackNode!==g)return null;var b=mi(d,d===bi?Ii:0);if(b===0)return null;if((b&30)!==0||(b&d.expiredLanes)!==0||f)f=Tp(d,b);else{f=b;var E=an;an|=2;var I=W5();(bi!==d||Ii!==f)&&(zc=null,Jh=bn()+500,$u(d,f));do try{uP();break}catch(ve){q5(d,ve)}while(!0);nn(),Cp.current=I,an=E,Ks!==null?f=0:(bi=null,Ii=0,f=oi)}if(f!==0){if(f===2&&(E=xc(d),E!==0&&(b=E,f=Bg(d,E))),f===1)throw g=I0,$u(d,0),kd(d,b),Ra(d,bn()),g;if(f===6)kd(d,b);else{if(E=d.current.alternate,(b&30)===0&&!cP(E)&&(f=Tp(d,b),f===2&&(I=xc(d),I!==0&&(b=I,f=Bg(d,I))),f===1))throw g=I0,$u(d,0),kd(d,b),Ra(d,bn()),g;switch(d.finishedWork=E,d.finishedLanes=b,f){case 0:case 1:throw Error(r(345));case 2:zu(d,Da,zc);break;case 3:if(kd(d,b),(b&130023424)===b&&(f=Lg+500-bn(),10<f)){if(mi(d,0)!==0)break;if(E=d.suspendedLanes,(E&b)!==b){ma(),d.pingedLanes|=d.suspendedLanes&E;break}d.timeoutHandle=b0(zu.bind(null,d,Da,zc),f);break}zu(d,Da,zc);break;case 4:if(kd(d,b),(b&4194240)===b)break;for(f=d.eventTimes,E=-1;0<b;){var Y=31-Hs(b);I=1<<Y,Y=f[Y],Y>E&&(E=Y),b&=~I}if(b=E,b=bn()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*lP(b/1960))-b,10<b){d.timeoutHandle=b0(zu.bind(null,d,Da,zc),b);break}zu(d,Da,zc);break;case 5:zu(d,Da,zc);break;default:throw Error(r(329))}}}return Ra(d,bn()),d.callbackNode===g?z5.bind(null,d):null}function Bg(d,f){var g=D0;return d.current.memoizedState.isDehydrated&&($u(d,f).flags|=256),d=Tp(d,f),d!==2&&(f=Da,Da=g,f!==null&&Ug(f)),d}function Ug(d){Da===null?Da=d:Da.push.apply(Da,d)}function cP(d){for(var f=d;;){if(f.flags&16384){var g=f.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var b=0;b<g.length;b++){var E=g[b],I=E.getSnapshot;E=E.value;try{if(!es(I(),E))return!1}catch{return!1}}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function kd(d,f){for(f&=~Og,f&=~_p,d.suspendedLanes|=f,d.pingedLanes&=~f,d=d.expirationTimes;0<f;){var g=31-Hs(f),b=1<<g;d[g]=-1,f&=~b}}function H5(d){if((an&6)!==0)throw Error(r(327));Qh();var f=mi(d,0);if((f&1)===0)return Ra(d,bn()),null;var g=Tp(d,f);if(d.tag!==0&&g===2){var b=xc(d);b!==0&&(f=b,g=Bg(d,b))}if(g===1)throw g=I0,$u(d,0),kd(d,f),Ra(d,bn()),g;if(g===6)throw Error(r(345));return d.finishedWork=d.current.alternate,d.finishedLanes=f,zu(d,Da,zc),Ra(d,bn()),null}function Vg(d,f){var g=an;an|=1;try{return d(f)}finally{an=g,an===0&&(Jh=bn()+500,Lu&&O())}}function Vu(d){Sd!==null&&Sd.tag===0&&(an&6)===0&&Qh();var f=an;an|=1;var g=Do.transition,b=Zr;try{if(Do.transition=null,Zr=1,d)return d()}finally{Zr=b,Do.transition=g,an=f,(an&6)===0&&O()}}function $g(){io=Zh.current,pn(Zh)}function $u(d,f){d.finishedWork=null,d.finishedLanes=0;var g=d.timeoutHandle;if(g!==-1&&(d.timeoutHandle=-1,cp(g)),Ks!==null)for(g=Ks.return;g!==null;){var b=g;switch(Oe(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Bh();break;case 3:Po(),pn(Wi),pn(ii),S0();break;case 5:_0(b);break;case 4:Po();break;case 13:pn(Dn);break;case 19:pn(Dn);break;case 10:Mn(b.type._context);break;case 22:case 23:$g()}g=g.return}if(bi=d,Ks=d=Pd(d.current,null),Ii=io=f,oi=0,I0=null,Og=_p=Uu=0,Da=D0=null,jn!==null){for(f=0;f<jn.length;f++)if(g=jn[f],b=g.interleaved,b!==null){g.interleaved=null;var E=b.next,I=g.pending;if(I!==null){var Y=I.next;I.next=E,b.next=Y}g.pending=b}jn=null}return d}function q5(d,f){do{var g=Ks;try{if(nn(),Uh.current=vp,Nd){for(var b=Bn.memoizedState;b!==null;){var E=b.queue;E!==null&&(E.pending=null),b=b.next}Nd=!1}if(To=0,ps=As=Bn=null,ll=!1,jd=0,Rg.current=null,g===null||g.return===null){oi=1,I0=f,Ks=null;break}e:{var I=d,Y=g.return,ve=g,Ne=f;if(f=Ii,ve.flags|=32768,Ne!==null&&typeof Ne=="object"&&typeof Ne.then=="function"){var Ue=Ne,at=ve,dt=at.tag;if((at.mode&1)===0&&(dt===0||dt===11||dt===15)){var st=at.alternate;st?(at.updateQueue=st.updateQueue,at.memoizedState=st.memoizedState,at.lanes=st.lanes):(at.updateQueue=null,at.memoizedState=null)}var _t=x5(Y);if(_t!==null){_t.flags&=-257,g5(_t,Y,ve,I,f),_t.mode&1&&p5(I,Ue,f),f=_t,Ne=Ue;var Bt=f.updateQueue;if(Bt===null){var zt=new Set;zt.add(Ne),f.updateQueue=zt}else Bt.add(Ne);break e}else{if((f&1)===0){p5(I,Ue,f),zg();break e}Ne=Error(r(426))}}else if(Ze&&ve.mode&1){var Ls=x5(Y);if(Ls!==null){(Ls.flags&65536)===0&&(Ls.flags|=256),g5(Ls,Y,ve,I,f),gt(Yh(Ne,ve));break e}}I=Ne=Yh(Ne,ve),oi!==4&&(oi=2),D0===null?D0=[I]:D0.push(I),I=Y;do{switch(I.tag){case 3:I.flags|=65536,f&=-f,I.lanes|=f;var Re=f5(I,Ne,f);_n(I,Re);break e;case 1:ve=Ne;var Ae=I.type,Me=I.stateNode;if((I.flags&128)===0&&(typeof Ae.getDerivedStateFromError=="function"||Me!==null&&typeof Me.componentDidCatch=="function"&&(Ad===null||!Ad.has(Me)))){I.flags|=65536,f&=-f,I.lanes|=f;var ut=m5(I,ve,f);_n(I,ut);break e}}I=I.return}while(I!==null)}K5(g)}catch(Gt){f=Gt,Ks===g&&g!==null&&(Ks=g=g.return);continue}break}while(!0)}function W5(){var d=Cp.current;return Cp.current=vp,d===null?vp:d}function zg(){(oi===0||oi===3||oi===2)&&(oi=4),bi===null||(Uu&268435455)===0&&(_p&268435455)===0||kd(bi,Ii)}function Tp(d,f){var g=an;an|=2;var b=W5();(bi!==d||Ii!==f)&&(zc=null,$u(d,f));do try{dP();break}catch(E){q5(d,E)}while(!0);if(nn(),an=g,Cp.current=b,Ks!==null)throw Error(r(261));return bi=null,Ii=0,oi}function dP(){for(;Ks!==null;)G5(Ks)}function uP(){for(;Ks!==null&&!Go();)G5(Ks)}function G5(d){var f=Z5(d.alternate,d,io);d.memoizedProps=d.pendingProps,f===null?K5(d):Ks=f,Rg.current=null}function K5(d){var f=d;do{var g=f.alternate;if(d=f.return,(f.flags&32768)===0){if(g=nP(g,f,io),g!==null){Ks=g;return}}else{if(g=sP(g,f),g!==null){g.flags&=32767,Ks=g;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{oi=6,Ks=null;return}}if(f=f.sibling,f!==null){Ks=f;return}Ks=f=d}while(f!==null);oi===0&&(oi=5)}function zu(d,f,g){var b=Zr,E=Do.transition;try{Do.transition=null,Zr=1,hP(d,f,g,b)}finally{Do.transition=E,Zr=b}return null}function hP(d,f,g,b){do Qh();while(Sd!==null);if((an&6)!==0)throw Error(r(327));g=d.finishedWork;var E=d.finishedLanes;if(g===null)return null;if(d.finishedWork=null,d.finishedLanes=0,g===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0;var I=g.lanes|g.childLanes;if(yo(d,I),d===bi&&(Ks=bi=null,Ii=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Sp||(Sp=!0,J5(vo,function(){return Qh(),null})),I=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||I){I=Do.transition,Do.transition=null;var Y=Zr;Zr=1;var ve=an;an|=4,Rg.current=null,aP(d,g),M5(g,d),Au(Fc),od=!!Ru,Fc=Ru=null,d.current=g,oP(g),td(),an=ve,Zr=Y,Do.transition=I}else d.current=g;if(Sp&&(Sp=!1,Sd=d,Ep=E),I=d.pendingLanes,I===0&&(Ad=null),rd(g.stateNode),Ra(d,bn()),f!==null)for(b=d.onRecoverableError,g=0;g<f.length;g++)E=f[g],b(E.value,{componentStack:E.stack,digest:E.digest});if(Ap)throw Ap=!1,d=Fg,Fg=null,d;return(Ep&1)!==0&&d.tag!==0&&Qh(),I=d.pendingLanes,(I&1)!==0?d===Mg?R0++:(R0=0,Mg=d):R0=0,O(),null}function Qh(){if(Sd!==null){var d=Yo(Ep),f=Do.transition,g=Zr;try{if(Do.transition=null,Zr=16>d?16:d,Sd===null)var b=!1;else{if(d=Sd,Sd=null,Ep=0,(an&6)!==0)throw Error(r(331));var E=an;for(an|=4,Ot=d.current;Ot!==null;){var I=Ot,Y=I.child;if((Ot.flags&16)!==0){var ve=I.deletions;if(ve!==null){for(var Ne=0;Ne<ve.length;Ne++){var Ue=ve[Ne];for(Ot=Ue;Ot!==null;){var at=Ot;switch(at.tag){case 0:case 11:case 15:T0(8,at,I)}var dt=at.child;if(dt!==null)dt.return=at,Ot=dt;else for(;Ot!==null;){at=Ot;var st=at.sibling,_t=at.return;if(D5(at),at===Ue){Ot=null;break}if(st!==null){st.return=_t,Ot=st;break}Ot=_t}}}var Bt=I.alternate;if(Bt!==null){var zt=Bt.child;if(zt!==null){Bt.child=null;do{var Ls=zt.sibling;zt.sibling=null,zt=Ls}while(zt!==null)}}Ot=I}}if((I.subtreeFlags&2064)!==0&&Y!==null)Y.return=I,Ot=Y;else e:for(;Ot!==null;){if(I=Ot,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:T0(9,I,I.return)}var Re=I.sibling;if(Re!==null){Re.return=I.return,Ot=Re;break e}Ot=I.return}}var Ae=d.current;for(Ot=Ae;Ot!==null;){Y=Ot;var Me=Y.child;if((Y.subtreeFlags&2064)!==0&&Me!==null)Me.return=Y,Ot=Me;else e:for(Y=Ae;Ot!==null;){if(ve=Ot,(ve.flags&2048)!==0)try{switch(ve.tag){case 0:case 11:case 15:jp(9,ve)}}catch(Gt){Ss(ve,ve.return,Gt)}if(ve===Y){Ot=null;break e}var ut=ve.sibling;if(ut!==null){ut.return=ve.return,Ot=ut;break e}Ot=ve.return}}if(an=E,O(),Ei&&typeof Ei.onPostCommitFiberRoot=="function")try{Ei.onPostCommitFiberRoot(Ko,d)}catch{}b=!0}return b}finally{Zr=g,Do.transition=f}}return!1}function Y5(d,f,g){f=Yh(g,f),f=f5(d,f,1),d=fs(d,f,1),f=ma(),d!==null&&(gc(d,1,f),Ra(d,f))}function Ss(d,f,g){if(d.tag===3)Y5(d,d,g);else for(;f!==null;){if(f.tag===3){Y5(f,d,g);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Ad===null||!Ad.has(b))){d=Yh(g,d),d=m5(f,d,1),f=fs(f,d,1),d=ma(),f!==null&&(gc(f,1,d),Ra(f,d));break}}f=f.return}}function fP(d,f,g){var b=d.pingCache;b!==null&&b.delete(f),f=ma(),d.pingedLanes|=d.suspendedLanes&g,bi===d&&(Ii&g)===g&&(oi===4||oi===3&&(Ii&130023424)===Ii&&500>bn()-Lg?$u(d,0):Og|=g),Ra(d,f)}function X5(d,f){f===0&&((d.mode&1)===0?f=1:(f=dn,dn<<=1,(dn&130023424)===0&&(dn=4194304)));var g=ma();d=Cn(d,f),d!==null&&(gc(d,f,g),Ra(d,g))}function mP(d){var f=d.memoizedState,g=0;f!==null&&(g=f.retryLane),X5(d,g)}function pP(d,f){var g=0;switch(d.tag){case 13:var b=d.stateNode,E=d.memoizedState;E!==null&&(g=E.retryLane);break;case 19:b=d.stateNode;break;default:throw Error(r(314))}b!==null&&b.delete(f),X5(d,g)}var Z5;Z5=function(d,f,g){if(d!==null)if(d.memoizedProps!==f.pendingProps||Wi.current)Ia=!0;else{if((d.lanes&g)===0&&(f.flags&128)===0)return Ia=!1,rP(d,f,g);Ia=(d.flags&131072)!==0}else Ia=!1,Ze&&(f.flags&1048576)!==0&&Ie(f,se,f.index);switch(f.lanes=0,f.tag){case 2:var b=f.type;bp(d,f),d=f.pendingProps;var E=wd(f,ii.current);ns(f,g),E=Fu(null,f,b,d,E,g);var I=Io();return f.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Gi(b)?(I=!0,Uc(f)):I=!1,f.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,ai(f),E.updater=yp,f.stateNode=E,E._reactInternals=f,wg(f,b,d,g),f=Cg(null,f,b,!0,I,g)):(f.tag=0,Ze&&I&&Ge(f),fa(null,f,E,g),f=f.child),f;case 16:b=f.elementType;e:{switch(bp(d,f),d=f.pendingProps,E=b._init,b=E(b._payload),f.type=b,E=f.tag=gP(b),d=dl(b,d),E){case 0:f=jg(null,f,b,d,g);break e;case 1:f=j5(null,f,b,d,g);break e;case 11:f=v5(null,f,b,d,g);break e;case 14:f=y5(null,f,b,dl(b.type,d),g);break e}throw Error(r(306,b,""))}return f;case 0:return b=f.type,E=f.pendingProps,E=f.elementType===b?E:dl(b,E),jg(d,f,b,E,g);case 1:return b=f.type,E=f.pendingProps,E=f.elementType===b?E:dl(b,E),j5(d,f,b,E,g);case 3:e:{if(C5(f),d===null)throw Error(r(387));b=f.pendingProps,I=f.memoizedState,E=I.element,Ki(d,f),wi(f,b,null,g);var Y=f.memoizedState;if(b=Y.element,I.isDehydrated)if(I={element:b,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},f.updateQueue.baseState=I,f.memoizedState=I,f.flags&256){E=Yh(Error(r(423)),f),f=_5(d,f,b,g,E);break e}else if(b!==E){E=Yh(Error(r(424)),f),f=_5(d,f,b,g,E);break e}else for(He=Pi(f.stateNode.containerInfo.firstChild),ze=f,Ze=!0,Qe=null,g=Kn(f,null,b,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Tt(),b===E){f=$c(d,f,g);break e}fa(d,f,b,g)}f=f.child}return f;case 5:return fp(f),d===null&&Ft(f),b=f.type,E=f.pendingProps,I=d!==null?d.memoizedProps:null,Y=E.children,w0(b,E)?Y=null:I!==null&&w0(b,I)&&(f.flags|=32),N5(d,f),fa(d,f,Y,g),f.child;case 6:return d===null&&Ft(f),null;case 13:return A5(d,f,g);case 4:return bd(f,f.stateNode.containerInfo),b=f.pendingProps,d===null?f.child=Cs(f,null,b,g):fa(d,f,b,g),f.child;case 11:return b=f.type,E=f.pendingProps,E=f.elementType===b?E:dl(b,E),v5(d,f,b,E,g);case 7:return fa(d,f,f.pendingProps,g),f.child;case 8:return fa(d,f,f.pendingProps.children,g),f.child;case 12:return fa(d,f,f.pendingProps.children,g),f.child;case 10:e:{if(b=f.type._context,E=f.pendingProps,I=f.memoizedProps,Y=E.value,vn(Rs,b._currentValue),b._currentValue=Y,I!==null)if(es(I.value,Y)){if(I.children===E.children&&!Wi.current){f=$c(d,f,g);break e}}else for(I=f.child,I!==null&&(I.return=f);I!==null;){var ve=I.dependencies;if(ve!==null){Y=I.child;for(var Ne=ve.firstContext;Ne!==null;){if(Ne.context===b){if(I.tag===1){Ne=hs(-1,g&-g),Ne.tag=2;var Ue=I.updateQueue;if(Ue!==null){Ue=Ue.shared;var at=Ue.pending;at===null?Ne.next=Ne:(Ne.next=at.next,at.next=Ne),Ue.pending=Ne}}I.lanes|=g,Ne=I.alternate,Ne!==null&&(Ne.lanes|=g),sn(I.return,g,f),ve.lanes|=g;break}Ne=Ne.next}}else if(I.tag===10)Y=I.type===f.type?null:I.child;else if(I.tag===18){if(Y=I.return,Y===null)throw Error(r(341));Y.lanes|=g,ve=Y.alternate,ve!==null&&(ve.lanes|=g),sn(Y,g,f),Y=I.sibling}else Y=I.child;if(Y!==null)Y.return=I;else for(Y=I;Y!==null;){if(Y===f){Y=null;break}if(I=Y.sibling,I!==null){I.return=Y.return,Y=I;break}Y=Y.return}I=Y}fa(d,f,E.children,g),f=f.child}return f;case 9:return E=f.type,b=f.pendingProps.children,ns(f,g),E=ss(E),b=b(E),f.flags|=1,fa(d,f,b,g),f.child;case 14:return b=f.type,E=dl(b,f.pendingProps),E=dl(b.type,E),y5(d,f,b,E,g);case 15:return w5(d,f,f.type,f.pendingProps,g);case 17:return b=f.type,E=f.pendingProps,E=f.elementType===b?E:dl(b,E),bp(d,f),f.tag=1,Gi(b)?(d=!0,Uc(f)):d=!1,ns(f,g),u5(f,b,E),wg(f,b,E,g),Cg(null,f,b,!0,d,g);case 19:return E5(d,f,g);case 22:return b5(d,f,g)}throw Error(r(156,f.tag))};function J5(d,f){return Ui(d,f)}function xP(d,f,g,b){this.tag=d,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ro(d,f,g,b){return new xP(d,f,g,b)}function Hg(d){return d=d.prototype,!(!d||!d.isReactComponent)}function gP(d){if(typeof d=="function")return Hg(d)?1:0;if(d!=null){if(d=d.$$typeof,d===F)return 11;if(d===xe)return 14}return 2}function Pd(d,f){var g=d.alternate;return g===null?(g=Ro(d.tag,f,d.key,d.mode),g.elementType=d.elementType,g.type=d.type,g.stateNode=d.stateNode,g.alternate=d,d.alternate=g):(g.pendingProps=f,g.type=d.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=d.flags&14680064,g.childLanes=d.childLanes,g.lanes=d.lanes,g.child=d.child,g.memoizedProps=d.memoizedProps,g.memoizedState=d.memoizedState,g.updateQueue=d.updateQueue,f=d.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=d.sibling,g.index=d.index,g.ref=d.ref,g}function Ip(d,f,g,b,E,I){var Y=2;if(b=d,typeof d=="function")Hg(d)&&(Y=1);else if(typeof d=="string")Y=5;else e:switch(d){case L:return Hu(g.children,E,I,f);case D:Y=8,E|=8;break;case V:return d=Ro(12,g,f,E|2),d.elementType=V,d.lanes=I,d;case X:return d=Ro(13,g,f,E),d.elementType=X,d.lanes=I,d;case ee:return d=Ro(19,g,f,E),d.elementType=ee,d.lanes=I,d;case pe:return Dp(g,E,I,f);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case ne:Y=10;break e;case B:Y=9;break e;case F:Y=11;break e;case xe:Y=14;break e;case oe:Y=16,b=null;break e}throw Error(r(130,d==null?d:typeof d,""))}return f=Ro(Y,g,f,E),f.elementType=d,f.type=b,f.lanes=I,f}function Hu(d,f,g,b){return d=Ro(7,d,b,f),d.lanes=g,d}function Dp(d,f,g,b){return d=Ro(22,d,b,f),d.elementType=pe,d.lanes=g,d.stateNode={isHidden:!1},d}function qg(d,f,g){return d=Ro(6,d,null,f),d.lanes=g,d}function Wg(d,f,g){return f=Ro(4,d.children!==null?d.children:[],d.key,f),f.lanes=g,f.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},f}function vP(d,f,g,b,E){this.tag=f,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gu(0),this.expirationTimes=gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gu(0),this.identifierPrefix=b,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function Gg(d,f,g,b,E,I,Y,ve,Ne){return d=new vP(d,f,g,ve,Ne),f===1?(f=1,I===!0&&(f|=8)):f=0,I=Ro(3,null,null,f),d.current=I,I.stateNode=d,I.memoizedState={element:b,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},ai(I),d}function yP(d,f,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:b==null?null:""+b,children:d,containerInfo:f,implementation:g}}function Q5(d){if(!d)return ql;d=d._reactInternals;e:{if(Ln(d)!==d||d.tag!==1)throw Error(r(170));var f=d;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Gi(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(r(171))}if(d.tag===1){var g=d.type;if(Gi(g))return C0(d,g,f)}return f}function eN(d,f,g,b,E,I,Y,ve,Ne){return d=Gg(g,b,!0,d,E,I,Y,ve,Ne),d.context=Q5(null),g=d.current,b=ma(),E=Ed(g),I=hs(b,E),I.callback=f??null,fs(g,I,E),d.current.lanes=E,gc(d,E,b),Ra(d,b),d}function Rp(d,f,g,b){var E=f.current,I=ma(),Y=Ed(E);return g=Q5(g),f.context===null?f.context=g:f.pendingContext=g,f=hs(I,Y),f.payload={element:d},b=b===void 0?null:b,b!==null&&(f.callback=b),d=fs(E,f,Y),d!==null&&(fl(d,E,Y,I),yi(d,E,Y)),Y}function Op(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function tN(d,f){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var g=d.retryLane;d.retryLane=g!==0&&g<f?g:f}}function Kg(d,f){tN(d,f),(d=d.alternate)&&tN(d,f)}function wP(){return null}var rN=typeof reportError=="function"?reportError:function(d){console.error(d)};function Yg(d){this._internalRoot=d}Lp.prototype.render=Yg.prototype.render=function(d){var f=this._internalRoot;if(f===null)throw Error(r(409));Rp(d,f,null,null)},Lp.prototype.unmount=Yg.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var f=d.containerInfo;Vu(function(){Rp(null,d,null,null)}),f[gi]=null}};function Lp(d){this._internalRoot=d}Lp.prototype.unstable_scheduleHydration=function(d){if(d){var f=Eh();d={blockedOn:null,target:d,priority:f};for(var g=0;g<bo.length&&f!==0&&f<bo[g].priority;g++);bo.splice(g,0,d),g===0&&Ph(d)}};function Xg(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function Fp(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function nN(){}function bP(d,f,g,b,E){if(E){if(typeof b=="function"){var I=b;b=function(){var Ue=Op(Y);I.call(Ue)}}var Y=eN(f,b,d,0,null,!1,!1,"",nN);return d._reactRootContainer=Y,d[gi]=Y.current,Oc(d.nodeType===8?d.parentNode:d),Vu(),Y}for(;E=d.lastChild;)d.removeChild(E);if(typeof b=="function"){var ve=b;b=function(){var Ue=Op(Ne);ve.call(Ue)}}var Ne=Gg(d,0,!1,null,null,!1,!1,"",nN);return d._reactRootContainer=Ne,d[gi]=Ne.current,Oc(d.nodeType===8?d.parentNode:d),Vu(function(){Rp(f,Ne,g,b)}),Ne}function Mp(d,f,g,b,E){var I=g._reactRootContainer;if(I){var Y=I;if(typeof E=="function"){var ve=E;E=function(){var Ne=Op(Y);ve.call(Ne)}}Rp(f,Y,d,E)}else Y=bP(g,f,d,E,b);return Op(Y)}sd=function(d){switch(d.tag){case 3:var f=d.stateNode;if(f.current.memoizedState.isDehydrated){var g=In(f.pendingLanes);g!==0&&(nd(f,g|1),Ra(f,bn()),(an&6)===0&&(Jh=bn()+500,O()))}break;case 13:Vu(function(){var b=Cn(d,1);if(b!==null){var E=ma();fl(b,d,1,E)}}),Kg(d,1)}},vu=function(d){if(d.tag===13){var f=Cn(d,134217728);if(f!==null){var g=ma();fl(f,d,134217728,g)}Kg(d,134217728)}},Sh=function(d){if(d.tag===13){var f=Ed(d),g=Cn(d,f);if(g!==null){var b=ma();fl(g,d,f,b)}Kg(d,f)}},Eh=function(){return Zr},id=function(d,f){var g=Zr;try{return Zr=d,f()}finally{Zr=g}},Or=function(d,f,g){switch(f){case"input":if(Ee(d,g),f=g.name,g.type==="radio"&&f!=null){for(g=d;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<g.length;f++){var b=g[f];if(b!==d&&b.form===d.form){var E=Ou(b);if(!E)throw Error(r(90));Be(b),Ee(b,E)}}}break;case"textarea":tr(d,g);break;case"select":f=g.value,f!=null&&We(d,!!g.multiple,f,!1)}},bt=Vg,yr=Vu;var NP={usingClientEntryPoint:!1,Events:[yd,Mc,Ou,ge,pt,Vg]},O0={findFiberByHostInstance:Hl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jP={bundleType:O0.bundleType,version:O0.version,rendererPackageName:O0.rendererPackageName,rendererConfig:O0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Bi(d),d===null?null:d.stateNode},findFiberByHostInstance:O0.findFiberByHostInstance||wP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{Ko=Bp.inject(jP),Ei=Bp}catch{}}return Oa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NP,Oa.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xg(f))throw Error(r(200));return yP(d,f,null,g)},Oa.createRoot=function(d,f){if(!Xg(d))throw Error(r(299));var g=!1,b="",E=rN;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onRecoverableError!==void 0&&(E=f.onRecoverableError)),f=Gg(d,1,!1,null,null,g,!1,b,E),d[gi]=f.current,Oc(d.nodeType===8?d.parentNode:d),new Yg(f)},Oa.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var f=d._reactInternals;if(f===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=Bi(f),d=d===null?null:d.stateNode,d},Oa.flushSync=function(d){return Vu(d)},Oa.hydrate=function(d,f,g){if(!Fp(f))throw Error(r(200));return Mp(null,d,f,!0,g)},Oa.hydrateRoot=function(d,f,g){if(!Xg(d))throw Error(r(405));var b=g!=null&&g.hydratedSources||null,E=!1,I="",Y=rN;if(g!=null&&(g.unstable_strictMode===!0&&(E=!0),g.identifierPrefix!==void 0&&(I=g.identifierPrefix),g.onRecoverableError!==void 0&&(Y=g.onRecoverableError)),f=eN(f,null,d,1,g??null,E,!1,I,Y),d[gi]=f.current,Oc(d),b)for(d=0;d<b.length;d++)g=b[d],E=g._getVersion,E=E(g._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[g,E]:f.mutableSourceEagerHydrationData.push(g,E);return new Lp(f)},Oa.render=function(d,f,g){if(!Fp(f))throw Error(r(200));return Mp(null,d,f,!1,g)},Oa.unmountComponentAtNode=function(d){if(!Fp(d))throw Error(r(40));return d._reactRootContainer?(Vu(function(){Mp(null,null,d,!1,function(){d._reactRootContainer=null,d[gi]=null})}),!0):!1},Oa.unstable_batchedUpdates=Vg,Oa.unstable_renderSubtreeIntoContainer=function(d,f,g,b){if(!Fp(g))throw Error(r(200));if(d==null||d._reactInternals===void 0)throw Error(r(38));return Mp(d,f,g,!1,b)},Oa.version="18.3.1-next-f1338f8080-20240426",Oa}var uN;function h6(){if(uN)return Qg.exports;uN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qg.exports=TP(),Qg.exports}var hN;function IP(){if(hN)return Up;hN=1;var t=h6();return Up.createRoot=t.createRoot,Up.hydrateRoot=t.hydrateRoot,Up}var DP=IP(),_=N1();const ht=b1(_),lw=u6({__proto__:null,default:ht},[_]);var F2=function(t,e){return F2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},F2(t,e)};function f6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");F2(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Mo=function(){return Mo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Mo.apply(this,arguments)};function du(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function m6(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function p6(t,e){return function(r,n){e(r,n,t)}}function x6(t,e,r,n,i,a){function o(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,h=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),m,x=!1,p=r.length-1;p>=0;p--){var y={};for(var w in n)y[w]=w==="access"?{}:n[w];for(var w in n.access)y.access[w]=n.access[w];y.addInitializer=function(C){if(x)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(C||null))};var j=(0,r[p])(l==="accessor"?{get:h.get,set:h.set}:h[c],y);if(l==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(m=o(j.get))&&(h.get=m),(m=o(j.set))&&(h.set=m),(m=o(j.init))&&i.unshift(m)}else(m=o(j))&&(l==="field"?i.unshift(m):h[c]=m)}u&&Object.defineProperty(u,n.name,h),x=!0}function g6(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function v6(t){return typeof t=="symbol"?t:"".concat(t)}function y6(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function w6(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Kt(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function c(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?a(h.value):i(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})}function b6(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var j1=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function N6(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&j1(e,t,r)}function zx(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cw(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function j6(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(cw(arguments[e]));return t}function C6(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,l=a.length;o<l;o++,i++)n[i]=a[o];return n}function dw(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function $f(t){return this instanceof $f?(this.v=t,this):new $f(t)}function _6(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(y){return Promise.resolve(y).then(p,m)}}function l(p,y){n[p]&&(i[p]=function(w){return new Promise(function(j,C){a.push([p,w,j,C])>1||c(p,w)})},y&&(i[p]=y(i[p])))}function c(p,y){try{u(n[p](y))}catch(w){x(a[0][3],w)}}function u(p){p.value instanceof $f?Promise.resolve(p.value.v).then(h,m):x(a[0][2],p)}function h(p){c("next",p)}function m(p){c("throw",p)}function x(p,y){p(y),a.shift(),a.length&&c(a[0][0],a[0][1])}}function A6(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(o){return(r=!r)?{value:$f(t[i](o)),done:!1}:a?a(o):o}:a}}function S6(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof zx=="function"?zx(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(o){return new Promise(function(l,c){o=t[a](o),i(l,c,o.done,o.value)})}}function i(a,o,l,c){Promise.resolve(c).then(function(u){a({value:u,done:l})},o)}}function E6(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var RP=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},M2=function(t){return M2=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},M2(t)};function k6(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=M2(t),n=0;n<r.length;n++)r[n]!=="default"&&j1(e,t,r[n]);return RP(e,t),e}function P6(t){return t&&t.__esModule?t:{default:t}}function T6(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function I6(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function D6(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function R6(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var OP=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function O6(t){function e(a){t.error=t.hasError?new OP(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function L6(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,o){return n?e?".jsx":".js":i&&(!a||!o)?r:i+a+"."+o.toLowerCase()+"js"}):t}const LP={__extends:f6,__assign:Mo,__rest:du,__decorate:m6,__param:p6,__esDecorate:x6,__runInitializers:g6,__propKey:v6,__setFunctionName:y6,__metadata:w6,__awaiter:Kt,__generator:b6,__createBinding:j1,__exportStar:N6,__values:zx,__read:cw,__spread:j6,__spreadArrays:C6,__spreadArray:dw,__await:$f,__asyncGenerator:_6,__asyncDelegator:A6,__asyncValues:S6,__makeTemplateObject:E6,__importStar:k6,__importDefault:P6,__classPrivateFieldGet:T6,__classPrivateFieldSet:I6,__classPrivateFieldIn:D6,__addDisposableResource:R6,__disposeResources:O6,__rewriteRelativeImportExtension:L6},FP=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:R6,get __assign(){return Mo},__asyncDelegator:A6,__asyncGenerator:_6,__asyncValues:S6,__await:$f,__awaiter:Kt,__classPrivateFieldGet:T6,__classPrivateFieldIn:D6,__classPrivateFieldSet:I6,__createBinding:j1,__decorate:m6,__disposeResources:O6,__esDecorate:x6,__exportStar:N6,__extends:f6,__generator:b6,__importDefault:P6,__importStar:k6,__makeTemplateObject:E6,__metadata:w6,__param:p6,__propKey:v6,__read:cw,__rest:du,__rewriteRelativeImportExtension:L6,__runInitializers:g6,__setFunctionName:y6,__spread:j6,__spreadArray:dw,__spreadArrays:C6,__values:zx,default:LP},Symbol.toStringTag,{value:"Module"})),MP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class uw extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class fN extends uw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mN extends uw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class pN extends uw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var B2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(B2||(B2={}));class BP{constructor(e,{headers:r={},customFetch:n,region:i=B2.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=MP(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Kt(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:a,method:o,body:l,signal:c}=n;let u={},{region:h}=n;h||(h=this.region);const m=new URL(`${this.url}/${r}`);h&&h!=="any"&&(u["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let x;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",x=l):typeof l=="string"?(u["Content-Type"]="text/plain",x=l):typeof FormData<"u"&&l instanceof FormData?x=l:(u["Content-Type"]="application/json",x=JSON.stringify(l)):x=l;const p=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:x,signal:c}).catch(C=>{throw C.name==="AbortError"?C:new fN(C)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new mN(p);if(!p.ok)throw new pN(p);let w=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return w==="application/json"?j=yield p.json():w==="application/octet-stream"||w==="application/pdf"?j=yield p.blob():w==="text/event-stream"?j=p:w==="multipart/form-data"?j=yield p.formData():j=yield p.text(),{data:j,error:null,response:p}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new fN(a)}:{data:null,error:a,response:a instanceof pN||a instanceof mN?a.context:void 0}}})}}var Zi={};const Zf=_P(FP);var Vp={},$p={},zp={},Hp={},qp={},Wp={},xN;function F6(){if(xN)return Wp;xN=1,Object.defineProperty(Wp,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Wp.default=t,Wp}var gN;function M6(){if(gN)return qp;gN=1,Object.defineProperty(qp,"__esModule",{value:!0});const e=Zf.__importDefault(F6());class r{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,m,x;let p=null,y=null,w=null,j=c.status,C=c.statusText;if(c.ok){if(this.method!=="HEAD"){const M=await c.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=M:y=JSON.parse(M))}const k=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),P=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");k&&P&&P.length>1&&(w=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,j=406,C="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const k=await c.text();try{p=JSON.parse(k),Array.isArray(p)&&c.status===404&&(y=[],p=null,j=200,C="OK")}catch{c.status===404&&k===""?(j=204,C="No Content"):p={message:k}}if(p&&this.isMaybeSingle&&(!((x=p?.details)===null||x===void 0)&&x.includes("0 rows"))&&(p=null,j=200,C="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:y,count:w,status:j,statusText:C}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,m;return{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:`${(h=c?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=c?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}}return qp.default=r,qp}var vN;function B6(){if(vN)return Hp;vN=1,Object.defineProperty(Hp,"__esModule",{value:!0});const e=Zf.__importDefault(M6());class r extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var h;const m=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),x=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${x}"; options=${m};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Hp.default=r,Hp}var yN;function hw(){if(yN)return zp;yN=1,Object.defineProperty(zp,"__esModule",{value:!0});const e=Zf.__importDefault(B6()),r=new RegExp("[,()]");class n extends e.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${u}fts${h}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}}return zp.default=n,zp}var wN;function U6(){if(wN)return $p;wN=1,Object.defineProperty($p,"__esModule",{value:!0});const e=Zf.__importDefault(hw());class r{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(i,a){const{head:o=!1,count:l}=a??{},c=o?"HEAD":"GET";let u=!1;const h=(i??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(u.length>0){const h=[...new Set(u)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((x,p)=>x.concat(Object.keys(p)),[]);if(m.length>0){const x=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return $p.default=r,$p}var bN;function UP(){if(bN)return Vp;bN=1,Object.defineProperty(Vp,"__esModule",{value:!0});const t=Zf,e=t.__importDefault(U6()),r=t.__importDefault(hw());class n{constructor(a,{headers:o={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(a){const o=new URL(`${this.url}/${a}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:c=!1,count:u}={}){var h;let m;const x=new URL(`${this.url}/rpc/${a}`);let p;l||c?(m=l?"HEAD":"GET",Object.entries(o).filter(([w,j])=>j!==void 0).map(([w,j])=>[w,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([w,j])=>{x.searchParams.append(w,j)})):(m="POST",p=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:m,url:x,headers:y,schema:this.schemaName,body:p,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Vp.default=n,Vp}var NN;function VP(){if(NN)return Zi;NN=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.PostgrestError=Zi.PostgrestBuilder=Zi.PostgrestTransformBuilder=Zi.PostgrestFilterBuilder=Zi.PostgrestQueryBuilder=Zi.PostgrestClient=void 0;const t=Zf,e=t.__importDefault(UP());Zi.PostgrestClient=e.default;const r=t.__importDefault(U6());Zi.PostgrestQueryBuilder=r.default;const n=t.__importDefault(hw());Zi.PostgrestFilterBuilder=n.default;const i=t.__importDefault(B6());Zi.PostgrestTransformBuilder=i.default;const a=t.__importDefault(M6());Zi.PostgrestBuilder=a.default;const o=t.__importDefault(F6());return Zi.PostgrestError=o.default,Zi.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Zi}var V6=VP();const $6=b1(V6),$P=u6({__proto__:null,default:$6},[V6]),{PostgrestClient:zP,PostgrestQueryBuilder:Ete,PostgrestFilterBuilder:kte,PostgrestTransformBuilder:Pte,PostgrestBuilder:Tte,PostgrestError:Ite}=$6||$P;class HP{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qP="2.80.0",WP=`realtime-js/${qP}`,GP="1.0.0",U2=1e4,KP=1e3,YP=100;var sm;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(sm||(sm={}));var ci;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ci||(ci={}));var Nl;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Nl||(Nl={}));var V2;(function(t){t.websocket="websocket"})(V2||(V2={}));var th;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(th||(th={}));class XP{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+i));o=o+i;const c=n.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class z6{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Un;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Un||(Un={}));const jN=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=ZP(o,t,e,i),a),{}):{}},ZP=(t,e,r,n)=>{const i=e.find(l=>l.name===t),a=i?.type,o=r[t];return a&&!n.includes(a)?H6(a,o):$2(o)},H6=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return tT(e,r)}switch(t){case Un.bool:return JP(e);case Un.float4:case Un.float8:case Un.int2:case Un.int4:case Un.int8:case Un.numeric:case Un.oid:return QP(e);case Un.json:case Un.jsonb:return eT(e);case Un.timestamp:return rT(e);case Un.abstime:case Un.date:case Un.daterange:case Un.int4range:case Un.int8range:case Un.money:case Un.reltime:case Un.text:case Un.time:case Un.timestamptz:case Un.timetz:case Un.tsrange:case Un.tstzrange:return $2(e);default:return $2(e)}},$2=t=>t,JP=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},QP=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},eT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},tT=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>H6(e,l))}return t},rT=t=>typeof t=="string"?t.replace(" ","T"):t,q6=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class rv{constructor(e,r,n={},i=U2){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var CN;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(CN||(CN={}));class im{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=im.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=im.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=im.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(a,(u,h)=>{o[u]||(c[u]=h)}),this.map(o,(u,h)=>{const m=a[u];if(m){const x=h.map(j=>j.presence_ref),p=m.map(j=>j.presence_ref),y=h.filter(j=>p.indexOf(j.presence_ref)<0),w=m.filter(j=>x.indexOf(j.presence_ref)<0);y.length>0&&(l[u]=y),w.length>0&&(c[u]=w)}else l[u]=h}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const h=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),h.length>0){const m=e[l].map(p=>p.presence_ref),x=h.filter(p=>m.indexOf(p.presence_ref)<0);e[l].unshift(...x)}n(l,h,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const h=c.map(m=>m.presence_ref);u=u.filter(m=>h.indexOf(m.presence_ref)<0),e[l]=u,i(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _N;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(_N||(_N={}));var am;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(am||(am={}));var Gc;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Gc||(Gc={}));class fw{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ci.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new rv(this,Nl.join,this.params,this.timeout),this.rejoinTimer=new z6(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ci.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ci.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ci.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ci.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ci.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nl.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new im(this),this.broadcastEndpointURL=q6(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ci.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[am.PRESENCE]&&this.bindings[am.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},x={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(p=>e?.(Gc.CHANNEL_ERROR,p)),this._onClose(()=>e?.(Gc.CLOSED)),this.updateJoinPayload(Object.assign({config:x},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){e?.(Gc.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,j=(y=w?.length)!==null&&y!==void 0?y:0,C=[];for(let A=0;A<j;A++){const k=w[A],{filter:{event:P,schema:M,table:$,filter:L}}=k,D=p&&p[A];if(D&&D.event===P&&D.schema===M&&D.table===$&&D.filter===L)C.push(Object.assign(Object.assign({},k),{id:D.id}));else{this.unsubscribe(),this.state=ci.errored,e?.(Gc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Gc.SUBSCRIBED);return}}).receive("error",p=>{this.state=ci.errored,e?.(Gc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e?.(Gc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ci.joined&&e===am.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ci.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new rv(this,Nl.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ci.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new rv(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>YP){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=Nl;if(n&&[l,c,u,h].indexOf(o)>=0&&n!==this._joinRef())return;let x=this._onMessage(o,r,n);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var y,w,j;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((j=(w=p.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(p=>p.callback(x,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var y,w,j,C,A,k;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const P=p.id,M=(y=p.filter)===null||y===void 0?void 0:y.event;return P&&((w=r.ids)===null||w===void 0?void 0:w.includes(P))&&(M==="*"||M?.toLocaleLowerCase()===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const P=(A=(C=p?.filter)===null||C===void 0?void 0:C.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return P==="*"||P===((k=r?.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof x=="object"&&"ids"in x){const y=x.data,{schema:w,table:j,commit_timestamp:C,type:A,errors:k}=y;x=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:C,eventType:A,new:{},old:{},errors:k}),this._getPayloadRecords(y))}p.callback(x,n)})}_isClosed(){return this.state===ci.closed}_isJoined(){return this.state===ci.joined}_isJoining(){return this.state===ci.joining}_isLeaving(){return this.state===ci.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&fw.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Nl.close,{},e)}_onError(e){this._on(Nl.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ci.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=jN(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=jN(e.columns,e.old_record)),r}}const nv=()=>{},Gp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nT=[1e3,2e3,5e3,1e4],sT=1e4,iT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aT{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=U2,this.transport=null,this.heartbeatIntervalMs=Gp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nv,this.ref=0,this.reconnectTimer=null,this.logger=nv,this.conn=null,this.sendBuffer=[],this.serializer=new XP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${V2.websocket}`,this.httpEndpoint=q6(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=HP.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:GP}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case sm.connecting:return th.Connecting;case sm.open:return th.Open;case sm.closing:return th.Closing;default:return th.Closed}}isConnected(){return this.connectionState()===th.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new fw(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(KP,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Gp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Nl.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([iT],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:WP};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Nl.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new z6(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,o,l,c,u,h;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:U2,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Gp.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:nv,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(m=>nT[m-1]||sT),this.encode=(u=e?.encode)!==null&&u!==void 0?u:((m,x)=>x(JSON.stringify(m))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class mw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function gs(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class oT extends mw{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class z2 extends mw{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const pw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),lT=()=>Response,H2=t=>{if(Array.isArray(t))return t.map(r=>H2(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=H2(n)}),e},cT=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sv=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},dT=(t,e,r)=>Kt(void 0,void 0,void 0,function*(){const n=yield lT();t instanceof n&&!r?.noResolveJson?t.json().then(i=>{const a=t.status||500,o=i?.statusCode||a+"";e(new oT(sv(i),a,o))}).catch(i=>{e(new z2(sv(i),i))}):e(new z2(sv(t),t))}),uT=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(cT(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Lm(t,e,r,n,i,a){return Kt(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,uT(e,n,i,a)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>dT(c,l,n))})})}function xm(t,e,r,n){return Kt(this,void 0,void 0,function*(){return Lm(t,"GET",e,r,n)})}function bl(t,e,r,n,i){return Kt(this,void 0,void 0,function*(){return Lm(t,"POST",e,n,i,r)})}function q2(t,e,r,n,i){return Kt(this,void 0,void 0,function*(){return Lm(t,"PUT",e,n,i,r)})}function hT(t,e,r,n){return Kt(this,void 0,void 0,function*(){return Lm(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function xw(t,e,r,n,i){return Kt(this,void 0,void 0,function*(){return Lm(t,"DELETE",e,n,i,r)})}class fT{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Kt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(gs(e))return{data:null,error:e};throw e}})}}var W6;class mT{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[W6]="BlobDownloadBuilder",this.promise=null}asStream(){return new fT(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Kt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(gs(e))return{data:null,error:e};throw e}})}}W6=Symbol.toStringTag;const pT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},AN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xT{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=pw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return Kt(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},AN),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),m=yield(e=="PUT"?q2:bl)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gs(a))return{data:null,error:a};throw a}})}upload(e,r,n){return Kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Kt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:AN.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const m=yield q2(this.fetch,l.toString(),c,{headers:h});return{data:{path:a,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(gs(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Kt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield bl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new mw("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gs(n))return{data:null,error:n};throw n}})}update(e,r,n){return Kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Kt(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gs(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Kt(this,void 0,void 0,function*(){try{return{data:{path:(yield bl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gs(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Kt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield bl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gs(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Kt(this,void 0,void 0,function*(){try{const i=yield bl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gs(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),o=a?`?${a}`:"",l=this._getFinalPath(e),c=()=>xm(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new mT(c,this.shouldThrowOnError)}info(e){return Kt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield xm(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:H2(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gs(n))return{data:null,error:n};throw n}})}exists(e){return Kt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield hT(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gs(n)&&n instanceof z2){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return Kt(this,void 0,void 0,function*(){try{return{data:yield xw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}})}list(e,r,n){return Kt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},pT),r),{prefix:e||""});return{data:yield bl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gs(i))return{data:null,error:i};throw i}})}listV2(e,r){return Kt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield bl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gs(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const G6="2.80.0",K6={"X-Client-Info":`storage-js/${G6}`};class gT{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},K6),r),this.fetch=pw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Kt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield xm(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}})}getBucket(e){return Kt(this,void 0,void 0,function*(){try{return{data:yield xm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}})}createBucket(e){return Kt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield bl(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gs(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Kt(this,void 0,void 0,function*(){try{return{data:yield q2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gs(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Kt(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Kt(this,void 0,void 0,function*(){try{return{data:yield xw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class vT{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},K6),r),this.fetch=pw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Kt(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}})}listBuckets(e){return Kt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield xm(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Kt(this,void 0,void 0,function*(){try{return{data:yield xw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gs(r))return{data:null,error:r};throw r}})}}const gw={"X-Client-Info":`storage-js/${G6}`,"Content-Type":"application/json"};class Y6 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function lo(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class iv extends Y6{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yT extends Y6{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var SN;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(SN||(SN={}));const vw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),wT=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},EN=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bT=(t,e,r)=>Kt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(o=>{const l=o?.statusCode||o?.code||i+"";e(new iv(EN(o),i,l))}).catch(()=>{const o=i+"",l=a.statusText||`HTTP ${i} error`;e(new iv(l,i,o))});else{const o=i+"",l=a.statusText||`HTTP ${i} error`;e(new iv(l,i,o))}}else e(new yT(EN(t),t))}),NT=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return n?(wT(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function jT(t,e,r,n,i,a){return Kt(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,NT(e,n,i,a)).then(c=>{if(!c.ok)throw c;if(n?.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>bT(c,l,n))})})}function co(t,e,r,n,i){return Kt(this,void 0,void 0,function*(){return jT(t,"POST",e,n,i,r)})}class CT{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gw),r),this.fetch=vw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Kt(this,void 0,void 0,function*(){try{return{data:(yield co(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lo(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Kt(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lo(n))return{data:null,error:n};throw n}})}listIndexes(e){return Kt(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lo(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Kt(this,void 0,void 0,function*(){try{return{data:(yield co(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lo(n))return{data:null,error:n};throw n}})}}class _T{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gw),r),this.fetch=vw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Kt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield co(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lo(r))return{data:null,error:r};throw r}})}getVectors(e){return Kt(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lo(r))return{data:null,error:r};throw r}})}listVectors(e){return Kt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield co(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lo(r))return{data:null,error:r};throw r}})}queryVectors(e){return Kt(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lo(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Kt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield co(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lo(r))return{data:null,error:r};throw r}})}}class AT{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gw),r),this.fetch=vw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Kt(this,void 0,void 0,function*(){try{return{data:(yield co(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lo(r))return{data:null,error:r};throw r}})}getBucket(e){return Kt(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lo(r))return{data:null,error:r};throw r}})}listBuckets(){return Kt(this,arguments,void 0,function*(e={}){try{return{data:yield co(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lo(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Kt(this,void 0,void 0,function*(){try{return{data:(yield co(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lo(r))return{data:null,error:r};throw r}})}}class ST extends AT{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new ET(this.url,this.headers,e,this.fetch)}}class ET extends CT{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Kt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Kt(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Kt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Kt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new kT(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class kT extends _T{constructor(e,r,n,i,a){super(e,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Kt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Kt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Kt(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Kt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Kt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class PT extends gT{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new xT(this.url,this.headers,e,this.fetch)}get vectors(){return new ST(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vT(this.url+"/iceberg",this.headers,this.fetch)}}const TT="2.80.0";let Y0="";typeof Deno<"u"?Y0="deno":typeof document<"u"?Y0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Y0="react-native":Y0="node";const IT={"X-Client-Info":`supabase-js-${Y0}/${TT}`},DT={headers:IT},RT={schema:"public"},OT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LT={},FT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),MT=()=>Headers,BT=(t,e,r)=>{const n=FT(r),i=MT();return async(a,o)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let u=new i(o?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))}};function UT(t){return t.endsWith("/")?t:t+"/"}function VT(t,e){var r,n;const{db:i,auth:a,realtime:o,global:l}=t,{db:c,auth:u,realtime:h,global:m}=e,x={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function $T(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(UT(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const X6="2.80.0",xf=30*1e3,W2=3,av=W2*xf,zT="http://localhost:9999",HT="supabase.auth.token",qT={"X-Client-Info":`gotrue-js/${X6}`},G2="X-Supabase-Api-Version",Z6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},WT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GT=600*1e3;class gm extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Jt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class KT extends gm{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function YT(t){return Jt(t)&&t.name==="AuthApiError"}class rh extends gm{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class uu extends gm{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class xl extends uu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function XT(t){return Jt(t)&&t.name==="AuthSessionMissingError"}class ef extends uu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kp extends uu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Yp extends uu{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ZT(t){return Jt(t)&&t.name==="AuthImplicitGrantRedirectError"}class kN extends uu{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class K2 extends uu{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ov(t){return Jt(t)&&t.name==="AuthRetryableFetchError"}class PN extends uu{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Y2 extends uu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),TN=` 	
\r=`.split(""),JT=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<TN.length;e+=1)t[TN[e].charCodeAt(0)]=-2;for(let e=0;e<Hx.length;e+=1)t[Hx[e].charCodeAt(0)]=e;return t})();function IN(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Hx[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Hx[n]),e.queuedBits-=6}}function J6(t,e,r){const n=JT[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function DN(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{tI(o,n,r)};for(let o=0;o<t.length;o+=1)J6(t.charCodeAt(o),i,a);return e.join("")}function QT(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function eI(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}QT(n,e)}}function tI(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Pf(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)J6(t.charCodeAt(i),r,n);return new Uint8Array(e)}function rI(t){const e=[];return eI(t,r=>e.push(r)),new Uint8Array(e)}function sh(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>IN(i,r,n)),IN(null,r,n),e.join("")}function nI(t){return Math.round(Date.now()/1e3)+t}function sI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ra=()=>typeof window<"u"&&typeof document<"u",qu={tested:!1,writable:!1},Q6=()=>{if(!ra())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qu.tested)return qu.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qu.tested=!0,qu.writable=!0}catch{qu.tested=!0,qu.writable=!1}return qu.writable};function iI(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const e_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aI=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",gf=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Wu=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Id=async(t,e)=>{await t.removeItem(e)};class C1{constructor(){this.promise=new C1.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}C1.promiseConstructor=Promise;function lv(t){const e=t.split(".");if(e.length!==3)throw new Y2("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!WT.test(e[n]))throw new Y2("JWT not in base64url format");return{header:JSON.parse(DN(e[0])),payload:JSON.parse(DN(e[1])),signature:Pf(e[2]),raw:{header:e[0],payload:e[1]}}}async function oI(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function lI(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function cI(t){return("0"+t.toString(16)).substr(-2)}function dI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,cI).join("")}async function uI(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function hI(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await uI(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tf(t,e,r=!1){const n=dI();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await gf(t,`${e}-code-verifier`,i);const a=await hI(n);return[a,n===a?"plain":"s256"]}const fI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mI(t){const e=t.headers.get(G2);if(!e||!e.match(fI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function pI(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function xI(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rf(t){if(!gI.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cv(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vI(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function RN(t){return JSON.parse(JSON.stringify(t))}const Zu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yI=[502,503,504];async function ON(t){var e;if(!aI(t))throw new K2(Zu(t),0);if(yI.includes(t.status))throw new K2(Zu(t),t.status);let r;try{r=await t.json()}catch(a){throw new rh(Zu(a),a)}let n;const i=mI(t);if(i&&i.getTime()>=Z6["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new PN(Zu(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new xl}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new PN(Zu(r),t.status,r.weak_password.reasons);throw new KT(Zu(r),t.status||500,n)}const wI=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function gr(t,e,r,n){var i;const a=Object.assign({},n?.headers);a[G2]||(a[G2]=Z6["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await bI(t,e,r+l,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function bI(t,e,r,n,i,a){const o=wI(e,n,i,a);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new K2(Zu(c),0)}if(l.ok||await ON(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await ON(c)}}function gl(t){var e;let r=null;CI(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=nI(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function LN(t){const e=gl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Vd(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function NI(t){return{data:t,error:null}}function jI(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=du(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function FN(t){return t}function CI(t){return t.access_token&&t.refresh_token&&t.expires_in}const dv=["global","local","others"];class _I{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=e_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=dv[0]){if(dv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dv.join(", ")}`);try{return await gr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await gr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Vd})}catch(n){if(Jt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=du(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await gr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:jI,redirectTo:r?.redirectTo})}catch(r){if(Jt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await gr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Vd})}catch(r){if(Jt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await gr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:FN});if(h.error)throw h.error;const m=await h.json(),x=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(y.split(";")[1].split("=")[1]);u[`${j}Page`]=w}),u.total=parseInt(x)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(Jt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){rf(e);try{return await gr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Vd})}catch(r){if(Jt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){rf(e);try{return await gr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Vd})}catch(n){if(Jt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){rf(e);try{return await gr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Vd})}catch(n){if(Jt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){rf(e.userId);try{const{data:r,error:n}=await gr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){rf(e.userId),rf(e.id);try{return{data:await gr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await gr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:FN});if(h.error)throw h.error;const m=await h.json(),x=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(y.split(";")[1].split("=")[1]);u[`${j}Page`]=w}),u.total=parseInt(x)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(Jt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await gr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await gr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await gr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await gr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await gr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}}function MN(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const nf={debug:!!(globalThis&&Q6()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class t_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class AI extends t_{}async function SI(t,e,r){nf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),nf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){nf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{nf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw nf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new AI(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(nf.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function EI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function r_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function kI(t){return parseInt(t,16)}function PI(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function TI(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:h,uri:m,version:x}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=r_(t.address),y=h?`${h}://${n}`:n,w=t.statement?`${t.statement}
`:"",j=`${y} wants you to sign in with your Ethereum account:
${p}

${w}`;let C=`URI: ${m}
Version: ${x}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),l&&(C+=`
Not Before: ${l.toISOString()}`),c&&(C+=`
Request ID: ${c}`),u){let A=`
Resources:`;for(const k of u){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);A+=`
- ${k}`}C+=A}return`${j}
${C}`}class Ys extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class qx extends Ys{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function II({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ys({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ys({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ys({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ys({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ys({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ys({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ys({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ys({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(n_(o)){if(a.rp.id!==o)return new Ys({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ys({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ys({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ys({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ys({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function DI({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ys({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ys({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(n_(n)){if(r.rpId!==n)return new Ys({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ys({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ys({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ys({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class RI{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const OI=new RI;function LI(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=du(t,["challenge","user","excludeCredentials"]),a=Pf(e).buffer,o=Object.assign(Object.assign({},r),{id:Pf(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Pf(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function FI(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=du(t,["challenge","allowCredentials"]),i=Pf(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Pf(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function MI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:sh(new Uint8Array(t.response.attestationObject)),clientDataJSON:sh(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function BI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:sh(new Uint8Array(i.authenticatorData)),clientDataJSON:sh(new Uint8Array(i.clientDataJSON)),signature:sh(new Uint8Array(i.signature)),userHandle:i.userHandle?sh(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function n_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function BN(){var t,e;return!!(ra()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function UI(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new qx("Browser returned unexpected credential type",e)}:{data:null,error:new qx("Empty credential response",e)}}catch(e){return{data:null,error:II({error:e,options:t})}}}async function VI(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new qx("Browser returned unexpected credential type",e)}:{data:null,error:new qx("Empty credential response",e)}}catch(e){return{data:null,error:DI({error:e,options:t})}}}const $I={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},zI={userVerification:"preferred",hints:["security-key"]};function Wx(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(e(o)){const l=n[a];e(l)?n[a]=Wx(l,o):n[a]=Wx(o)}else n[a]=o}return n}function HI(t,e){return Wx($I,t,e||{})}function qI(t,e){return Wx(zI,t,e||{})}class WI{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=i??OI.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=HI(o.webauthn.credential_options.publicKey,a?.create),{data:h,error:m}=await UI({publicKey:u,signal:c});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const u=qI(o.webauthn.credential_options.publicKey,a?.request),{data:h,error:m}=await VI(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(o){return Jt(o)?{data:null,error:o}:{data:null,error:new rh("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!r)return{data:null,error:new gm("rpId is required for WebAuthn authentication")};try{if(!BN())return{data:null,error:new rh("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Jt(o)?{data:null,error:o}:{data:null,error:new rh("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!r)return{data:null,error:new gm("rpId is required for WebAuthn registration")};try{if(!BN())return{data:null,error:new rh("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Jt(o)?{data:null,error:o}:{data:null,error:new rh("Unexpected error in register",o)}}}}EI();const GI={url:zT,storageKey:HT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function UN(t,e,r){return await r()}const sf={};class vm{get jwks(){var e,r;return(r=(e=sf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){sf[this.storageKey]=Object.assign(Object.assign({},sf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=sf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){sf[this.storageKey]=Object.assign(Object.assign({},sf[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},GI),e);if(this.storageKey=a.storageKey,this.instanceID=(r=vm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,vm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&ra()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new _I({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=e_(a.fetch),this.lock=a.lock||UN,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:ra()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=SI:this.lock=UN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new WI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Q6()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=MN(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=MN(this.memoryStorage)),ra()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${X6}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ra()&&(r=iI(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ra()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),ZT(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Jt(r)?this._returnResult({error:r}):this._returnResult({error:new rh("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await gr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:gl}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Jt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:h,password:m,options:x}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await tf(this.storage,this.storageKey)),a=await gr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:h,password:m,data:(r=x?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:p,code_challenge_method:y},xform:gl})}else if("phone"in e){const{phone:h,password:m,options:x}=e;a=await gr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(n=x?.data)!==null&&n!==void 0?n:{},channel:(i=x?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:gl})}else throw new Kp("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Jt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:l}=e;r=await gr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:LN})}else if("phone"in e){const{phone:a,password:o,options:l}=e;r=await gr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:LN})}else throw new Kp("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new ef;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Jt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,o,l,c,u,h,m,x;let p,y;if("message"in e)p=e.message,y=e.signature;else{const{chain:w,wallet:j,statement:C,options:A}=e;let k;if(ra())if(typeof j=="object")k=j;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")k=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=j}const P=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href),M=await k.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=r_(M[0]);let L=(n=A?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!L){const V=await k.request({method:"eth_chainId"});L=kI(V)}const D={domain:P.host,address:$,statement:C,uri:P.href,version:"1",chainId:L,nonce:(i=A?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=A?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=A?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=A?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=A?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=A?.signInWithEthereum)===null||h===void 0?void 0:h.resources};p=TI(D),y=await k.request({method:"personal_sign",params:[PI(p),$]})}try{const{data:w,error:j}=await gr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:gl});if(j)throw j;if(!w||!w.session||!w.user){const C=new ef;return this._returnResult({data:{user:null,session:null},error:C})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:j})}catch(w){if(Jt(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,i,a,o,l,c,u,h,m,x,p;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:j,wallet:C,statement:A,options:k}=e;let P;if(ra())if(typeof C=="object")P=C;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))P=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=C}const M=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const $=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),A?{statement:A}:null));let L;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")L=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)L=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)y=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),w=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${M.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(n=k?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=k?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((o=k?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((l=k?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((c=k?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((u=k?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((m=(h=k?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...k.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const $=await P.signMessage(new TextEncoder().encode(y),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=$}}try{const{data:j,error:C}=await gr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:sh(w)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:gl});if(C)throw C;if(!j||!j.session||!j.user){const A=new ef;return this._returnResult({data:{user:null,session:null},error:A})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:C})}catch(j){if(Jt(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(e){const r=await Wu(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await gr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:gl});if(await Id(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new ef;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Jt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,l=await gr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:gl}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const h=new ef;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Jt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await tf(this.storage,this.storageKey));const{error:m}=await gr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:h}=await gr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(a=c?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:h})}throw new Kp("You must provide either an email or phone number.")}catch(l){if(Jt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await gr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:gl});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Jt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,o=null;this.flowType==="pkce"&&([a,o]=await tf(this.storage,this.storageKey));const l=await gr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:NI});return this._returnResult(l)}catch(a){if(Jt(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new xl;const{error:i}=await gr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Jt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await gr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:l}=await gr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new Kp("You must provide either an email or phone number and a type")}catch(r){if(Jt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Wu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<av:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Wu(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=cv()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=vI(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await gr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Vd}):await this._useSession(async r=>{var n,i,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xl}:await gr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Vd})})}catch(r){if(Jt(r))return XT(r)&&(await this._removeSession(),await Id(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new xl;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await tf(this.storage,this.storageKey));const{data:u,error:h}=await gr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Vd});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(Jt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xl;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=lv(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Jt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new xl;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Jt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ra())throw new Yp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Yp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new kN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new kN("No code detected.");const{data:A,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!a||!l||!o||!u)throw new Yp("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(l);let x=h+m;c&&(x=parseInt(c));const p=x-h;p*1e3<=xf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const y=x-m;h-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,x,h):h-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,x,h);const{data:w,error:j}=await this._getUser(a);if(j)throw j;const C={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:x,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(n){if(Jt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Wu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(YT(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Id(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=sI(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await tf(this.storage,this.storageKey,!0));try{return await gr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Jt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Jt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,l,c,u,h;const{data:m,error:x}=a;if(x)throw x;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await gr(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return ra()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Jt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:l,token:c,access_token:u,nonce:h}=e,m=await gr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:gl}),{data:x,error:p}=m;return p?this._returnResult({data:{user:null,session:null},error:p}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new ef}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:p}))}catch(i){if(Jt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await gr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Jt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await lI(async i=>(i>0&&await oI(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await gr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gl})),(i,a)=>{const o=200*Math.pow(2,i);return a&&ov(a)&&Date.now()+o-n<xf})}catch(n){if(this._debug(r,"error",n),Jt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ra()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Wu(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Wu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await gf(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:cv()}else if(i&&!i.user&&!i.user){const o=await Wu(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Id(this.storage,this.storageKey+"-user"),await gf(this.storage,this.storageKey,i)):i.user=cv()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<av;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${av}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ov(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new xl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new C1;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new xl;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Jt(a)){const o={data:null,error:a};return ov(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await gf(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=RN(i);await gf(this.storage,this.storageKey,a)}else{const i=RN(r);await gf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Id(this.storage,this.storageKey),await Id(this.storage,this.storageKey+"-code-verifier"),await Id(this.storage,this.storageKey+"-user"),this.userStorage&&await Id(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ra()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/xf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${xf}ms, refresh threshold is ${W2} ticks`),i<=W2&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof t_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ra()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await tf(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await gr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Jt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await gr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Jt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?MI(e.webauthn.credential_response):BI(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await gr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Jt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await gr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:LI(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:FI(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Jt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=lv(n.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await gr(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new xl})})}catch(r){if(Jt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new xl});const o=await gr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ra()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Jt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new xl});const o=await gr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ra()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Jt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+GT>i)return n;const{data:a,error:o}=await gr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});n=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=lv(n);r?.allowExpired||pI(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const h=xI(i.alg),m=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,o,rI(`${l}.${c}`)))throw new Y2("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(Jt(n))return this._returnResult({data:null,error:n});throw n}}}vm.nextInstanceID={};const KI=vm;class YI extends KI{constructor(e){super(e)}}class XI{constructor(e,r,n){var i,a,o;this.supabaseUrl=e,this.supabaseKey=r;const l=$T(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:RT,realtime:LT,auth:Object.assign(Object.assign({},OT),{storageKey:c}),global:DT},h=VT(n??{},u);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=BT(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new zP(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new PT(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new BP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:l,lock:c,debug:u,throwOnError:h},m,x){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YI({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),m),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:l,lock:c,debug:u,throwOnError:h,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new aT(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ZI=(t,e,r)=>new XI(t,e,r);function JI(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}JI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const QI="https://eajlufywoqxtvamgdtcu.supabase.co",e9="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVhamx1Znl3b3F4dHZhbWdkdGN1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMDYxOTQsImV4cCI6MjA3Nzc4MjE5NH0.4JxicxEkRsciYJjk0z3AZyUX38A9xEZKeDu87-4YAVo";console.log("Supabase URL:","https://eajlufywoqxtvamgdtcu.supabase.co");console.log("Supabase Anon Key:","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVhamx1Znl3b3F4dHZhbWdkdGN1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMDYxOTQsImV4cCI6MjA3Nzc4MjE5NH0.4JxicxEkRsciYJjk0z3AZyUX38A9xEZKeDu87-4YAVo");const $n=ZI(QI,e9),s_=_.createContext(void 0);function t9({children:t}){const[e,r]=_.useState(null),[n,i]=_.useState(!1),a=async(l,c)=>{try{console.log("Attempting login for:",l);const{data:u,error:h}=await $n.auth.signInWithPassword({email:l,password:c});if(console.log("Auth response:",{authData:u,authError:h}),h)throw console.error("Authentication error:",h),h;if(!u.user)throw new Error("No user returned from authentication");console.log("Authenticated user:",u.user.email);const{data:m,error:x}=await $n.from("users").select("id, email, role, first_name, last_name").eq("email",l).single();if(console.log("User query response:",{userData:m,userError:x}),x)throw console.error("User query error:",x),new Error(`Unable to determine user role: ${x.message}`);if(!m)throw new Error("User not found in database");const p={id:m.id,email:m.email,role:m.role,first_name:m.first_name,last_name:m.last_name};return console.log("Setting user object:",p),r(p),i(!0),p}catch(u){throw console.error("Login error:",u),u}},o=()=>{$n.auth.signOut(),r(null),i(!1)};return s.jsx(s_.Provider,{value:{user:e,role:e?.role||null,isAuthenticated:n,login:a,logout:o},children:t})}function po(){const t=_.useContext(s_);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),VN=t=>{const e=n9(t);return e.charAt(0).toUpperCase()+e.slice(1)},i_=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>_.createElement("svg",{ref:c,...s9,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:i_("lucide",i),...l},[...o.map(([u,h])=>_.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(t,e)=>{const r=_.forwardRef(({className:n,...i},a)=>_.createElement(i9,{ref:a,iconNode:e,className:i_(`lucide-${r9(VN(t))}`,`lucide-${t}`,n),...i}));return r.displayName=VN(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Cl=ot("activity",a9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],uo=ot("archive",o9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Gx=ot("arrow-down",l9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ln=ot("arrow-left",c9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],X2=ot("arrow-right",d9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Kx=ot("arrow-up-down",u9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],Z2=ot("arrow-up-narrow-wide",h9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Yx=ot("arrow-up",f9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],a_=ot("badge-check",m9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],$N=ot("ban",p9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],o_=ot("barcode",x9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],fh=ot("bell",g9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],yw=ot("briefcase",v9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],ya=ot("building-2",y9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ho=ot("calendar",w9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Vs=ot("camera",b9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],l_=ot("chart-column",N9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lc=ot("check",j9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Xx=ot("chevron-down",C9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zN=ot("chevron-left",_9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xr=ot("chevron-right",A9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],E9=ot("chevron-up",S9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_i=ot("circle-alert",k9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Js=ot("circle-check-big",P9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ur=ot("circle-check",T9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],c_=ot("circle-help",I9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],HN=ot("circle-play",D9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ww=ot("circle-x",R9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],d_=ot("clipboard-check",O9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],F9=ot("clipboard-list",L9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Qs=ot("clock",M9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],qN=ot("copy",B9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],ga=ot("download",U9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Fm=ot("ellipsis-vertical",V9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_1=ot("external-link",$9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],om=ot("eye-off",z9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ps=ot("eye",H9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],W9=ot("file-down",q9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ir=ot("file-text",G9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],bw=ot("file-up",K9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],X9=ot("flag",Y9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Zx=ot("funnel",Z9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],u_=ot("graduation-cap",J9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],lh=ot("history",Q9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],tD=ot("hourglass",eD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],nD=ot("house",rD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],iD=ot("image",sD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mh=ot("info",aD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ym=ot("key",oD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],cD=ot("list",lD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lm=ot("loader-circle",dD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Jx=ot("lock-open",uD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],os=ot("lock",hD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],mD=ot("log-in",fD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Yc=ot("log-out",pD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],On=ot("mail",xD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qo=ot("map-pin",gD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],Mm=ot("map-pinned",vD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],A1=ot("menu",yD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Qx=ot("message-square",wD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],fo=ot("monitor",bD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],jD=ot("moon",ND);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],_D=ot("palette",CD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],Bm=ot("paperclip",AD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ED=ot("pen",SD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Ba=ot("phone",kD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],zf=ot("pill",PD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],WN=ot("play",TD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$s=ot("plus",ID);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],vf=ot("printer",DD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wm=ot("refresh-cw",RD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],bf=ot("rotate-ccw",OD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Nw=ot("save",LD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],MD=ot("scan-line",FD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],bm=ot("scan",BD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],wa=ot("search",UD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$D=ot("send",VD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rc=ot("settings",zD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],na=ot("shield",HD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],h_=ot("sliders-horizontal",qD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Jf=ot("smartphone",WD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],GN=ot("square-check-big",GD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],bh=ot("square-pen",KD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],XD=ot("square",YD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],KN=ot("star",ZD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],QD=ot("sun",JD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Hf=ot("trash-2",eR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Nm=ot("trending-up",tR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zs=ot("triangle-alert",rR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],X0=ot("undo-2",nR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Va=ot("upload",sR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],_x=ot("user-check",iR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Tf=ot("user-plus",aR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ts=ot("user",oR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],as=ot("users",lR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],If=ot("wifi-off",cR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],f_=ot("wifi",dR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zs=ot("x",uR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],J2=ot("zap",hR);function YN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function hc(...t){return e=>{let r=!1;const n=t.map(i=>{const a=YN(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():YN(t[i],null)}}}}function Kr(...t){return _.useCallback(hc(...t),t)}var fR=Symbol.for("react.lazy"),e1=lw[" use ".trim().toString()];function mR(t){return typeof t=="object"&&t!==null&&"then"in t}function m_(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===fR&&"_payload"in t&&mR(t._payload)}function Um(t){const e=pR(t),r=_.forwardRef((n,i)=>{let{children:a,...o}=n;m_(a)&&typeof e1=="function"&&(a=e1(a._payload));const l=_.Children.toArray(a),c=l.find(gR);if(c){const u=c.props.children,h=l.map(m=>m===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:m);return s.jsx(e,{...o,ref:i,children:_.isValidElement(u)?_.cloneElement(u,void 0,h):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var p_=Um("Slot");function pR(t){const e=_.forwardRef((r,n)=>{let{children:i,...a}=r;if(m_(i)&&typeof e1=="function"&&(i=e1(i._payload)),_.isValidElement(i)){const o=yR(i),l=vR(a,i.props);return i.type!==_.Fragment&&(l.ref=n?hc(n,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var xR=Symbol("radix.slottable");function gR(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===xR}function vR(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function yR(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function x_(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=x_(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function g_(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=x_(t))&&(n&&(n+=" "),n+=e);return n}const XN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ZN=g_,jw=(t,e)=>r=>{var n;if(e?.variants==null)return ZN(t,r?.class,r?.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(u=>{const h=r?.[u],m=a?.[u];if(h===null)return null;const x=XN(h)||XN(m);return i[u][x]}),l=r&&Object.entries(r).reduce((u,h)=>{let[m,x]=h;return x===void 0||(u[m]=x),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:m,className:x,...p}=h;return Object.entries(p).every(y=>{let[w,j]=y;return Array.isArray(j)?j.includes({...a,...l}[w]):{...a,...l}[w]===j})?[...u,m,x]:u},[]);return ZN(t,o,c,r?.class,r?.className)},Cw="-",wR=t=>{const e=NR(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(Cw);return l[0]===""&&l.length!==1&&l.shift(),v_(l,e)||bR(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},v_=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?v_(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Cw);return e.validators.find(({validator:o})=>o(a))?.classGroupId},JN=/^\[(.+)\]$/,bR=t=>{if(JN.test(t)){const e=JN.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},NR=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const i in r)Q2(r[i],n,i,e);return n},Q2=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:QN(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(jR(i)){Q2(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{Q2(o,QN(e,a),r,n)})})},QN=(t,e)=>{let r=t;return e.split(Cw).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},jR=t=>t.isThemeGetter,CR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},ey="!",ty=":",_R=ty.length,AR=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const a=[];let o=0,l=0,c=0,u;for(let y=0;y<i.length;y++){let w=i[y];if(o===0&&l===0){if(w===ty){a.push(i.slice(c,y)),c=y+_R;continue}if(w==="/"){u=y;continue}}w==="["?o++:w==="]"?o--:w==="("?l++:w===")"&&l--}const h=a.length===0?i:i.substring(c),m=SR(h),x=m!==h,p=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:m,maybePostfixModifierPosition:p}};if(e){const i=e+ty,a=n;n=o=>o.startsWith(i)?a(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=a=>r({className:a,parseClassName:i})}return n},SR=t=>t.endsWith(ey)?t.substring(0,t.length-1):t.startsWith(ey)?t.substring(1):t,ER=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let a=[];return n.forEach(o=>{o[0]==="["||e[o]?(i.push(...a.sort(),o),a=[]):a.push(o)}),i.push(...a.sort()),i}},kR=t=>({cache:CR(t.cacheSize),parseClassName:AR(t),sortModifiers:ER(t),...wR(t)}),PR=/\s+/,TR=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],l=t.trim().split(PR);let c="";for(let u=l.length-1;u>=0;u-=1){const h=l[u],{isExternal:m,modifiers:x,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:w}=r(h);if(m){c=h+(c.length>0?" "+c:c);continue}let j=!!w,C=n(j?y.substring(0,w):y);if(!C){if(!j){c=h+(c.length>0?" "+c:c);continue}if(C=n(y),!C){c=h+(c.length>0?" "+c:c);continue}j=!1}const A=a(x).join(":"),k=p?A+ey:A,P=k+C;if(o.includes(P))continue;o.push(P);const M=i(C,j);for(let $=0;$<M.length;++$){const L=M[$];o.push(k+L)}c=h+(c.length>0?" "+c:c)}return c};function IR(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=y_(e))&&(n&&(n+=" "),n+=r);return n}const y_=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=y_(t[n]))&&(r&&(r+=" "),r+=e);return r};function DR(t,...e){let r,n,i,a=o;function o(c){const u=e.reduce((h,m)=>m(h),t());return r=kR(u),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const h=TR(c,r);return i(c,h),h}return function(){return a(IR.apply(null,arguments))}}const li=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},w_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,b_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,RR=/^\d+\/\d+$/,OR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,MR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,BR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,af=t=>RR.test(t),Mr=t=>!!t&&!Number.isNaN(Number(t)),Dd=t=>!!t&&Number.isInteger(Number(t)),uv=t=>t.endsWith("%")&&Mr(t.slice(0,-1)),Hc=t=>OR.test(t),UR=()=>!0,VR=t=>LR.test(t)&&!FR.test(t),N_=()=>!1,$R=t=>MR.test(t),zR=t=>BR.test(t),HR=t=>!Ut(t)&&!Vt(t),qR=t=>Qf(t,__,N_),Ut=t=>w_.test(t),Gu=t=>Qf(t,A_,VR),hv=t=>Qf(t,XR,Mr),e4=t=>Qf(t,j_,N_),WR=t=>Qf(t,C_,zR),Xp=t=>Qf(t,S_,$R),Vt=t=>b_.test(t),F0=t=>e0(t,A_),GR=t=>e0(t,ZR),t4=t=>e0(t,j_),KR=t=>e0(t,__),YR=t=>e0(t,C_),Zp=t=>e0(t,S_,!0),Qf=(t,e,r)=>{const n=w_.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},e0=(t,e,r=!1)=>{const n=b_.exec(t);return n?n[1]?e(n[1]):r:!1},j_=t=>t==="position"||t==="percentage",C_=t=>t==="image"||t==="url",__=t=>t==="length"||t==="size"||t==="bg-size",A_=t=>t==="length",XR=t=>t==="number",ZR=t=>t==="family-name",S_=t=>t==="shadow",JR=()=>{const t=li("color"),e=li("font"),r=li("text"),n=li("font-weight"),i=li("tracking"),a=li("leading"),o=li("breakpoint"),l=li("container"),c=li("spacing"),u=li("radius"),h=li("shadow"),m=li("inset-shadow"),x=li("text-shadow"),p=li("drop-shadow"),y=li("blur"),w=li("perspective"),j=li("aspect"),C=li("ease"),A=li("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...P(),Vt,Ut],$=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],D=()=>[Vt,Ut,c],V=()=>[af,"full","auto",...D()],ne=()=>[Dd,"none","subgrid",Vt,Ut],B=()=>["auto",{span:["full",Dd,Vt,Ut]},Dd,Vt,Ut],F=()=>[Dd,"auto",Vt,Ut],X=()=>["auto","min","max","fr",Vt,Ut],ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xe=()=>["start","end","center","stretch","center-safe","end-safe"],oe=()=>["auto",...D()],pe=()=>[af,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],H=()=>[t,Vt,Ut],q=()=>[...P(),t4,e4,{position:[Vt,Ut]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",KR,qR,{size:[Vt,Ut]}],R=()=>[uv,F0,Gu],z=()=>["","none","full",u,Vt,Ut],U=()=>["",Mr,F0,Gu],Q=()=>["solid","dashed","dotted","double"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[Mr,uv,t4,e4],le=()=>["","none",y,Vt,Ut],ye=()=>["none",Mr,Vt,Ut],je=()=>["none",Mr,Vt,Ut],Se=()=>[Mr,Vt,Ut],Be=()=>[af,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Hc],breakpoint:[Hc],color:[UR],container:[Hc],"drop-shadow":[Hc],ease:["in","out","in-out"],font:[HR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Hc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Hc],shadow:[Hc],spacing:["px",Mr],text:[Hc],"text-shadow":[Hc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",af,Ut,Vt,j]}],container:["container"],columns:[{columns:[Mr,Ut,Vt,l]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[Dd,"auto",Vt,Ut]}],basis:[{basis:[af,"full","auto",l,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Mr,af,"auto","initial","none",Ut]}],grow:[{grow:["",Mr,Vt,Ut]}],shrink:[{shrink:["",Mr,Vt,Ut]}],order:[{order:[Dd,"first","last","none",Vt,Ut]}],"grid-cols":[{"grid-cols":ne()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":ne()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...ee(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",...ee()]}],"align-items":[{items:[...xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ee()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:oe()}],mx:[{mx:oe()}],my:[{my:oe()}],ms:[{ms:oe()}],me:[{me:oe()}],mt:[{mt:oe()}],mr:[{mr:oe()}],mb:[{mb:oe()}],ml:[{ml:oe()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:pe()}],w:[{w:[l,"screen",...pe()]}],"min-w":[{"min-w":[l,"screen","none",...pe()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...pe()]}],h:[{h:["screen","lh",...pe()]}],"min-h":[{"min-h":["screen","lh","none",...pe()]}],"max-h":[{"max-h":["screen","lh",...pe()]}],"font-size":[{text:["base",r,F0,Gu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Vt,hv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",uv,Ut]}],"font-family":[{font:[GR,Ut,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Vt,Ut]}],"line-clamp":[{"line-clamp":[Mr,"none",Vt,hv]}],leading:[{leading:[a,...D()]}],"list-image":[{"list-image":["none",Vt,Ut]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Vt,Ut]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:[Mr,"from-font","auto",Vt,Gu]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Mr,"auto",Vt,Ut]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Vt,Ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Vt,Ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:q()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Dd,Vt,Ut],radial:["",Vt,Ut],conic:[Dd,Vt,Ut]},YR,WR]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:R()}],"gradient-via-pos":[{via:R()}],"gradient-to-pos":[{to:R()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:U()}],"border-w-x":[{"border-x":U()}],"border-w-y":[{"border-y":U()}],"border-w-s":[{"border-s":U()}],"border-w-e":[{"border-e":U()}],"border-w-t":[{"border-t":U()}],"border-w-r":[{"border-r":U()}],"border-w-b":[{"border-b":U()}],"border-w-l":[{"border-l":U()}],"divide-x":[{"divide-x":U()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":U()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Q(),"hidden","none"]}],"divide-style":[{divide:[...Q(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...Q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Mr,Vt,Ut]}],"outline-w":[{outline:["",Mr,F0,Gu]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",h,Zp,Xp]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",m,Zp,Xp]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Mr,Gu]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":U()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",x,Zp,Xp]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Mr,Vt,Ut]}],"mix-blend":[{"mix-blend":[...J(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":J()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Mr]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Vt,Ut]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[Mr]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:q()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Vt,Ut]}],filter:[{filter:["","none",Vt,Ut]}],blur:[{blur:le()}],brightness:[{brightness:[Mr,Vt,Ut]}],contrast:[{contrast:[Mr,Vt,Ut]}],"drop-shadow":[{"drop-shadow":["","none",p,Zp,Xp]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Mr,Vt,Ut]}],"hue-rotate":[{"hue-rotate":[Mr,Vt,Ut]}],invert:[{invert:["",Mr,Vt,Ut]}],saturate:[{saturate:[Mr,Vt,Ut]}],sepia:[{sepia:["",Mr,Vt,Ut]}],"backdrop-filter":[{"backdrop-filter":["","none",Vt,Ut]}],"backdrop-blur":[{"backdrop-blur":le()}],"backdrop-brightness":[{"backdrop-brightness":[Mr,Vt,Ut]}],"backdrop-contrast":[{"backdrop-contrast":[Mr,Vt,Ut]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Mr,Vt,Ut]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Mr,Vt,Ut]}],"backdrop-invert":[{"backdrop-invert":["",Mr,Vt,Ut]}],"backdrop-opacity":[{"backdrop-opacity":[Mr,Vt,Ut]}],"backdrop-saturate":[{"backdrop-saturate":[Mr,Vt,Ut]}],"backdrop-sepia":[{"backdrop-sepia":["",Mr,Vt,Ut]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Vt,Ut]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Mr,"initial",Vt,Ut]}],ease:[{ease:["linear","initial",C,Vt,Ut]}],delay:[{delay:[Mr,Vt,Ut]}],animate:[{animate:["none",A,Vt,Ut]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Vt,Ut]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:ye()}],"rotate-x":[{"rotate-x":ye()}],"rotate-y":[{"rotate-y":ye()}],"rotate-z":[{"rotate-z":ye()}],scale:[{scale:je()}],"scale-x":[{"scale-x":je()}],"scale-y":[{"scale-y":je()}],"scale-z":[{"scale-z":je()}],"scale-3d":["scale-3d"],skew:[{skew:Se()}],"skew-x":[{"skew-x":Se()}],"skew-y":[{"skew-y":Se()}],transform:[{transform:[Vt,Ut,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Be()}],"translate-x":[{"translate-x":Be()}],"translate-y":[{"translate-y":Be()}],"translate-z":[{"translate-z":Be()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Vt,Ut]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Vt,Ut]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Mr,F0,Gu,hv]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},QR=DR(JR);function hr(...t){return QR(g_(t))}const _w=jw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),fe=_.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const o=n?p_:"button";return s.jsx(o,{"data-slot":"button",className:hr(_w({variant:e,size:r,className:t})),ref:a,...i})});fe.displayName="Button";function it({className:t,type:e,...r}){return s.jsx("input",{type:e,"data-slot":"input",className:hr("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var Vm=h6();const E_=b1(Vm);var eO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tO=eO.reduce((t,e)=>{const r=Um(`Primitive.${e}`),n=_.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),rO="Label",k_=_.forwardRef((t,e)=>s.jsx(tO.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));k_.displayName=rO;var nO=k_;function qe({className:t,...e}){return s.jsx(nO,{"data-slot":"label",className:hr("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function r4({navigation:t}){const{login:e,user:r}=po(),[n,i]=_.useState(""),[a,o]=_.useState(""),[l,c]=_.useState(""),[u,h]=_.useState(!1),m=async()=>{if(c(""),h(!0),!n||!a){c("Please enter both email and password"),h(!1);return}try{const p=await e(n,a),y={clinician:"ClinicianDashboard",agency_admin:"AgencyAdminDashboard",scheduler:"SchedulerDashboard",super_admin:"SuperAdminDashboard"};p&&y[p.role]?t.navigate(y[p.role]):c("Unable to determine user role")}catch(p){c(p instanceof Error?p.message:"Login failed. Please check your credentials.")}finally{h(!1)}},x=p=>{p.key==="Enter"&&m()};return s.jsx("div",{className:"h-full overflow-y-auto bg-gradient-to-br from-[#f8fafc] via-white to-[#E0F2FE]",children:s.jsx("div",{className:"min-h-full flex items-center justify-center p-6",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-[#E0F2FE] to-[#D1FAE5] text-[#0C4A6E] px-4 py-2 rounded-full text-xs",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-[#10B981] animate-pulse"}),s.jsx("span",{children:"Home Health Medication Management"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-[#0966CC] to-[#10B981] flex items-center justify-center shadow-xl",children:s.jsx(Cl,{className:"w-9 h-9 text-white"})}),s.jsx("h1",{className:"text-4xl text-[#0f172a] leading-tight",children:"Luminous Rehab"})]}),s.jsx("p",{className:"text-[#64748b] text-sm px-4",children:"Sign in to access your portal"})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-[#e2e8f0] shadow-lg space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl text-[#0f172a] mb-2",children:"Welcome back"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Enter your credentials to continue"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"email",className:"text-[#0f172a]",children:"Email Address"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(On,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#94a3b8]"}),s.jsx(it,{id:"email",type:"email",value:n,onChange:p=>i(p.target.value),onKeyPress:x,placeholder:"your.email@example.com",className:"pl-12 h-12 rounded-xl border-2 border-[#e2e8f0] focus:border-[#0966CC]"})]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"password",className:"text-[#0f172a]",children:"Password"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(os,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#94a3b8]"}),s.jsx(it,{id:"password",type:"password",value:a,onChange:p=>o(p.target.value),onKeyPress:x,placeholder:"Enter your password",className:"pl-12 h-12 rounded-xl border-2 border-[#e2e8f0] focus:border-[#0966CC]"})]})]}),l&&s.jsx("div",{className:"bg-[#FEE2E2] border border-[#FECACA] text-[#DC2626] px-4 py-3 rounded-xl text-sm",children:l}),s.jsx(fe,{onClick:m,disabled:u,className:"w-full h-12 bg-gradient-to-r from-[#0966CC] to-[#10B981] hover:from-[#075592] hover:to-[#059669] text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:u?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"animate-spin mr-2",children:""}),"Signing In..."]}):s.jsxs(s.Fragment,{children:[s.jsx(mD,{className:"w-5 h-5 mr-2"}),"Sign In"]})}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("button",{onClick:()=>t.navigate("PasswordReset"),className:"text-[#0966CC] hover:underline",children:"Forgot password?"}),s.jsx("button",{onClick:()=>t.navigate("AccountActivation"),className:"text-[#0966CC] hover:underline",children:"Activate your account"})]})]})]}),s.jsxs("div",{className:"bg-[#f8fafc] rounded-2xl p-6 border border-[#e2e8f0]",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-3",children:s.jsx("strong",{className:"text-[#0f172a]",children:"Demo Credentials:"})}),s.jsxs("div",{className:"space-y-2 text-xs text-[#64748b]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Clinician:"}),s.jsx("code",{className:"bg-white px-2 py-1 rounded border border-[#e2e8f0]",children:"clin.anna@hha.test"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Agency Admin:"}),s.jsx("code",{className:"bg-white px-2 py-1 rounded border border-[#e2e8f0]",children:"admin.qa@hha.test"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Scheduler:"}),s.jsx("code",{className:"bg-white px-2 py-1 rounded border border-[#e2e8f0]",children:"sched.sam@hha.test"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Super Admin:"}),s.jsx("code",{className:"bg-white px-2 py-1 rounded border border-[#e2e8f0]",children:"superadmin@luminousrehab.com"})]})]})]})]})})})}function sO(t,e){const r=_.createContext(e),n=a=>{const{children:o,...l}=a,c=_.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(a){const o=_.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function xo(t,e=[]){let r=[];function n(a,o){const l=_.createContext(o),c=r.length;r=[...r,o];const u=m=>{const{scope:x,children:p,...y}=m,w=x?.[t]?.[c]||l,j=_.useMemo(()=>y,Object.values(y));return s.jsx(w.Provider,{value:j,children:p})};u.displayName=a+"Provider";function h(m,x){const p=x?.[t]?.[c]||l,y=_.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[u,h]}const i=()=>{const a=r.map(o=>_.createContext(o));return function(l){const c=l?.[t]||a;return _.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,iO(i,...e)]}function iO(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const m=c(a)[`__scope${u}`];return{...l,...m}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Nt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}var fi=globalThis?.document?_.useLayoutEffect:()=>{},aO=lw[" useInsertionEffect ".trim().toString()]||fi;function cc({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,o]=oO({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:i;{const h=_.useRef(t!==void 0);_.useEffect(()=>{const m=h.current;m!==l&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,n])}const u=_.useCallback(h=>{if(l){const m=lO(h)?h(t):h;m!==t&&o.current?.(m)}else a(h)},[l,t,a,o]);return[c,u]}function oO({defaultProp:t,onChange:e}){const[r,n]=_.useState(t),i=_.useRef(r),a=_.useRef(e);return aO(()=>{a.current=e},[e]),_.useEffect(()=>{i.current!==r&&(a.current?.(r),i.current=r)},[r,i]),[r,n,a]}function lO(t){return typeof t=="function"}function Aw(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Sw(t){const[e,r]=_.useState(void 0);return fi(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}function cO(t,e){return _.useReducer((r,n)=>e[r][n]??r,t)}var za=t=>{const{present:e,children:r}=t,n=dO(e),i=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),a=Kr(n.ref,uO(i));return typeof r=="function"||n.isPresent?_.cloneElement(i,{ref:a}):null};za.displayName="Presence";function dO(t){const[e,r]=_.useState(),n=_.useRef(null),i=_.useRef(t),a=_.useRef("none"),o=t?"mounted":"unmounted",[l,c]=cO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=Jp(n.current);a.current=l==="mounted"?u:"none"},[l]),fi(()=>{const u=n.current,h=i.current;if(h!==t){const x=a.current,p=Jp(u);t?c("MOUNT"):p==="none"||u?.display==="none"?c("UNMOUNT"):c(h&&x!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),fi(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,m=p=>{const w=Jp(n.current).includes(CSS.escape(p.animationName));if(p.target===e&&w&&(c("ANIMATION_END"),!i.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},x=p=>{p.target===e&&(a.current=Jp(n.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Jp(t){return t?.animationName||"none"}function uO(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function hO(t){const e=fO(t),r=_.forwardRef((n,i)=>{const{children:a,...o}=n,l=_.Children.toArray(a),c=l.find(pO);if(c){const u=c.props.children,h=l.map(m=>m===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:m);return s.jsx(e,{...o,ref:i,children:_.isValidElement(u)?_.cloneElement(u,void 0,h):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function fO(t){const e=_.forwardRef((r,n)=>{const{children:i,...a}=r;if(_.isValidElement(i)){const o=gO(i),l=xO(a,i.props);return i.type!==_.Fragment&&(l.ref=n?hc(n,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mO=Symbol("radix.slottable");function pO(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mO}function xO(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function gO(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var vO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ar=vO.reduce((t,e)=>{const r=hO(`Primitive.${e}`),n=_.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function P_(t,e){t&&Vm.flushSync(()=>t.dispatchEvent(e))}var S1="Checkbox",[yO]=xo(S1),[wO,Ew]=yO(S1);function bO(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:m}=t,[x,p]=cc({prop:r,defaultProp:i??!1,onChange:c,caller:S1}),[y,w]=_.useState(null),[j,C]=_.useState(null),A=_.useRef(!1),k=y?!!o||!!y.closest("form"):!0,P={checked:x,disabled:a,setChecked:p,control:y,setControl:w,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:A,required:u,defaultChecked:Zd(i)?!1:i,isFormControl:k,bubbleInput:j,setBubbleInput:C};return s.jsx(wO,{scope:e,...P,children:NO(m)?m(P):n})}var T_="CheckboxTrigger",I_=_.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:h,setChecked:m,hasConsumerStoppedPropagationRef:x,isFormControl:p,bubbleInput:y}=Ew(T_,t),w=Kr(i,h),j=_.useRef(c);return _.useEffect(()=>{const C=a?.form;if(C){const A=()=>m(j.current);return C.addEventListener("reset",A),()=>C.removeEventListener("reset",A)}},[a,m]),s.jsx(Ar.button,{type:"button",role:"checkbox","aria-checked":Zd(c)?"mixed":c,"aria-required":u,"data-state":M_(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:w,onKeyDown:Nt(e,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:Nt(r,C=>{m(A=>Zd(A)?!0:!A),y&&p&&(x.current=C.isPropagationStopped(),x.current||C.stopPropagation())})})});I_.displayName=T_;var D_=_.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:h,...m}=t;return s.jsx(bO,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:n,form:h,value:c,internal_do_not_use_render:({isFormControl:x})=>s.jsxs(s.Fragment,{children:[s.jsx(I_,{...m,ref:e,__scopeCheckbox:r}),x&&s.jsx(F_,{__scopeCheckbox:r})]})})});D_.displayName=S1;var R_="CheckboxIndicator",O_=_.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=Ew(R_,r);return s.jsx(za,{present:n||Zd(a.checked)||a.checked===!0,children:s.jsx(Ar.span,{"data-state":M_(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});O_.displayName=R_;var L_="CheckboxBubbleInput",F_=_.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:h,form:m,bubbleInput:x,setBubbleInput:p}=Ew(L_,t),y=Kr(r,p),w=Aw(a),j=Sw(n);_.useEffect(()=>{const A=x;if(!A)return;const k=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(k,"checked").set,$=!i.current;if(w!==a&&M){const L=new Event("click",{bubbles:$});A.indeterminate=Zd(a),M.call(A,Zd(a)?!1:a),A.dispatchEvent(L)}},[x,w,a,i]);const C=_.useRef(Zd(a)?!1:a);return s.jsx(Ar.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??C.current,required:l,disabled:c,name:u,value:h,form:m,...e,tabIndex:-1,ref:y,style:{...e.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});F_.displayName=L_;function NO(t){return typeof t=="function"}function Zd(t){return t==="indeterminate"}function M_(t){return Zd(t)?"indeterminate":t?"checked":"unchecked"}function sa({className:t,...e}){return s.jsx(D_,{"data-slot":"checkbox",className:hr("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(O_,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(lc,{className:"size-3.5"})})})}function jO({navigation:t,route:e}){const{role:r}=e.params,n=po(),[i,a]=_.useState(""),[o,l]=_.useState(""),[c,u]=_.useState(!1),[h,m]=_.useState(!1),[x,p]=_.useState(""),[y,w]=_.useState(!1),C=(()=>{switch(r){case"clinician":return{title:"Clinician Login",colors:{from:"#0966CC",to:"#0C4A6E"},icon:Cl,placeholder:"clinician@luminous.com"};case"agency-admin":return{title:"Agency Admin Login",colors:{from:"#10B981",to:"#059669"},icon:ya,placeholder:"admin@agency.com"};case"scheduler":return{title:"Scheduler Login",colors:{from:"#F59E0B",to:"#D97706"},icon:ir,placeholder:"scheduler@agency.com"};case"super-admin":return{title:"Super Admin Login",colors:{from:"#DC2626",to:"#B91C1C"},icon:na,placeholder:"admin@luminous.com"};default:return{title:"Login",colors:{from:"#0966CC",to:"#0C4A6E"},icon:Cl,placeholder:"your.email@example.com"}}})(),A=C.icon,k=async()=>{if(!i||!o){p("Please enter both email and password");return}try{w(!0),p("");const P=await n.login(i,o),$={clinician:"ClinicianDashboard",agency_admin:"AgencyAdminDashboard",scheduler:"SchedulerDashboard",super_admin:"SuperAdminDashboard"}[P.role];$?t.navigate($):(p("Invalid user role"),w(!1))}catch(P){p(P instanceof Error?P.message:"Login failed"),w(!1)}};return s.jsx("div",{className:"h-full overflow-y-auto bg-white",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{onClick:()=>t.goBack(),className:"w-10 h-10 rounded-xl bg-[#f8fafc] hover:bg-[#f1f5f9] flex items-center justify-center transition-colors",children:s.jsx(ln,{className:"w-5 h-5 text-[#64748b]"})}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-18 h-18 rounded-2xl flex items-center justify-center mb-4",style:{background:`linear-gradient(135deg, ${C.colors.from}, ${C.colors.to})`},children:s.jsx(A,{className:"w-10 h-10 text-white"})}),s.jsx("h1",{className:"text-2xl text-[#0f172a] mb-2",children:C.title}),s.jsx("p",{className:"text-[#64748b]",children:"Sign in to access your dashboard"})]})]}),s.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"email",children:"Email Address"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(On,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#94a3b8]"}),s.jsx(it,{id:"email",type:"email",placeholder:C.placeholder,value:i,onChange:P=>a(P.target.value),className:"pl-12 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]"})]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(os,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#94a3b8]"}),s.jsx(it,{id:"password",type:c?"text":"password",placeholder:"Enter your password",value:o,onChange:P=>l(P.target.value),className:"pl-12 pr-12 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]"}),s.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-4 top-1/2 -translate-y-1/2",children:c?s.jsx(om,{className:"w-5 h-5 text-[#64748b]"}):s.jsx(Ps,{className:"w-5 h-5 text-[#64748b]"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sa,{id:"remember",checked:h,onCheckedChange:P=>m(P)}),s.jsx(qe,{htmlFor:"remember",className:"text-sm cursor-pointer",children:"Remember me"})]}),s.jsx("button",{onClick:()=>t.navigate("PasswordReset"),className:"text-sm hover:underline",style:{color:C.colors.from},children:"Forgot password?"})]}),s.jsx(fe,{onClick:k,className:"w-full h-12 rounded-xl text-white",style:{background:`linear-gradient(135deg, ${C.colors.from}, ${C.colors.to})`},children:"Sign In"})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-[#64748b]",children:["First time user?"," ",s.jsx("button",{onClick:()=>t.navigate("AccountActivation"),className:"hover:underline",style:{color:C.colors.from},children:"Activate your account"})]})})]})})}function CO({navigation:t,route:e}){const{role:r}=e.params,[n,i]=_.useState(""),a=()=>{if(!r){alert("User role is missing");return}switch(r){case"clinician":t.navigate("ClinicianDashboard");break;case"agency-admin":t.navigate("AgencyAdminDashboard");break;case"scheduler":t.navigate("SchedulerDashboard");break;case"super-admin":t.navigate("SuperAdminDashboard");break}};return s.jsx("div",{className:"h-full overflow-y-auto bg-white",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("button",{onClick:()=>t.goBack(),className:"w-10 h-10 rounded-xl bg-[#f8fafc] hover:bg-[#f1f5f9] flex items-center justify-center transition-colors",children:s.jsx(ln,{className:"w-5 h-5 text-[#64748b]"})}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-18 h-18 rounded-2xl bg-gradient-to-br from-[#0966CC] to-[#0C4A6E] flex items-center justify-center mb-4",children:s.jsx(na,{className:"w-10 h-10 text-white"})}),s.jsx("h1",{className:"text-2xl text-[#0f172a] mb-2",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-[#64748b] px-4",children:"Enter the 6-digit code from your authenticator app"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"code",children:"Verification Code"}),s.jsx(it,{id:"code",type:"text",placeholder:"000000",value:n,onChange:o=>i(o.target.value),maxLength:6,className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc] text-center text-lg tracking-widest"})]}),s.jsx(fe,{onClick:a,className:"w-full h-12 rounded-xl bg-gradient-to-r from-[#0966CC] to-[#0C4A6E] text-white hover:opacity-90",children:"Verify Code"}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-[#64748b]",children:["Didn't receive a code?"," ",s.jsx("button",{className:"text-[#0966CC] hover:underline",children:"Resend"})]})})]})]})})}function _O({navigation:t}){const[e,r]=_.useState(""),[n,i]=_.useState(!1),a=()=>{i(!0)};return s.jsx("div",{className:"h-full overflow-y-auto bg-white",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("button",{onClick:()=>t.goBack(),className:"w-10 h-10 rounded-xl bg-[#f8fafc] hover:bg-[#f1f5f9] flex items-center justify-center transition-colors",children:s.jsx(ln,{className:"w-5 h-5 text-[#64748b]"})}),n?s.jsxs("div",{className:"flex flex-col items-center text-center py-12",children:[s.jsx(ur,{className:"w-16 h-16 text-[#10B981] mb-4"}),s.jsx("h2",{className:"text-xl text-[#0f172a] mb-2",children:"Check Your Email"}),s.jsxs("p",{className:"text-[#64748b] px-4 mb-8",children:["We've sent a password reset link to ",e]}),s.jsx(fe,{onClick:()=>t.goBack(),className:"w-full h-12 rounded-xl bg-gradient-to-r from-[#0966CC] to-[#0C4A6E] text-white hover:opacity-90",children:"Back to Login"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-18 h-18 rounded-2xl bg-gradient-to-br from-[#0966CC] to-[#0C4A6E] flex items-center justify-center mb-4",children:s.jsx(On,{className:"w-10 h-10 text-white"})}),s.jsx("h1",{className:"text-2xl text-[#0f172a] mb-2",children:"Reset Password"}),s.jsx("p",{className:"text-[#64748b] px-4",children:"Enter your email address and we'll send you a link to reset your password"})]}),s.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"email",children:"Email Address"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(On,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#94a3b8]"}),s.jsx(it,{id:"email",type:"email",placeholder:"your.email@example.com",value:e,onChange:o=>r(o.target.value),className:"pl-12 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]"})]})]}),s.jsx(fe,{onClick:a,className:"w-full h-12 rounded-xl bg-gradient-to-r from-[#0966CC] to-[#0C4A6E] text-white hover:opacity-90",children:"Send Reset Link"})]})]})]})})}function AO({navigation:t}){const[e,r]=_.useState(""),[n,i]=_.useState(""),[a,o]=_.useState(""),[l,c]=_.useState(!1),u=()=>{c(!0)};return s.jsx("div",{className:"h-full overflow-y-auto bg-white",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("button",{onClick:()=>t.goBack(),className:"w-10 h-10 rounded-xl bg-[#f8fafc] hover:bg-[#f1f5f9] flex items-center justify-center transition-colors",children:s.jsx(ln,{className:"w-5 h-5 text-[#64748b]"})}),l?s.jsxs("div",{className:"flex flex-col items-center text-center py-12",children:[s.jsx(ur,{className:"w-16 h-16 text-[#10B981] mb-4"}),s.jsx("h2",{className:"text-xl text-[#0f172a] mb-2",children:"Account Activated!"}),s.jsx("p",{className:"text-[#64748b] px-4 mb-8 leading-relaxed",children:"Your account has been successfully activated. You can now sign in with your new password."}),s.jsx(fe,{onClick:()=>t.navigate("Landing"),className:"w-full h-12 rounded-xl bg-gradient-to-r from-[#0966CC] to-[#0C4A6E] text-white hover:opacity-90",children:"Go to Login"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-18 h-18 rounded-2xl bg-gradient-to-br from-[#0966CC] to-[#0C4A6E] flex items-center justify-center mb-4",children:s.jsx(Tf,{className:"w-10 h-10 text-white"})}),s.jsx("h1",{className:"text-2xl text-[#0f172a] mb-2",children:"Activate Your Account"}),s.jsx("p",{className:"text-[#64748b] px-4",children:"Enter the activation code from your welcome email and set your password"})]}),s.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"code",children:"Activation Code"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(On,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#94a3b8]"}),s.jsx(it,{id:"code",type:"text",placeholder:"Enter activation code",value:e,onChange:h=>r(h.target.value),className:"pl-12 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]"})]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(os,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#94a3b8]"}),s.jsx(it,{id:"password",type:"password",placeholder:"Create a password",value:n,onChange:h=>i(h.target.value),className:"pl-12 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]"})]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(os,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#94a3b8]"}),s.jsx(it,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:a,onChange:h=>o(h.target.value),className:"pl-12 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]"})]})]}),s.jsx(fe,{onClick:u,className:"w-full h-12 rounded-xl bg-gradient-to-r from-[#0966CC] to-[#0C4A6E] text-white hover:opacity-90",children:"Activate Account"})]})]})]})})}function SO(t,e=[]){let r=[];function n(a,o){const l=_.createContext(o);l.displayName=a+"Context";const c=r.length;r=[...r,o];const u=m=>{const{scope:x,children:p,...y}=m,w=x?.[t]?.[c]||l,j=_.useMemo(()=>y,Object.values(y));return s.jsx(w.Provider,{value:j,children:p})};u.displayName=a+"Provider";function h(m,x){const p=x?.[t]?.[c]||l,y=_.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[u,h]}const i=()=>{const a=r.map(o=>_.createContext(o));return function(l){const c=l?.[t]||a;return _.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,EO(i,...e)]}function EO(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const m=c(a)[`__scope${u}`];return{...l,...m}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function _l(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...r)=>e.current?.(...r),[])}var kO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kw=kO.reduce((t,e)=>{const r=Um(`Primitive.${e}`),n=_.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),fv={exports:{}},mv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n4;function PO(){if(n4)return mv;n4=1;var t=N1();function e(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(m,x){var p=x(),y=n({inst:{value:p,getSnapshot:x}}),w=y[0].inst,j=y[1];return a(function(){w.value=p,w.getSnapshot=x,c(w)&&j({inst:w})},[m,p,x]),i(function(){return c(w)&&j({inst:w}),m(function(){c(w)&&j({inst:w})})},[m]),o(p),p}function c(m){var x=m.getSnapshot;m=m.value;try{var p=x();return!r(m,p)}catch{return!0}}function u(m,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return mv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,mv}var s4;function TO(){return s4||(s4=1,fv.exports=PO()),fv.exports}var IO=TO();function DO(){return IO.useSyncExternalStore(RO,()=>!0,()=>!1)}function RO(){return()=>{}}var Pw="Avatar",[OO]=SO(Pw),[LO,B_]=OO(Pw),U_=_.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=_.useState("idle");return s.jsx(LO,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(kw.span,{...n,ref:e})})});U_.displayName=Pw;var V_="AvatarImage",FO=_.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,o=B_(V_,r),l=MO(n,a),c=_l(u=>{i(u),o.onImageLoadingStatusChange(u)});return fi(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(kw.img,{...a,ref:e,src:n}):null});FO.displayName=V_;var $_="AvatarFallback",z_=_.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=B_($_,r),[o,l]=_.useState(n===void 0);return _.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(kw.span,{...i,ref:e}):null});z_.displayName=$_;function i4(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function MO(t,{referrerPolicy:e,crossOrigin:r}){const n=DO(),i=_.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[o,l]=_.useState(()=>i4(a,t));return fi(()=>{l(i4(a,t))},[a,t]),fi(()=>{const c=m=>()=>{l(m)};if(!a)return;const u=c("loaded"),h=c("error");return a.addEventListener("load",u),a.addEventListener("error",h),e&&(a.referrerPolicy=e),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",h)}},[a,r,e]),o}var BO=U_,UO=z_;function ys({className:t,...e}){return s.jsx(BO,{"data-slot":"avatar",className:hr("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function ws({className:t,...e}){return s.jsx(UO,{"data-slot":"avatar-fallback",className:hr("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}const VO=jw("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ft({className:t,variant:e,asChild:r=!1,...n}){const i=r?p_:"span";return s.jsx(i,{"data-slot":"badge",className:hr(VO({variant:e}),t),...n})}var $O=lw[" useId ".trim().toString()]||(()=>{}),zO=0;function Vo(t){const[e,r]=_.useState($O());return fi(()=>{r(n=>n??String(zO++))},[t]),t||(e?`radix-${e}`:"")}function HO(t,e=globalThis?.document){const r=_l(t);_.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var qO="DismissableLayer",ry="dismissableLayer.update",WO="dismissableLayer.pointerDownOutside",GO="dismissableLayer.focusOutside",a4,H_=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),t0=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=_.useContext(H_),[h,m]=_.useState(null),x=h?.ownerDocument??globalThis?.document,[,p]=_.useState({}),y=Kr(e,L=>m(L)),w=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),C=w.indexOf(j),A=h?w.indexOf(h):-1,k=u.layersWithOutsidePointerEventsDisabled.size>0,P=A>=C,M=XO(L=>{const D=L.target,V=[...u.branches].some(ne=>ne.contains(D));!P||V||(i?.(L),o?.(L),L.defaultPrevented||l?.())},x),$=ZO(L=>{const D=L.target;[...u.branches].some(ne=>ne.contains(D))||(a?.(L),o?.(L),L.defaultPrevented||l?.())},x);return HO(L=>{A===u.layers.size-1&&(n?.(L),!L.defaultPrevented&&l&&(L.preventDefault(),l()))},x),_.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(a4=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),o4(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=a4)}},[h,x,r,u]),_.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),o4())},[h,u]),_.useEffect(()=>{const L=()=>p({});return document.addEventListener(ry,L),()=>document.removeEventListener(ry,L)},[]),s.jsx(Ar.div,{...c,ref:y,style:{pointerEvents:k?P?"auto":"none":void 0,...t.style},onFocusCapture:Nt(t.onFocusCapture,$.onFocusCapture),onBlurCapture:Nt(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Nt(t.onPointerDownCapture,M.onPointerDownCapture)})});t0.displayName=qO;var KO="DismissableLayerBranch",YO=_.forwardRef((t,e)=>{const r=_.useContext(H_),n=_.useRef(null),i=Kr(e,n);return _.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(Ar.div,{...t,ref:i})});YO.displayName=KO;function XO(t,e=globalThis?.document){const r=_l(t),n=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){q_(WO,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function ZO(t,e=globalThis?.document){const r=_l(t),n=_.useRef(!1);return _.useEffect(()=>{const i=a=>{a.target&&!n.current&&q_(GO,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function o4(){const t=new CustomEvent(ry);document.dispatchEvent(t)}function q_(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?P_(i,a):i.dispatchEvent(a)}var pv="focusScope.autoFocusOnMount",xv="focusScope.autoFocusOnUnmount",l4={bubbles:!1,cancelable:!0},JO="FocusScope",$m=_.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=_.useState(null),u=_l(i),h=_l(a),m=_.useRef(null),x=Kr(e,w=>c(w)),p=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let w=function(k){if(p.paused||!l)return;const P=k.target;l.contains(P)?m.current=P:Md(m.current,{select:!0})},j=function(k){if(p.paused||!l)return;const P=k.relatedTarget;P!==null&&(l.contains(P)||Md(m.current,{select:!0}))},C=function(k){if(document.activeElement===document.body)for(const M of k)M.removedNodes.length>0&&Md(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",j);const A=new MutationObserver(C);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",j),A.disconnect()}}},[n,l,p.paused]),_.useEffect(()=>{if(l){d4.add(p);const w=document.activeElement;if(!l.contains(w)){const C=new CustomEvent(pv,l4);l.addEventListener(pv,u),l.dispatchEvent(C),C.defaultPrevented||(QO(sL(W_(l)),{select:!0}),document.activeElement===w&&Md(l))}return()=>{l.removeEventListener(pv,u),setTimeout(()=>{const C=new CustomEvent(xv,l4);l.addEventListener(xv,h),l.dispatchEvent(C),C.defaultPrevented||Md(w??document.body,{select:!0}),l.removeEventListener(xv,h),d4.remove(p)},0)}}},[l,u,h,p]);const y=_.useCallback(w=>{if(!r&&!n||p.paused)return;const j=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,C=document.activeElement;if(j&&C){const A=w.currentTarget,[k,P]=eL(A);k&&P?!w.shiftKey&&C===P?(w.preventDefault(),r&&Md(k,{select:!0})):w.shiftKey&&C===k&&(w.preventDefault(),r&&Md(P,{select:!0})):C===A&&w.preventDefault()}},[r,n,p.paused]);return s.jsx(Ar.div,{tabIndex:-1,...o,ref:x,onKeyDown:y})});$m.displayName=JO;function QO(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Md(n,{select:e}),document.activeElement!==r)return}function eL(t){const e=W_(t),r=c4(e,t),n=c4(e.reverse(),t);return[r,n]}function W_(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function c4(t,e){for(const r of t)if(!tL(r,{upTo:e}))return r}function tL(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function rL(t){return t instanceof HTMLInputElement&&"select"in t}function Md(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&rL(t)&&e&&t.select()}}var d4=nL();function nL(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=u4(t,e),t.unshift(e)},remove(e){t=u4(t,e),t[0]?.resume()}}}function u4(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function sL(t){return t.filter(e=>e.tagName!=="A")}var iL="Portal",r0=_.forwardRef((t,e)=>{const{container:r,...n}=t,[i,a]=_.useState(!1);fi(()=>a(!0),[]);const o=r||i&&globalThis?.document?.body;return o?E_.createPortal(s.jsx(Ar.div,{...n,ref:e}),o):null});r0.displayName=iL;var gv=0;function E1(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??h4()),document.body.insertAdjacentElement("beforeend",t[1]??h4()),gv++,()=>{gv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gv--}},[])}function h4(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ax="right-scroll-bar-position",Sx="width-before-scroll-bar",aL="with-scroll-bars-hidden",oL="--removed-body-scroll-bar-size";function vv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function lL(t,e){var r=_.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var cL=typeof window<"u"?_.useLayoutEffect:_.useEffect,f4=new WeakMap;function dL(t,e){var r=lL(null,function(n){return t.forEach(function(i){return vv(i,n)})});return cL(function(){var n=f4.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(l){a.has(l)||vv(l,null)}),a.forEach(function(l){i.has(l)||vv(l,o)})}f4.set(r,t)},[t]),r}function uL(t){return t}function hL(t,e){e===void 0&&(e=uL);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var h=o;o=[],h.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),r}}}};return i}function fL(t){t===void 0&&(t={});var e=hL(null);return e.options=Mo({async:!0,ssr:!1},t),e}var G_=function(t){var e=t.sideCar,r=du(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,Mo({},r))};G_.isSideCarExport=!0;function mL(t,e){return t.useMedium(e),G_}var K_=fL(),yv=function(){},k1=_.forwardRef(function(t,e){var r=_.useRef(null),n=_.useState({onScrollCapture:yv,onWheelCapture:yv,onTouchMoveCapture:yv}),i=n[0],a=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,m=t.shards,x=t.sideCar,p=t.noRelative,y=t.noIsolation,w=t.inert,j=t.allowPinchZoom,C=t.as,A=C===void 0?"div":C,k=t.gapMode,P=du(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=x,$=dL([r,e]),L=Mo(Mo({},P),i);return _.createElement(_.Fragment,null,h&&_.createElement(M,{sideCar:K_,removeScrollBar:u,shards:m,noRelative:p,noIsolation:y,inert:w,setCallbacks:a,allowPinchZoom:!!j,lockRef:r,gapMode:k}),o?_.cloneElement(_.Children.only(l),Mo(Mo({},L),{ref:$})):_.createElement(A,Mo({},L,{className:c,ref:$}),l))});k1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};k1.classNames={fullWidth:Sx,zeroRight:Ax};var pL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xL(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=pL();return e&&t.setAttribute("nonce",e),t}function gL(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function vL(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var yL=function(){var t=0,e=null;return{add:function(r){t==0&&(e=xL())&&(gL(e,r),vL(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},wL=function(){var t=yL();return function(e,r){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Y_=function(){var t=wL(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},bL={left:0,top:0,right:0,gap:0},wv=function(t){return parseInt(t||"",10)||0},NL=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[wv(r),wv(n),wv(i)]},jL=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return bL;var e=NL(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},CL=Y_(),Df="data-scroll-locked",_L=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(aL,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Df,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ax,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Sx,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ax," .").concat(Ax,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Sx," .").concat(Sx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Df,`] {
    `).concat(oL,": ").concat(l,`px;
  }
`)},m4=function(){var t=parseInt(document.body.getAttribute(Df)||"0",10);return isFinite(t)?t:0},AL=function(){_.useEffect(function(){return document.body.setAttribute(Df,(m4()+1).toString()),function(){var t=m4()-1;t<=0?document.body.removeAttribute(Df):document.body.setAttribute(Df,t.toString())}},[])},SL=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;AL();var a=_.useMemo(function(){return jL(i)},[i]);return _.createElement(CL,{styles:_L(a,!e,i,r?"":"!important")})},ny=!1;if(typeof window<"u")try{var Qp=Object.defineProperty({},"passive",{get:function(){return ny=!0,!0}});window.addEventListener("test",Qp,Qp),window.removeEventListener("test",Qp,Qp)}catch{ny=!1}var of=ny?{passive:!1}:!1,EL=function(t){return t.tagName==="TEXTAREA"},X_=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!EL(t)&&r[e]==="visible")},kL=function(t){return X_(t,"overflowY")},PL=function(t){return X_(t,"overflowX")},p4=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Z_(t,n);if(i){var a=J_(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},TL=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},IL=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Z_=function(t,e){return t==="v"?kL(e):PL(e)},J_=function(t,e){return t==="v"?TL(e):IL(e)},DL=function(t,e){return t==="h"&&e==="rtl"?-1:1},RL=function(t,e,r,n,i){var a=DL(t,window.getComputedStyle(e).direction),o=a*n,l=r.target,c=e.contains(l),u=!1,h=o>0,m=0,x=0;do{if(!l)break;var p=J_(t,l),y=p[0],w=p[1],j=p[2],C=w-j-a*y;(y||C)&&Z_(t,l)&&(m+=C,x+=y);var A=l.parentNode;l=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(m)<1||!h&&Math.abs(x)<1)&&(u=!0),u},ex=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},x4=function(t){return[t.deltaX,t.deltaY]},g4=function(t){return t&&"current"in t?t.current:t},OL=function(t,e){return t[0]===e[0]&&t[1]===e[1]},LL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},FL=0,lf=[];function ML(t){var e=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),i=_.useState(FL++)[0],a=_.useState(Y_)[0],o=_.useRef(t);_.useEffect(function(){o.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=dw([t.lockRef.current],(t.shards||[]).map(g4),!0).filter(Boolean);return w.forEach(function(j){return j.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=_.useCallback(function(w,j){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var C=ex(w),A=r.current,k="deltaX"in w?w.deltaX:A[0]-C[0],P="deltaY"in w?w.deltaY:A[1]-C[1],M,$=w.target,L=Math.abs(k)>Math.abs(P)?"h":"v";if("touches"in w&&L==="h"&&$.type==="range")return!1;var D=p4(L,$);if(!D)return!0;if(D?M=L:(M=L==="v"?"h":"v",D=p4(L,$)),!D)return!1;if(!n.current&&"changedTouches"in w&&(k||P)&&(n.current=M),!M)return!0;var V=n.current||M;return RL(V,j,w,V==="h"?k:P)},[]),c=_.useCallback(function(w){var j=w;if(!(!lf.length||lf[lf.length-1]!==a)){var C="deltaY"in j?x4(j):ex(j),A=e.current.filter(function(M){return M.name===j.type&&(M.target===j.target||j.target===M.shadowParent)&&OL(M.delta,C)})[0];if(A&&A.should){j.cancelable&&j.preventDefault();return}if(!A){var k=(o.current.shards||[]).map(g4).filter(Boolean).filter(function(M){return M.contains(j.target)}),P=k.length>0?l(j,k[0]):!o.current.noIsolation;P&&j.cancelable&&j.preventDefault()}}},[]),u=_.useCallback(function(w,j,C,A){var k={name:w,delta:j,target:C,should:A,shadowParent:BL(C)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(P){return P!==k})},1)},[]),h=_.useCallback(function(w){r.current=ex(w),n.current=void 0},[]),m=_.useCallback(function(w){u(w.type,x4(w),w.target,l(w,t.lockRef.current))},[]),x=_.useCallback(function(w){u(w.type,ex(w),w.target,l(w,t.lockRef.current))},[]);_.useEffect(function(){return lf.push(a),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",c,of),document.addEventListener("touchmove",c,of),document.addEventListener("touchstart",h,of),function(){lf=lf.filter(function(w){return w!==a}),document.removeEventListener("wheel",c,of),document.removeEventListener("touchmove",c,of),document.removeEventListener("touchstart",h,of)}},[]);var p=t.removeScrollBar,y=t.inert;return _.createElement(_.Fragment,null,y?_.createElement(a,{styles:LL(i)}):null,p?_.createElement(SL,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function BL(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const UL=mL(K_,ML);var zm=_.forwardRef(function(t,e){return _.createElement(k1,Mo({},t,{ref:e,sideCar:UL}))});zm.classNames=k1.classNames;var VL=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},cf=new WeakMap,tx=new WeakMap,rx={},bv=0,Q_=function(t){return t&&(t.host||Q_(t.parentNode))},$L=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Q_(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},zL=function(t,e,r,n){var i=$L(e,Array.isArray(t)?t:[t]);rx[r]||(rx[r]=new WeakMap);var a=rx[r],o=[],l=new Set,c=new Set(i),u=function(m){!m||l.has(m)||(l.add(m),u(m.parentNode))};i.forEach(u);var h=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(x){if(l.has(x))h(x);else try{var p=x.getAttribute(n),y=p!==null&&p!=="false",w=(cf.get(x)||0)+1,j=(a.get(x)||0)+1;cf.set(x,w),a.set(x,j),o.push(x),w===1&&y&&tx.set(x,!0),j===1&&x.setAttribute(r,"true"),y||x.setAttribute(n,"true")}catch(C){console.error("aria-hidden: cannot operate on ",x,C)}})};return h(e),l.clear(),bv++,function(){o.forEach(function(m){var x=cf.get(m)-1,p=a.get(m)-1;cf.set(m,x),a.set(m,p),x||(tx.has(m)||m.removeAttribute(n),tx.delete(m)),p||m.removeAttribute(r)}),bv--,bv||(cf=new WeakMap,cf=new WeakMap,tx=new WeakMap,rx={})}},P1=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=VL(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),zL(n,i,r,"aria-hidden")):function(){return null}};function HL(t){const e=qL(t),r=_.forwardRef((n,i)=>{const{children:a,...o}=n,l=_.Children.toArray(a),c=l.find(GL);if(c){const u=c.props.children,h=l.map(m=>m===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:m);return s.jsx(e,{...o,ref:i,children:_.isValidElement(u)?_.cloneElement(u,void 0,h):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function qL(t){const e=_.forwardRef((r,n)=>{const{children:i,...a}=r;if(_.isValidElement(i)){const o=YL(i),l=KL(a,i.props);return i.type!==_.Fragment&&(l.ref=n?hc(n,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var WL=Symbol("radix.slottable");function GL(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===WL}function KL(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function YL(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var T1="Dialog",[eA,tA]=xo(T1),[XL,kl]=eA(T1),rA=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=_.useRef(null),c=_.useRef(null),[u,h]=cc({prop:n,defaultProp:i??!1,onChange:a,caller:T1});return s.jsx(XL,{scope:e,triggerRef:l,contentRef:c,contentId:Vo(),titleId:Vo(),descriptionId:Vo(),open:u,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(m=>!m),[h]),modal:o,children:r})};rA.displayName=T1;var nA="DialogTrigger",sA=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=kl(nA,r),a=Kr(e,i.triggerRef);return s.jsx(Ar.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Dw(i.open),...n,ref:a,onClick:Nt(t.onClick,i.onOpenToggle)})});sA.displayName=nA;var Tw="DialogPortal",[ZL,iA]=eA(Tw,{forceMount:void 0}),aA=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=kl(Tw,e);return s.jsx(ZL,{scope:e,forceMount:r,children:_.Children.map(n,o=>s.jsx(za,{present:r||a.open,children:s.jsx(r0,{asChild:!0,container:i,children:o})}))})};aA.displayName=Tw;var t1="DialogOverlay",oA=_.forwardRef((t,e)=>{const r=iA(t1,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=kl(t1,t.__scopeDialog);return a.modal?s.jsx(za,{present:n||a.open,children:s.jsx(QL,{...i,ref:e})}):null});oA.displayName=t1;var JL=HL("DialogOverlay.RemoveScroll"),QL=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=kl(t1,r);return s.jsx(zm,{as:JL,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Ar.div,{"data-state":Dw(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),ph="DialogContent",lA=_.forwardRef((t,e)=>{const r=iA(ph,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=kl(ph,t.__scopeDialog);return s.jsx(za,{present:n||a.open,children:a.modal?s.jsx(eF,{...i,ref:e}):s.jsx(tF,{...i,ref:e})})});lA.displayName=ph;var eF=_.forwardRef((t,e)=>{const r=kl(ph,t.__scopeDialog),n=_.useRef(null),i=Kr(e,r.contentRef,n);return _.useEffect(()=>{const a=n.current;if(a)return P1(a)},[]),s.jsx(cA,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nt(t.onCloseAutoFocus,a=>{a.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Nt(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Nt(t.onFocusOutside,a=>a.preventDefault())})}),tF=_.forwardRef((t,e)=>{const r=kl(ph,t.__scopeDialog),n=_.useRef(!1),i=_.useRef(!1);return s.jsx(cA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;r.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),cA=_.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=kl(ph,r),c=_.useRef(null),u=Kr(e,c);return E1(),s.jsxs(s.Fragment,{children:[s.jsx($m,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(t0,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Dw(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(nF,{titleId:l.titleId}),s.jsx(iF,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Iw="DialogTitle",dA=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=kl(Iw,r);return s.jsx(Ar.h2,{id:i.titleId,...n,ref:e})});dA.displayName=Iw;var uA="DialogDescription",hA=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=kl(uA,r);return s.jsx(Ar.p,{id:i.descriptionId,...n,ref:e})});hA.displayName=uA;var fA="DialogClose",mA=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=kl(fA,r);return s.jsx(Ar.button,{type:"button",...n,ref:e,onClick:Nt(t.onClick,()=>i.onOpenChange(!1))})});mA.displayName=fA;function Dw(t){return t?"open":"closed"}var pA="DialogTitleWarning",[rF,xA]=sO(pA,{contentName:ph,titleName:Iw,docsSlug:"dialog"}),nF=({titleId:t})=>{const e=xA(pA),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},sF="DialogDescriptionWarning",iF=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xA(sF).contentName}}.`;return _.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Rw=rA,aF=sA,Ow=aA,I1=oA,D1=lA,Lw=dA,Fw=hA,R1=mA;function Jd({...t}){return s.jsx(Rw,{"data-slot":"sheet",...t})}function oF({...t}){return s.jsx(Ow,{"data-slot":"sheet-portal",...t})}const gA=_.forwardRef(({className:t,...e},r)=>s.jsx(I1,{ref:r,"data-slot":"sheet-overlay",className:hr("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));gA.displayName="SheetOverlay";function Qd({className:t,children:e,side:r="right",...n}){return s.jsxs(oF,{children:[s.jsx(gA,{}),s.jsxs(D1,{"data-slot":"sheet-content",className:hr("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[e,s.jsxs(R1,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[s.jsx(zs,{className:"size-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function eu({className:t,...e}){return s.jsx("div",{"data-slot":"sheet-header",className:hr("flex flex-col gap-1.5 p-4",t),...e})}function tu({className:t,...e}){return s.jsx(Lw,{"data-slot":"sheet-title",className:hr("text-foreground font-semibold",t),...e})}function Rf({className:t,...e}){return s.jsx(Fw,{"data-slot":"sheet-description",className:hr("text-muted-foreground text-sm",t),...e})}function v4(t,[e,r]){return Math.min(r,Math.max(e,t))}function y4(t){const e=lF(t),r=_.forwardRef((n,i)=>{const{children:a,...o}=n,l=_.Children.toArray(a),c=l.find(dF);if(c){const u=c.props.children,h=l.map(m=>m===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:m);return s.jsx(e,{...o,ref:i,children:_.isValidElement(u)?_.cloneElement(u,void 0,h):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function lF(t){const e=_.forwardRef((r,n)=>{const{children:i,...a}=r;if(_.isValidElement(i)){const o=hF(i),l=uF(a,i.props);return i.type!==_.Fragment&&(l.ref=n?hc(n,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cF=Symbol("radix.slottable");function dF(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cF}function uF(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function hF(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Mw(t){const e=t+"CollectionProvider",[r,n]=xo(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:j,children:C}=w,A=ht.useRef(null),k=ht.useRef(new Map).current;return s.jsx(i,{scope:j,itemMap:k,collectionRef:A,children:C})};o.displayName=e;const l=t+"CollectionSlot",c=y4(l),u=ht.forwardRef((w,j)=>{const{scope:C,children:A}=w,k=a(l,C),P=Kr(j,k.collectionRef);return s.jsx(c,{ref:P,children:A})});u.displayName=l;const h=t+"CollectionItemSlot",m="data-radix-collection-item",x=y4(h),p=ht.forwardRef((w,j)=>{const{scope:C,children:A,...k}=w,P=ht.useRef(null),M=Kr(j,P),$=a(h,C);return ht.useEffect(()=>($.itemMap.set(P,{ref:P,...k}),()=>void $.itemMap.delete(P))),s.jsx(x,{[m]:"",ref:M,children:A})});p.displayName=h;function y(w){const j=a(t+"CollectionConsumer",w);return ht.useCallback(()=>{const A=j.collectionRef.current;if(!A)return[];const k=Array.from(A.querySelectorAll(`[${m}]`));return Array.from(j.itemMap.values()).sort(($,L)=>k.indexOf($.ref.current)-k.indexOf(L.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,n]}var fF=_.createContext(void 0);function O1(t){const e=_.useContext(fF);return t||e||"ltr"}const mF=["top","right","bottom","left"],su=Math.min,oo=Math.max,r1=Math.round,nx=Math.floor,nc=t=>({x:t,y:t}),pF={left:"right",right:"left",bottom:"top",top:"bottom"},xF={start:"end",end:"start"};function sy(t,e,r){return oo(t,su(e,r))}function Xc(t,e){return typeof t=="function"?t(e):t}function Zc(t){return t.split("-")[0]}function n0(t){return t.split("-")[1]}function Bw(t){return t==="x"?"y":"x"}function Uw(t){return t==="y"?"height":"width"}const gF=new Set(["top","bottom"]);function Ql(t){return gF.has(Zc(t))?"y":"x"}function Vw(t){return Bw(Ql(t))}function vF(t,e,r){r===void 0&&(r=!1);const n=n0(t),i=Vw(t),a=Uw(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=n1(o)),[o,n1(o)]}function yF(t){const e=n1(t);return[iy(t),e,iy(e)]}function iy(t){return t.replace(/start|end/g,e=>xF[e])}const w4=["left","right"],b4=["right","left"],wF=["top","bottom"],bF=["bottom","top"];function NF(t,e,r){switch(t){case"top":case"bottom":return r?e?b4:w4:e?w4:b4;case"left":case"right":return e?wF:bF;default:return[]}}function jF(t,e,r,n){const i=n0(t);let a=NF(Zc(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(iy)))),a}function n1(t){return t.replace(/left|right|bottom|top/g,e=>pF[e])}function CF(t){return{top:0,right:0,bottom:0,left:0,...t}}function vA(t){return typeof t!="number"?CF(t):{top:t,right:t,bottom:t,left:t}}function s1(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function N4(t,e,r){let{reference:n,floating:i}=t;const a=Ql(e),o=Vw(e),l=Uw(o),c=Zc(e),u=a==="y",h=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,x=n[l]/2-i[l]/2;let p;switch(c){case"top":p={x:h,y:n.y-i.height};break;case"bottom":p={x:h,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:m};break;case"left":p={x:n.x-i.width,y:m};break;default:p={x:n.x,y:n.y}}switch(n0(e)){case"start":p[o]-=x*(r&&u?-1:1);break;case"end":p[o]+=x*(r&&u?-1:1);break}return p}const _F=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:m}=N4(u,n,c),x=n,p={},y=0;for(let w=0;w<l.length;w++){const{name:j,fn:C}=l[w],{x:A,y:k,data:P,reset:M}=await C({x:h,y:m,initialPlacement:n,placement:x,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});h=A??h,m=k??m,p={...p,[j]:{...p[j],...P}},M&&y<=50&&(y++,typeof M=="object"&&(M.placement&&(x=M.placement),M.rects&&(u=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:h,y:m}=N4(u,x,c)),w=-1)}return{x:h,y:m,placement:x,strategy:i,middlewareData:p}};async function jm(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:x=!1,padding:p=0}=Xc(e,t),y=vA(p),j=l[x?m==="floating"?"reference":"floating":m],C=s1(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(j)))==null||r?j:j.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),A=m==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),P=await(a.isElement==null?void 0:a.isElement(k))?await(a.getScale==null?void 0:a.getScale(k))||{x:1,y:1}:{x:1,y:1},M=s1(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:k,strategy:c}):A);return{top:(C.top-M.top+y.top)/P.y,bottom:(M.bottom-C.bottom+y.bottom)/P.y,left:(C.left-M.left+y.left)/P.x,right:(M.right-C.right+y.right)/P.x}}const AF=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:h=0}=Xc(t,e)||{};if(u==null)return{};const m=vA(h),x={x:r,y:n},p=Vw(i),y=Uw(p),w=await o.getDimensions(u),j=p==="y",C=j?"top":"left",A=j?"bottom":"right",k=j?"clientHeight":"clientWidth",P=a.reference[y]+a.reference[p]-x[p]-a.floating[y],M=x[p]-a.reference[p],$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let L=$?$[k]:0;(!L||!await(o.isElement==null?void 0:o.isElement($)))&&(L=l.floating[k]||a.floating[y]);const D=P/2-M/2,V=L/2-w[y]/2-1,ne=su(m[C],V),B=su(m[A],V),F=ne,X=L-w[y]-B,ee=L/2-w[y]/2+D,xe=sy(F,ee,X),oe=!c.arrow&&n0(i)!=null&&ee!==xe&&a.reference[y]/2-(ee<F?ne:B)-w[y]/2<0,pe=oe?ee<F?ee-F:ee-X:0;return{[p]:x[p]+pe,data:{[p]:xe,centerOffset:ee-xe-pe,...oe&&{alignmentOffset:pe}},reset:oe}}}),SF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,...j}=Xc(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const C=Zc(i),A=Ql(l),k=Zc(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(u.floating)),M=x||(k||!w?[n1(l)]:yF(l)),$=y!=="none";!x&&$&&M.push(...jF(l,w,y,P));const L=[l,...M],D=await jm(e,j),V=[];let ne=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&V.push(D[C]),m){const ee=vF(i,o,P);V.push(D[ee[0]],D[ee[1]])}if(ne=[...ne,{placement:i,overflows:V}],!V.every(ee=>ee<=0)){var B,F;const ee=(((B=a.flip)==null?void 0:B.index)||0)+1,xe=L[ee];if(xe&&(!(m==="alignment"?A!==Ql(xe):!1)||ne.every(H=>Ql(H.placement)===A?H.overflows[0]>0:!0)))return{data:{index:ee,overflows:ne},reset:{placement:xe}};let oe=(F=ne.filter(pe=>pe.overflows[0]<=0).sort((pe,H)=>pe.overflows[1]-H.overflows[1])[0])==null?void 0:F.placement;if(!oe)switch(p){case"bestFit":{var X;const pe=(X=ne.filter(H=>{if($){const q=Ql(H.placement);return q===A||q==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(q=>q>0).reduce((q,ie)=>q+ie,0)]).sort((H,q)=>H[1]-q[1])[0])==null?void 0:X[0];pe&&(oe=pe);break}case"initialPlacement":oe=l;break}if(i!==oe)return{reset:{placement:oe}}}return{}}}};function j4(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function C4(t){return mF.some(e=>t[e]>=0)}const EF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Xc(t,e);switch(n){case"referenceHidden":{const a=await jm(e,{...i,elementContext:"reference"}),o=j4(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:C4(o)}}}case"escaped":{const a=await jm(e,{...i,altBoundary:!0}),o=j4(a,r.floating);return{data:{escapedOffsets:o,escaped:C4(o)}}}default:return{}}}}},yA=new Set(["left","top"]);async function kF(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Zc(r),l=n0(r),c=Ql(r)==="y",u=yA.has(o)?-1:1,h=a&&c?-1:1,m=Xc(e,t);let{mainAxis:x,crossAxis:p,alignmentAxis:y}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*h,y:x*u}:{x:x*u,y:p*h}}const PF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:l}=e,c=await kF(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},TF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:j=>{let{x:C,y:A}=j;return{x:C,y:A}}},...c}=Xc(t,e),u={x:r,y:n},h=await jm(e,c),m=Ql(Zc(i)),x=Bw(m);let p=u[x],y=u[m];if(a){const j=x==="y"?"top":"left",C=x==="y"?"bottom":"right",A=p+h[j],k=p-h[C];p=sy(A,p,k)}if(o){const j=m==="y"?"top":"left",C=m==="y"?"bottom":"right",A=y+h[j],k=y-h[C];y=sy(A,y,k)}const w=l.fn({...e,[x]:p,[m]:y});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[x]:a,[m]:o}}}}}},IF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Xc(t,e),h={x:r,y:n},m=Ql(i),x=Bw(m);let p=h[x],y=h[m];const w=Xc(l,e),j=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const k=x==="y"?"height":"width",P=a.reference[x]-a.floating[k]+j.mainAxis,M=a.reference[x]+a.reference[k]-j.mainAxis;p<P?p=P:p>M&&(p=M)}if(u){var C,A;const k=x==="y"?"width":"height",P=yA.has(Zc(i)),M=a.reference[m]-a.floating[k]+(P&&((C=o.offset)==null?void 0:C[m])||0)+(P?0:j.crossAxis),$=a.reference[m]+a.reference[k]+(P?0:((A=o.offset)==null?void 0:A[m])||0)-(P?j.crossAxis:0);y<M?y=M:y>$&&(y=$)}return{[x]:p,[m]:y}}}},DF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Xc(t,e),h=await jm(e,u),m=Zc(i),x=n0(i),p=Ql(i)==="y",{width:y,height:w}=a.floating;let j,C;m==="top"||m==="bottom"?(j=m,C=x===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(C=m,j=x==="end"?"top":"bottom");const A=w-h.top-h.bottom,k=y-h.left-h.right,P=su(w-h[j],A),M=su(y-h[C],k),$=!e.middlewareData.shift;let L=P,D=M;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(D=k),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(L=A),$&&!x){const ne=oo(h.left,0),B=oo(h.right,0),F=oo(h.top,0),X=oo(h.bottom,0);p?D=y-2*(ne!==0||B!==0?ne+B:oo(h.left,h.right)):L=w-2*(F!==0||X!==0?F+X:oo(h.top,h.bottom))}await c({...e,availableWidth:D,availableHeight:L});const V=await o.getDimensions(l.floating);return y!==V.width||w!==V.height?{reset:{rects:!0}}:{}}}};function L1(){return typeof window<"u"}function s0(t){return wA(t)?(t.nodeName||"").toLowerCase():"#document"}function mo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fc(t){var e;return(e=(wA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wA(t){return L1()?t instanceof Node||t instanceof mo(t).Node:!1}function Al(t){return L1()?t instanceof Element||t instanceof mo(t).Element:!1}function dc(t){return L1()?t instanceof HTMLElement||t instanceof mo(t).HTMLElement:!1}function _4(t){return!L1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof mo(t).ShadowRoot}const RF=new Set(["inline","contents"]);function Hm(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Sl(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!RF.has(i)}const OF=new Set(["table","td","th"]);function LF(t){return OF.has(s0(t))}const FF=[":popover-open",":modal"];function F1(t){return FF.some(e=>{try{return t.matches(e)}catch{return!1}})}const MF=["transform","translate","scale","rotate","perspective"],BF=["transform","translate","scale","rotate","perspective","filter"],UF=["paint","layout","strict","content"];function $w(t){const e=zw(),r=Al(t)?Sl(t):t;return MF.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||BF.some(n=>(r.willChange||"").includes(n))||UF.some(n=>(r.contain||"").includes(n))}function VF(t){let e=iu(t);for(;dc(e)&&!qf(e);){if($w(e))return e;if(F1(e))return null;e=iu(e)}return null}function zw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $F=new Set(["html","body","#document"]);function qf(t){return $F.has(s0(t))}function Sl(t){return mo(t).getComputedStyle(t)}function M1(t){return Al(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function iu(t){if(s0(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_4(t)&&t.host||fc(t);return _4(e)?e.host:e}function bA(t){const e=iu(t);return qf(e)?t.ownerDocument?t.ownerDocument.body:t.body:dc(e)&&Hm(e)?e:bA(e)}function Cm(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=bA(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=mo(i);if(a){const l=ay(o);return e.concat(o,o.visualViewport||[],Hm(i)?i:[],l&&r?Cm(l):[])}return e.concat(i,Cm(i,[],r))}function ay(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function NA(t){const e=Sl(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=dc(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,l=r1(r)!==a||r1(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function Hw(t){return Al(t)?t:t.contextElement}function Of(t){const e=Hw(t);if(!dc(e))return nc(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=NA(e);let o=(a?r1(r.width):r.width)/n,l=(a?r1(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const zF=nc(0);function jA(t){const e=mo(t);return!zw()||!e.visualViewport?zF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function HF(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==mo(t)?!1:e}function xh(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=Hw(t);let o=nc(1);e&&(n?Al(n)&&(o=Of(n)):o=Of(t));const l=HF(a,r,n)?jA(a):nc(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,h=i.width/o.x,m=i.height/o.y;if(a){const x=mo(a),p=n&&Al(n)?mo(n):n;let y=x,w=ay(y);for(;w&&n&&p!==y;){const j=Of(w),C=w.getBoundingClientRect(),A=Sl(w),k=C.left+(w.clientLeft+parseFloat(A.paddingLeft))*j.x,P=C.top+(w.clientTop+parseFloat(A.paddingTop))*j.y;c*=j.x,u*=j.y,h*=j.x,m*=j.y,c+=k,u+=P,y=mo(w),w=ay(y)}}return s1({width:h,height:m,x:c,y:u})}function B1(t,e){const r=M1(t).scrollLeft;return e?e.left+r:xh(fc(t)).left+r}function CA(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-B1(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function qF(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=fc(n),l=e?F1(e.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=nc(1);const h=nc(0),m=dc(n);if((m||!m&&!a)&&((s0(n)!=="body"||Hm(o))&&(c=M1(n)),dc(n))){const p=xh(n);u=Of(n),h.x=p.x+n.clientLeft,h.y=p.y+n.clientTop}const x=o&&!m&&!a?CA(o,c):nc(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x+x.x,y:r.y*u.y-c.scrollTop*u.y+h.y+x.y}}function WF(t){return Array.from(t.getClientRects())}function GF(t){const e=fc(t),r=M1(t),n=t.ownerDocument.body,i=oo(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=oo(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+B1(t);const l=-r.scrollTop;return Sl(n).direction==="rtl"&&(o+=oo(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}const A4=25;function KF(t,e){const r=mo(t),n=fc(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const h=zw();(!h||h&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=B1(n);if(u<=0){const h=n.ownerDocument,m=h.body,x=getComputedStyle(m),p=h.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,y=Math.abs(n.clientWidth-m.clientWidth-p);y<=A4&&(a-=y)}else u<=A4&&(a+=u);return{width:a,height:o,x:l,y:c}}const YF=new Set(["absolute","fixed"]);function XF(t,e){const r=xh(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=dc(t)?Of(t):nc(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=i*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function S4(t,e,r){let n;if(e==="viewport")n=KF(t,r);else if(e==="document")n=GF(fc(t));else if(Al(e))n=XF(e,r);else{const i=jA(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return s1(n)}function _A(t,e){const r=iu(t);return r===e||!Al(r)||qf(r)?!1:Sl(r).position==="fixed"||_A(r,e)}function ZF(t,e){const r=e.get(t);if(r)return r;let n=Cm(t,[],!1).filter(l=>Al(l)&&s0(l)!=="body"),i=null;const a=Sl(t).position==="fixed";let o=a?iu(t):t;for(;Al(o)&&!qf(o);){const l=Sl(o),c=$w(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&YF.has(i.position)||Hm(o)&&!c&&_A(t,o))?n=n.filter(h=>h!==o):i=l,o=iu(o)}return e.set(t,n),n}function JF(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?F1(e)?[]:ZF(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,h)=>{const m=S4(e,h,i);return u.top=oo(m.top,u.top),u.right=su(m.right,u.right),u.bottom=su(m.bottom,u.bottom),u.left=oo(m.left,u.left),u},S4(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function QF(t){const{width:e,height:r}=NA(t);return{width:e,height:r}}function eM(t,e,r){const n=dc(e),i=fc(e),a=r==="fixed",o=xh(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=nc(0);function u(){c.x=B1(i)}if(n||!n&&!a)if((s0(e)!=="body"||Hm(i))&&(l=M1(e)),n){const p=xh(e,!0,a,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&u();a&&!n&&i&&u();const h=i&&!n&&!a?CA(i,l):nc(0),m=o.left+l.scrollLeft-c.x-h.x,x=o.top+l.scrollTop-c.y-h.y;return{x:m,y:x,width:o.width,height:o.height}}function Nv(t){return Sl(t).position==="static"}function E4(t,e){if(!dc(t)||Sl(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return fc(t)===r&&(r=r.ownerDocument.body),r}function AA(t,e){const r=mo(t);if(F1(t))return r;if(!dc(t)){let i=iu(t);for(;i&&!qf(i);){if(Al(i)&&!Nv(i))return i;i=iu(i)}return r}let n=E4(t,e);for(;n&&LF(n)&&Nv(n);)n=E4(n,e);return n&&qf(n)&&Nv(n)&&!$w(n)?r:n||VF(t)||r}const tM=async function(t){const e=this.getOffsetParent||AA,r=this.getDimensions,n=await r(t.floating);return{reference:eM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function rM(t){return Sl(t).direction==="rtl"}const nM={convertOffsetParentRelativeRectToViewportRelativeRect:qF,getDocumentElement:fc,getClippingRect:JF,getOffsetParent:AA,getElementRects:tM,getClientRects:WF,getDimensions:QF,getScale:Of,isElement:Al,isRTL:rM};function SA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function sM(t,e){let r=null,n;const i=fc(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=t.getBoundingClientRect(),{left:h,top:m,width:x,height:p}=u;if(l||e(),!x||!p)return;const y=nx(m),w=nx(i.clientWidth-(h+x)),j=nx(i.clientHeight-(m+p)),C=nx(h),k={rootMargin:-y+"px "+-w+"px "+-j+"px "+-C+"px",threshold:oo(0,su(1,c))||1};let P=!0;function M($){const L=$[0].intersectionRatio;if(L!==c){if(!P)return o();L?o(!1,L):n=setTimeout(()=>{o(!1,1e-7)},1e3)}L===1&&!SA(u,t.getBoundingClientRect())&&o(),P=!1}try{r=new IntersectionObserver(M,{...k,root:i.ownerDocument})}catch{r=new IntersectionObserver(M,k)}r.observe(t)}return o(!0),a}function iM(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Hw(t),h=i||a?[...u?Cm(u):[],...Cm(e)]:[];h.forEach(C=>{i&&C.addEventListener("scroll",r,{passive:!0}),a&&C.addEventListener("resize",r)});const m=u&&l?sM(u,r):null;let x=-1,p=null;o&&(p=new ResizeObserver(C=>{let[A]=C;A&&A.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var k;(k=p)==null||k.observe(e)})),r()}),u&&!c&&p.observe(u),p.observe(e));let y,w=c?xh(t):null;c&&j();function j(){const C=xh(t);w&&!SA(w,C)&&r(),w=C,y=requestAnimationFrame(j)}return r(),()=>{var C;h.forEach(A=>{i&&A.removeEventListener("scroll",r),a&&A.removeEventListener("resize",r)}),m?.(),(C=p)==null||C.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const aM=PF,oM=TF,lM=SF,cM=DF,dM=EF,k4=AF,uM=IF,hM=(t,e,r)=>{const n=new Map,i={platform:nM,...r},a={...i.platform,_c:n};return _F(t,e,{...i,platform:a})};var fM=typeof document<"u",mM=function(){},Ex=fM?_.useLayoutEffect:mM;function i1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!i1(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!i1(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function EA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function P4(t,e){const r=EA(t);return Math.round(e*r)/r}function jv(t){const e=_.useRef(t);return Ex(()=>{e.current=t}),e}function pM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,m]=_.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[x,p]=_.useState(n);i1(x,n)||p(n);const[y,w]=_.useState(null),[j,C]=_.useState(null),A=_.useCallback(H=>{H!==$.current&&($.current=H,w(H))},[]),k=_.useCallback(H=>{H!==L.current&&(L.current=H,C(H))},[]),P=a||y,M=o||j,$=_.useRef(null),L=_.useRef(null),D=_.useRef(h),V=c!=null,ne=jv(c),B=jv(i),F=jv(u),X=_.useCallback(()=>{if(!$.current||!L.current)return;const H={placement:e,strategy:r,middleware:x};B.current&&(H.platform=B.current),hM($.current,L.current,H).then(q=>{const ie={...q,isPositioned:F.current!==!1};ee.current&&!i1(D.current,ie)&&(D.current=ie,Vm.flushSync(()=>{m(ie)}))})},[x,e,r,B,F]);Ex(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,m(H=>({...H,isPositioned:!1})))},[u]);const ee=_.useRef(!1);Ex(()=>(ee.current=!0,()=>{ee.current=!1}),[]),Ex(()=>{if(P&&($.current=P),M&&(L.current=M),P&&M){if(ne.current)return ne.current(P,M,X);X()}},[P,M,X,ne,V]);const xe=_.useMemo(()=>({reference:$,floating:L,setReference:A,setFloating:k}),[A,k]),oe=_.useMemo(()=>({reference:P,floating:M}),[P,M]),pe=_.useMemo(()=>{const H={position:r,left:0,top:0};if(!oe.floating)return H;const q=P4(oe.floating,h.x),ie=P4(oe.floating,h.y);return l?{...H,transform:"translate("+q+"px, "+ie+"px)",...EA(oe.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:q,top:ie}},[r,l,oe.floating,h.x,h.y]);return _.useMemo(()=>({...h,update:X,refs:xe,elements:oe,floatingStyles:pe}),[h,X,xe,oe,pe])}const xM=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?k4({element:n.current,padding:i}).fn(r):{}:n?k4({element:n,padding:i}).fn(r):{}}}},gM=(t,e)=>({...aM(t),options:[t,e]}),vM=(t,e)=>({...oM(t),options:[t,e]}),yM=(t,e)=>({...uM(t),options:[t,e]}),wM=(t,e)=>({...lM(t),options:[t,e]}),bM=(t,e)=>({...cM(t),options:[t,e]}),NM=(t,e)=>({...dM(t),options:[t,e]}),jM=(t,e)=>({...xM(t),options:[t,e]});var CM="Arrow",kA=_.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return s.jsx(Ar.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});kA.displayName=CM;var _M=kA,qw="Popper",[PA,hu]=xo(qw),[AM,TA]=PA(qw),IA=t=>{const{__scopePopper:e,children:r}=t,[n,i]=_.useState(null);return s.jsx(AM,{scope:e,anchor:n,onAnchorChange:i,children:r})};IA.displayName=qw;var DA="PopperAnchor",RA=_.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=TA(DA,r),o=_.useRef(null),l=Kr(e,o),c=_.useRef(null);return _.useEffect(()=>{const u=c.current;c.current=n?.current||o.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:s.jsx(Ar.div,{...i,ref:l})});RA.displayName=DA;var Ww="PopperContent",[SM,EM]=PA(Ww),OA=_.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:p="optimized",onPlaced:y,...w}=t,j=TA(Ww,r),[C,A]=_.useState(null),k=Kr(e,re=>A(re)),[P,M]=_.useState(null),$=Sw(P),L=$?.width??0,D=$?.height??0,V=n+(a!=="center"?"-"+a:""),ne=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},B=Array.isArray(u)?u:[u],F=B.length>0,X={padding:ne,boundary:B.filter(PM),altBoundary:F},{refs:ee,floatingStyles:xe,placement:oe,isPositioned:pe,middlewareData:H}=pM({strategy:"fixed",placement:V,whileElementsMounted:(...re)=>iM(...re,{animationFrame:p==="always"}),elements:{reference:j.anchor},middleware:[gM({mainAxis:i+D,alignmentAxis:o}),c&&vM({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?yM():void 0,...X}),c&&wM({...X}),bM({...X,apply:({elements:re,rects:le,availableWidth:ye,availableHeight:je})=>{const{width:Se,height:Be}=le.reference,Fe=re.floating.style;Fe.setProperty("--radix-popper-available-width",`${ye}px`),Fe.setProperty("--radix-popper-available-height",`${je}px`),Fe.setProperty("--radix-popper-anchor-width",`${Se}px`),Fe.setProperty("--radix-popper-anchor-height",`${Be}px`)}}),P&&jM({element:P,padding:l}),TM({arrowWidth:L,arrowHeight:D}),x&&NM({strategy:"referenceHidden",...X})]}),[q,ie]=MA(oe),G=_l(y);fi(()=>{pe&&G?.()},[pe,G]);const R=H.arrow?.x,z=H.arrow?.y,U=H.arrow?.centerOffset!==0,[Q,J]=_.useState();return fi(()=>{C&&J(window.getComputedStyle(C).zIndex)},[C]),s.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...xe,transform:pe?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(SM,{scope:r,placedSide:q,onArrowChange:M,arrowX:R,arrowY:z,shouldHideArrow:U,children:s.jsx(Ar.div,{"data-side":q,"data-align":ie,...w,ref:k,style:{...w.style,animation:pe?void 0:"none"}})})})});OA.displayName=Ww;var LA="PopperArrow",kM={top:"bottom",right:"left",bottom:"top",left:"right"},FA=_.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=EM(LA,n),o=kM[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(_M,{...i,ref:r,style:{...i.style,display:"block"}})})});FA.displayName=LA;function PM(t){return t!==null}var TM=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,h]=MA(r),m={start:"0%",center:"50%",end:"100%"}[h],x=(i.arrow?.x??0)+l/2,p=(i.arrow?.y??0)+c/2;let y="",w="";return u==="bottom"?(y=o?m:`${x}px`,w=`${-c}px`):u==="top"?(y=o?m:`${x}px`,w=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,w=o?m:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,w=o?m:`${p}px`),{data:{x:y,y:w}}}});function MA(t){const[e,r="center"]=t.split("-");return[e,r]}var U1=IA,qm=RA,V1=OA,$1=FA;function IM(t){const e=DM(t),r=_.forwardRef((n,i)=>{const{children:a,...o}=n,l=_.Children.toArray(a),c=l.find(OM);if(c){const u=c.props.children,h=l.map(m=>m===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:m);return s.jsx(e,{...o,ref:i,children:_.isValidElement(u)?_.cloneElement(u,void 0,h):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function DM(t){const e=_.forwardRef((r,n)=>{const{children:i,...a}=r;if(_.isValidElement(i)){const o=FM(i),l=LM(a,i.props);return i.type!==_.Fragment&&(l.ref=n?hc(n,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var RM=Symbol("radix.slottable");function OM(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===RM}function LM(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function FM(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var BA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),MM="VisuallyHidden",UA=_.forwardRef((t,e)=>s.jsx(Ar.span,{...t,ref:e,style:{...BA,...t.style}}));UA.displayName=MM;var BM=UA,UM=[" ","Enter","ArrowUp","ArrowDown"],VM=[" ","Enter"],gh="Select",[z1,H1,$M]=Mw(gh),[i0]=xo(gh,[$M,hu]),q1=hu(),[zM,fu]=i0(gh),[HM,qM]=i0(gh),VA=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:m,disabled:x,required:p,form:y}=t,w=q1(e),[j,C]=_.useState(null),[A,k]=_.useState(null),[P,M]=_.useState(!1),$=O1(u),[L,D]=cc({prop:n,defaultProp:i??!1,onChange:a,caller:gh}),[V,ne]=cc({prop:o,defaultProp:l,onChange:c,caller:gh}),B=_.useRef(null),F=j?y||!!j.closest("form"):!0,[X,ee]=_.useState(new Set),xe=Array.from(X).map(oe=>oe.props.value).join(";");return s.jsx(U1,{...w,children:s.jsxs(zM,{required:p,scope:e,trigger:j,onTriggerChange:C,valueNode:A,onValueNodeChange:k,valueNodeHasChildren:P,onValueNodeHasChildrenChange:M,contentId:Vo(),value:V,onValueChange:ne,open:L,onOpenChange:D,dir:$,triggerPointerDownPosRef:B,disabled:x,children:[s.jsx(z1.Provider,{scope:e,children:s.jsx(HM,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(oe=>{ee(pe=>new Set(pe).add(oe))},[]),onNativeOptionRemove:_.useCallback(oe=>{ee(pe=>{const H=new Set(pe);return H.delete(oe),H})},[]),children:r})}),F?s.jsxs(cS,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:m,value:V,onChange:oe=>ne(oe.target.value),disabled:x,form:y,children:[V===void 0?s.jsx("option",{value:""}):null,Array.from(X)]},xe):null]})})};VA.displayName=gh;var $A="SelectTrigger",zA=_.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=q1(r),o=fu($A,r),l=o.disabled||n,c=Kr(e,o.onTriggerChange),u=H1(r),h=_.useRef("touch"),[m,x,p]=uS(w=>{const j=u().filter(k=>!k.disabled),C=j.find(k=>k.value===o.value),A=hS(j,w,C);A!==void 0&&o.onValueChange(A.value)}),y=w=>{l||(o.onOpenChange(!0),p()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return s.jsx(qm,{asChild:!0,...a,children:s.jsx(Ar.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":dS(o.value)?"":void 0,...i,ref:c,onClick:Nt(i.onClick,w=>{w.currentTarget.focus(),h.current!=="mouse"&&y(w)}),onPointerDown:Nt(i.onPointerDown,w=>{h.current=w.pointerType;const j=w.target;j.hasPointerCapture(w.pointerId)&&j.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(y(w),w.preventDefault())}),onKeyDown:Nt(i.onKeyDown,w=>{const j=m.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&x(w.key),!(j&&w.key===" ")&&UM.includes(w.key)&&(y(),w.preventDefault())})})})});zA.displayName=$A;var HA="SelectValue",qA=_.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...l}=t,c=fu(HA,r),{onValueNodeHasChildrenChange:u}=c,h=a!==void 0,m=Kr(e,c.onValueNodeChange);return fi(()=>{u(h)},[u,h]),s.jsx(Ar.span,{...l,ref:m,style:{pointerEvents:"none"},children:dS(c.value)?s.jsx(s.Fragment,{children:o}):a})});qA.displayName=HA;var WM="SelectIcon",WA=_.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return s.jsx(Ar.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});WA.displayName=WM;var GM="SelectPortal",GA=t=>s.jsx(r0,{asChild:!0,...t});GA.displayName=GM;var vh="SelectContent",KA=_.forwardRef((t,e)=>{const r=fu(vh,t.__scopeSelect),[n,i]=_.useState();if(fi(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Vm.createPortal(s.jsx(YA,{scope:t.__scopeSelect,children:s.jsx(z1.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(XA,{...t,ref:e})});KA.displayName=vh;var yl=10,[YA,mu]=i0(vh),KM="SelectContentImpl",YM=IM("SelectContent.RemoveScroll"),XA=_.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:x,collisionPadding:p,sticky:y,hideWhenDetached:w,avoidCollisions:j,...C}=t,A=fu(vh,r),[k,P]=_.useState(null),[M,$]=_.useState(null),L=Kr(e,re=>P(re)),[D,V]=_.useState(null),[ne,B]=_.useState(null),F=H1(r),[X,ee]=_.useState(!1),xe=_.useRef(!1);_.useEffect(()=>{if(k)return P1(k)},[k]),E1();const oe=_.useCallback(re=>{const[le,...ye]=F().map(Be=>Be.ref.current),[je]=ye.slice(-1),Se=document.activeElement;for(const Be of re)if(Be===Se||(Be?.scrollIntoView({block:"nearest"}),Be===le&&M&&(M.scrollTop=0),Be===je&&M&&(M.scrollTop=M.scrollHeight),Be?.focus(),document.activeElement!==Se))return},[F,M]),pe=_.useCallback(()=>oe([D,k]),[oe,D,k]);_.useEffect(()=>{X&&pe()},[X,pe]);const{onOpenChange:H,triggerPointerDownPosRef:q}=A;_.useEffect(()=>{if(k){let re={x:0,y:0};const le=je=>{re={x:Math.abs(Math.round(je.pageX)-(q.current?.x??0)),y:Math.abs(Math.round(je.pageY)-(q.current?.y??0))}},ye=je=>{re.x<=10&&re.y<=10?je.preventDefault():k.contains(je.target)||H(!1),document.removeEventListener("pointermove",le),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ye,{capture:!0})}}},[k,H,q]),_.useEffect(()=>{const re=()=>H(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[H]);const[ie,G]=uS(re=>{const le=F().filter(Se=>!Se.disabled),ye=le.find(Se=>Se.ref.current===document.activeElement),je=hS(le,re,ye);je&&setTimeout(()=>je.ref.current.focus())}),R=_.useCallback((re,le,ye)=>{const je=!xe.current&&!ye;(A.value!==void 0&&A.value===le||je)&&(V(re),je&&(xe.current=!0))},[A.value]),z=_.useCallback(()=>k?.focus(),[k]),U=_.useCallback((re,le,ye)=>{const je=!xe.current&&!ye;(A.value!==void 0&&A.value===le||je)&&B(re)},[A.value]),Q=n==="popper"?oy:ZA,J=Q===oy?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:x,collisionPadding:p,sticky:y,hideWhenDetached:w,avoidCollisions:j}:{};return s.jsx(YA,{scope:r,content:k,viewport:M,onViewportChange:$,itemRefCallback:R,selectedItem:D,onItemLeave:z,itemTextRefCallback:U,focusSelectedItem:pe,selectedItemText:ne,position:n,isPositioned:X,searchRef:ie,children:s.jsx(zm,{as:YM,allowPinchZoom:!0,children:s.jsx($m,{asChild:!0,trapped:A.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Nt(i,re=>{A.trigger?.focus({preventScroll:!0}),re.preventDefault()}),children:s.jsx(t0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:s.jsx(Q,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:re=>re.preventDefault(),...C,...J,onPlaced:()=>ee(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Nt(C.onKeyDown,re=>{const le=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!le&&re.key.length===1&&G(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let je=F().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(re.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Se=re.target,Be=je.indexOf(Se);je=je.slice(Be+1)}setTimeout(()=>oe(je)),re.preventDefault()}})})})})})})});XA.displayName=KM;var XM="SelectItemAlignedPosition",ZA=_.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=fu(vh,r),o=mu(vh,r),[l,c]=_.useState(null),[u,h]=_.useState(null),m=Kr(e,L=>h(L)),x=H1(r),p=_.useRef(!1),y=_.useRef(!0),{viewport:w,selectedItem:j,selectedItemText:C,focusSelectedItem:A}=o,k=_.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&w&&j&&C){const L=a.trigger.getBoundingClientRect(),D=u.getBoundingClientRect(),V=a.valueNode.getBoundingClientRect(),ne=C.getBoundingClientRect();if(a.dir!=="rtl"){const Se=ne.left-D.left,Be=V.left-Se,Fe=L.left-Be,Te=L.width+Fe,ce=Math.max(Te,D.width),$e=window.innerWidth-yl,Ee=v4(Be,[yl,Math.max(yl,$e-ce)]);l.style.minWidth=Te+"px",l.style.left=Ee+"px"}else{const Se=D.right-ne.right,Be=window.innerWidth-V.right-Se,Fe=window.innerWidth-L.right-Be,Te=L.width+Fe,ce=Math.max(Te,D.width),$e=window.innerWidth-yl,Ee=v4(Be,[yl,Math.max(yl,$e-ce)]);l.style.minWidth=Te+"px",l.style.right=Ee+"px"}const B=x(),F=window.innerHeight-yl*2,X=w.scrollHeight,ee=window.getComputedStyle(u),xe=parseInt(ee.borderTopWidth,10),oe=parseInt(ee.paddingTop,10),pe=parseInt(ee.borderBottomWidth,10),H=parseInt(ee.paddingBottom,10),q=xe+oe+X+H+pe,ie=Math.min(j.offsetHeight*5,q),G=window.getComputedStyle(w),R=parseInt(G.paddingTop,10),z=parseInt(G.paddingBottom,10),U=L.top+L.height/2-yl,Q=F-U,J=j.offsetHeight/2,re=j.offsetTop+J,le=xe+oe+re,ye=q-le;if(le<=U){const Se=B.length>0&&j===B[B.length-1].ref.current;l.style.bottom="0px";const Be=u.clientHeight-w.offsetTop-w.offsetHeight,Fe=Math.max(Q,J+(Se?z:0)+Be+pe),Te=le+Fe;l.style.height=Te+"px"}else{const Se=B.length>0&&j===B[0].ref.current;l.style.top="0px";const Fe=Math.max(U,xe+w.offsetTop+(Se?R:0)+J)+ye;l.style.height=Fe+"px",w.scrollTop=le-U+w.offsetTop}l.style.margin=`${yl}px 0`,l.style.minHeight=ie+"px",l.style.maxHeight=F+"px",n?.(),requestAnimationFrame(()=>p.current=!0)}},[x,a.trigger,a.valueNode,l,u,w,j,C,a.dir,n]);fi(()=>k(),[k]);const[P,M]=_.useState();fi(()=>{u&&M(window.getComputedStyle(u).zIndex)},[u]);const $=_.useCallback(L=>{L&&y.current===!0&&(k(),A?.(),y.current=!1)},[k,A]);return s.jsx(JM,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:$,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:s.jsx(Ar.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});ZA.displayName=XM;var ZM="SelectPopperPosition",oy=_.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=yl,...a}=t,o=q1(r);return s.jsx(V1,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});oy.displayName=ZM;var[JM,Gw]=i0(vh,{}),ly="SelectViewport",JA=_.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=mu(ly,r),o=Gw(ly,r),l=Kr(e,a.onViewportChange),c=_.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(z1.Slot,{scope:r,children:s.jsx(Ar.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Nt(i.onScroll,u=>{const h=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=o;if(x?.current&&m){const p=Math.abs(c.current-h.scrollTop);if(p>0){const y=window.innerHeight-yl*2,w=parseFloat(m.style.minHeight),j=parseFloat(m.style.height),C=Math.max(w,j);if(C<y){const A=C+p,k=Math.min(y,A),P=A-k;m.style.height=k+"px",m.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,m.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});JA.displayName=ly;var QA="SelectGroup",[QM,eB]=i0(QA),tB=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Vo();return s.jsx(QM,{scope:r,id:i,children:s.jsx(Ar.div,{role:"group","aria-labelledby":i,...n,ref:e})})});tB.displayName=QA;var eS="SelectLabel",rB=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=eB(eS,r);return s.jsx(Ar.div,{id:i.id,...n,ref:e})});rB.displayName=eS;var a1="SelectItem",[nB,tS]=i0(a1),rS=_.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,l=fu(a1,r),c=mu(a1,r),u=l.value===n,[h,m]=_.useState(a??""),[x,p]=_.useState(!1),y=Kr(e,A=>c.itemRefCallback?.(A,n,i)),w=Vo(),j=_.useRef("touch"),C=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(nB,{scope:r,value:n,disabled:i,textId:w,isSelected:u,onItemTextChange:_.useCallback(A=>{m(k=>k||(A?.textContent??"").trim())},[]),children:s.jsx(z1.ItemSlot,{scope:r,value:n,disabled:i,textValue:h,children:s.jsx(Ar.div,{role:"option","aria-labelledby":w,"data-highlighted":x?"":void 0,"aria-selected":u&&x,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:Nt(o.onFocus,()=>p(!0)),onBlur:Nt(o.onBlur,()=>p(!1)),onClick:Nt(o.onClick,()=>{j.current!=="mouse"&&C()}),onPointerUp:Nt(o.onPointerUp,()=>{j.current==="mouse"&&C()}),onPointerDown:Nt(o.onPointerDown,A=>{j.current=A.pointerType}),onPointerMove:Nt(o.onPointerMove,A=>{j.current=A.pointerType,i?c.onItemLeave?.():j.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Nt(o.onPointerLeave,A=>{A.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Nt(o.onKeyDown,A=>{c.searchRef?.current!==""&&A.key===" "||(VM.includes(A.key)&&C(),A.key===" "&&A.preventDefault())})})})})});rS.displayName=a1;var Z0="SelectItemText",nS=_.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=fu(Z0,r),l=mu(Z0,r),c=tS(Z0,r),u=qM(Z0,r),[h,m]=_.useState(null),x=Kr(e,C=>m(C),c.onItemTextChange,C=>l.itemTextRefCallback?.(C,c.value,c.disabled)),p=h?.textContent,y=_.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:w,onNativeOptionRemove:j}=u;return fi(()=>(w(y),()=>j(y)),[w,j,y]),s.jsxs(s.Fragment,{children:[s.jsx(Ar.span,{id:c.textId,...a,ref:x}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Vm.createPortal(a.children,o.valueNode):null]})});nS.displayName=Z0;var sS="SelectItemIndicator",iS=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return tS(sS,r).isSelected?s.jsx(Ar.span,{"aria-hidden":!0,...n,ref:e}):null});iS.displayName=sS;var cy="SelectScrollUpButton",aS=_.forwardRef((t,e)=>{const r=mu(cy,t.__scopeSelect),n=Gw(cy,t.__scopeSelect),[i,a]=_.useState(!1),o=Kr(e,n.onScrollButtonChange);return fi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(lS,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});aS.displayName=cy;var dy="SelectScrollDownButton",oS=_.forwardRef((t,e)=>{const r=mu(dy,t.__scopeSelect),n=Gw(dy,t.__scopeSelect),[i,a]=_.useState(!1),o=Kr(e,n.onScrollButtonChange);return fi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;a(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(lS,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});oS.displayName=dy;var lS=_.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=mu("SelectScrollButton",r),o=_.useRef(null),l=H1(r),c=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),fi(()=>{l().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ar.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Nt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Nt(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Nt(i.onPointerLeave,()=>{c()})})}),sB="SelectSeparator",iB=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return s.jsx(Ar.div,{"aria-hidden":!0,...n,ref:e})});iB.displayName=sB;var uy="SelectArrow",aB=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=q1(r),a=fu(uy,r),o=mu(uy,r);return a.open&&o.position==="popper"?s.jsx($1,{...i,...n,ref:e}):null});aB.displayName=uy;var oB="SelectBubbleInput",cS=_.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=_.useRef(null),a=Kr(n,i),o=Aw(e);return _.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const m=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(m)}},[o,e]),s.jsx(Ar.select,{...r,style:{...BA,...r.style},ref:a,defaultValue:e})});cS.displayName=oB;function dS(t){return t===""||t===void 0}function uS(t){const e=_l(t),r=_.useRef(""),n=_.useRef(0),i=_.useCallback(o=>{const l=r.current+o;e(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),a=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function hS(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=lB(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function lB(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var cB=VA,dB=zA,uB=qA,hB=WA,fB=GA,mB=KA,pB=JA,xB=rS,gB=nS,vB=iS,yB=aS,wB=oS;function ei({...t}){return s.jsx(cB,{"data-slot":"select",...t})}function ti({...t}){return s.jsx(uB,{"data-slot":"select-value",...t})}function ri({className:t,size:e="default",children:r,...n}){return s.jsxs(dB,{"data-slot":"select-trigger","data-size":e,className:hr("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,s.jsx(hB,{asChild:!0,children:s.jsx(Xx,{className:"size-4 opacity-50"})})]})}function ni({className:t,children:e,position:r="popper",...n}){return s.jsx(fB,{children:s.jsxs(mB,{"data-slot":"select-content",className:hr("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[s.jsx(bB,{}),s.jsx(pB,{className:hr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),s.jsx(NB,{})]})})}function At({className:t,children:e,...r}){return s.jsxs(xB,{"data-slot":"select-item",className:hr("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(vB,{children:s.jsx(lc,{className:"size-4"})})}),s.jsx(gB,{children:e})]})}function bB({className:t,...e}){return s.jsx(yB,{"data-slot":"select-scroll-up-button",className:hr("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(E9,{className:"size-4"})})}function NB({className:t,...e}){return s.jsx(wB,{"data-slot":"select-scroll-down-button",className:hr("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(Xx,{className:"size-4"})})}var jB=Symbol("radix.slottable");function CB(t){const e=({children:r})=>s.jsx(s.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=jB,e}var[W1]=xo("Tooltip",[hu]),G1=hu(),fS="TooltipProvider",_B=700,hy="tooltip.open",[AB,Kw]=W1(fS),mS=t=>{const{__scopeTooltip:e,delayDuration:r=_B,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,o=_.useRef(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(AB,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};mS.displayName=fS;var _m="Tooltip",[SB,Wm]=W1(_m),pS=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=t,c=Kw(_m,t.__scopeTooltip),u=G1(e),[h,m]=_.useState(null),x=Vo(),p=_.useRef(0),y=o??c.disableHoverableContent,w=l??c.delayDuration,j=_.useRef(!1),[C,A]=cc({prop:n,defaultProp:i??!1,onChange:L=>{L?(c.onOpen(),document.dispatchEvent(new CustomEvent(hy))):c.onClose(),a?.(L)},caller:_m}),k=_.useMemo(()=>C?j.current?"delayed-open":"instant-open":"closed",[C]),P=_.useCallback(()=>{window.clearTimeout(p.current),p.current=0,j.current=!1,A(!0)},[A]),M=_.useCallback(()=>{window.clearTimeout(p.current),p.current=0,A(!1)},[A]),$=_.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{j.current=!0,A(!0),p.current=0},w)},[w,A]);return _.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(U1,{...u,children:s.jsx(SB,{scope:e,contentId:x,open:C,stateAttribute:k,trigger:h,onTriggerChange:m,onTriggerEnter:_.useCallback(()=>{c.isOpenDelayedRef.current?$():P()},[c.isOpenDelayedRef,$,P]),onTriggerLeave:_.useCallback(()=>{y?M():(window.clearTimeout(p.current),p.current=0)},[M,y]),onOpen:P,onClose:M,disableHoverableContent:y,children:r})})};pS.displayName=_m;var fy="TooltipTrigger",xS=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Wm(fy,r),a=Kw(fy,r),o=G1(r),l=_.useRef(null),c=Kr(e,l,i.onTriggerChange),u=_.useRef(!1),h=_.useRef(!1),m=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(qm,{asChild:!0,...o,children:s.jsx(Ar.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Nt(t.onPointerMove,x=>{x.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Nt(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Nt(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Nt(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Nt(t.onBlur,i.onClose),onClick:Nt(t.onClick,i.onClose)})})});xS.displayName=fy;var Yw="TooltipPortal",[EB,kB]=W1(Yw,{forceMount:void 0}),gS=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:i}=t,a=Wm(Yw,e);return s.jsx(EB,{scope:e,forceMount:r,children:s.jsx(za,{present:r||a.open,children:s.jsx(r0,{asChild:!0,container:i,children:n})})})};gS.displayName=Yw;var Wf="TooltipContent",vS=_.forwardRef((t,e)=>{const r=kB(Wf,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,o=Wm(Wf,t.__scopeTooltip);return s.jsx(za,{present:n||o.open,children:o.disableHoverableContent?s.jsx(yS,{side:i,...a,ref:e}):s.jsx(PB,{side:i,...a,ref:e})})}),PB=_.forwardRef((t,e)=>{const r=Wm(Wf,t.__scopeTooltip),n=Kw(Wf,t.__scopeTooltip),i=_.useRef(null),a=Kr(e,i),[o,l]=_.useState(null),{trigger:c,onClose:u}=r,h=i.current,{onPointerInTransitChange:m}=n,x=_.useCallback(()=>{l(null),m(!1)},[m]),p=_.useCallback((y,w)=>{const j=y.currentTarget,C={x:y.clientX,y:y.clientY},A=RB(C,j.getBoundingClientRect()),k=OB(C,A),P=LB(w.getBoundingClientRect()),M=MB([...k,...P]);l(M),m(!0)},[m]);return _.useEffect(()=>()=>x(),[x]),_.useEffect(()=>{if(c&&h){const y=j=>p(j,h),w=j=>p(j,c);return c.addEventListener("pointerleave",y),h.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",y),h.removeEventListener("pointerleave",w)}}},[c,h,p,x]),_.useEffect(()=>{if(o){const y=w=>{const j=w.target,C={x:w.clientX,y:w.clientY},A=c?.contains(j)||h?.contains(j),k=!FB(C,o);A?x():k&&(x(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,h,o,u,x]),s.jsx(yS,{...t,ref:a})}),[TB,IB]=W1(_m,{isInside:!1}),DB=CB("TooltipContent"),yS=_.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=Wm(Wf,r),u=G1(r),{onClose:h}=c;return _.useEffect(()=>(document.addEventListener(hy,h),()=>document.removeEventListener(hy,h)),[h]),_.useEffect(()=>{if(c.trigger){const m=x=>{x.target?.contains(c.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,h]),s.jsx(t0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:s.jsxs(V1,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(DB,{children:n}),s.jsx(TB,{scope:r,isInside:!0,children:s.jsx(BM,{id:c.contentId,role:"tooltip",children:i||n})})]})})});vS.displayName=Wf;var wS="TooltipArrow",bS=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=G1(r);return IB(wS,r).isInside?null:s.jsx($1,{...i,...n,ref:e})});bS.displayName=wS;function RB(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function OB(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function LB(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function FB(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],u=l.x,h=l.y,m=c.x,x=c.y;h>n!=x>n&&r<(m-u)*(n-h)/(x-h)+u&&(i=!i)}return i}function MB(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),BB(e)}function BB(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var UB=mS,VB=pS,$B=xS,zB=gS,HB=vS,qB=bS;function zr({delayDuration:t=0,...e}){return s.jsx(UB,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function Hr({...t}){return s.jsx(zr,{children:s.jsx(VB,{"data-slot":"tooltip",...t})})}function qr({...t}){return s.jsx($B,{"data-slot":"tooltip-trigger",...t})}function Wr({className:t,sideOffset:e=0,children:r,...n}){return s.jsx(zB,{children:s.jsxs(HB,{"data-slot":"tooltip-content",sideOffset:e,className:hr("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...n,children:[r,s.jsx(qB,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function WB(t,e=[]){let r=[];function n(a,o){const l=_.createContext(o);l.displayName=a+"Context";const c=r.length;r=[...r,o];const u=m=>{const{scope:x,children:p,...y}=m,w=x?.[t]?.[c]||l,j=_.useMemo(()=>y,Object.values(y));return s.jsx(w.Provider,{value:j,children:p})};u.displayName=a+"Provider";function h(m,x){const p=x?.[t]?.[c]||l,y=_.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[u,h]}const i=()=>{const a=r.map(o=>_.createContext(o));return function(l){const c=l?.[t]||a;return _.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,GB(i,...e)]}function GB(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const m=c(a)[`__scope${u}`];return{...l,...m}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var KB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],NS=KB.reduce((t,e)=>{const r=Um(`Primitive.${e}`),n=_.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Xw="Progress",Zw=100,[YB]=WB(Xw),[XB,ZB]=YB(Xw),jS=_.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=JB,...o}=t;(i||i===0)&&!T4(i)&&console.error(QB(`${i}`,"Progress"));const l=T4(i)?i:Zw;n!==null&&!I4(n,l)&&console.error(eU(`${n}`,"Progress"));const c=I4(n,l)?n:null,u=o1(c)?a(c,l):void 0;return s.jsx(XB,{scope:r,value:c,max:l,children:s.jsx(NS.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":o1(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":AS(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});jS.displayName=Xw;var CS="ProgressIndicator",_S=_.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=ZB(CS,r);return s.jsx(NS.div,{"data-state":AS(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});_S.displayName=CS;function JB(t,e){return`${Math.round(t/e*100)}%`}function AS(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function o1(t){return typeof t=="number"}function T4(t){return o1(t)&&!isNaN(t)&&t>0}function I4(t,e){return o1(t)&&!isNaN(t)&&t<=e&&t>=0}function QB(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Zw}\`.`}function eU(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Zw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var tU=jS,rU=_S;function SS({className:t,value:e,...r}){return s.jsx(tU,{"data-slot":"progress",className:hr("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:s.jsx(rU,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function _r({...t}){return s.jsx(Rw,{"data-slot":"dialog",...t})}function nU({...t}){return s.jsx(Ow,{"data-slot":"dialog-portal",...t})}const ES=_.forwardRef(({className:t,...e},r)=>s.jsx(I1,{ref:r,"data-slot":"dialog-overlay",className:hr("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));ES.displayName=I1.displayName;const jr=_.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(nU,{"data-slot":"dialog-portal",children:[s.jsx(ES,{}),s.jsxs(D1,{ref:n,"data-slot":"dialog-content",className:hr("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,s.jsxs(R1,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(zs,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jr.displayName=D1.displayName;function Er({className:t,...e}){return s.jsx("div",{"data-slot":"dialog-header",className:hr("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Br({className:t,...e}){return s.jsx("div",{"data-slot":"dialog-footer",className:hr("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function kr({className:t,...e}){return s.jsx(Lw,{"data-slot":"dialog-title",className:hr("text-lg leading-none font-semibold",t),...e})}function Pr({className:t,...e}){return s.jsx(Fw,{"data-slot":"dialog-description",className:hr("text-muted-foreground text-sm",t),...e})}var sU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],iU=sU.reduce((t,e)=>{const r=Um(`Primitive.${e}`),n=_.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),aU="Separator",D4="horizontal",oU=["horizontal","vertical"],kS=_.forwardRef((t,e)=>{const{decorative:r,orientation:n=D4,...i}=t,a=lU(n)?n:D4,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(iU.div,{"data-orientation":a,...l,...i,ref:e})});kS.displayName=aU;function lU(t){return oU.includes(t)}var cU=kS;function Ur({className:t,orientation:e="horizontal",decorative:r=!0,...n}){return s.jsx(cU,{"data-slot":"separator-root",decorative:r,orientation:e,className:hr("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}async function PS(t){const{data:e,error:r}=await $n.from("patients").select(`
      id,
      first_name,
      last_name,
      date_of_birth,
      charts:charts (
        id,
        status,
        source,
        created_at,
        created_by,
        finalized_at,
        medications (id)
      )
    `).eq("assigned_clinician_id",t);if(r)throw r;return e}function dU(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const uU=t=>{switch(t){case"success":return mU;case"info":return xU;case"warning":return pU;case"error":return gU;default:return null}},hU=Array(12).fill(0),fU=({visible:t,className:e})=>ht.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ht.createElement("div",{className:"sonner-spinner"},hU.map((r,n)=>ht.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),mU=ht.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ht.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pU=ht.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ht.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xU=ht.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ht.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gU=ht.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ht.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vU=ht.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ht.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ht.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),yU=()=>{const[t,e]=ht.useState(document.hidden);return ht.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let my=1;class wU{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...i}=e,a=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:my++,o=this.toasts.find(c=>c.id===a),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...e,id:a,title:n}),{...c,...e,id:a,dismissible:l,title:n}):c):this.addToast({title:n,...i,dismissible:l,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=n!==void 0,o;const l=i.then(async u=>{if(o=["resolve",u],ht.isValidElement(u))a=!1,this.create({id:n,type:"default",message:u});else if(NU(u)&&!u.ok){a=!1;const m=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,x=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,y=typeof m=="object"&&!ht.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:x,...y})}else if(u instanceof Error){a=!1;const m=typeof r.error=="function"?await r.error(u):r.error,x=typeof r.description=="function"?await r.description(u):r.description,y=typeof m=="object"&&!ht.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:x,...y})}else if(r.success!==void 0){a=!1;const m=typeof r.success=="function"?await r.success(u):r.success,x=typeof r.description=="function"?await r.description(u):r.description,y=typeof m=="object"&&!ht.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:x,...y})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){a=!1;const h=typeof r.error=="function"?await r.error(u):r.error,m=typeof r.description=="function"?await r.description(u):r.description,p=typeof h=="object"&&!ht.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:m,...p})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,h)=>l.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(e,r)=>{const n=r?.id||my++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Fa=new wU,bU=(t,e)=>{const r=e?.id||my++;return Fa.addToast({title:t,...e,id:r}),r},NU=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",jU=bU,CU=()=>Fa.toasts,_U=()=>Fa.getActiveToasts(),et=Object.assign(jU,{success:Fa.success,info:Fa.info,warning:Fa.warning,error:Fa.error,custom:Fa.custom,message:Fa.message,promise:Fa.promise,dismiss:Fa.dismiss,loading:Fa.loading},{getHistory:CU,getToasts:_U});dU("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function sx(t){return t.label!==void 0}const AU=3,SU="24px",EU="16px",R4=4e3,kU=356,PU=14,TU=45,IU=200;function Yl(...t){return t.filter(Boolean).join(" ")}function DU(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const RU=t=>{var e,r,n,i,a,o,l,c,u;const{invert:h,toast:m,unstyled:x,interacting:p,setHeights:y,visibleToasts:w,heights:j,index:C,toasts:A,expanded:k,removeToast:P,defaultRichColors:M,closeButton:$,style:L,cancelButtonStyle:D,actionButtonStyle:V,className:ne="",descriptionClassName:B="",duration:F,position:X,gap:ee,expandByDefault:xe,classNames:oe,icons:pe,closeButtonAriaLabel:H="Close toast"}=t,[q,ie]=ht.useState(null),[G,R]=ht.useState(null),[z,U]=ht.useState(!1),[Q,J]=ht.useState(!1),[re,le]=ht.useState(!1),[ye,je]=ht.useState(!1),[Se,Be]=ht.useState(!1),[Fe,Te]=ht.useState(0),[ce,$e]=ht.useState(0),Ee=ht.useRef(m.duration||F||R4),lt=ht.useRef(null),Pe=ht.useRef(null),nt=C===0,We=C+1<=w,xt=m.type,ct=m.dismissible!==!1,tr=m.className||"",It=m.descriptionClassName||"",St=ht.useMemo(()=>j.findIndex(ge=>ge.toastId===m.id)||0,[j,m.id]),fr=ht.useMemo(()=>{var ge;return(ge=m.closeButton)!=null?ge:$},[m.closeButton,$]),Ct=ht.useMemo(()=>m.duration||F||R4,[m.duration,F]),mt=ht.useRef(0),Et=ht.useRef(0),jt=ht.useRef(0),rr=ht.useRef(null),[cr,vt]=X.split("-"),Zt=ht.useMemo(()=>j.reduce((ge,pt,bt)=>bt>=St?ge:ge+pt.height,0),[j,St]),mr=yU(),kt=m.invert||h,Qt=xt==="loading";Et.current=ht.useMemo(()=>St*ee+Zt,[St,Zt]),ht.useEffect(()=>{Ee.current=Ct},[Ct]),ht.useEffect(()=>{U(!0)},[]),ht.useEffect(()=>{const ge=Pe.current;if(ge){const pt=ge.getBoundingClientRect().height;return $e(pt),y(bt=>[{toastId:m.id,height:pt,position:m.position},...bt]),()=>y(bt=>bt.filter(yr=>yr.toastId!==m.id))}},[y,m.id]),ht.useLayoutEffect(()=>{if(!z)return;const ge=Pe.current,pt=ge.style.height;ge.style.height="auto";const bt=ge.getBoundingClientRect().height;ge.style.height=pt,$e(bt),y(yr=>yr.find(Ce=>Ce.toastId===m.id)?yr.map(Ce=>Ce.toastId===m.id?{...Ce,height:bt}:Ce):[{toastId:m.id,height:bt,position:m.position},...yr])},[z,m.title,m.description,y,m.id,m.jsx,m.action,m.cancel]);const Dt=ht.useCallback(()=>{J(!0),Te(Et.current),y(ge=>ge.filter(pt=>pt.toastId!==m.id)),setTimeout(()=>{P(m)},IU)},[m,P,y,Et]);ht.useEffect(()=>{if(m.promise&&xt==="loading"||m.duration===1/0||m.type==="loading")return;let ge;return k||p||mr?(()=>{if(jt.current<mt.current){const yr=new Date().getTime()-mt.current;Ee.current=Ee.current-yr}jt.current=new Date().getTime()})():(()=>{Ee.current!==1/0&&(mt.current=new Date().getTime(),ge=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Dt()},Ee.current))})(),()=>clearTimeout(ge)},[k,p,m,xt,mr,Dt]),ht.useEffect(()=>{m.delete&&(Dt(),m.onDismiss==null||m.onDismiss.call(m,m))},[Dt,m.delete]);function Or(){var ge;if(pe?.loading){var pt;return ht.createElement("div",{className:Yl(oe?.loader,m==null||(pt=m.classNames)==null?void 0:pt.loader,"sonner-loader"),"data-visible":xt==="loading"},pe.loading)}return ht.createElement(fU,{className:Yl(oe?.loader,m==null||(ge=m.classNames)==null?void 0:ge.loader),visible:xt==="loading"})}const Dr=m.icon||pe?.[xt]||uU(xt);var Cr,Mt;return ht.createElement("li",{tabIndex:0,ref:Pe,className:Yl(ne,tr,oe?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,oe?.default,oe?.[xt],m==null||(r=m.classNames)==null?void 0:r[xt]),"data-sonner-toast":"","data-rich-colors":(Cr=m.richColors)!=null?Cr:M,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":z,"data-promise":!!m.promise,"data-swiped":Se,"data-removed":Q,"data-visible":We,"data-y-position":cr,"data-x-position":vt,"data-index":C,"data-front":nt,"data-swiping":re,"data-dismissible":ct,"data-type":xt,"data-invert":kt,"data-swipe-out":ye,"data-swipe-direction":G,"data-expanded":!!(k||xe&&z),"data-testid":m.testId,style:{"--index":C,"--toasts-before":C,"--z-index":A.length-C,"--offset":`${Q?Fe:Et.current}px`,"--initial-height":xe?"auto":`${ce}px`,...L,...m.style},onDragEnd:()=>{le(!1),ie(null),rr.current=null},onPointerDown:ge=>{ge.button!==2&&(Qt||!ct||(lt.current=new Date,Te(Et.current),ge.target.setPointerCapture(ge.pointerId),ge.target.tagName!=="BUTTON"&&(le(!0),rr.current={x:ge.clientX,y:ge.clientY})))},onPointerUp:()=>{var ge,pt,bt;if(ye||!ct)return;rr.current=null;const yr=Number(((ge=Pe.current)==null?void 0:ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qr=Number(((pt=Pe.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ce=new Date().getTime()-((bt=lt.current)==null?void 0:bt.getTime()),wt=q==="x"?yr:Qr,tt=Math.abs(wt)/Ce;if(Math.abs(wt)>=TU||tt>.11){Te(Et.current),m.onDismiss==null||m.onDismiss.call(m,m),R(q==="x"?yr>0?"right":"left":Qr>0?"down":"up"),Dt(),je(!0);return}else{var Rr,Yr;(Rr=Pe.current)==null||Rr.style.setProperty("--swipe-amount-x","0px"),(Yr=Pe.current)==null||Yr.style.setProperty("--swipe-amount-y","0px")}Be(!1),le(!1),ie(null)},onPointerMove:ge=>{var pt,bt,yr;if(!rr.current||!ct||((pt=window.getSelection())==null?void 0:pt.toString().length)>0)return;const Ce=ge.clientY-rr.current.y,wt=ge.clientX-rr.current.x;var tt;const Rr=(tt=t.swipeDirections)!=null?tt:DU(X);!q&&(Math.abs(wt)>1||Math.abs(Ce)>1)&&ie(Math.abs(wt)>Math.abs(Ce)?"x":"y");let Yr={x:0,y:0};const Lr=wr=>1/(1.5+Math.abs(wr)/20);if(q==="y"){if(Rr.includes("top")||Rr.includes("bottom"))if(Rr.includes("top")&&Ce<0||Rr.includes("bottom")&&Ce>0)Yr.y=Ce;else{const wr=Ce*Lr(Ce);Yr.y=Math.abs(wr)<Math.abs(Ce)?wr:Ce}}else if(q==="x"&&(Rr.includes("left")||Rr.includes("right")))if(Rr.includes("left")&&wt<0||Rr.includes("right")&&wt>0)Yr.x=wt;else{const wr=wt*Lr(wt);Yr.x=Math.abs(wr)<Math.abs(wt)?wr:wt}(Math.abs(Yr.x)>0||Math.abs(Yr.y)>0)&&Be(!0),(bt=Pe.current)==null||bt.style.setProperty("--swipe-amount-x",`${Yr.x}px`),(yr=Pe.current)==null||yr.style.setProperty("--swipe-amount-y",`${Yr.y}px`)}},fr&&!m.jsx&&xt!=="loading"?ht.createElement("button",{"aria-label":H,"data-disabled":Qt,"data-close-button":!0,onClick:Qt||!ct?()=>{}:()=>{Dt(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Yl(oe?.closeButton,m==null||(n=m.classNames)==null?void 0:n.closeButton)},(Mt=pe?.close)!=null?Mt:vU):null,(xt||m.icon||m.promise)&&m.icon!==null&&(pe?.[xt]!==null||m.icon)?ht.createElement("div",{"data-icon":"",className:Yl(oe?.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Or():null,m.type!=="loading"?Dr:null):null,ht.createElement("div",{"data-content":"",className:Yl(oe?.content,m==null||(a=m.classNames)==null?void 0:a.content)},ht.createElement("div",{"data-title":"",className:Yl(oe?.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?ht.createElement("div",{"data-description":"",className:Yl(B,It,oe?.description,m==null||(l=m.classNames)==null?void 0:l.description)},typeof m.description=="function"?m.description():m.description):null),ht.isValidElement(m.cancel)?m.cancel:m.cancel&&sx(m.cancel)?ht.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||D,onClick:ge=>{sx(m.cancel)&&ct&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,ge),Dt())},className:Yl(oe?.cancelButton,m==null||(c=m.classNames)==null?void 0:c.cancelButton)},m.cancel.label):null,ht.isValidElement(m.action)?m.action:m.action&&sx(m.action)?ht.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||V,onClick:ge=>{sx(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,ge),!ge.defaultPrevented&&Dt())},className:Yl(oe?.actionButton,m==null||(u=m.classNames)==null?void 0:u.actionButton)},m.action.label):null)};function O4(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function OU(t,e){const r={};return[t,e].forEach((n,i)=>{const a=i===1,o=a?"--mobile-offset":"--offset",l=a?EU:SU;function c(u){["top","right","bottom","left"].forEach(h=>{r[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}const LU=ht.forwardRef(function(e,r){const{id:n,invert:i,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:h,mobileOffset:m,theme:x="light",richColors:p,duration:y,style:w,visibleToasts:j=AU,toastOptions:C,dir:A=O4(),gap:k=PU,icons:P,containerAriaLabel:M="Notifications"}=e,[$,L]=ht.useState([]),D=ht.useMemo(()=>n?$.filter(z=>z.toasterId===n):$.filter(z=>!z.toasterId),[$,n]),V=ht.useMemo(()=>Array.from(new Set([a].concat(D.filter(z=>z.position).map(z=>z.position)))),[D,a]),[ne,B]=ht.useState([]),[F,X]=ht.useState(!1),[ee,xe]=ht.useState(!1),[oe,pe]=ht.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=ht.useRef(null),q=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),ie=ht.useRef(null),G=ht.useRef(!1),R=ht.useCallback(z=>{L(U=>{var Q;return(Q=U.find(J=>J.id===z.id))!=null&&Q.delete||Fa.dismiss(z.id),U.filter(({id:J})=>J!==z.id)})},[]);return ht.useEffect(()=>Fa.subscribe(z=>{if(z.dismiss){requestAnimationFrame(()=>{L(U=>U.map(Q=>Q.id===z.id?{...Q,delete:!0}:Q))});return}setTimeout(()=>{E_.flushSync(()=>{L(U=>{const Q=U.findIndex(J=>J.id===z.id);return Q!==-1?[...U.slice(0,Q),{...U[Q],...z},...U.slice(Q+1)]:[z,...U]})})})}),[$]),ht.useEffect(()=>{if(x!=="system"){pe(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?pe("dark"):pe("light")),typeof window>"u")return;const z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:U})=>{pe(U?"dark":"light")})}catch{z.addListener(({matches:Q})=>{try{pe(Q?"dark":"light")}catch(J){console.error(J)}})}},[x]),ht.useEffect(()=>{$.length<=1&&X(!1)},[$]),ht.useEffect(()=>{const z=U=>{var Q;if(o.every(le=>U[le]||U.code===le)){var re;X(!0),(re=H.current)==null||re.focus()}U.code==="Escape"&&(document.activeElement===H.current||(Q=H.current)!=null&&Q.contains(document.activeElement))&&X(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[o]),ht.useEffect(()=>{if(H.current)return()=>{ie.current&&(ie.current.focus({preventScroll:!0}),ie.current=null,G.current=!1)}},[H.current]),ht.createElement("section",{ref:r,"aria-label":`${M} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((z,U)=>{var Q;const[J,re]=z.split("-");return D.length?ht.createElement("ol",{key:z,dir:A==="auto"?O4():A,tabIndex:-1,ref:H,className:u,"data-sonner-toaster":!0,"data-sonner-theme":oe,"data-y-position":J,"data-x-position":re,style:{"--front-toast-height":`${((Q=ne[0])==null?void 0:Q.height)||0}px`,"--width":`${kU}px`,"--gap":`${k}px`,...w,...OU(h,m)},onBlur:le=>{G.current&&!le.currentTarget.contains(le.relatedTarget)&&(G.current=!1,ie.current&&(ie.current.focus({preventScroll:!0}),ie.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||G.current||(G.current=!0,ie.current=le.relatedTarget)},onMouseEnter:()=>X(!0),onMouseMove:()=>X(!0),onMouseLeave:()=>{ee||X(!1)},onDragEnd:()=>X(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||xe(!0)},onPointerUp:()=>xe(!1)},D.filter(le=>!le.position&&U===0||le.position===z).map((le,ye)=>{var je,Se;return ht.createElement(RU,{key:le.id,icons:P,index:ye,toast:le,defaultRichColors:p,duration:(je=C?.duration)!=null?je:y,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:i,visibleToasts:j,closeButton:(Se=C?.closeButton)!=null?Se:c,interacting:ee,position:z,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,closeButtonAriaLabel:C?.closeButtonAriaLabel,removeToast:R,toasts:D.filter(Be=>Be.position==le.position),heights:ne.filter(Be=>Be.position==le.position),setHeights:B,expandByDefault:l,gap:k,expanded:F,swipeDirections:e.swipeDirections})})):null}))});var FU=(t,e,r,n,i,a,o,l)=>{let c=document.documentElement,u=["light","dark"];function h(p){(Array.isArray(t)?t:[t]).forEach(y=>{let w=y==="class",j=w&&a?i.map(C=>a[C]||C):i;w?(c.classList.remove(...j),c.classList.add(a&&a[p]?a[p]:p)):c.setAttribute(y,p)}),m(p)}function m(p){l&&u.includes(p)&&(c.style.colorScheme=p)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)h(n);else try{let p=localStorage.getItem(e)||r,y=o&&p==="system"?x():p;h(y)}catch{}},MU=_.createContext(void 0),BU={setTheme:t=>{},themes:[]},UU=()=>{var t;return(t=_.useContext(MU))!=null?t:BU};_.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:o,themes:l,nonce:c,scriptProps:u})=>{let h=JSON.stringify([r,e,a,t,l,o,n,i]).slice(1,-1);return _.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${FU.toString()})(${h})`}})});const K1=({...t})=>{const{theme:e="system"}=UU();return s.jsx(LU,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})},Jw=_.createContext({});function Qw(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const eb=typeof window<"u",TS=eb?_.useLayoutEffect:_.useEffect,Y1=_.createContext(null);function tb(t,e){t.indexOf(e)===-1&&t.push(e)}function rb(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Jc=(t,e,r)=>r>e?e:r<t?t:r;let nb=()=>{};const Qc={},IS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function DS(t){return typeof t=="object"&&t!==null}const RS=t=>/^0[^.\s]+$/u.test(t);function sb(t){let e;return()=>(e===void 0&&(e=t()),e)}const $o=t=>t,VU=(t,e)=>r=>e(t(r)),Gm=(...t)=>t.reduce(VU),Am=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class ib{constructor(){this.subscriptions=[]}add(e){return tb(this.subscriptions,e),()=>rb(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sc=t=>t*1e3,Bo=t=>t/1e3;function OS(t,e){return e?t*(1e3/e):0}const LS=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,$U=1e-7,zU=12;function HU(t,e,r,n,i){let a,o,l=0;do o=e+(r-e)/2,a=LS(o,n,i)-t,a>0?r=o:e=o;while(Math.abs(a)>$U&&++l<zU);return o}function Km(t,e,r,n){if(t===e&&r===n)return $o;const i=a=>HU(a,0,1,t,r);return a=>a===0||a===1?a:LS(i(a),e,n)}const FS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,MS=t=>e=>1-t(1-e),BS=Km(.33,1.53,.69,.99),ab=MS(BS),US=FS(ab),VS=t=>(t*=2)<1?.5*ab(t):.5*(2-Math.pow(2,-10*(t-1))),ob=t=>1-Math.sin(Math.acos(t)),$S=MS(ob),zS=FS(ob),qU=Km(.42,0,1,1),WU=Km(0,0,.58,1),HS=Km(.42,0,.58,1),GU=t=>Array.isArray(t)&&typeof t[0]!="number",qS=t=>Array.isArray(t)&&typeof t[0]=="number",KU={linear:$o,easeIn:qU,easeInOut:HS,easeOut:WU,circIn:ob,circInOut:zS,circOut:$S,backIn:ab,backInOut:US,backOut:BS,anticipate:VS},YU=t=>typeof t=="string",L4=t=>{if(qS(t)){nb(t.length===4);const[e,r,n,i]=t;return Km(e,r,n,i)}else if(YU(t))return KU[t];return t},ix=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function XU(t,e){let r=new Set,n=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){o.has(h)&&(u.schedule(h),t()),h(l)}const u={schedule:(h,m=!1,x=!1)=>{const y=x&&i?r:n;return m&&o.add(h),y.has(h)||y.add(h),h},cancel:h=>{n.delete(h),o.delete(h)},process:h=>{if(l=h,i){a=!0;return}i=!0,[r,n]=[n,r],r.forEach(c),r.clear(),i=!1,a&&(a=!1,u.process(h))}};return u}const ZU=40;function WS(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=ix.reduce((k,P)=>(k[P]=XU(a),k),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:h,update:m,preRender:x,render:p,postRender:y}=o,w=()=>{const k=Qc.useManualTiming?i.timestamp:performance.now();r=!1,Qc.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(k-i.timestamp,ZU),1)),i.timestamp=k,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),h.process(i),m.process(i),x.process(i),p.process(i),y.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(w))},j=()=>{r=!0,n=!0,i.isProcessing||t(w)};return{schedule:ix.reduce((k,P)=>{const M=o[P];return k[P]=($,L=!1,D=!1)=>(r||j(),M.schedule($,L,D)),k},{}),cancel:k=>{for(let P=0;P<ix.length;P++)o[ix[P]].cancel(k)},state:i,steps:o}}const{schedule:ls,cancel:au,state:Ri,steps:Cv}=WS(typeof requestAnimationFrame<"u"?requestAnimationFrame:$o,!0);let kx;function JU(){kx=void 0}const Ua={now:()=>(kx===void 0&&Ua.set(Ri.isProcessing||Qc.useManualTiming?Ri.timestamp:performance.now()),kx),set:t=>{kx=t,queueMicrotask(JU)}},GS=t=>e=>typeof e=="string"&&e.startsWith(t),lb=GS("--"),QU=GS("var(--"),cb=t=>QU(t)?eV.test(t.split("/*")[0].trim()):!1,eV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,a0={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sm={...a0,transform:t=>Jc(0,1,t)},ax={...a0,default:1},cm=t=>Math.round(t*1e5)/1e5,db=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tV(t){return t==null}const rV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ub=(t,e)=>r=>!!(typeof r=="string"&&rV.test(r)&&r.startsWith(t)||e&&!tV(r)&&Object.prototype.hasOwnProperty.call(r,e)),KS=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,a,o,l]=n.match(db);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},nV=t=>Jc(0,255,t),_v={...a0,transform:t=>Math.round(nV(t))},ih={test:ub("rgb","red"),parse:KS("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+_v.transform(t)+", "+_v.transform(e)+", "+_v.transform(r)+", "+cm(Sm.transform(n))+")"};function sV(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const py={test:ub("#"),parse:sV,transform:ih.transform},Ym=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bd=Ym("deg"),ic=Ym("%"),vr=Ym("px"),iV=Ym("vh"),aV=Ym("vw"),F4={...ic,parse:t=>ic.parse(t)/100,transform:t=>ic.transform(t*100)},Nf={test:ub("hsl","hue"),parse:KS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ic.transform(cm(e))+", "+ic.transform(cm(r))+", "+cm(Sm.transform(n))+")"},Xs={test:t=>ih.test(t)||py.test(t)||Nf.test(t),parse:t=>ih.test(t)?ih.parse(t):Nf.test(t)?Nf.parse(t):py.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ih.transform(t):Nf.transform(t),getAnimatableNone:t=>{const e=Xs.parse(t);return e.alpha=0,Xs.transform(e)}},oV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lV(t){return isNaN(t)&&typeof t=="string"&&(t.match(db)?.length||0)+(t.match(oV)?.length||0)>0}const YS="number",XS="color",cV="var",dV="var(",M4="${}",uV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Em(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const l=e.replace(uV,c=>(Xs.test(c)?(n.color.push(a),i.push(XS),r.push(Xs.parse(c))):c.startsWith(dV)?(n.var.push(a),i.push(cV),r.push(c)):(n.number.push(a),i.push(YS),r.push(parseFloat(c))),++a,M4)).split(M4);return{values:r,split:l,indexes:n,types:i}}function ZS(t){return Em(t).values}function JS(t){const{split:e,types:r}=Em(t),n=e.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=e[o],i[o]!==void 0){const l=r[o];l===YS?a+=cm(i[o]):l===XS?a+=Xs.transform(i[o]):a+=i[o]}return a}}const hV=t=>typeof t=="number"?0:Xs.test(t)?Xs.getAnimatableNone(t):t;function fV(t){const e=ZS(t);return JS(t)(e.map(hV))}const ou={test:lV,parse:ZS,createTransformer:JS,getAnimatableNone:fV};function Av(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function mV({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;i=Av(c,l,t+1/3),a=Av(c,l,t),o=Av(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function l1(t,e){return r=>r>0?e:t}const vs=(t,e,r)=>t+(e-t)*r,Sv=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},pV=[py,ih,Nf],xV=t=>pV.find(e=>e.test(t));function B4(t){const e=xV(t);if(!e)return!1;let r=e.parse(t);return e===Nf&&(r=mV(r)),r}const U4=(t,e)=>{const r=B4(t),n=B4(e);if(!r||!n)return l1(t,e);const i={...r};return a=>(i.red=Sv(r.red,n.red,a),i.green=Sv(r.green,n.green,a),i.blue=Sv(r.blue,n.blue,a),i.alpha=vs(r.alpha,n.alpha,a),ih.transform(i))},xy=new Set(["none","hidden"]);function gV(t,e){return xy.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function vV(t,e){return r=>vs(t,e,r)}function hb(t){return typeof t=="number"?vV:typeof t=="string"?cb(t)?l1:Xs.test(t)?U4:bV:Array.isArray(t)?QS:typeof t=="object"?Xs.test(t)?U4:yV:l1}function QS(t,e){const r=[...t],n=r.length,i=t.map((a,o)=>hb(a)(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}}function yV(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=hb(t[i])(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function wV(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][n[a]],l=t.values[o]??0;r[i]=l,n[a]++}return r}const bV=(t,e)=>{const r=ou.createTransformer(e),n=Em(t),i=Em(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?xy.has(t)&&!i.values.length||xy.has(e)&&!n.values.length?gV(t,e):Gm(QS(wV(n,i),i.values),r):l1(t,e)};function e8(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?vs(t,e,r):hb(t)(t,e)}const NV=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>ls.update(e,r),stop:()=>au(e),now:()=>Ri.isProcessing?Ri.timestamp:Ua.now()}},t8=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let a=0;a<i;a++)n+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},c1=2e4;function fb(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<c1;)e+=r,n=t.next(e);return e>=c1?1/0:e}function jV(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(fb(n),c1);return{type:"keyframes",ease:a=>n.next(i*a).value/e,duration:Bo(i)}}const CV=5;function r8(t,e,r){const n=Math.max(e-CV,0);return OS(r-t(n),e-n)}const ks={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ev=.001;function _V({duration:t=ks.duration,bounce:e=ks.bounce,velocity:r=ks.velocity,mass:n=ks.mass}){let i,a,o=1-e;o=Jc(ks.minDamping,ks.maxDamping,o),t=Jc(ks.minDuration,ks.maxDuration,Bo(t)),o<1?(i=u=>{const h=u*o,m=h*t,x=h-r,p=gy(u,o),y=Math.exp(-m);return Ev-x/p*y},a=u=>{const m=u*o*t,x=m*r+r,p=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-m),w=gy(Math.pow(u,2),o);return(-i(u)+Ev>0?-1:1)*((x-p)*y)/w}):(i=u=>{const h=Math.exp(-u*t),m=(u-r)*t+1;return-Ev+h*m},a=u=>{const h=Math.exp(-u*t),m=(r-u)*(t*t);return h*m});const l=5/t,c=SV(i,a,l);if(t=sc(t),isNaN(c))return{stiffness:ks.stiffness,damping:ks.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const AV=12;function SV(t,e,r){let n=r;for(let i=1;i<AV;i++)n=n-t(n)/e(n);return n}function gy(t,e){return t*Math.sqrt(1-e*e)}const EV=["duration","bounce"],kV=["stiffness","damping","mass"];function V4(t,e){return e.some(r=>t[r]!==void 0)}function PV(t){let e={velocity:ks.velocity,stiffness:ks.stiffness,damping:ks.damping,mass:ks.mass,isResolvedFromDuration:!1,...t};if(!V4(t,kV)&&V4(t,EV))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*Jc(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ks.mass,stiffness:i,damping:a}}else{const r=_V(t);e={...e,...r,mass:ks.mass},e.isResolvedFromDuration=!0}return e}function d1(t=ks.visualDuration,e=ks.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:h,duration:m,velocity:x,isResolvedFromDuration:p}=PV({...r,velocity:-Bo(r.velocity||0)}),y=x||0,w=u/(2*Math.sqrt(c*h)),j=o-a,C=Bo(Math.sqrt(c/h)),A=Math.abs(j)<5;n||(n=A?ks.restSpeed.granular:ks.restSpeed.default),i||(i=A?ks.restDelta.granular:ks.restDelta.default);let k;if(w<1){const M=gy(C,w);k=$=>{const L=Math.exp(-w*C*$);return o-L*((y+w*C*j)/M*Math.sin(M*$)+j*Math.cos(M*$))}}else if(w===1)k=M=>o-Math.exp(-C*M)*(j+(y+C*j)*M);else{const M=C*Math.sqrt(w*w-1);k=$=>{const L=Math.exp(-w*C*$),D=Math.min(M*$,300);return o-L*((y+w*C*j)*Math.sinh(D)+M*j*Math.cosh(D))/M}}const P={calculatedDuration:p&&m||null,next:M=>{const $=k(M);if(p)l.done=M>=m;else{let L=M===0?y:0;w<1&&(L=M===0?sc(y):r8(k,M,$));const D=Math.abs(L)<=n,V=Math.abs(o-$)<=i;l.done=D&&V}return l.value=l.done?o:$,l},toString:()=>{const M=Math.min(fb(P),c1),$=t8(L=>P.next(M*L).value,M,30);return M+"ms "+$},toTransition:()=>{}};return P}d1.applyToOptions=t=>{const e=jV(t,100,d1);return t.ease=e.ease,t.duration=sc(e.duration),t.type="keyframes",t};function vy({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}){const m=t[0],x={done:!1,value:m},p=D=>l!==void 0&&D<l||c!==void 0&&D>c,y=D=>l===void 0?c:c===void 0||Math.abs(l-D)<Math.abs(c-D)?l:c;let w=r*e;const j=m+w,C=o===void 0?j:o(j);C!==j&&(w=C-m);const A=D=>-w*Math.exp(-D/n),k=D=>C+A(D),P=D=>{const V=A(D),ne=k(D);x.done=Math.abs(V)<=u,x.value=x.done?C:ne};let M,$;const L=D=>{p(x.value)&&(M=D,$=d1({keyframes:[x.value,y(x.value)],velocity:r8(k,D,x.value),damping:i,stiffness:a,restDelta:u,restSpeed:h}))};return L(0),{calculatedDuration:null,next:D=>{let V=!1;return!$&&M===void 0&&(V=!0,P(D),L(D)),M!==void 0&&D>=M?$.next(D-M):(!V&&P(D),x)}}}function TV(t,e,r){const n=[],i=r||Qc.mix||e8,a=t.length-1;for(let o=0;o<a;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||$o:e;l=Gm(c,l)}n.push(l)}return n}function IV(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;if(nb(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=TV(e,n,i),c=l.length,u=h=>{if(o&&h<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(h<t[m+1]);m++);const x=Am(t[m],t[m+1],h);return l[m](x)};return r?h=>u(Jc(t[0],t[a-1],h)):u}function DV(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Am(0,e,n);t.push(vs(r,1,i))}}function RV(t){const e=[0];return DV(e,t.length-1),e}function OV(t,e){return t.map(r=>r*e)}function LV(t,e){return t.map(()=>e||HS).splice(0,t.length-1)}function dm({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=GU(n)?n.map(L4):L4(n),a={done:!1,value:e[0]},o=OV(r&&r.length===e.length?r:RV(e),t),l=IV(o,e,{ease:Array.isArray(i)?i:LV(e,i)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const FV=t=>t!==null;function mb(t,{repeat:e,repeatType:r="loop"},n,i=1){const a=t.filter(FV),l=i<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!l||n===void 0?a[l]:n}const MV={decay:vy,inertia:vy,tween:dm,keyframes:dm,spring:d1};function n8(t){typeof t.type=="string"&&(t.type=MV[t.type])}class pb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const BV=t=>t/100;class xb extends pb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Ua.now()&&this.tick(Ua.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;n8(e);const{type:r=dm,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:l}=e;const c=r||dm;c!==dm&&typeof l[0]!="number"&&(this.mixKeyframes=Gm(BV,e8(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=fb(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:h,repeat:m,repeatType:x,repeatDelay:p,type:y,onUpdate:w,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const C=this.currentTime-u*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,P=n;if(m){const D=Math.min(this.currentTime,i)/l;let V=Math.floor(D),ne=D%1;!ne&&D>=1&&(ne=1),ne===1&&V--,V=Math.min(V,m+1),!!(V%2)&&(x==="reverse"?(ne=1-ne,p&&(ne-=p/l)):x==="mirror"&&(P=o)),k=Jc(0,1,ne)*l}const M=A?{done:!1,value:h[0]}:P.next(k);a&&(M.value=a(M.value));let{done:$}=M;!A&&c!==null&&($=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return L&&y!==vy&&(M.value=mb(h,this.options,j,this.speed)),w&&w(M.value),L&&this.finish(),M}then(e,r){return this.finished.then(e,r)}get duration(){return Bo(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Bo(e)}get time(){return Bo(this.currentTime)}set time(e){e=sc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ua.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Bo(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=NV,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ua.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function UV(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ah=t=>t*180/Math.PI,yy=t=>{const e=ah(Math.atan2(t[1],t[0]));return wy(e)},VV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:yy,rotateZ:yy,skewX:t=>ah(Math.atan(t[1])),skewY:t=>ah(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},wy=t=>(t=t%360,t<0&&(t+=360),t),$4=yy,z4=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),H4=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),$V={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:z4,scaleY:H4,scale:t=>(z4(t)+H4(t))/2,rotateX:t=>wy(ah(Math.atan2(t[6],t[5]))),rotateY:t=>wy(ah(Math.atan2(-t[2],t[0]))),rotateZ:$4,rotate:$4,skewX:t=>ah(Math.atan(t[4])),skewY:t=>ah(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function by(t){return t.includes("scale")?1:0}function Ny(t,e){if(!t||t==="none")return by(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=$V,i=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=VV,i=l}if(!i)return by(e);const a=n[e],o=i[1].split(",").map(HV);return typeof a=="function"?a(o):o[a]}const zV=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Ny(r,e)};function HV(t){return parseFloat(t.trim())}const o0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],l0=new Set(o0),q4=t=>t===a0||t===vr,qV=new Set(["x","y","z"]),WV=o0.filter(t=>!qV.has(t));function GV(t){const e=[];return WV.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const ch={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ny(e,"x"),y:(t,{transform:e})=>Ny(e,"y")};ch.translateX=ch.x;ch.translateY=ch.y;const dh=new Set;let jy=!1,Cy=!1,_y=!1;function s8(){if(Cy){const t=Array.from(dh).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=GV(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,o])=>{n.getValue(a)?.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Cy=!1,jy=!1,dh.forEach(t=>t.complete(_y)),dh.clear()}function i8(){dh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Cy=!0)})}function KV(){_y=!0,i8(),s8(),_y=!1}class gb{constructor(e,r,n,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(dh.add(this),jy||(jy=!0,ls.read(i8),ls.resolveKeyframes(s8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const a=i?.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}UV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),dh.delete(this)}cancel(){this.state==="scheduled"&&(dh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const YV=t=>t.startsWith("--");function XV(t,e,r){YV(e)?t.style.setProperty(e,r):t.style[e]=r}const ZV=sb(()=>window.ScrollTimeline!==void 0),JV={};function QV(t,e){const r=sb(t);return()=>JV[e]??r()}const a8=QV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),J0=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,W4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:J0([0,.65,.55,1]),circOut:J0([.55,0,1,.45]),backIn:J0([.31,.01,.66,-.59]),backOut:J0([.33,1.53,.69,.99])};function o8(t,e){if(t)return typeof t=="function"?a8()?t8(t,e):"ease-out":qS(t)?J0(t):Array.isArray(t)?t.map(r=>o8(r,e)||W4.easeOut):W4[t]}function e$(t,e,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const h={[e]:r};c&&(h.offset=c);const m=o8(l,i);Array.isArray(m)&&(h.easing=m);const x={delay:n,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return u&&(x.pseudoElement=u),t.animate(h,x)}function l8(t){return typeof t=="function"&&"applyToOptions"in t}function t$({type:t,...e}){return l8(t)&&a8()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class r$ extends pb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,nb(typeof e.type!="string");const u=t$(e);this.animation=e$(r,n,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const h=mb(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):XV(r,n,h),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Bo(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Bo(e)}get time(){return Bo(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=sc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ZV()?(this.animation.timeline=e,$o):r(this)}}const c8={anticipate:VS,backInOut:US,circInOut:zS};function n$(t){return t in c8}function s$(t){typeof t.ease=="string"&&n$(t.ease)&&(t.ease=c8[t.ease])}const G4=10;class i$ extends r${constructor(e){s$(e),n8(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:a,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new xb({...o,autoplay:!1}),c=sc(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-G4).value,l.sample(c).value,G4),l.stop()}}const K4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ou.test(t)||t==="0")&&!t.startsWith("url("));function a$(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function o$(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=K4(i,e),l=K4(a,e);return!o||!l?!1:a$(t)||(r==="spring"||l8(r))&&n}function Ay(t){t.duration=0,t.type="keyframes"}const l$=new Set(["opacity","clipPath","filter","transform"]),c$=sb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function d$(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:a,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return c$()&&r&&l$.has(r)&&(r!=="transform"||!u)&&!c&&!n&&i!=="mirror"&&a!==0&&o!=="inertia"}const u$=40;class h$ extends pb{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:h,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ua.now();const x={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:u,element:h,...m},p=h?.KeyframeResolver||gb;this.keyframeResolver=new p(l,(y,w,j)=>this.onKeyframesResolved(y,w,x,!j),c,u,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:h}=n;this.resolvedAt=Ua.now(),o$(e,a,o,l)||((Qc.instantAnimations||!c)&&h?.(mb(e,n,r)),e[0]=e[e.length-1],Ay(n),n.repeat=0);const x={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>u$?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},p=!u&&d$(x)?new i$({...x,element:x.motionValue.owner.current}):new xb(x);p.finished.then(()=>this.notifyFinished()).catch($o),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),KV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const f$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function m$(t){const e=f$.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function d8(t,e,r=1){const[n,i]=m$(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return IS(o)?parseFloat(o):o}return cb(i)?d8(i,e,r+1):i}function vb(t,e){return t?.[e]??t?.default??t}const u8=new Set(["width","height","top","left","right","bottom",...o0]),p$={test:t=>t==="auto",parse:t=>t},h8=t=>e=>e.test(t),f8=[a0,vr,ic,Bd,aV,iV,p$],Y4=t=>f8.find(h8(t));function x$(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||RS(t):!0}const g$=new Set(["brightness","contrast","saturate","opacity"]);function v$(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(db)||[];if(!n)return t;const i=r.replace(n,"");let a=g$.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+i+")"}const y$=/\b([a-z-]*)\(.*?\)/gu,Sy={...ou,getAnimatableNone:t=>{const e=t.match(y$);return e?e.map(v$).join(" "):t}},X4={...a0,transform:Math.round},w$={rotate:Bd,rotateX:Bd,rotateY:Bd,rotateZ:Bd,scale:ax,scaleX:ax,scaleY:ax,scaleZ:ax,skew:Bd,skewX:Bd,skewY:Bd,distance:vr,translateX:vr,translateY:vr,translateZ:vr,x:vr,y:vr,z:vr,perspective:vr,transformPerspective:vr,opacity:Sm,originX:F4,originY:F4,originZ:vr},yb={borderWidth:vr,borderTopWidth:vr,borderRightWidth:vr,borderBottomWidth:vr,borderLeftWidth:vr,borderRadius:vr,radius:vr,borderTopLeftRadius:vr,borderTopRightRadius:vr,borderBottomRightRadius:vr,borderBottomLeftRadius:vr,width:vr,maxWidth:vr,height:vr,maxHeight:vr,top:vr,right:vr,bottom:vr,left:vr,padding:vr,paddingTop:vr,paddingRight:vr,paddingBottom:vr,paddingLeft:vr,margin:vr,marginTop:vr,marginRight:vr,marginBottom:vr,marginLeft:vr,backgroundPositionX:vr,backgroundPositionY:vr,...w$,zIndex:X4,fillOpacity:Sm,strokeOpacity:Sm,numOctaves:X4},b$={...yb,color:Xs,backgroundColor:Xs,outlineColor:Xs,fill:Xs,stroke:Xs,borderColor:Xs,borderTopColor:Xs,borderRightColor:Xs,borderBottomColor:Xs,borderLeftColor:Xs,filter:Sy,WebkitFilter:Sy},m8=t=>b$[t];function p8(t,e){let r=m8(t);return r!==Sy&&(r=ou),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const N$=new Set(["auto","none","0"]);function j$(t,e,r){let n=0,i;for(;n<t.length&&!i;){const a=t[n];typeof a=="string"&&!N$.has(a)&&Em(a).values.length&&(i=t[n]),n++}if(i&&r)for(const a of e)t[a]=p8(r,i)}class C$ extends gb{constructor(e,r,n,i,a){super(e,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),cb(u))){const h=d8(u,r.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!u8.has(n)||e.length!==2)return;const[i,a]=e,o=Y4(i),l=Y4(a);if(o!==l)if(q4(o)&&q4(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else ch[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||x$(e[i]))&&n.push(i);n.length&&j$(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ch[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=ch[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function _$(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=r?.[t]??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const x8=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function g8(t){return DS(t)&&"offsetHeight"in t}const Z4=30,A$=t=>!isNaN(parseFloat(t));class S${constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=Ua.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Ua.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=A$(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new ib);const n=this.events[e].add(r);return e==="change"?()=>{n(),ls.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ua.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Z4)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Z4);return OS(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gf(t,e){return new S$(t,e)}const{schedule:wb}=WS(queueMicrotask,!1),wl={x:!1,y:!1};function v8(){return wl.x||wl.y}function E$(t){return t==="x"||t==="y"?wl[t]?null:(wl[t]=!0,()=>{wl[t]=!1}):wl.x||wl.y?null:(wl.x=wl.y=!0,()=>{wl.x=wl.y=!1})}function y8(t,e){const r=_$(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function J4(t){return!(t.pointerType==="touch"||v8())}function k$(t,e,r={}){const[n,i,a]=y8(t,r),o=l=>{if(!J4(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const h=m=>{J4(m)&&(u(m),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,i)};return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const w8=(t,e)=>e?t===e?!0:w8(t,e.parentElement):!1,bb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,P$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function T$(t){return P$.has(t.tagName)||t.tabIndex!==-1}const Px=new WeakSet;function Q4(t){return e=>{e.key==="Enter"&&t(e)}}function kv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const I$=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=Q4(()=>{if(Px.has(r))return;kv(r,"down");const i=Q4(()=>{kv(r,"up")}),a=()=>kv(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function ej(t){return bb(t)&&!v8()}function D$(t,e,r={}){const[n,i,a]=y8(t,r),o=l=>{const c=l.currentTarget;if(!ej(l))return;Px.add(c);const u=e(c,l),h=(p,y)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",x),Px.has(c)&&Px.delete(c),ej(p)&&typeof u=="function"&&u(p,{success:y})},m=p=>{h(p,c===window||c===document||r.useGlobalTarget||w8(c,p.target))},x=p=>{h(p,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",x,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),g8(l)&&(l.addEventListener("focus",u=>I$(u,i)),!T$(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function b8(t){return DS(t)&&"ownerSVGElement"in t}function R$(t){return b8(t)&&t.tagName==="svg"}const ia=t=>!!(t&&t.getVelocity),O$=[...f8,Xs,ou],L$=t=>O$.find(h8(t)),Nb=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function tj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function F$(...t){return e=>{let r=!1;const n=t.map(i=>{const a=tj(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():tj(t[i],null)}}}}function M$(...t){return _.useCallback(F$(...t),t)}class B$ extends _.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=g8(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function U$({children:t,isPresent:e,anchorX:r,root:n}){const i=_.useId(),a=_.useRef(null),o=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=_.useContext(Nb),c=M$(a,t?.ref);return _.useInsertionEffect(()=>{const{width:u,height:h,top:m,left:x,right:p}=o.current;if(e||!a.current||!u||!h)return;const y=r==="left"?`left: ${x}`:`right: ${p}`;a.current.dataset.motionPopId=i;const w=document.createElement("style");l&&(w.nonce=l);const j=n??document.head;return j.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${y}px !important;
            top: ${m}px !important;
          }
        `),()=>{j.contains(w)&&j.removeChild(w)}},[e]),s.jsx(B$,{isPresent:e,childRef:a,sizeRef:o,children:_.cloneElement(t,{ref:c})})}const V$=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o,anchorX:l,root:c})=>{const u=Qw($$),h=_.useId();let m=!0,x=_.useMemo(()=>(m=!1,{id:h,initial:e,isPresent:r,custom:i,onExitComplete:p=>{u.set(p,!0);for(const y of u.values())if(!y)return;n&&n()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[r,u,n]);return a&&m&&(x={...x}),_.useMemo(()=>{u.forEach((p,y)=>u.set(y,!1))},[r]),_.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(t=s.jsx(U$,{isPresent:r,anchorX:l,root:c,children:t})),s.jsx(Y1.Provider,{value:x,children:t})};function $$(){return new Map}function N8(t=!0){const e=_.useContext(Y1);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,a=_.useId();_.useEffect(()=>{if(t)return i(a)},[t]);const o=_.useCallback(()=>t&&n&&n(a),[a,n,t]);return!r&&n?[!1,o]:[!0]}const ox=t=>t.key||"";function rj(t){const e=[];return _.Children.forEach(t,r=>{_.isValidElement(r)&&e.push(r)}),e}const z$=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,h]=N8(o),m=_.useMemo(()=>rj(t),[t]),x=o&&!u?[]:m.map(ox),p=_.useRef(!0),y=_.useRef(m),w=Qw(()=>new Map),[j,C]=_.useState(m),[A,k]=_.useState(m);TS(()=>{p.current=!1,y.current=m;for(let $=0;$<A.length;$++){const L=ox(A[$]);x.includes(L)?w.delete(L):w.get(L)!==!0&&w.set(L,!1)}},[A,x.length,x.join("-")]);const P=[];if(m!==j){let $=[...m];for(let L=0;L<A.length;L++){const D=A[L],V=ox(D);x.includes(V)||($.splice(L,0,D),P.push(D))}return a==="wait"&&P.length&&($=P),k(rj($)),C(m),null}const{forceRender:M}=_.useContext(Jw);return s.jsx(s.Fragment,{children:A.map($=>{const L=ox($),D=o&&!u?!1:m===A||x.includes(L),V=()=>{if(w.has(L))w.set(L,!0);else return;let ne=!0;w.forEach(B=>{B||(ne=!1)}),ne&&(M?.(),k(y.current),o&&h?.(),n&&n())};return s.jsx(V$,{isPresent:D,initial:!p.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:c,onExitComplete:D?void 0:V,anchorX:l,children:$},L)})})},j8=_.createContext({strict:!1}),nj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kf={};for(const t in nj)Kf[t]={isEnabled:e=>nj[t].some(r=>!!e[r])};function H$(t){for(const e in t)Kf[e]={...Kf[e],...t[e]}}const q$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function u1(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||q$.has(t)}let C8=t=>!u1(t);function W$(t){typeof t=="function"&&(C8=e=>e.startsWith("on")?!u1(e):t(e))}try{W$(require("@emotion/is-prop-valid").default)}catch{}function G$(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(C8(i)||r===!0&&u1(i)||!e&&!u1(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const X1=_.createContext({});function Z1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function km(t){return typeof t=="string"||Array.isArray(t)}const jb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cb=["initial",...jb];function J1(t){return Z1(t.animate)||Cb.some(e=>km(t[e]))}function _8(t){return!!(J1(t)||t.variants)}function K$(t,e){if(J1(t)){const{initial:r,animate:n}=t;return{initial:r===!1||km(r)?r:void 0,animate:km(n)?n:void 0}}return t.inherit!==!1?e:{}}function Y$(t){const{initial:e,animate:r}=K$(t,_.useContext(X1));return _.useMemo(()=>({initial:e,animate:r}),[sj(e),sj(r)])}function sj(t){return Array.isArray(t)?t.join(" "):t}const Pm={};function X$(t){for(const e in t)Pm[e]=t[e],lb(e)&&(Pm[e].isCSSVariable=!0)}function A8(t,{layout:e,layoutId:r}){return l0.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Pm[t]||t==="opacity")}const Z$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J$=o0.length;function Q$(t,e,r){let n="",i=!0;for(let a=0;a<J$;a++){const o=o0[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=x8(l,yb[o]);if(!c){i=!1;const h=Z$[o]||o;n+=`${h}(${u}) `}r&&(e[o]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function _b(t,e,r){const{style:n,vars:i,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(l0.has(c)){o=!0;continue}else if(lb(c)){i[c]=u;continue}else{const h=x8(u,yb[c]);c.startsWith("origin")?(l=!0,a[c]=h):n[c]=h}}if(e.transform||(o||r?n.transform=Q$(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:h=0}=a;n.transformOrigin=`${c} ${u} ${h}`}}const Ab=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function S8(t,e,r){for(const n in e)!ia(e[n])&&!A8(n,r)&&(t[n]=e[n])}function ez({transformTemplate:t},e){return _.useMemo(()=>{const r=Ab();return _b(r,e,t),Object.assign({},r.vars,r.style)},[e])}function tz(t,e){const r=t.style||{},n={};return S8(n,r,t),Object.assign(n,ez(t,e)),n}function rz(t,e){const r={},n=tz(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const nz={offset:"stroke-dashoffset",array:"stroke-dasharray"},sz={offset:"strokeDashoffset",array:"strokeDasharray"};function iz(t,e,r=1,n=0,i=!0){t.pathLength=1;const a=i?nz:sz;t[a.offset]=vr.transform(-n);const o=vr.transform(e),l=vr.transform(r);t[a.array]=`${o} ${l}`}function E8(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},c,u,h){if(_b(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:x}=t;m.transform&&(x.transform=m.transform,delete m.transform),(x.transform||m.transformOrigin)&&(x.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),x.transform&&(x.transformBox=h?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),i!==void 0&&iz(m,i,a,o,!1)}const k8=()=>({...Ab(),attrs:{}}),P8=t=>typeof t=="string"&&t.toLowerCase()==="svg";function az(t,e,r,n){const i=_.useMemo(()=>{const a=k8();return E8(a,e,P8(n),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};S8(a,t.style,t),i.style={...a,...i.style}}return i}const oz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sb(t){return typeof t!="string"||t.includes("-")?!1:!!(oz.indexOf(t)>-1||/[A-Z]/u.test(t))}function lz(t,e,r,{latestValues:n},i,a=!1){const l=(Sb(t)?az:rz)(e,n,i,t),c=G$(e,typeof t=="string",a),u=t!==_.Fragment?{...c,...l,ref:r}:{},{children:h}=e,m=_.useMemo(()=>ia(h)?h.get():h,[h]);return _.createElement(t,{...u,children:m})}function ij(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Eb(t,e,r,n){if(typeof e=="function"){const[i,a]=ij(n);e=e(r!==void 0?r:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=ij(n);e=e(r!==void 0?r:t.custom,i,a)}return e}function Tx(t){return ia(t)?t.get():t}function cz({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:dz(r,n,i,t),renderState:e()}}function dz(t,e,r,n){const i={},a=n(t,{});for(const x in a)i[x]=Tx(a[x]);let{initial:o,animate:l}=t;const c=J1(t),u=_8(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!Z1(m)){const x=Array.isArray(m)?m:[m];for(let p=0;p<x.length;p++){const y=Eb(t,x[p]);if(y){const{transitionEnd:w,transition:j,...C}=y;for(const A in C){let k=C[A];if(Array.isArray(k)){const P=h?k.length-1:0;k=k[P]}k!==null&&(i[A]=k)}for(const A in w)i[A]=w[A]}}}return i}const T8=t=>(e,r)=>{const n=_.useContext(X1),i=_.useContext(Y1),a=()=>cz(t,e,n,i);return r?a():Qw(a)};function kb(t,e,r){const{style:n}=t,i={};for(const a in n)(ia(n[a])||e.style&&ia(e.style[a])||A8(a,t)||r?.getValue(a)?.liveStyle!==void 0)&&(i[a]=n[a]);return i}const uz=T8({scrapeMotionValuesFromProps:kb,createRenderState:Ab});function I8(t,e,r){const n=kb(t,e,r);for(const i in t)if(ia(t[i])||ia(e[i])){const a=o0.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=t[i]}return n}const hz=T8({scrapeMotionValuesFromProps:I8,createRenderState:k8}),fz=Symbol.for("motionComponentSymbol");function jf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function mz(t,e,r){return _.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):jf(r)&&(r.current=n))},[e])}const Pb=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pz="framerAppearId",D8="data-"+Pb(pz),R8=_.createContext({});function xz(t,e,r,n,i){const{visualElement:a}=_.useContext(X1),o=_.useContext(j8),l=_.useContext(Y1),c=_.useContext(Nb).reducedMotion,u=_.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:a,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=u.current,m=_.useContext(R8);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&gz(u.current,r,i,m);const x=_.useRef(!1);_.useInsertionEffect(()=>{h&&x.current&&h.update(r,l)});const p=r[D8],y=_.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return TS(()=>{h&&(x.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),y.current&&h.animationState&&h.animationState.animateChanges())}),_.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),y.current=!1),h.enteringChildren=void 0)}),h}function gz(t,e,r,n){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:h}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:O8(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&jf(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:c,layoutRoot:u})}function O8(t){if(t)return t.options.allowProjection!==!1?t.projection:O8(t.parent)}function Pv(t,{forwardMotionProps:e=!1}={},r,n){r&&H$(r);const i=Sb(t)?hz:uz;function a(l,c){let u;const h={..._.useContext(Nb),...l,layoutId:vz(l)},{isStatic:m}=h,x=Y$(l),p=i(l,m);if(!m&&eb){yz();const y=wz(h);u=y.MeasureLayout,x.visualElement=xz(t,p,h,n,y.ProjectionNode)}return s.jsxs(X1.Provider,{value:x,children:[u&&x.visualElement?s.jsx(u,{visualElement:x.visualElement,...h}):null,lz(t,l,mz(p,x.visualElement,c),p,m,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=_.forwardRef(a);return o[fz]=t,o}function vz({layoutId:t}){const e=_.useContext(Jw).id;return e&&t!==void 0?e+"-"+t:t}function yz(t,e){_.useContext(j8).strict}function wz(t){const{drag:e,layout:r}=Kf;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function bz(t,e){if(typeof Proxy>"u")return Pv;const r=new Map,n=(a,o)=>Pv(a,o,t,e),i=(a,o)=>n(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?n:(r.has(o)||r.set(o,Pv(o,void 0,t,e)),r.get(o))})}function L8({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Nz({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function jz(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Tv(t){return t===void 0||t===1}function Ey({scale:t,scaleX:e,scaleY:r}){return!Tv(t)||!Tv(e)||!Tv(r)}function Ju(t){return Ey(t)||F8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function F8(t){return aj(t.x)||aj(t.y)}function aj(t){return t&&t!=="0%"}function h1(t,e,r){const n=t-r,i=e*n;return r+i}function oj(t,e,r,n,i){return i!==void 0&&(t=h1(t,i,n)),h1(t,r,n)+e}function ky(t,e=0,r=1,n,i){t.min=oj(t.min,e,r,n,i),t.max=oj(t.max,e,r,n,i)}function M8(t,{x:e,y:r}){ky(t.x,e.translate,e.scale,e.originPoint),ky(t.y,r.translate,r.scale,r.originPoint)}const lj=.999999999999,cj=1.0000000000001;function Cz(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let a,o;for(let l=0;l<i;l++){a=r[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&_f(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,M8(t,o)),n&&Ju(a.latestValues)&&_f(t,a.latestValues))}e.x<cj&&e.x>lj&&(e.x=1),e.y<cj&&e.y>lj&&(e.y=1)}function Cf(t,e){t.min=t.min+e,t.max=t.max+e}function dj(t,e,r,n,i=.5){const a=vs(t.min,t.max,i);ky(t,e,r,a,n)}function _f(t,e){dj(t.x,e.x,e.scaleX,e.scale,e.originX),dj(t.y,e.y,e.scaleY,e.scale,e.originY)}function B8(t,e){return L8(jz(t.getBoundingClientRect(),e))}function _z(t,e,r){const n=B8(t,r),{scroll:i}=e;return i&&(Cf(n.x,i.offset.x),Cf(n.y,i.offset.y)),n}const uj=()=>({translate:0,scale:1,origin:0,originPoint:0}),Af=()=>({x:uj(),y:uj()}),hj=()=>({min:0,max:0}),Fs=()=>({x:hj(),y:hj()}),Py={current:null},U8={current:!1};function Az(){if(U8.current=!0,!!eb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Py.current=t.matches;t.addEventListener("change",e),e()}else Py.current=!1}const Sz=new WeakMap;function Ez(t,e,r){for(const n in e){const i=e[n],a=r[n];if(ia(i))t.addValue(n,i);else if(ia(a))t.addValue(n,Gf(i,{owner:t}));else if(a!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,Gf(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const fj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kz{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ua.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ls.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=J1(r),this.isVariantNode=_8(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const x in m){const p=m[x];c[x]!==void 0&&ia(p)&&p.set(c[x])}}mount(e){this.current=e,Sz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),U8.current||Az(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Py.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),au(this.notifyUpdate),au(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=l0.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ls.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Kf){const r=Kf[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<fj.length;n++){const i=fj[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Ez(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Gf(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(IS(n)||RS(n))?n=parseFloat(n):!L$(n)&&ou.test(r)&&(n=p8(e,r)),this.setBaseTarget(e,ia(n)?n.get():n)),ia(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=Eb(this.props,r,this.presenceContext?.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ia(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new ib),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){wb.render(this.render)}}class V8 extends kz{constructor(){super(...arguments),this.KeyframeResolver=C$}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ia(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function $8(t,{style:e,vars:r},n,i){const a=t.style;let o;for(o in e)a[o]=e[o];i?.applyProjectionStyles(a,n);for(o in r)a.setProperty(o,r[o])}function Pz(t){return window.getComputedStyle(t)}class Tz extends V8{constructor(){super(...arguments),this.type="html",this.renderInstance=$8}readValueFromInstance(e,r){if(l0.has(r))return this.projection?.isProjecting?by(r):zV(e,r);{const n=Pz(e),i=(lb(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return B8(e,r)}build(e,r,n){_b(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return kb(e,r,n)}}const z8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Iz(t,e,r,n){$8(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(z8.has(i)?i:Pb(i),e.attrs[i])}class Dz extends V8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fs}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(l0.has(r)){const n=m8(r);return n&&n.default||0}return r=z8.has(r)?r:Pb(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return I8(e,r,n)}build(e,r,n){E8(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){Iz(e,r,n,i)}mount(e){this.isSVGTag=P8(e.tagName),super.mount(e)}}const Rz=(t,e)=>Sb(t)?new Dz(e):new Tz(e,{allowProjection:t!==_.Fragment});function Lf(t,e,r){const n=t.getProps();return Eb(n,e,r!==void 0?r:n.custom,t)}const Ty=t=>Array.isArray(t);function Oz(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Gf(r))}function Lz(t){return Ty(t)?t[t.length-1]||0:t}function Fz(t,e){const r=Lf(t,e);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const o in a){const l=Lz(a[o]);Oz(t,o,l)}}function Mz(t){return!!(ia(t)&&t.add)}function Iy(t,e){const r=t.getValue("willChange");if(Mz(r))return r.add(e);if(!r&&Qc.WillChange){const n=new Qc.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function H8(t){return t.props[D8]}const Bz=t=>t!==null;function Uz(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(Bz),a=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[a]}const Vz={type:"spring",stiffness:500,damping:25,restSpeed:10},$z=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),zz={type:"keyframes",duration:.8},Hz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qz=(t,{keyframes:e})=>e.length>2?zz:l0.has(t)?t.startsWith("scale")?$z(e[1]):Vz:Hz;function Wz({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const Tb=(t,e,r,n={},i,a)=>o=>{const l=vb(n,t)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-sc(c);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:x=>{e.set(x),l.onUpdate&&l.onUpdate(x)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:i};Wz(l)||Object.assign(h,qz(t,h)),h.duration&&(h.duration=sc(h.duration)),h.repeatDelay&&(h.repeatDelay=sc(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Ay(h),h.delay===0&&(m=!0)),(Qc.instantAnimations||Qc.skipAnimations)&&(m=!0,Ay(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!a&&e.get()!==void 0){const x=Uz(h.keyframes,l);if(x!==void 0){ls.update(()=>{h.onUpdate(x),h.onComplete()});return}}return l.isSync?new xb(h):new h$(h)};function Gz({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function q8(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(a=n);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const m=t.getValue(h,t.latestValues[h]??null),x=l[h];if(x===void 0||u&&Gz(u,h))continue;const p={delay:r,...vb(a||{},h)},y=m.get();if(y!==void 0&&!m.isAnimating&&!Array.isArray(x)&&x===y&&!p.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const C=H8(t);if(C){const A=window.MotionHandoffAnimation(C,h,ls);A!==null&&(p.startTime=A,w=!0)}}Iy(t,h),m.start(Tb(h,m,x,t.shouldReduceMotion&&u8.has(h)?{type:!1}:p,t,w));const j=m.animation;j&&c.push(j)}return o&&Promise.all(c).then(()=>{ls.update(()=>{o&&Fz(t,o)})}),c}function W8(t,e,r,n=0,i=1){const a=Array.from(t).sort((u,h)=>u.sortNodePosition(h)).indexOf(e),o=t.size,l=(o-1)*n;return typeof r=="function"?r(a,o):i===1?a*n:l-a*n}function Dy(t,e,r={}){const n=Lf(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(q8(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=i;return Kz(t,e,c,u,h,m,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(r.delay)])}function Kz(t,e,r=0,n=0,i=0,a=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(Dy(c,e,{...o,delay:r+(typeof n=="function"?0:n)+W8(t.variantChildren,c,n,i,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Yz(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>Dy(t,a,r));n=Promise.all(i)}else if(typeof e=="string")n=Dy(t,e,r);else{const i=typeof e=="function"?Lf(t,e,r.custom):e;n=Promise.all(q8(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function G8(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Xz=Cb.length;function K8(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?K8(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Xz;r++){const n=Cb[r],i=t.props[n];(km(i)||i===!1)&&(e[n]=i)}return e}const Zz=[...jb].reverse(),Jz=jb.length;function Qz(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Yz(t,r,n)))}function eH(t){let e=Qz(t),r=mj(),n=!0;const i=c=>(u,h)=>{const m=Lf(t,h,c==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:x,transitionEnd:p,...y}=m;u={...u,...y,...p}}return u};function a(c){e=c(t)}function o(c){const{props:u}=t,h=K8(t.parent)||{},m=[],x=new Set;let p={},y=1/0;for(let j=0;j<Jz;j++){const C=Zz[j],A=r[C],k=u[C]!==void 0?u[C]:h[C],P=km(k),M=C===c?A.isActive:null;M===!1&&(y=j);let $=k===h[C]&&k!==u[C]&&P;if($&&n&&t.manuallyAnimateOnMount&&($=!1),A.protectedKeys={...p},!A.isActive&&M===null||!k&&!A.prevProp||Z1(k)||typeof k=="boolean")continue;const L=tH(A.prevProp,k);let D=L||C===c&&A.isActive&&!$&&P||j>y&&P,V=!1;const ne=Array.isArray(k)?k:[k];let B=ne.reduce(i(C),{});M===!1&&(B={});const{prevResolvedValues:F={}}=A,X={...F,...B},ee=pe=>{D=!0,x.has(pe)&&(V=!0,x.delete(pe)),A.needsAnimating[pe]=!0;const H=t.getValue(pe);H&&(H.liveStyle=!1)};for(const pe in X){const H=B[pe],q=F[pe];if(p.hasOwnProperty(pe))continue;let ie=!1;Ty(H)&&Ty(q)?ie=!G8(H,q):ie=H!==q,ie?H!=null?ee(pe):x.add(pe):H!==void 0&&x.has(pe)?ee(pe):A.protectedKeys[pe]=!0}A.prevProp=k,A.prevResolvedValues=B,A.isActive&&(p={...p,...B}),n&&t.blockInitialAnimation&&(D=!1);const xe=$&&L;D&&(!xe||V)&&m.push(...ne.map(pe=>{const H={type:C};if(typeof pe=="string"&&n&&!xe&&t.manuallyAnimateOnMount&&t.parent){const{parent:q}=t,ie=Lf(q,pe);if(q.enteringChildren&&ie){const{delayChildren:G}=ie.transition||{};H.delay=W8(q.enteringChildren,t,G)}}return{animation:pe,options:H}}))}if(x.size){const j={};if(typeof u.initial!="boolean"){const C=Lf(t,Array.isArray(u.initial)?u.initial[0]:u.initial);C&&C.transition&&(j.transition=C.transition)}x.forEach(C=>{const A=t.getBaseTarget(C),k=t.getValue(C);k&&(k.liveStyle=!0),j[C]=A??null}),m.push({animation:j})}let w=!!m.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(m):Promise.resolve()}function l(c,u){if(r[c].isActive===u)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(c,u)),r[c].isActive=u;const h=o(c);for(const m in r)r[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=mj()}}}function tH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!G8(e,t):!1}function Ku(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mj(){return{animate:Ku(!0),whileInView:Ku(),whileHover:Ku(),whileTap:Ku(),whileDrag:Ku(),whileFocus:Ku(),exit:Ku()}}class pu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class rH extends pu{constructor(e){super(e),e.animationState||(e.animationState=eH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Z1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let nH=0;class sH extends pu{constructor(){super(...arguments),this.id=nH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const iH={animation:{Feature:rH},exit:{Feature:sH}};function Tm(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Xm(t){return{point:{x:t.pageX,y:t.pageY}}}const aH=t=>e=>bb(e)&&t(e,Xm(e));function um(t,e,r,n){return Tm(t,e,aH(r),n)}const Y8=1e-4,oH=1-Y8,lH=1+Y8,X8=.01,cH=0-X8,dH=0+X8;function va(t){return t.max-t.min}function uH(t,e,r){return Math.abs(t-e)<=r}function pj(t,e,r,n=.5){t.origin=n,t.originPoint=vs(e.min,e.max,t.origin),t.scale=va(r)/va(e),t.translate=vs(r.min,r.max,t.origin)-t.originPoint,(t.scale>=oH&&t.scale<=lH||isNaN(t.scale))&&(t.scale=1),(t.translate>=cH&&t.translate<=dH||isNaN(t.translate))&&(t.translate=0)}function hm(t,e,r,n){pj(t.x,e.x,r.x,n?n.originX:void 0),pj(t.y,e.y,r.y,n?n.originY:void 0)}function xj(t,e,r){t.min=r.min+e.min,t.max=t.min+va(e)}function hH(t,e,r){xj(t.x,e.x,r.x),xj(t.y,e.y,r.y)}function gj(t,e,r){t.min=e.min-r.min,t.max=t.min+va(e)}function fm(t,e,r){gj(t.x,e.x,r.x),gj(t.y,e.y,r.y)}function Lo(t){return[t("x"),t("y")]}const Z8=({current:t})=>t?t.ownerDocument.defaultView:null,vj=(t,e)=>Math.abs(t-e);function fH(t,e){const r=vj(t.x,e.x),n=vj(t.y,e.y);return Math.sqrt(r**2+n**2)}class J8{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Dv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=fH(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!y)return;const{point:w}=x,{timestamp:j}=Ri;this.history.push({...w,timestamp:j});const{onStart:C,onMove:A}=this.handlers;p||(C&&C(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,x)},this.handlePointerMove=(x,p)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Iv(p,this.transformPagePoint),ls.update(this.updatePoint,!0)},this.handlePointerUp=(x,p)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Dv(x.type==="pointercancel"?this.lastMoveEventInfo:Iv(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(x,C),w&&w(x,C)},!bb(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const l=Xm(e),c=Iv(l,this.transformPagePoint),{point:u}=c,{timestamp:h}=Ri;this.history=[{...u,timestamp:h}];const{onSessionStart:m}=r;m&&m(e,Dv(c,this.history)),this.removeListeners=Gm(um(this.contextWindow,"pointermove",this.handlePointerMove),um(this.contextWindow,"pointerup",this.handlePointerUp),um(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),au(this.updatePoint)}}function Iv(t,e){return e?{point:e(t.point)}:t}function yj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Dv({point:t},e){return{point:t,delta:yj(t,Q8(e)),offset:yj(t,mH(e)),velocity:pH(e,.1)}}function mH(t){return t[0]}function Q8(t){return t[t.length-1]}function pH(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=Q8(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>sc(e)));)r--;if(!n)return{x:0,y:0};const a=Bo(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function xH(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?vs(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?vs(r,t,n.max):Math.min(t,r)),t}function wj(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function gH(t,{top:e,left:r,bottom:n,right:i}){return{x:wj(t.x,r,i),y:wj(t.y,e,n)}}function bj(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function vH(t,e){return{x:bj(t.x,e.x),y:bj(t.y,e.y)}}function yH(t,e){let r=.5;const n=va(t),i=va(e);return i>n?r=Am(e.min,e.max-n,t.min):n>i&&(r=Am(t.min,t.max-i,e.min)),Jc(0,1,r)}function wH(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Ry=.35;function bH(t=Ry){return t===!1?t=0:t===!0&&(t=Ry),{x:Nj(t,"left","right"),y:Nj(t,"top","bottom")}}function Nj(t,e,r){return{min:jj(t,e),max:jj(t,r)}}function jj(t,e){return typeof t=="number"?t:t[e]||0}const NH=new WeakMap;class jH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fs(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Xm(m).point)},o=(m,x)=>{const{drag:p,dragPropagation:y,onDragStart:w}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=E$(p),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lo(C=>{let A=this.getAxisMotionValue(C).get()||0;if(ic.test(A)){const{projection:k}=this.visualElement;if(k&&k.layout){const P=k.layout.layoutBox[C];P&&(A=va(P)*(parseFloat(A)/100))}}this.originPoint[C]=A}),w&&ls.postRender(()=>w(m,x)),Iy(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},l=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x;const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:w,onDrag:j}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:C}=x;if(y&&this.currentDirection===null){this.currentDirection=CH(C),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",x.point,C),this.updateAxis("y",x.point,C),this.visualElement.render(),j&&j(m,x)},c=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x,this.stop(m,x),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Lo(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new J8(e,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:n,contextWindow:Z8(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ls.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!lx(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=xH(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&jf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=gH(n.layoutBox,e):this.constraints=!1,this.elastic=bH(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Lo(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=wH(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!jf(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=_z(n,i.root,this.visualElement.getTransformPagePoint());let o=vH(i.layout.layoutBox,a);if(r){const l=r(Nz(o));this.hasMutatedConstraints=!!l,l&&(o=L8(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Lo(h=>{if(!lx(h,r,this.currentDirection))return;let m=c&&c[h]||{};o&&(m={min:0,max:0});const x=i?200:1e6,p=i?40:1e7,y={type:"inertia",velocity:n?e[h]:0,bounceStiffness:x,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(h,y)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Iy(this.visualElement,e),n.start(Tb(e,n,0,r,this.visualElement,!1))}stopAnimation(){Lo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Lo(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Lo(r=>{const{drag:n}=this.getProps();if(!lx(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];a.set(e[r]-vs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!jf(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Lo(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=yH({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Lo(o=>{if(!lx(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(vs(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;NH.set(this.visualElement,this);const e=this.visualElement.current,r=um(e,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();jf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ls.read(n);const o=Tm(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Lo(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=c[h].translate,m.set(m.get()+c[h].translate))}),this.visualElement.render())}));return()=>{o(),r(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Ry,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function lx(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function CH(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class _H extends pu{constructor(e){super(e),this.removeGroupControls=$o,this.removeListeners=$o,this.controls=new jH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$o}unmount(){this.removeGroupControls(),this.removeListeners()}}const Cj=t=>(e,r)=>{t&&ls.postRender(()=>t(e,r))};class AH extends pu{constructor(){super(...arguments),this.removePointerDownListener=$o}onPointerDown(e){this.session=new J8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Z8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Cj(e),onStart:Cj(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&ls.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=um(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ix={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _j(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const M0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(vr.test(t))t=parseFloat(t);else return t;const r=_j(t,e.target.x),n=_j(t,e.target.y);return`${r}% ${n}%`}},SH={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=ou.parse(t);if(i.length>5)return n;const a=ou.createTransformer(t),o=typeof i[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const u=vs(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};let Rv=!1;class EH extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;X$(kH),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),Rv&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ix.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,{projection:o}=n;return o&&(o.isPresent=a,Rv=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||ls.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),wb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;Rv=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eE(t){const[e,r]=N8(),n=_.useContext(Jw);return s.jsx(EH,{...t,layoutGroup:n,switchLayoutGroup:_.useContext(R8),isPresent:e,safeToRemove:r})}const kH={borderRadius:{...M0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:M0,borderTopRightRadius:M0,borderBottomLeftRadius:M0,borderBottomRightRadius:M0,boxShadow:SH};function PH(t,e,r){const n=ia(t)?t:Gf(t);return n.start(Tb("",n,e,r)),n.animation}const TH=(t,e)=>t.depth-e.depth;class IH{constructor(){this.children=[],this.isDirty=!1}add(e){tb(this.children,e),this.isDirty=!0}remove(e){rb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(TH),this.isDirty=!1,this.children.forEach(e)}}function DH(t,e){const r=Ua.now(),n=({timestamp:i})=>{const a=i-r;a>=e&&(au(n),t(a-e))};return ls.setup(n,!0),()=>au(n)}const tE=["TopLeft","TopRight","BottomLeft","BottomRight"],RH=tE.length,Aj=t=>typeof t=="string"?parseFloat(t):t,Sj=t=>typeof t=="number"||vr.test(t);function OH(t,e,r,n,i,a){i?(t.opacity=vs(0,r.opacity??1,LH(n)),t.opacityExit=vs(e.opacity??1,0,FH(n))):a&&(t.opacity=vs(e.opacity??1,r.opacity??1,n));for(let o=0;o<RH;o++){const l=`border${tE[o]}Radius`;let c=Ej(e,l),u=Ej(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Sj(c)===Sj(u)?(t[l]=Math.max(vs(Aj(c),Aj(u),n),0),(ic.test(u)||ic.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=vs(e.rotate||0,r.rotate||0,n))}function Ej(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const LH=rE(0,.5,$S),FH=rE(.5,.95,$o);function rE(t,e,r){return n=>n<t?0:n>e?1:r(Am(t,e,n))}function kj(t,e){t.min=e.min,t.max=e.max}function Oo(t,e){kj(t.x,e.x),kj(t.y,e.y)}function Pj(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Tj(t,e,r,n,i){return t-=e,t=h1(t,1/r,n),i!==void 0&&(t=h1(t,1/i,n)),t}function MH(t,e=0,r=1,n=.5,i,a=t,o=t){if(ic.test(e)&&(e=parseFloat(e),e=vs(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=vs(a.min,a.max,n);t===a&&(l-=e),t.min=Tj(t.min,e,r,l,i),t.max=Tj(t.max,e,r,l,i)}function Ij(t,e,[r,n,i],a,o){MH(t,e[r],e[n],e[i],e.scale,a,o)}const BH=["x","scaleX","originX"],UH=["y","scaleY","originY"];function Dj(t,e,r,n){Ij(t.x,e,BH,r?r.x:void 0,n?n.x:void 0),Ij(t.y,e,UH,r?r.y:void 0,n?n.y:void 0)}function Rj(t){return t.translate===0&&t.scale===1}function nE(t){return Rj(t.x)&&Rj(t.y)}function Oj(t,e){return t.min===e.min&&t.max===e.max}function VH(t,e){return Oj(t.x,e.x)&&Oj(t.y,e.y)}function Lj(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function sE(t,e){return Lj(t.x,e.x)&&Lj(t.y,e.y)}function Fj(t){return va(t.x)/va(t.y)}function Mj(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class $H{constructor(){this.members=[]}add(e){tb(this.members,e),e.scheduleRender()}remove(e){if(rb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zH(t,e,r){let n="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=r?.z||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:h,rotateX:m,rotateY:x,skewX:p,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),h&&(n+=`rotate(${h}deg) `),m&&(n+=`rotateX(${m}deg) `),x&&(n+=`rotateY(${x}deg) `),p&&(n+=`skewX(${p}deg) `),y&&(n+=`skewY(${y}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Ov=["","X","Y","Z"],HH=1e3;let qH=0;function Lv(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function iE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=H8(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",ls,!(i||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&iE(n)}function aE({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=e?.()){this.id=qH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(KH),this.nodes.forEach(JH),this.nodes.forEach(QH),this.nodes.forEach(YH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new IH)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ib),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=b8(o)&&!R$(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let h,m=0;const x=()=>this.root.updateBlockedByResize=!1;ls.read(()=>{m=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==m&&(m=p,this.root.updateBlockedByResize=!0,h&&h(),h=DH(x,250),Ix.hasAnimatedSinceResize&&(Ix.hasAnimatedSinceResize=!1,this.nodes.forEach(Vj)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:x,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||sq,{onLayoutAnimationStart:w,onLayoutAnimationComplete:j}=u.getProps(),C=!this.targetLayout||!sE(this.targetLayout,p),A=!m&&x;if(this.options.layoutRoot||this.resumeFrom||A||m&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...vb(y,"layout"),onPlay:w,onComplete:j};(u.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(h,A)}else m||Vj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),au(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Uj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ZH),this.nodes.forEach(WH),this.nodes.forEach(GH)):this.nodes.forEach(Uj),this.clearAllSnapshots();const l=Ua.now();Ri.delta=Jc(0,1e3/60,l-Ri.timestamp),Ri.timestamp=l,Ri.isProcessing=!0,Cv.update.process(Ri),Cv.preRender.process(Ri),Cv.render.process(Ri),Ri.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XH),this.sharedNodes.forEach(tq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ls.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ls.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!va(this.snapshot.measuredBox.x)&&!va(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!nE(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ju(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),iq(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Fs();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(aq))){const{scroll:u}=this.root;u&&(Cf(l.x,u.offset.x),Cf(l.y,u.offset.y))}return l}removeElementScroll(o){const l=Fs();if(Oo(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Oo(l,o),Cf(l.x,h.offset.x),Cf(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Fs();Oo(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&_f(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ju(h.latestValues)&&_f(c,h.latestValues)}return Ju(this.latestValues)&&_f(c,this.latestValues),c}removeTransform(o){const l=Fs();Oo(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ju(u.latestValues))continue;Ey(u.latestValues)&&u.updateSnapshot();const h=Fs(),m=u.measurePageBox();Oo(h,m),Dj(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Ju(this.latestValues)&&Dj(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ri.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Ri.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fs(),this.relativeTargetOrigin=Fs(),fm(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Oo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fs(),this.targetWithTransforms=Fs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Oo(this.target,this.layout.layoutBox),M8(this.target,this.targetDelta)):Oo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fs(),this.relativeTargetOrigin=Fs(),fm(this.relativeTargetOrigin,this.target,x.target),Oo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ey(this.parent.latestValues)||F8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ri.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Oo(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,x=this.treeScale.y;Cz(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Fs());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pj(this.prevProjectionDelta.x,this.projectionDelta.x),Pj(this.prevProjectionDelta.y,this.projectionDelta.y)),hm(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==x||!Mj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Mj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Af(),this.projectionDelta=Af(),this.projectionDeltaWithTransform=Af()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},m=Af();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const x=Fs(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,w=p!==y,j=this.getStack(),C=!j||j.members.length<=1,A=!!(w&&!C&&this.options.crossfade===!0&&!this.path.some(nq));this.animationProgress=0;let k;this.mixTargetDelta=P=>{const M=P/1e3;$j(m.x,o.x,M),$j(m.y,o.y,M),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fm(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rq(this.relativeTarget,this.relativeTargetOrigin,x,M),k&&VH(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Fs()),Oo(k,this.relativeTarget)),w&&(this.animationValues=h,OH(h,u,this.latestValues,M,A,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(au(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ls.update(()=>{Ix.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Gf(0)),this.currentAnimation=PH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:h}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&oE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Fs();const m=va(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const x=va(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+x}Oo(l,c),_f(l,h),hm(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new $H),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Lv("z",o,u,this.animationValues);for(let h=0;h<Ov.length;h++)Lv(`rotate${Ov[h]}`,o,u,this.animationValues),Lv(`skew${Ov[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Tx(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Tx(l?.pointerEvents)||""),this.hasProjected&&!Ju(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let m=zH(this.projectionDeltaWithTransform,this.treeScale,h);c&&(m=c(h,m)),o.transform=m;const{x,y:p}=this.projectionDelta;o.transformOrigin=`${x.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Pm){if(h[y]===void 0)continue;const{correct:w,applyTo:j,isCSSVariable:C}=Pm[y],A=m==="none"?h[y]:w(h[y],u);if(j){const k=j.length;for(let P=0;P<k;P++)o[j[P]]=A}else C?this.options.visualElement.renderState.vars[y]=A:o[y]=A}this.options.layoutId&&(o.pointerEvents=u===this?Tx(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(Bj),this.root.sharedNodes.clear()}}}function WH(t){t.updateLayout()}function GH(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Lo(h=>{const m=a?e.measuredBox[h]:e.layoutBox[h],x=va(m);m.min=r[h].min,m.max=m.min+x}):oE(i,e.layoutBox,r)&&Lo(h=>{const m=a?e.measuredBox[h]:e.layoutBox[h],x=va(r[h]);m.max=m.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+x)});const o=Af();hm(o,r,e.layoutBox);const l=Af();a?hm(l,t.applyTransform(n,!0),e.measuredBox):hm(l,r,e.layoutBox);const c=!nE(o);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:x}=h;if(m&&x){const p=Fs();fm(p,e.layoutBox,m.layoutBox);const y=Fs();fm(y,r,x.layoutBox),sE(p,y)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function KH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function YH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function XH(t){t.clearSnapshot()}function Bj(t){t.clearMeasurements()}function Uj(t){t.isLayoutDirty=!1}function ZH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Vj(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function JH(t){t.resolveTargetDelta()}function QH(t){t.calcProjection()}function eq(t){t.resetSkewAndRotation()}function tq(t){t.removeLeadSnapshot()}function $j(t,e,r){t.translate=vs(e.translate,0,r),t.scale=vs(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function zj(t,e,r,n){t.min=vs(e.min,r.min,n),t.max=vs(e.max,r.max,n)}function rq(t,e,r,n){zj(t.x,e.x,r.x,n),zj(t.y,e.y,r.y,n)}function nq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const sq={duration:.45,ease:[.4,0,.1,1]},Hj=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qj=Hj("applewebkit/")&&!Hj("chrome/")?Math.round:$o;function Wj(t){t.min=qj(t.min),t.max=qj(t.max)}function iq(t){Wj(t.x),Wj(t.y)}function oE(t,e,r){return t==="position"||t==="preserve-aspect"&&!uH(Fj(e),Fj(r),.2)}function aq(t){return t!==t.root&&t.scroll?.wasRoot}const oq=aE({attachResizeListener:(t,e)=>Tm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fv={current:void 0},lE=aE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fv.current){const t=new oq({});t.mount(window),t.setOptions({layoutScroll:!0}),Fv.current=t}return Fv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lq={pan:{Feature:AH},drag:{Feature:_H,ProjectionNode:lE,MeasureLayout:eE}};function Gj(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&ls.postRender(()=>a(e,Xm(e)))}class cq extends pu{mount(){const{current:e}=this.node;e&&(this.unmount=k$(e,(r,n)=>(Gj(this.node,n,"Start"),i=>Gj(this.node,i,"End"))))}unmount(){}}class dq extends pu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gm(Tm(this.node.current,"focus",()=>this.onFocus()),Tm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kj(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&ls.postRender(()=>a(e,Xm(e)))}class uq extends pu{mount(){const{current:e}=this.node;e&&(this.unmount=D$(e,(r,n)=>(Kj(this.node,n,"Start"),(i,{success:a})=>Kj(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Oy=new WeakMap,Mv=new WeakMap,hq=t=>{const e=Oy.get(t.target);e&&e(t)},fq=t=>{t.forEach(hq)};function mq({root:t,...e}){const r=t||document;Mv.has(r)||Mv.set(r,{});const n=Mv.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(fq,{root:t,...e})),n[i]}function pq(t,e,r){const n=mq(e);return Oy.set(t,r),n.observe(t),()=>{Oy.delete(t),n.unobserve(t)}}const xq={some:0,all:1};class gq extends pu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:xq[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),x=u?h:m;x&&x(c)};return pq(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(vq(e,r))&&this.startObserver()}unmount(){}}function vq({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const yq={inView:{Feature:gq},tap:{Feature:uq},focus:{Feature:dq},hover:{Feature:cq}},wq={layout:{ProjectionNode:lE,MeasureLayout:eE}},bq={...iH,...yq,...lq,...wq},xs=bz(bq,Rz);function Nq(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function jq(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var Cq=(function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),_q=(function(t){Cq(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),Nq(a,i.prototype),jq(a),a}return e})(Error),Aq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ha=(function(t){Aq(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e})(_q),Sq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),vl=(function(t){Sq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e})(Ha),Eq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ar=(function(t){Eq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(Ha),kq=(function(){function t(e){if(this.binarizer=e,e===null)throw new ar("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t})(),Pq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Oi=(function(t){Pq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(Ha),Tq=(function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t})(),zn=(function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t})(),Iq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ib=(function(t){Iq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(Ha),Dq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Yj=(function(t){Dq(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e})(Ib),Rq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$a=(function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new ar("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new Yj(r);if(n>e)throw new Yj(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=Rq(e),o=a.next();!o.done;o=a.next()){var l=o.value;i=31*i+l}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return zn.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,l=n(r,e[o]);if(l>0)i=o+1;else if(l<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t})(),Jr=(function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Ai=(function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);zn.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=n[i]}var l=i*32+Jr.numberOfTrailingZeros(a);return l>r?r:l},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=~n[i]}var l=i*32+Jr.numberOfTrailingZeros(a);return l>r?r:l},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new ar;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,o=n;o<=i;o++){var l=o>n?0:e&31,c=o<i?31:r&31,u=(2<<c)-(1<<l);a[o]|=u}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new ar;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,l=i;l<=a;l++){var c=l>i?0:e&31,u=l<a?31:r&31,h=(2<<u)-(1<<c)&4294967295;if((o[l]&h)!==(n?h:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new ar("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new ar("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var o=0,l=0;l<8;l++)this.get(e)&&(o|=1<<7-l),e++;r[n+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-a]=o}if(this.size!==n*32){for(var l=n*32-this.size,c=e[0]>>>l,a=1;a<n;a++){var u=e[a];c|=u<<32-l,e[a-1]=c,c=u>>>l}e[n-1]=c}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&$a.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+$a.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t})(),Ly;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ASSUME_GS1=7]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ly||(Ly={}));const Jn=Ly;var Oq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),yt=(function(t){Oq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(Ha),Lq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},An;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(An||(An={}));var hi=(function(){function t(e,r,n){for(var i,a,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var c=this.values,u=0,h=c.length;u!==h;u++){var m=c[u];t.VALUES_TO_ECI.set(m,this)}try{for(var x=Lq(o),p=x.next();!p.done;p=x.next()){var y=p.value;t.NAME_TO_ECI.set(y,this)}}catch(w){i={error:w}}finally{try{p&&!p.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new yt("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new yt("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new yt("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(An.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(An.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(An.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(An.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(An.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(An.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(An.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(An.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(An.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(An.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(An.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(An.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(An.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(An.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(An.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(An.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(An.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(An.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(An.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(An.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(An.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(An.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(An.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(An.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(An.Big5,28,"Big5"),t.GB18030=new t(An.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(An.EUC_KR,30,"EUC_KR","EUC-KR"),t})(),Fq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Dx=(function(t){Fq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(Ha),ac=(function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof hi?e:hi.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var l=e[a].toString(16);l.length<2&&(l="0"+l),i+="%"+l}return decodeURIComponent(i)}if(n.equals(hi.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Dx("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(hi.UTF8)||e.equals(hi.ISO8859_1)||e.equals(hi.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t})(),Vn=(function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return ac.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(Jn.CHARACTER_SET)!==void 0)return r.get(Jn.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,l=0,c=0,u=0,h=0,m=0,x=0,p=0,y=0,w=0,j=0,C=0,A=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,k=0;k<n&&(i||a||o);k++){var P=e[k]&255;o&&(l>0?(P&128)===0?o=!1:l--:(P&128)!==0&&((P&64)===0?o=!1:(l++,(P&32)===0?c++:(l++,(P&16)===0?u++:(l++,(P&8)===0?h++:o=!1))))),i&&(P>127&&P<160?i=!1:P>159&&(P<192||P===215||P===247)&&C++),a&&(m>0?P<64||P===127||P>252?a=!1:m--:P===128||P===160||P>239?a=!1:P>160&&P<224?(x++,y=0,p++,p>w&&(w=p)):P>127?(m++,p=0,y++,y>j&&(j=y)):(p=0,y=0))}return o&&l>0&&(o=!1),a&&m>0&&(a=!1),o&&(A||c+u+h>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||w>=3||j>=3)?t.SHIFT_JIS:i&&a?w===2&&x===2||C*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(l,c,u,h,m,x){if(l==="%%")return"%";if(r[++i]!==void 0){l=h?parseInt(h.substr(1)):void 0;var p=m?parseInt(m.substr(1)):void 0,y;switch(x){case"s":y=r[i];break;case"c":y=r[i][0];break;case"f":y=parseFloat(r[i]).toFixed(l);break;case"p":y=parseFloat(r[i]).toPrecision(l);break;case"e":y=parseFloat(r[i]).toExponential(l);break;case"x":y=parseInt(r[i]).toString(p||16);break;case"d":y=parseFloat(parseInt(r[i],p||10).toPrecision(l)).toFixed(0);break}y=typeof y=="object"?JSON.stringify(y):(+y).toString(p);for(var w=parseInt(u),j=u&&u[0]+""=="0"?"0":" ";y.length<w;)y=c!==void 0?y+j:j+y;return y}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,r){return ac.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=hi.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=hi.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=hi.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t})(),Tn=(function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Vn.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+r.length)},t})(),uc=(function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new ar("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var o=e[a],l=0;l<n;l++)o[l]&&i.set(l,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new ar("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,l=-1,c=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(a>o){if(l===-1)l=a-o;else if(a-o!==l)throw new ar("row lengths do not match");o=a,c++}u++}else if(e.substring(u,u+r.length)===r)u+=r.length,i[a]=!0,a++;else if(e.substring(u,u+n.length)===n)u+=n.length,i[a]=!1,a++;else throw new ar("illegal character encountered: "+e.substring(u));if(a>o){if(l===-1)l=a-o;else if(a-o!==l)throw new ar("row lengths do not match");c++}for(var h=new t(l,c),m=0;m<a;m++)i[m]&&h.set(Math.floor(m%l),Math.floor(m/l));return h},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new ar("input matrix dimensions do not match");for(var r=new Ai(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var l=a*n,c=e.getRow(a,r).getBitArray(),u=0;u<n;u++)i[l+u]^=c[u]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new ar("Left and top must be nonnegative");if(i<1||n<1)throw new ar("Height and width must be at least 1");var a=e+n,o=r+i;if(o>this.height||a>this.width)throw new ar("The region must fit inside the matrix");for(var l=this.rowSize,c=this.bits,u=r;u<o;u++)for(var h=u*l,m=e;m<a;m++)c[h+Math.floor(m/32)]|=1<<(m&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new Ai(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)r.setBulk(o*32,i[a+o]);return r},t.prototype.setRow=function(e,r){zn.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new Ai(e),i=new Ai(e),a=0,o=Math.floor((r+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,o=r,l=-1,c=-1,u=0;u<r;u++)for(var h=0;h<n;h++){var m=i[u*n+h];if(m!==0){if(u<o&&(o=u),u>c&&(c=u),h*32<a){for(var x=0;(m<<31-x&4294967295)===0;)x++;h*32+x<a&&(a=h*32+x)}if(h*32+31>l){for(var x=31;!(m>>>x);)x--;h*32+x>l&&(l=h*32+x)}}}return l<a||c<o?null:Int32Array.from([a,o,l-a+1,c-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,o=r[n],l=0;(o<<31-l&4294967295)===0;)l++;return a+=l,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=r[n],l=31;!(o>>>l);)l--;return a+=l,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&$a.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+$a.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Tn,a=0,o=this.height;a<o;a++){for(var l=0,c=this.width;l<c;l++)i.append(this.get(l,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t})(),Mq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Je=(function(t){Mq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(Ha),Bq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Uq=(function(t){Bq(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new Ai(a):n.clear(),this.initArrays(a);for(var o=i.getRow(r,this.luminances),l=this.buckets,c=0;c<a;c++)l[(o[c]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(l);if(a<3)for(var c=0;c<a;c++)(o[c]&255)<u&&n.set(c);else for(var h=o[0]&255,m=o[1]&255,c=1;c<a-1;c++){var x=o[c+1]&255;(m*4-h-x)/2<u&&n.set(c),h=m,m=x}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new uc(n,i);this.initArrays(n);for(var o=this.buckets,l=1;l<5;l++)for(var c=Math.floor(i*l/5),u=r.getRow(c,this.luminances),h=Math.floor(n*4/5),m=Math.floor(n/5);m<h;m++){var x=u[m]&255;o[x>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(o),y=r.getMatrix(),l=0;l<i;l++)for(var w=l*n,m=0;m<n;m++){var x=y[w+m]&255;x<p&&a.set(m,l)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,o=0,l=0;l<n;l++)r[l]>o&&(a=l,o=r[l]),r[l]>i&&(i=r[l]);for(var c=0,u=0,l=0;l<n;l++){var h=l-a,m=r[l]*h*h;m>u&&(c=l,u=m)}if(a>c){var x=a;a=c,c=x}if(c-a<=n/16)throw new Je;for(var p=c-1,y=-1,l=c-1;l>a;l--){var w=l-a,m=w*w*(c-l)*(i-r[l]);m>y&&(p=l,y=m)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(Tq),Vq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),$q=(function(t){Vq(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&o++;var l=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&l++;var c=e.calculateBlackPoints(a,o,l,n,i),u=new uc(n,i);e.calculateThresholdForBlock(a,o,l,n,i,c,u),this.matrix=u}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,o,l,c){for(var u=o-e.BLOCK_SIZE,h=a-e.BLOCK_SIZE,m=0;m<i;m++){var x=m<<e.BLOCK_SIZE_POWER;x>u&&(x=u);for(var p=e.cap(m,2,i-3),y=0;y<n;y++){var w=y<<e.BLOCK_SIZE_POWER;w>h&&(w=h);for(var j=e.cap(y,2,n-3),C=0,A=-2;A<=2;A++){var k=l[p+A];C+=k[j-2]+k[j-1]+k[j]+k[j+1]+k[j+2]}var P=C/25;e.thresholdBlock(r,w,x,P,a,c)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,o,l){for(var c=0,u=i*o+n;c<e.BLOCK_SIZE;c++,u+=o)for(var h=0;h<e.BLOCK_SIZE;h++)(r[u+h]&255)<=a&&l.set(n+h,i+c)},e.calculateBlackPoints=function(r,n,i,a,o){for(var l=o-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,u=new Array(i),h=0;h<i;h++){u[h]=new Int32Array(n);var m=h<<e.BLOCK_SIZE_POWER;m>l&&(m=l);for(var x=0;x<n;x++){var p=x<<e.BLOCK_SIZE_POWER;p>c&&(p=c);for(var y=0,w=255,j=0,C=0,A=m*a+p;C<e.BLOCK_SIZE;C++,A+=a){for(var k=0;k<e.BLOCK_SIZE;k++){var P=r[A+k]&255;y+=P,P<w&&(w=P),P>j&&(j=P)}if(j-w>e.MIN_DYNAMIC_RANGE)for(C++,A+=a;C<e.BLOCK_SIZE;C++,A+=a)for(var k=0;k<e.BLOCK_SIZE;k++)y+=r[A+k]&255}var M=y>>e.BLOCK_SIZE_POWER*2;if(j-w<=e.MIN_DYNAMIC_RANGE&&(M=w/2,h>0&&x>0)){var $=(u[h-1][x]+2*u[h][x-1]+u[h-1][x-1])/4;w<$&&(M=$)}u[h][x]=M}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(Uq),Q1=(function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new Dx("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new Dx("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new Dx("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Tn,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,l=void 0;o<64?l="#":o<128?l="+":o<192?l=".":l=" ",r.append(l)}r.append(`
`)}return r.toString()},t})(),zq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Db=(function(t){zq(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Q1),Hq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),qq=(function(t){Hq(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(n.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){for(var a=new Uint8ClampedArray(n*i),o=0,l=0,c=r.length;o<c;o+=4,l++){var u=void 0,h=r[o+3];if(h===0)u=255;else{var m=r[o],x=r[o+1],p=r[o+2];u=306*m+601*x+117*p+512>>10}a[l]=u}return a},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new ar("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*l),u=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*l);return n.width=c,n.height=u,i.translate(c/2,u/2),i.rotate(a),i.drawImage(this.canvas,o/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new Db(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e})(Q1),Wq=(function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t})(),pa=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function c(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?a(h.value):i(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})},xa=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Gq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c0=(function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return pa(this,void 0,void 0,function(){var e,r,n,i,a,o,l,c,u,h,m,x;return xa(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=Gq(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(l=a.deviceId||a.id,c=a.label||"Video device "+(r.length+1),u=a.groupId,h={deviceId:l,label:c,kind:o,groupId:u},r.push(h))}catch(y){m={error:y}}finally{try{i&&!i.done&&(x=n.return)&&x.call(n)}finally{if(m)throw m.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return pa(this,void 0,void 0,function(){var e;return xa(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new Wq(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return pa(this,void 0,void 0,function(){var r;return xa(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return pa(this,void 0,void 0,function(){return xa(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return pa(this,void 0,void 0,function(){var n,i;return xa(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return pa(this,void 0,void 0,function(){var n;return xa(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return pa(this,void 0,void 0,function(){var n,i;return xa(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return pa(this,void 0,void 0,function(){return xa(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return pa(this,void 0,void 0,function(){var i,a;return xa(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return pa(this,void 0,void 0,function(){var i;return xa(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return pa(this,void 0,void 0,function(){var i;return xa(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return pa(this,void 0,void 0,function(){var n;return xa(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return pa(this,void 0,void 0,function(){return xa(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new vl("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new vl("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new vl("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new vl("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new vl("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new vl("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new vl("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new vl("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new vl("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new vl("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return pa(this,void 0,void 0,function(){return xa(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return pa(this,void 0,void 0,function(){return xa(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,l){if(i._stopAsyncDecode){l(new Je("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);o(c)}catch(x){var u=r&&x instanceof Je,h=x instanceof Oi||x instanceof yt,m=h&&n;if(u||m)return setTimeout(a,i._timeBetweenDecodingAttempts,o,l);l(x)}};return new Promise(function(o,l){return a(o,l)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(c){r(null,c);var o=c instanceof Oi||c instanceof yt,l=c instanceof Je;(o||l)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype._isHTMLVideoElement=function(e){var r=e;return r.videoWidth!==0},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),n=new qq(r),i=new $q(n);return new kq(i)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t})(),qa=(function(){function t(e,r,n,i,a,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=zn.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=zn.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);zn.arraycopy(r,0,n,0,r.length),zn.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t})(),Fy;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Fy||(Fy={}));const Wt=Fy;var My;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(My||(My={}));const Li=My;var eg=(function(){function t(e,r,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t})(),Q0=(function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new ar;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t})(),ru=(function(){function t(e,r){if(r.length===0)throw new ar;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),zn.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var o=r[i];n=Q0.addOrSubtract(n,o)}return n}n=r[0];for(var l=r.length,c=this.field,i=1;i<l;i++)n=Q0.addOrSubtract(c.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new ar("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;zn.arraycopy(n,0,a,0,o);for(var l=o;l<n.length;l++)a[l]=Q0.addOrSubtract(r[l-o],n[l]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new ar("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),l=this.field,c=0;c<n;c++)for(var u=r[c],h=0;h<a;h++)o[c+h]=Q0.addOrSubtract(o[c+h],l.multiply(u,i[h]));return new t(l,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(a[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new ar;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,l=0;l<i;l++)a[l]=o.multiply(n[l],r);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new ar("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new ar("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var l=i.getDegree()-e.getDegree(),c=r.multiply(i.getCoefficient(i.getDegree()),o),u=e.multiplyByMonomial(l,c),h=r.buildMonomial(l,c);n=n.addOrSubtract(h),i=i.addOrSubtract(u)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t})(),Kq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),cE=(function(t){Kq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(Ha),Yq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ma=(function(t){Yq(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),l=1,c=0;c<n;c++)o[c]=l,l*=2,l>=n&&(l^=r,l&=n-1);a.expTable=o;for(var u=new Int32Array(n),c=0;c<n-1;c++)u[o[c]]=c;return a.logTable=u,a.zero=new ru(a,Int32Array.from([0])),a.one=new ru(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new ar;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new ru(this,i)},e.prototype.inverse=function(r){if(r===0)throw new cE;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Jr.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(Q0),Xq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),cx=(function(t){Xq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(Ha),Zq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Zm=(function(t){Zq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(Ha),tg=(function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new ru(n,e),a=new Int32Array(r),o=!0,l=0;l<r;l++){var c=i.evaluateAt(n.exp(l+n.getGeneratorBase()));a[a.length-1-l]=c,c!==0&&(o=!1)}if(!o)for(var u=new ru(n,a),h=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),m=h[0],x=h[1],p=this.findErrorLocations(m),y=this.findErrorMagnitudes(x,p),l=0;l<p.length;l++){var w=e.length-1-n.log(p[l]);if(w<0)throw new cx("Bad error location");e[w]=Ma.addOrSubtract(e[w],y[l])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,o=e,l=r,c=a.getZero(),u=a.getOne();l.getDegree()>=(n/2|0);){var h=o,m=c;if(o=l,c=u,o.isZero())throw new cx("r_{i-1} was zero");l=h;for(var x=a.getZero(),p=o.getCoefficient(o.getDegree()),y=a.inverse(p);l.getDegree()>=o.getDegree()&&!l.isZero();){var w=l.getDegree()-o.getDegree(),j=a.multiply(l.getCoefficient(l.getDegree()),y);x=x.addOrSubtract(a.buildMonomial(w,j)),l=l.addOrSubtract(o.multiplyByMonomial(w,j))}if(u=x.multiply(c).addOrSubtract(m),l.getDegree()>=o.getDegree())throw new Zm("Division algorithm failed to reduce polynomial?")}var C=u.getCoefficient(0);if(C===0)throw new cx("sigmaTilde(0) was zero");var A=a.inverse(C),k=u.multiplyScalar(A),P=l.multiplyScalar(A);return[k,P]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,o=1;o<a.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==r)throw new cx("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var l=a.inverse(r[o]),c=1,u=0;u<n;u++)if(o!==u){var h=a.multiply(r[u],l),m=(h&1)===0?h|1:h&-2;c=a.multiply(c,m)}i[o]=a.multiply(e.evaluateAt(l),a.inverse(c)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],l))}return i},t})(),Di;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(Di||(Di={}));var Xj=(function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),l=new eg(a,o,null,null);return l.setNumBits(i.length),l},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=Di.UPPER,i=Di.UPPER,a="",o=0;o<r;)if(i===Di.BINARY){if(r-o<5)break;var l=t.readCode(e,o,5);if(o+=5,l===0){if(r-o<11)break;l=t.readCode(e,o,11)+31,o+=11}for(var c=0;c<l;c++){if(r-o<8){o=r;break}var u=t.readCode(e,o,8);a+=Vn.castAsNonUtf8Char(u),o+=8}i=n}else{var h=i===Di.DIGIT?4:5;if(r-o<h)break;var u=t.readCode(e,o,h);o+=h;var m=t.getCharacter(i,u);m.startsWith("CTRL_")?(n=i,i=t.getTable(m.charAt(5)),m.charAt(6)==="L"&&(n=i)):(a+=m,i=n)}return a},t.getTable=function(e){switch(e){case"L":return Di.LOWER;case"P":return Di.PUNCT;case"M":return Di.MIXED;case"D":return Di.DIGIT;case"B":return Di.BINARY;case"U":default:return Di.UPPER}},t.getCharacter=function(e,r){switch(e){case Di.UPPER:return t.UPPER_TABLE[r];case Di.LOWER:return t.LOWER_TABLE[r];case Di.MIXED:return t.MIXED_TABLE[r];case Di.PUNCT:return t.PUNCT_TABLE[r];case Di.DIGIT:return t.DIGIT_TABLE[r];default:throw new Zm("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Ma.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Ma.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Ma.AZTEC_DATA_10):(n=12,r=Ma.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new yt;for(var o=e.length%n,l=new Int32Array(a),c=0;c<a;c++,o+=n)l[c]=t.readCode(e,o,n);try{var u=new tg(r);u.decode(l,a-i)}catch(j){throw new yt(j)}for(var h=(1<<n)-1,m=0,c=0;c<i;c++){var x=l[c];if(x===0||x===h)throw new yt;(x===1||x===h-1)&&m++}for(var p=new Array(i*n-m),y=0,c=0;c<i;c++){var x=l[c];if(x===1||x===h-1)p.fill(x>1,y,y+n-1),y+=n-1;else for(var w=n-1;w>=0;--w)p[y++]=(x&1<<w)!==0}return p},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var l=0;l<a.length;l++)a[l]=l;else for(var c=i+1+2*Jr.truncDivision(Jr.truncDivision(i,2)-1,15),u=i/2,h=Jr.truncDivision(c,2),l=0;l<u;l++){var m=l+Jr.truncDivision(l,15);a[u-l-1]=h-m-1,a[u+l]=h+m+1}for(var l=0,x=0;l<n;l++){for(var p=(n-l)*4+(r?9:12),y=l*2,w=i-1-y,j=0;j<p;j++)for(var C=j*2,A=0;A<2;A++)o[x+C+A]=e.get(a[y+A],a[y+j]),o[x+2*p+C+A]=e.get(a[y+j],a[w-A]),o[x+4*p+C+A]=e.get(a[w-A],a[w-j]),o[x+6*p+C+A]=e.get(a[w-j],a[y+A]);x+=p*8}return o},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t})(),hn=(function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,o=r-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t})(),By=(function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t})(),Xt=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*By.floatToIntBits(this.x)+By.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,l;if(n>=r&&n>=i?(o=e[0],a=e[1],l=e[2]):i>=n&&i>=r?(o=e[1],a=e[0],l=e[2]):(o=e[2],a=e[0],l=e[1]),this.crossProductZ(a,o,l)<0){var c=a;a=l,l=c}e[0]=a,e[1]=o,e[2]=l},t.distance=function(e,r){return hn.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t})(),Rb=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),Jq=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Qq=(function(t){Jq(e,t);function e(r,n,i,a,o){var l=t.call(this,r,n)||this;return l.compact=i,l.nbDatablocks=a,l.nbLayers=o,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(Rb),Uy=(function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Je}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,l=!1,c=!1,u=!1,h=!1,m=!1,x=this.width,p=this.height;o;){o=!1;for(var y=!0;(y||!c)&&r<x;)y=this.containsBlackPoint(n,i,r,!1),y?(r++,o=!0,c=!0):c||r++;if(r>=x){a=!0;break}for(var w=!0;(w||!u)&&i<p;)w=this.containsBlackPoint(e,r,i,!0),w?(i++,o=!0,u=!0):u||i++;if(i>=p){a=!0;break}for(var j=!0;(j||!h)&&e>=0;)j=this.containsBlackPoint(n,i,e,!1),j?(e--,o=!0,h=!0):h||e--;if(e<0){a=!0;break}for(var C=!0;(C||!m)&&n>=0;)C=this.containsBlackPoint(e,r,n,!0),C?(n--,o=!0,m=!0):m||n--;if(n<0){a=!0;break}o&&(l=!0)}if(!a&&l){for(var A=r-e,k=null,P=1;k===null&&P<A;P++)k=this.getBlackPointOnSegment(e,i-P,e+P,i);if(k==null)throw new Je;for(var M=null,P=1;M===null&&P<A;P++)M=this.getBlackPointOnSegment(e,n+P,e+P,n);if(M==null)throw new Je;for(var $=null,P=1;$===null&&P<A;P++)$=this.getBlackPointOnSegment(r,n+P,r-P,n);if($==null)throw new Je;for(var L=null,P=1;L===null&&P<A;P++)L=this.getBlackPointOnSegment(r,i-P,r-P,i);if(L==null)throw new Je;return this.centerEdges(L,k,$,M)}else throw new Je},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=hn.round(hn.distance(e,r,n,i)),o=(n-e)/a,l=(i-r)/a,c=this.image,u=0;u<a;u++){var h=hn.round(e+u*o),m=hn.round(r+u*l);if(c.get(h,m))return new Xt(h,m)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),o=e.getY(),l=r.getX(),c=r.getY(),u=n.getX(),h=n.getY(),m=i.getX(),x=i.getY(),p=t.CORR;return a<this.width/2?[new Xt(m-p,x+p),new Xt(l+p,c+p),new Xt(u-p,h-p),new Xt(a+p,o-p)]:[new Xt(m+p,x+p),new Xt(l+p,c-p),new Xt(u-p,h+p),new Xt(a-p,o-p)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var o=e;o<=r;o++)if(a.get(o,n))return!0}else for(var l=e;l<=r;l++)if(a.get(n,l))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t})(),Zj=(function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<r.length&&a;o+=2){var l=Math.floor(r[o]),c=Math.floor(r[o+1]);if(l<-1||l>n||c<-1||c>i)throw new Je;a=!1,l===-1?(r[o]=0,a=!0):l===n&&(r[o]=n-1,a=!0),c===-1?(r[o+1]=0,a=!0):c===i&&(r[o+1]=i-1,a=!0)}a=!0;for(var o=r.length-2;o>=0&&a;o-=2){var l=Math.floor(r[o]),c=Math.floor(r[o+1]);if(l<-1||l>n||c<-1||c>i)throw new Je;a=!1,l===-1?(r[o]=0,a=!0):l===n&&(r[o]=n-1,a=!0),c===-1?(r[o+1]=0,a=!0):c===i&&(r[o+1]=i-1,a=!0)}},t})(),dE=(function(){function t(e,r,n,i,a,o,l,c,u){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=l,this.a23=c,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,o,l,c,u,h,m,x,p,y,w,j){var C=t.quadrilateralToSquare(e,r,n,i,a,o,l,c),A=t.squareToQuadrilateral(u,h,m,x,p,y,w,j);return A.times(C)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,l=this.a22,c=this.a23,u=this.a31,h=this.a32,m=this.a33,x=0;x<r;x+=2){var p=e[x],y=e[x+1],w=a*p+c*y+m;e[x]=(n*p+o*y+u)/w,e[x+1]=(i*p+l*y+h)/w}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,l=this.a22,c=this.a23,u=this.a31,h=this.a32,m=this.a33,x=e.length,p=0;p<x;p++){var y=e[p],w=r[p],j=a*y+c*w+m;e[p]=(n*y+o*w+u)/j,r[p]=(i*y+l*w+h)/j}},t.squareToQuadrilateral=function(e,r,n,i,a,o,l,c){var u=e-n+a-l,h=r-i+o-c;if(u===0&&h===0)return new t(n-e,a-n,e,i-r,o-i,r,0,0,1);var m=n-a,x=l-a,p=i-o,y=c-o,w=m*y-x*p,j=(u*y-x*h)/w,C=(m*h-u*p)/w;return new t(n-e+j*n,l-e+C*l,e,i-r+j*i,c-r+C*c,r,j,C,1)},t.quadrilateralToSquare=function(e,r,n,i,a,o,l,c){return t.squareToQuadrilateral(e,r,n,i,a,o,l,c).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t})(),eW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),tW=(function(t){eW(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,o,l,c,u,h,m,x,p,y,w,j,C,A,k,P){var M=dE.quadrilateralToQuadrilateral(a,o,l,c,u,h,m,x,p,y,w,j,C,A,k,P);return this.sampleGridWithTransform(r,n,i,M)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new Je;for(var o=new uc(n,i),l=new Float32Array(2*n),c=0;c<i;c++){for(var u=l.length,h=c+.5,m=0;m<u;m+=2)l[m]=m/2+.5,l[m+1]=h;a.transformPoints(l),Zj.checkAndNudgePoints(r,l);try{for(var m=0;m<u;m+=2)r.get(Math.floor(l[m]),Math.floor(l[m+1]))&&o.set(m/2,c)}catch{throw new Je}}return o},e})(Zj),Ob=(function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new tW,t})(),La=(function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Xt(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t})(),rW=(function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new Qq(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Je;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var l=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,o,l){var c=(a>>r-2<<1)+(a&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(Jr.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new Je},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),l=n-1;l>=0;--l)o[l]=e&15,e>>=4;try{var c=new tg(Ma.AZTEC_PARAM);c.decode(o,a)}catch{throw new Je}for(var u=0,l=0;l<i;l++)u=(u<<4)+o[l];return u},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(r,o,1,-1),c=this.getFirstDifferent(n,o,1,1),u=this.getFirstDifferent(i,o,-1,1),h=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var m=this.distancePoint(h,l)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(m<.75||m>1.25||!this.isWhiteOrBlackRectangle(l,c,u,h))break}r=l,n=c,i=u,a=h,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Je;this.compact=this.nbCenterLayers===5;var x=new Xt(r.getX()+.5,r.getY()-.5),p=new Xt(n.getX()+.5,n.getY()+.5),y=new Xt(i.getX()-.5,i.getY()+.5),w=new Xt(a.getX()-.5,a.getY()-.5);return this.expandSquare([x,p,y,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new Uy(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new La(o+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new La(o+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new La(o-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new La(o-7,l-7),!1,-1,-1).toResultPoint()}var c=hn.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=hn.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new Uy(this.image,15,c,u).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new La(c+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new La(c+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new La(c-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new La(c-7,u-7),!1,-1,-1).toResultPoint()}return c=hn.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=hn.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new La(c,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var o=Ob.getInstance(),l=this.getDimension(),c=l/2-this.nbCenterLayers,u=l/2+this.nbCenterLayers;return o.sampleGrid(e,l,l,c,c,u,c,u,u,c,u,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),o=a/n,l=e.getX(),c=e.getY(),u=o*(r.getX()-e.getX())/a,h=o*(r.getY()-e.getY())/a,m=0;m<n;m++)this.image.get(hn.round(l+m*u),hn.round(c+m*h))&&(i|=1<<n-m-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new La(e.getX()-a,e.getY()+a),r=new La(r.getX()-a,r.getY()-a),n=new La(n.getX()+a,n.getY()-a),i=new La(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var l=this.getColor(e,r);return l!==o||(l=this.getColor(r,n),l!==o)?!1:(l=this.getColor(n,i),l===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,o=0,l=e.getX(),c=e.getY(),u=this.image.get(e.getX(),e.getY()),h=Math.ceil(n),m=0;m<h;m++)l+=i,c+=a,this.image.get(hn.round(l),hn.round(c))!==u&&o++;var x=o/n;return x>.1&&x<.9?0:x<=.1===u?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===r;)o+=i;return o-=i,new La(a,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,u=new Xt(l+i*a,c+i*o),h=new Xt(l-i*a,c-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var m=new Xt(l+i*a,c+i*o),x=new Xt(l-i*a,c-i*o),p=[u,m,h,x];return p},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=hn.round(e.getX()),n=hn.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return hn.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return hn.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Jr.truncDivision(this.nbLayers-4,8)+1)+15},t})(),Vy=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new rW(e.getBlackMatrix()),a=null,o=null;try{var l=i.detectMirror(!1);a=l.getPoints(),this.reportFoundResultPoints(r,a),o=new Xj().decode(l)}catch(m){n=m}if(o==null)try{var l=i.detectMirror(!0);a=l.getPoints(),this.reportFoundResultPoints(r,a),o=new Xj().decode(l)}catch(m){throw n??m}var c=new qa(o.getText(),o.getRawBytes(),o.getNumBits(),a,Wt.AZTEC,zn.currentTimeMillis()),u=o.getByteSegments();u!=null&&c.putMetadata(Li.BYTE_SEGMENTS,u);var h=o.getECLevel();return h!=null&&c.putMetadata(Li.ERROR_CORRECTION_LEVEL,h),c},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(Jn.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t})(),nW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){nW(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Vy,r)||this}return e})(c0);var Fi=(function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(Jn.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),o=a.getResultMetadata(),l=270;o!==null&&o.get(Li.ORIENTATION)===!0&&(l=l+o.get(Li.ORIENTATION)%360),a.putMetadata(Li.ORIENTATION,l);var c=a.getResultPoints();if(c!==null)for(var u=i.getHeight(),h=0;h<c.length;h++)c[h]=new Xt(u-c[h].getY()-1,c[h].getX());return a}else throw new Je}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new Ai(n),o=r&&r.get(Jn.TRY_HARDER)===!0,l=Math.max(1,i>>(o?8:5)),c;o?c=i:c=15;for(var u=Math.trunc(i/2),h=0;h<c;h++){var m=Math.trunc((h+1)/2),x=(h&1)===0,p=u+l*(x?m:-m);if(p<0||p>=i)break;try{a=e.getBlackRow(p,a)}catch{continue}for(var y=function(A){if(A===1&&(a.reverse(),r&&r.get(Jn.NEED_RESULT_POINT_CALLBACK)===!0)){var k=new Map;r.forEach(function($,L){return k.set(L,$)}),k.delete(Jn.NEED_RESULT_POINT_CALLBACK),r=k}try{var P=w.decodeRow(p,a,r);if(A===1){P.putMetadata(Li.ORIENTATION,180);var M=P.getResultPoints();M!==null&&(M[0]=new Xt(n-M[0].getX()-1,M[0].getY()),M[1]=new Xt(n-M[1].getX()-1,M[1].getY()))}return{value:P}}catch{}},w=this,j=0;j<2;j++){var C=y(j);if(typeof C=="object")return C.value}}throw new Je},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(r>=o)throw new Je;for(var l=!e.get(r),c=0,u=r;u<o;){if(e.get(u)!==l)n[c]++;else{if(++c===i)break;n[c]=1,l=!l}u++}if(!(c===i||c===i-1&&u===o))throw new Je},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new Je;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,l=0;l<i;l++)a+=e[l],o+=r[l];if(a<o)return Number.POSITIVE_INFINITY;var c=a/o;n*=c;for(var u=0,h=0;h<i;h++){var m=e[h],x=r[h]*c,p=m>x?m-x:x-m;if(p>n)return Number.POSITIVE_INFINITY;u+=p}return u/a},t})(),sW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Jj=(function(t){sW(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),l=i,c=!1,u=6,h=i;h<n;h++)if(r.get(h)!==c)o[a]++;else{if(a===u-1){for(var m=e.MAX_AVG_VARIANCE,x=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var y=Fi.patternMatchVariance(o,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);y<m&&(m=y,x=p)}if(x>=0&&r.isRange(Math.max(0,l-(h-l)/2),l,!1))return Int32Array.from([l,h,x]);l+=o[0]+o[1],o=o.slice(2,o.length-1),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,c=!c}throw new Je},e.decodeCode=function(r,n,i){Fi.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,l=0;l<e.CODE_PATTERNS.length;l++){var c=e.CODE_PATTERNS[l],u=this.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);u<a&&(a=u,o=l)}if(o>=0)return o;throw new Je},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(Jn.ASSUME_GS1)===!0,o=e.findStartPattern(n),l=o[2],c=0,u=new Uint8Array(20);u[c++]=l;var h;switch(l){case e.CODE_START_A:h=e.CODE_CODE_A;break;case e.CODE_START_B:h=e.CODE_CODE_B;break;case e.CODE_START_C:h=e.CODE_CODE_C;break;default:throw new yt}for(var m=!1,x=!1,p="",y=o[0],w=o[1],j=Int32Array.from([0,0,0,0,0,0]),C=0,A=0,k=l,P=0,M=!0,$=!1,L=!1;!m;){var D=x;switch(x=!1,C=A,A=e.decodeCode(n,j,w),u[c++]=A,A!==e.CODE_STOP&&(M=!0),A!==e.CODE_STOP&&(P++,k+=P*A),y=w,w+=j.reduce(function(pe,H){return pe+H},0),A){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new yt}switch(h){case e.CODE_CODE_A:if(A<64)L===$?p+=String.fromCharCode(32+A):p+=String.fromCharCode(32+A+128),L=!1;else if(A<96)L===$?p+=String.fromCharCode(A-64):p+=String.fromCharCode(A+64),L=!1;else switch(A!==e.CODE_STOP&&(M=!1),A){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!$&&L?($=!0,L=!1):$&&L?($=!1,L=!1):L=!0;break;case e.CODE_SHIFT:x=!0,h=e.CODE_CODE_B;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:m=!0;break}break;case e.CODE_CODE_B:if(A<96)L===$?p+=String.fromCharCode(32+A):p+=String.fromCharCode(32+A+128),L=!1;else switch(A!==e.CODE_STOP&&(M=!1),A){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!$&&L?($=!0,L=!1):$&&L?($=!1,L=!1):L=!0;break;case e.CODE_SHIFT:x=!0,h=e.CODE_CODE_A;break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:m=!0;break}break;case e.CODE_CODE_C:if(A<100)A<10&&(p+="0"),p+=A;else switch(A!==e.CODE_STOP&&(M=!1),A){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_STOP:m=!0;break}break}D&&(h=h===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var V=w-y;if(w=n.getNextUnset(w),!n.isRange(w,Math.min(n.getSize(),w+(w-y)/2),!1))throw new Je;if(k-=P*C,k%103!==C)throw new Oi;var ne=p.length;if(ne===0)throw new Je;ne>0&&M&&(h===e.CODE_CODE_C?p=p.substring(0,ne-2):p=p.substring(0,ne-1));for(var B=(o[1]+o[0])/2,F=y+V/2,X=u.length,ee=new Uint8Array(X),xe=0;xe<X;xe++)ee[xe]=u[xe];var oe=[new Xt(B,r),new Xt(F,r)];return new qa(p,ee,0,oe,Wt.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(Fi),iW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Bv=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qj=(function(t){iW(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,o,l,c,u=this.counters;u.fill(0),this.decodeRowResult="";var h=e.findAsteriskPattern(n,u),m=n.getNextSet(h[1]),x=n.getSize(),p,y;do{e.recordPattern(n,m,u);var w=e.toNarrowWidePattern(u);if(w<0)throw new Je;p=e.patternToChar(w),this.decodeRowResult+=p,y=m;try{for(var j=(a=void 0,Bv(u)),C=j.next();!C.done;C=j.next()){var A=C.value;m+=A}}catch(X){a={error:X}}finally{try{C&&!C.done&&(o=j.return)&&o.call(j)}finally{if(a)throw a.error}}m=n.getNextSet(m)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var k=0;try{for(var P=Bv(u),M=P.next();!M.done;M=P.next()){var A=M.value;k+=A}}catch(X){l={error:X}}finally{try{M&&!M.done&&(c=P.return)&&c.call(P)}finally{if(l)throw l.error}}var $=m-y-k;if(m!==x&&$*2<k)throw new Je;if(this.usingCheckDigit){for(var L=this.decodeRowResult.length-1,D=0,V=0;V<L;V++)D+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(V));if(this.decodeRowResult.charAt(L)!==e.ALPHABET_STRING.charAt(D%43))throw new Oi;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new Je;var ne;this.extendedMode?ne=e.decodeExtended(this.decodeRowResult):ne=this.decodeRowResult;var B=(h[1]+h[0])/2,F=y+k/2;return new qa(ne,null,0,[new Xt(B,r),new Xt(F,r)],Wt.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),o=0,l=a,c=!1,u=n.length,h=a;h<i;h++)if(r.get(h)!==c)n[o]++;else{if(o===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,l-Math.floor((h-l)/2)),l,!1))return[l,h];l+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,c=!c}throw new Je},e.toNarrowWidePattern=function(r){var n,i,a=r.length,o=0,l;do{var c=2147483647;try{for(var u=(n=void 0,Bv(r)),h=u.next();!h.done;h=u.next()){var m=h.value;m<c&&m>o&&(c=m)}}catch(w){n={error:w}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}o=c,l=0;for(var x=0,p=0,y=0;y<a;y++){var m=r[y];m>o&&(p|=1<<a-1-y,l++,x+=m)}if(l===3){for(var y=0;y<a&&l>0;y++){var m=r[y];if(m>o&&(l--,m*2>=x))return-1}return p}}while(l>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new Je},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var l=r.charAt(a+1),c="\0";switch(o){case"+":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new yt;break;case"$":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new yt;break;case"%":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l==="X"||l==="Y"||l==="Z")c="";else throw new yt;break;case"/":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new yt;break}i+=c,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(Fi),aW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),oW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},e3=(function(t){aW(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,o,l=this.decodeStart(n),c=this.decodeEnd(n),u=new Tn;e.decodeMiddle(n,l[1],c[0],u);var h=u.toString(),m=null;i!=null&&(m=i.get(Jn.ALLOWED_LENGTHS)),m==null&&(m=e.DEFAULT_ALLOWED_LENGTHS);var x=h.length,p=!1,y=0;try{for(var w=oW(m),j=w.next();!j.done;j=w.next()){var C=j.value;if(x===C){p=!0;break}C>y&&(y=C)}}catch(P){a={error:P}}finally{try{j&&!j.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}if(!p&&x>y&&(p=!0),!p)throw new yt;var A=[new Xt(l[1],r),new Xt(c[0],r)],k=new qa(h,null,0,A,Wt.ITF,new Date().getTime());return k},e.decodeMiddle=function(r,n,i,a){var o=new Int32Array(10),l=new Int32Array(5),c=new Int32Array(5);for(o.fill(0),l.fill(0),c.fill(0);n<i;){Fi.recordPattern(r,n,o);for(var u=0;u<5;u++){var h=2*u;l[u]=o[h],c[u]=o[h+1]}var m=e.decodeDigit(l);a.append(m.toString()),m=this.decodeDigit(c),a.append(m.toString()),o.forEach(function(x){n+=x})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new Je},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new Je;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof Je&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,o=new Int32Array(a),l=r.getSize(),c=!1,u=0,h=n;o.fill(0);for(var m=n;m<l;m++)if(r.get(m)!==c)o[u]++;else{if(u===a-1){if(Fi.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[h,m];h+=o[0]+o[1],zn.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,c=!c}throw new Je},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var l=e.PATTERNS[o],c=Fi.patternMatchVariance(r,l,e.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,i=o):c===n&&(i=-1)}if(i>=0)return i%10;throw new Je},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(Fi),lW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Yf=(function(t){lW(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,o);var l=i[0];a=i[1];var c=l-(a-l);c>=0&&(n=r.isRange(c,l,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new yt;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new yt;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,o){var l=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var c=0,u=n,h=a.length,m=i,x=n;x<l;x++)if(r.get(x)!==m)o[c]++;else{if(c===h-1){if(Fi.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,x]);u+=o[0]+o[1];for(var p=o.slice(2,o.length-1),y=0;y<c-1;y++)o[y]=p[y];o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,m=!m}throw new Je},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,l=-1,c=a.length,u=0;u<c;u++){var h=a[u],m=Fi.patternMatchVariance(n,h,e.MAX_INDIVIDUAL_VARIANCE);m<o&&(o=m,l=u)}if(l>=0)return l;throw new Je},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(Fi),cW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dW=(function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),l=t.parseExtensionString(o),c=[new Xt((n[0]+n[1])/2,e),new Xt(a,e)],u=new qa(o,null,0,c,Wt.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&u.putAllMetadata(l),u},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=r[1],u=0,h=0;h<5&&c<l;h++){var m=Yf.decodeDigit(e,o,c,Yf.L_AND_G_PATTERNS);n+=String.fromCharCode(48+m%10);try{for(var x=(i=void 0,cW(o)),p=x.next();!p.done;p=x.next()){var y=p.value;c+=y}}catch(j){i={error:j}}finally{try{p&&!p.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}m>=10&&(u|=1<<4-h),h!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==5)throw new Je;var w=this.determineCheckDigit(u);if(t.extensionChecksum(n.toString())!==w)throw new Je;return c},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Je},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Li.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return r+i+"."+o},t})(),uW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hW=(function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),l=t.parseExtensionString(o),c=[new Xt((n[0]+n[1])/2,e),new Xt(a,e)],u=new qa(o,null,0,c,Wt.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&u.putAllMetadata(l),u},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=r[1],u=0,h=0;h<2&&c<l;h++){var m=Yf.decodeDigit(e,o,c,Yf.L_AND_G_PATTERNS);n+=String.fromCharCode(48+m%10);try{for(var x=(i=void 0,uW(o)),p=x.next();!p.done;p=x.next()){var y=p.value;c+=y}}catch(w){i={error:w}}finally{try{p&&!p.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}m>=10&&(u|=1<<1-h),h!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==2)throw new Je;if(parseInt(n.toString())%4!==u)throw new Je;return c},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Li.ISSUE_NUMBER,parseInt(e)]])},t})(),fW=(function(){function t(){}return t.decodeRow=function(e,r,n){var i=Yf.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new dW;return a.decodeRow(e,r,i)}catch{var o=new hW;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t})(),mW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ui=(function(t){mW(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(Jn.NEED_RESULT_POINT_CALLBACK);if(o!=null){var l=new Xt((a[0]+a[1])/2,r);o.foundPossibleResultPoint(l)}var c=this.decodeMiddle(n,a,this.decodeRowStringBuffer),u=c.rowOffset,h=c.resultString;if(o!=null){var m=new Xt(u,r);o.foundPossibleResultPoint(m)}var x=e.decodeEnd(n,u);if(o!=null){var p=new Xt((x[0]+x[1])/2,r);o.foundPossibleResultPoint(p)}var y=x[1],w=y+(y-x[0]);if(w>=n.getSize()||!n.isRange(y,w,!1))throw new Je;var j=h.toString();if(j.length<8)throw new yt;if(!e.checkChecksum(j))throw new Oi;var C=(a[1]+a[0])/2,A=(x[1]+x[0])/2,k=this.getBarcodeFormat(),P=[new Xt(C,r),new Xt(A,r)],M=new qa(j,null,0,P,k,new Date().getTime()),$=0;try{var L=fW.decodeRow(r,n,x[1]);M.putMetadata(Li.UPC_EAN_EXTENSION,L.getText()),M.putAllMetadata(L.getResultMetadata()),M.addResultPoints(L.getResultPoints()),$=L.getText().length}catch{}var D=i==null?null:i.get(Jn.ALLOWED_EAN_EXTENSIONS);if(D!=null){var V=!1;for(var ne in D)if($.toString()===ne){V=!0;break}if(!V)throw new Je}return k===Wt.EAN_13||Wt.UPC_A,M},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new yt;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new yt;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(Yf),pW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),t3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$y=(function(t){pW(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,l,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var h=r.getSize(),m=n[1],x=0,p=0;p<6&&m<h;p++){var y=ui.decodeDigit(r,u,m,ui.L_AND_G_PATTERNS);i+=String.fromCharCode(48+y%10);try{for(var w=(a=void 0,t3(u)),j=w.next();!j.done;j=w.next()){var C=j.value;m+=C}}catch(M){a={error:M}}finally{try{j&&!j.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}y>=10&&(x|=1<<5-p)}i=e.determineFirstDigit(i,x);var A=ui.findGuardPattern(r,m,!0,ui.MIDDLE_PATTERN,new Int32Array(ui.MIDDLE_PATTERN.length).fill(0));m=A[1];for(var p=0;p<6&&m<h;p++){var y=ui.decodeDigit(r,u,m,ui.L_PATTERNS);i+=String.fromCharCode(48+y);try{for(var k=(l=void 0,t3(u)),P=k.next();!P.done;P=k.next()){var C=P.value;m+=C}}catch(L){l={error:L}}finally{try{P&&!P.done&&(c=k.return)&&c.call(k)}finally{if(l)throw l.error}}}return{rowOffset:m,resultString:i}},e.prototype.getBarcodeFormat=function(){return Wt.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new Je},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(ui),xW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),r3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},n3=(function(t){xW(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,l,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var h=r.getSize(),m=n[1],x=0;x<4&&m<h;x++){var p=ui.decodeDigit(r,u,m,ui.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var y=(a=void 0,r3(u)),w=y.next();!w.done;w=y.next()){var j=w.value;m+=j}}catch(P){a={error:P}}finally{try{w&&!w.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}}var C=ui.findGuardPattern(r,m,!0,ui.MIDDLE_PATTERN,new Int32Array(ui.MIDDLE_PATTERN.length).fill(0));m=C[1];for(var x=0;x<4&&m<h;x++){var p=ui.decodeDigit(r,u,m,ui.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var A=(l=void 0,r3(u)),k=A.next();!k.done;k=A.next()){var j=k.value;m+=j}}catch($){l={error:$}}finally{try{k&&!k.done&&(c=A.return)&&c.call(A)}finally{if(l)throw l.error}}}return{rowOffset:m,resultString:i}},e.prototype.getBarcodeFormat=function(){return Wt.EAN_8},e})(ui),gW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),s3=(function(t){gW(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new $y,r}return e.prototype.getBarcodeFormat=function(){return Wt.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new qa(n.substring(1),null,null,r.getResultPoints(),Wt.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new Je},e.prototype.reset=function(){this.ean13Reader.reset()},e})(ui),vW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),yW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i3=(function(t){vW(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,l=this.decodeMiddleCounters.map(function(j){return j});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),u=n[1],h=0,m=0;m<6&&u<c;m++){var x=e.decodeDigit(r,l,u,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+x%10);try{for(var p=(a=void 0,yW(l)),y=p.next();!y.done;y=p.next()){var w=y.value;u+=w}}catch(j){a={error:j}}finally{try{y&&!y.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}x>=10&&(h|=1<<5-m)}return e.determineNumSysAndCheckDigit(new Tn(i),h),u},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return ui.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw Je.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Wt.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new Tn;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(ui),wW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),a3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uv=(function(t){wW(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(Jn.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Wt.EAN_13)>-1&&a.push(new $y),i.indexOf(Wt.UPC_A)>-1&&a.push(new s3),i.indexOf(Wt.EAN_8)>-1&&a.push(new n3),i.indexOf(Wt.UPC_E)>-1&&a.push(new i3)),a.length===0&&(a.push(new $y),a.push(new s3),a.push(new n3),a.push(new i3)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,o;try{for(var l=a3(this.readers),c=l.next();!c.done;c=l.next()){var u=c.value;try{var h=u.decodeRow(r,n,i),m=h.getBarcodeFormat()===Wt.EAN_13&&h.getText().charAt(0)==="0",x=i==null?null:i.get(Jn.POSSIBLE_FORMATS),p=x==null||x.includes(Wt.UPC_A);if(m&&p){var y=h.getRawBytes(),w=new qa(h.getText().substring(1),y,y?y.length:null,h.getResultPoints(),Wt.UPC_A);return w.putAllMetadata(h.getResultMetadata()),w}return h}catch{}}}catch(j){a={error:j}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}throw new Je},e.prototype.reset=function(){var r,n;try{for(var i=a3(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e})(Fi),bW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),NW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qu=(function(t){bW(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(Fi.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new Je},e.count=function(r){return hn.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]>a&&(a=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]<a&&(a=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],o=a+r[2]+r[3],l=a/o;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var h=NW(r),m=h.next();!m.done;m=h.next()){var x=m.value;x>u&&(u=x),x<c&&(c=x)}}catch(p){n={error:p}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}return u<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(Fi),f1=(function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t})(),uE=(function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Xt(n,a)),this.resultPoints.push(new Xt(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t})(),jW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sf=(function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,o=0;try{for(var l=jW(e),c=l.next();!c.done;c=l.next()){var u=c.value;o+=u}}catch(A){i={error:A}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}for(var h=0,m=0,x=e.length,p=0;p<x-1;p++){var y=void 0;for(y=1,m|=1<<p;y<e[p];y++,m&=~(1<<p)){var w=t.combins(o-y-1,x-p-2);if(n&&m===0&&o-y-(x-p-1)>=x-p-1&&(w-=t.combins(o-y-(x-p),x-p-2)),x-p-1>1){for(var j=0,C=o-y-(x-p-2);C>r;C--)j+=t.combins(o-y-C-1,x-p-3);w-=j*(x-1-p)}else o-y>r&&w--;h+=w}o-=y}return h},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,o=1,l=e;l>n;l--)a*=l,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t})(),CW=(function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new Ai(n),a=0,o=e[0],l=o.getRightChar().getValue(),c=11;c>=0;--c)(l&1<<c)!=0&&i.set(a),a++;for(var c=1;c<e.length;++c){for(var u=e[c],h=u.getLeftChar().getValue(),m=11;m>=0;--m)(h&1<<m)!=0&&i.set(a),a++;if(u.getRightChar()!=null)for(var x=u.getRightChar().getValue(),m=11;m>=0;--m)(x&1<<m)!=0&&i.set(a),a++}return i},t})(),Yu=(function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t})(),Lb=(function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t})(),_W=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ml=(function(t){_W(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(Lb),AW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Xu=(function(t){AW(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(Lb),SW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),df=(function(t){SW(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new yt;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(Lb),dx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EW=(function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,o,l,c,u;if(!e)return null;if(e.length<2)throw new Je;var h=e.substring(0,2);try{for(var m=dx(t.TWO_DIGIT_DATA_LENGTH),x=m.next();!x.done;x=m.next()){var p=x.value;if(p[0]===h)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,p[2],e):t.processFixedAI(2,p[1],e)}}catch($){r={error:$}}finally{try{x&&!x.done&&(n=m.return)&&n.call(m)}finally{if(r)throw r.error}}if(e.length<3)throw new Je;var y=e.substring(0,3);try{for(var w=dx(t.THREE_DIGIT_DATA_LENGTH),j=w.next();!j.done;j=w.next()){var p=j.value;if(p[0]===y)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,p[2],e):t.processFixedAI(3,p[1],e)}}catch($){i={error:$}}finally{try{j&&!j.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}try{for(var C=dx(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),A=C.next();!A.done;A=C.next()){var p=A.value;if(p[0]===y)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch($){o={error:$}}finally{try{A&&!A.done&&(l=C.return)&&l.call(C)}finally{if(o)throw o.error}}if(e.length<4)throw new Je;var k=e.substring(0,4);try{for(var P=dx(t.FOUR_DIGIT_DATA_LENGTH),M=P.next();!M.done;M=P.next()){var p=M.value;if(p[0]===k)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch($){c={error:$}}finally{try{M&&!M.done&&(u=P.return)&&u.call(P)}finally{if(c)throw c.error}}throw new Je},t.processFixedAI=function(e,r,n){if(n.length<e)throw new Je;var i=n.substring(0,e);if(n.length<e+r)throw new Je;var a=n.substring(e,e+r),o=n.substring(e+r),l="("+i+")"+a,c=t.parseFieldsInGeneralPurpose(o);return c==null?l:l+c},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var o=n.substring(e,a),l=n.substring(a),c="("+i+")"+o,u=t.parseFieldsInGeneralPurpose(l);return u==null?c:c+u},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t})(),Rx=(function(){function t(e){this.buffer=new Tn,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=EW.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new df(this.information.getSize(),df.FNC1,df.FNC1):new df(this.information.getSize(),r-1,df.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new df(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Xu(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Xu(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new Xu(this.current.getPosition(),this.buffer.toString()):r=new Xu(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Yu(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new Xu(this.current.getPosition(),this.buffer.toString());return new Yu(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Yu(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Xu(this.current.getPosition(),this.buffer.toString());return new Yu(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Yu(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Xu(this.current.getPosition(),this.buffer.toString());return new Yu(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Yu(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new ml(e+5,ml.FNC1);if(r>=5&&r<15)return new ml(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new ml(e+7,""+(n+1));if(n>=90&&n<116)return new ml(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new yt}return new ml(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new ml(e+5,ml.FNC1);if(r>=5&&r<15)return new ml(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new ml(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Zm("Decoding invalid alphanumeric value: "+n)}return new ml(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t})(),hE=(function(){function t(e){this.information=e,this.generalDecoder=new Rx(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t})(),kW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),jl=(function(t){kW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var o=r.charAt(a+n).charCodeAt(0)-48;i+=(a&1)===0?3*o:o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e})(hE),PW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),TW=(function(t){PW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Tn;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(jl),IW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),DW=(function(t){IW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Tn;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(hE),RW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ox=(function(t){RW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var o=this.checkWeight(a),l=1e5,c=0;c<5;++c)o/l===0&&r.append("0"),l/=10;r.append(o)},e})(jl),OW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),fE=(function(t){OW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+Ox.GTIN_SIZE+e.WEIGHT_SIZE)throw new Je;var r=new Tn;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+Ox.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(Ox),LW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),FW=(function(t){LW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e})(fE),MW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),BW=(function(t){MW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e})(fE),UW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),VW=(function(t){UW(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+jl.GTIN_SIZE)throw new Je;var r=new Tn;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+jl.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+jl.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(jl),$W=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),zW=(function(t){$W(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+jl.GTIN_SIZE)throw new Je;var r=new Tn;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+jl.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+jl.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100==0&&r.append("0"),i/10==0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+jl.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(jl),HW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Rd=(function(t){HW(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new Je;var r=new Tn;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!=38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var l=i;l/10==0&&r.append("0"),r.append(l),o/10==0&&r.append("0"),r.append(o),a/10==0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(Ox);function qW(t){try{if(t.get(1))return new TW(t);if(!t.get(2))return new DW(t);var e=Rx.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new FW(t);case 5:return new BW(t)}var r=Rx.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new VW(t);case 13:return new zW(t)}var n=Rx.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Rd(t,"310","11");case 57:return new Rd(t,"320","11");case 58:return new Rd(t,"310","13");case 59:return new Rd(t,"320","13");case 60:return new Rd(t,"310","15");case 61:return new Rd(t,"320","15");case 62:return new Rd(t,"310","17");case 63:return new Rd(t,"320","17")}}catch(i){throw console.log(i),new Zm("unknown decoder: "+t)}}var o3=(function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t})(),WW=(function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t})(),GW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Od=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},KW=(function(t){GW(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(l){if(l instanceof Je){if(!this.pairs.length)throw new Je;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new Je},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,o=n;o<this.rows.length;o++){var l=this.rows[o];this.pairs.length=0;try{for(var c=(i=void 0,Od(r)),u=c.next();!u.done;u=c.next()){var h=u.value;this.pairs.push(h.getPairs())}}catch(x){i={error:x}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var m=new Array(r);m.push(l);try{return this.checkRows(m,o+1)}catch(x){console.log(x)}}}throw new Je},e.isValidSequence=function(r){var n,i;try{for(var a=Od(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var l=o.value;if(!(r.length>l.length)){for(var c=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!=l[u]){c=!1;break}if(c)return!0}}}catch(h){n={error:h}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var l=this.rows[i];if(l.getRowNumber()>r){o=l.isEquivalent(this.pairs);break}a=l.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new WW(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,o,l,c,u;try{for(var h=Od(n),m=h.next();!m.done;m=h.next()){var x=m.value;if(x.getPairs().length!==r.length){var p=!0;try{for(var y=(o=void 0,Od(x.getPairs())),w=y.next();!w.done;w=y.next()){var j=w.value,C=!1;try{for(var A=(c=void 0,Od(r)),k=A.next();!k.done;k=A.next()){var P=k.value;if(o3.equals(j,P)){C=!0;break}}}catch(M){c={error:M}}finally{try{k&&!k.done&&(u=A.return)&&u.call(A)}finally{if(c)throw c.error}}C||(p=!1)}}catch(M){o={error:M}}finally{try{w&&!w.done&&(l=y.return)&&l.call(y)}finally{if(o)throw o.error}}}}}catch(M){i={error:M}}finally{try{m&&!m.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,o,l,c,u;try{for(var h=Od(n),m=h.next();!m.done;m=h.next()){var x=m.value,p=!0;try{for(var y=(o=void 0,Od(r)),w=y.next();!w.done;w=y.next()){var j=w.value,C=!1;try{for(var A=(c=void 0,Od(x.getPairs())),k=A.next();!k.done;k=A.next()){var P=k.value;if(j.equals(P)){C=!0;break}}}catch(M){c={error:M}}finally{try{k&&!k.done&&(u=A.return)&&u.call(A)}finally{if(c)throw c.error}}if(!C){p=!1;break}}}catch(M){o={error:M}}finally{try{w&&!w.done&&(l=y.return)&&l.call(y)}finally{if(o)throw o.error}}if(p)return!0}}catch(M){i={error:M}}finally{try{m&&!m.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=CW.buildBitArray(r),i=qW(n),a=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),l=r[r.length-1].getFinderPattern().getResultPoints(),c=[o[0],o[1],l[0],l[1]];return new qa(a,null,null,c,Wt.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i==null)return!1;for(var a=i.getChecksumPortion(),o=2,l=1;l<this.pairs.size();++l){var c=this.pairs.get(l);a+=c.getLeftChar().getChecksumPortion(),o++;var u=c.getRightChar();u!=null&&(a+=u.getChecksumPortion(),o++)}a%=211;var h=211*(o-4)+a;return h==n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2==0;this.startFromEven&&(a=!a);var o,l=!0,c=-1;do this.findNextPair(r,n,c),o=this.parseFoundFinderPattern(r,i,a),o==null?c=e.getNextSecondBar(r,this.startEnd[0]):l=!1;while(l);var u=this.decodeDataCharacter(r,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Je;var h;try{h=this.decodeDataCharacter(r,o,a,!1)}catch(m){h=null,console.log(m)}return new o3(u,h,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=r.getSize(),l;if(i>=0)l=i;else if(this.isEmptyPair(n))l=0;else{var c=n[n.length-1];l=c.getFinderPattern().getStartEnd()[1]}var u=n.length%2!=0;this.startFromEven&&(u=!u);for(var h=!1;l<o&&(h=!r.get(l),!!h);)l++;for(var m=0,x=l,p=l;p<o;p++)if(r.get(p)!=h)a[m]++;else{if(m==3){if(u&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=x,this.startEnd[1]=p;return}u&&e.reverseCounters(a),x+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,m--}else m++;a[m]=1,h=!h}throw new Je},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,o,l;if(i){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,a=this.startEnd[0]-c,o=c,l=this.startEnd[1]}else o=this.startEnd[0],l=r.getNextUnset(this.startEnd[1]+1),a=l-this.startEnd[1];var u=this.getDecodeFinderCounters();zn.arraycopy(u,0,u,1,u.length-1),u[0]=a;var h;try{h=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new uE(h,[o,l],o,l,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var c=0,u=o.length-1;c<u;c++,u--){var h=o[c];o[c]=o[u],o[u]=h}}var m=17,x=hn.sum(new Int32Array(o))/m,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(x-p)/p>.3)throw new Je;for(var y=this.getOddCounts(),w=this.getEvenCounts(),j=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors(),c=0;c<o.length;c++){var A=1*o[c]/x,k=A+.5;if(k<1){if(A<.3)throw new Je;k=1}else if(k>8){if(A>8.7)throw new Je;k=8}var P=c/2;(c&1)==0?(y[P]=k,j[P]=A-k):(w[P]=k,C[P]=A-k)}this.adjustOddEvenCounts(m);for(var M=4*n.getValue()+(i?0:2)+(a?0:1)-1,$=0,L=0,c=y.length-1;c>=0;c--){if(e.isNotA1left(n,i,a)){var D=e.WEIGHTS[M][2*c];L+=y[c]*D}$+=y[c]}for(var V=0,c=w.length-1;c>=0;c--)if(e.isNotA1left(n,i,a)){var D=e.WEIGHTS[M][2*c+1];V+=w[c]*D}var ne=L+V;if(($&1)!=0||$>13||$<4)throw new Je;var B=(13-$)/2,F=e.SYMBOL_WIDEST[B],X=9-F,ee=Sf.getRSSvalue(y,F,!0),xe=Sf.getRSSvalue(w,X,!1),oe=e.EVEN_TOTAL_SUBSET[B],pe=e.GSUM[B],H=ee*oe+xe+pe;return new f1(H,ne)},e.isNotA1left=function(r,n,i){return!(r.getValue()==0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=hn.sum(new Int32Array(this.getOddCounts())),i=hn.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var l=!1,c=!1;i>13?c=!0:i<4&&(l=!0);var u=n+i-r,h=(n&1)==1,m=(i&1)==0;if(u==1)if(h){if(m)throw new Je;o=!0}else{if(!m)throw new Je;c=!0}else if(u==-1)if(h){if(m)throw new Je;a=!0}else{if(!m)throw new Je;l=!0}else if(u==0){if(h){if(!m)throw new Je;n<i?(a=!0,c=!0):(o=!0,l=!0)}else if(m)throw new Je}else throw new Je;if(a){if(o)throw new Je;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new Je;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(Qu),YW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),XW=(function(t){YW(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(f1),ZW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Vv=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l3=(function(t){ZW(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,o,l,c,u=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var h=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,h),n.reverse();try{for(var m=Vv(this.possibleLeftPairs),x=m.next();!x.done;x=m.next()){var p=x.value;if(p.getCount()>1)try{for(var y=(l=void 0,Vv(this.possibleRightPairs)),w=y.next();!w.done;w=y.next()){var j=w.value;if(j.getCount()>1&&e.checkChecksum(p,j))return e.constructResult(p,j)}}catch(C){l={error:C}}finally{try{w&&!w.done&&(c=y.return)&&c.call(y)}finally{if(l)throw l.error}}}}catch(C){a={error:C}}finally{try{x&&!x.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}throw new Je},e.addOrTally=function(r,n){var i,a;if(n!=null){var o=!1;try{for(var l=Vv(r),c=l.next();!c.done;c=l.next()){var u=c.value;if(u.getValue()===n.getValue()){u.incrementCount(),o=!0;break}}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),o=new Tn,l=13-a.length;l>0;l--)o.append("0");o.append(a);for(var c=0,l=0;l<13;l++){var u=o.charAt(l).charCodeAt(0)-48;c+=(l&1)===0?3*u:u}c=10-c%10,c===10&&(c=0),o.append(c.toString());var h=r.getFinderPattern().getResultPoints(),m=n.getFinderPattern().getResultPoints();return new qa(o.toString(),null,0,[h[0],h[1],m[0],m[1]],Wt.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var o=this.findFinderPattern(r,n),l=this.parseFoundFinderPattern(r,i,n,o),c=a==null?null:a.get(Jn.NEED_RESULT_POINT_CALLBACK);if(c!=null){var u=(o[0]+o[1])/2;n&&(u=r.getSize()-1-u),c.foundPossibleResultPoint(new Xt(u,i))}var h=this.decodeDataCharacter(r,l,!0),m=this.decodeDataCharacter(r,l,!1);return new XW(1597*h.getValue()+m.getValue(),h.getChecksumPortion()+4*m.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Fi.recordPatternInReverse(r,n.getStartEnd()[0],a);else{Fi.recordPattern(r,n.getStartEnd()[1]+1,a);for(var l=0,c=a.length-1;l<c;l++,c--){var u=a[l];a[l]=a[c],a[c]=u}}for(var h=i?16:15,m=hn.sum(new Int32Array(a))/h,x=this.getOddCounts(),p=this.getEvenCounts(),y=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),l=0;l<a.length;l++){var j=a[l]/m,C=Math.floor(j+.5);C<1?C=1:C>8&&(C=8);var A=Math.floor(l/2);(l&1)===0?(x[A]=C,y[A]=j-C):(p[A]=C,w[A]=j-C)}this.adjustOddEvenCounts(i,h);for(var k=0,P=0,l=x.length-1;l>=0;l--)P*=9,P+=x[l],k+=x[l];for(var M=0,$=0,l=p.length-1;l>=0;l--)M*=9,M+=p[l],$+=p[l];var L=P+3*M;if(i){if((k&1)!==0||k>12||k<4)throw new Je;var D=(12-k)/2,V=e.OUTSIDE_ODD_WIDEST[D],ne=9-V,B=Sf.getRSSvalue(x,V,!1),F=Sf.getRSSvalue(p,ne,!0),X=e.OUTSIDE_EVEN_TOTAL_SUBSET[D],ee=e.OUTSIDE_GSUM[D];return new f1(B*X+F+ee,L)}else{if(($&1)!==0||$>10||$<4)throw new Je;var D=(10-$)/2,V=e.INSIDE_ODD_WIDEST[D],ne=9-V,B=Sf.getRSSvalue(x,V,!0),F=Sf.getRSSvalue(p,ne,!1),xe=e.INSIDE_ODD_TOTAL_SUBSET[D],ee=e.INSIDE_GSUM[D];return new f1(F*xe+B+ee,L)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),o=!1,l=0;l<a&&(o=!r.get(l),n!==o);)l++;for(var c=0,u=l,h=l;h<a;h++)if(r.get(h)!==o)i[c]++;else{if(c===3){if(Qu.isFinderPattern(i))return[u,h];u+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,o=!o}throw new Je},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var o=r.get(a[0]),l=a[0]-1;l>=0&&o!==r.get(l);)l--;l++;var c=a[0]-l,u=this.getDecodeFinderCounters(),h=new Int32Array(u.length);zn.arraycopy(u,0,h,1,u.length-1),h[0]=c;var m=this.parseFinderValue(h,e.FINDER_PATTERNS),x=l,p=a[1];return i&&(x=r.getSize()-1-x,p=r.getSize()-1-p),new uE(m,[l,a[1]],x,p,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=hn.sum(new Int32Array(this.getOddCounts())),a=hn.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,c=!1,u=!1;r?(i>12?l=!0:i<4&&(o=!0),a>12?u=!0:a<4&&(c=!0)):(i>11?l=!0:i<5&&(o=!0),a>10?u=!0:a<4&&(c=!0));var h=i+a-n,m=(i&1)===(r?1:0),x=(a&1)===1;if(h===1)if(m){if(x)throw new Je;l=!0}else{if(!x)throw new Je;u=!0}else if(h===-1)if(m){if(x)throw new Je;o=!0}else{if(!x)throw new Je;c=!0}else if(h===0){if(m){if(!x)throw new Je;i<a?(o=!0,u=!0):(l=!0,c=!0)}else if(x)throw new Je}else throw new Je;if(o){if(l)throw new Je;Qu.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Qu.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new Je;Qu.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Qu.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(Qu),JW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),em=(function(t){JW(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(Jn.POSSIBLE_FORMATS):null,a=r&&r.get(Jn.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return i&&((i.includes(Wt.EAN_13)||i.includes(Wt.UPC_A)||i.includes(Wt.EAN_8)||i.includes(Wt.UPC_E))&&n.readers.push(new Uv(r)),i.includes(Wt.CODE_39)&&n.readers.push(new Qj(a)),i.includes(Wt.CODE_128)&&n.readers.push(new Jj),i.includes(Wt.ITF)&&n.readers.push(new e3),i.includes(Wt.RSS_14)&&n.readers.push(new l3),i.includes(Wt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new KW))),n.readers.length===0&&(n.readers.push(new Uv(r)),n.readers.push(new Qj),n.readers.push(new Uv(r)),n.readers.push(new Jj),n.readers.push(new e3),n.readers.push(new l3)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new Je},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e})(Fi),QW=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),eG=(function(t){QW(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new em(n),r,n)||this}return e})(c0),c3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wn=(function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),xn=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),tG=(function(){function t(e,r,n,i,a,o){var l,c;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var u=0,h=o.getECCodewords(),m=o.getECBlocks();try{for(var x=c3(m),p=x.next();!p.done;p=x.next()){var y=p.value;u+=y.getCount()*(y.getDataCodewords()+h)}}catch(w){l={error:w}}finally{try{p&&!p.done&&(c=x.return)&&c.call(x)}finally{if(l)throw l.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if((e&1)!==0||(r&1)!==0)throw new yt;try{for(var a=c3(t.VERSIONS),o=a.next();!o.done;o=a.next()){var l=o.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===r)return l}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new yt},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new wn(5,new xn(1,3))),new t(2,12,12,10,10,new wn(7,new xn(1,5))),new t(3,14,14,12,12,new wn(10,new xn(1,8))),new t(4,16,16,14,14,new wn(12,new xn(1,12))),new t(5,18,18,16,16,new wn(14,new xn(1,18))),new t(6,20,20,18,18,new wn(18,new xn(1,22))),new t(7,22,22,20,20,new wn(20,new xn(1,30))),new t(8,24,24,22,22,new wn(24,new xn(1,36))),new t(9,26,26,24,24,new wn(28,new xn(1,44))),new t(10,32,32,14,14,new wn(36,new xn(1,62))),new t(11,36,36,16,16,new wn(42,new xn(1,86))),new t(12,40,40,18,18,new wn(48,new xn(1,114))),new t(13,44,44,20,20,new wn(56,new xn(1,144))),new t(14,48,48,22,22,new wn(68,new xn(1,174))),new t(15,52,52,24,24,new wn(42,new xn(2,102))),new t(16,64,64,14,14,new wn(56,new xn(2,140))),new t(17,72,72,16,16,new wn(36,new xn(4,92))),new t(18,80,80,18,18,new wn(48,new xn(4,114))),new t(19,88,88,20,20,new wn(56,new xn(4,144))),new t(20,96,96,22,22,new wn(68,new xn(4,174))),new t(21,104,104,24,24,new wn(56,new xn(6,136))),new t(22,120,120,18,18,new wn(68,new xn(6,175))),new t(23,132,132,20,20,new wn(62,new xn(8,163))),new t(24,144,144,22,22,new wn(62,new xn(8,156),new xn(2,155))),new t(25,8,18,6,16,new wn(7,new xn(1,5))),new t(26,8,32,6,14,new wn(11,new xn(1,10))),new t(27,12,26,10,24,new wn(14,new xn(1,16))),new t(28,12,36,10,16,new wn(18,new xn(1,22))),new t(29,16,36,14,16,new wn(24,new xn(1,32))),new t(30,16,48,14,22,new wn(28,new xn(1,49)))]},t.VERSIONS=t.buildVersions(),t})(),rG=(function(){function t(e){var r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new yt;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new uc(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return tG.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),l=!1,c=!1,u=!1,h=!1;do if(n===a&&i===0&&!l)e[r++]=this.readCorner1(a,o)&255,n-=2,i+=2,l=!0;else if(n===a-2&&i===0&&(o&3)!==0&&!c)e[r++]=this.readCorner2(a,o)&255,n-=2,i+=2,c=!0;else if(n===a+4&&i===2&&(o&7)===0&&!u)e[r++]=this.readCorner3(a,o)&255,n-=2,i+=2,u=!0;else if(n===a-2&&i===0&&(o&7)===4&&!h)e[r++]=this.readCorner4(a,o)&255,n-=2,i+=2,h=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(r!==this.version.getTotalCodewords())throw new yt;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new ar("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=r/i|0,l=n/a|0,c=o*i,u=l*a,h=new uc(u,c),m=0;m<o;++m)for(var x=m*i,p=0;p<l;++p)for(var y=p*a,w=0;w<i;++w)for(var j=m*(i+2)+1+w,C=x+w,A=0;A<a;++A){var k=p*(a+2)+1+A;if(e.get(k,j)){var P=y+A;h.set(P,C)}}return h},t})(),d3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nG=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,o,l=r.getECBlocks(),c=0,u=l.getECBlocks();try{for(var h=d3(u),m=h.next();!m.done;m=h.next()){var x=m.value;c+=x.getCount()}}catch(ee){n={error:ee}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var p=new Array(c),y=0;try{for(var w=d3(u),j=w.next();!j.done;j=w.next())for(var x=j.value,C=0;C<x.getCount();C++){var A=x.getDataCodewords(),k=l.getECCodewords()+A;p[y++]=new t(A,new Uint8Array(k))}}catch(ee){a={error:ee}}finally{try{j&&!j.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}for(var P=p[0].codewords.length,M=P-l.getECCodewords(),$=M-1,L=0,C=0;C<$;C++)for(var D=0;D<y;D++)p[D].codewords[C]=e[L++];for(var V=r.getVersionNumber()===24,ne=V?8:y,D=0;D<ne;D++)p[D].codewords[M-1]=e[L++];for(var B=p[0].codewords.length,C=M;C<B;C++)for(var D=0;D<y;D++){var F=V?(D+8)%y:D,X=V&&F>7?C-1:C;p[F].codewords[X]=e[L++]}if(L!==e.length)throw new ar;return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),mE=(function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new ar(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,l=e<o?e:o,c=o-l,u=255>>8-l<<c;r=(a[i]&u)>>c,e-=l,n+=l,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var c=8-e,u=255>>c<<c;r=r<<e|(a[i]&u)>>c,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t})(),di;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(di||(di={}));var sG=(function(){function t(){}return t.decode=function(e){var r=new mE(e),n=new Tn,i=new Tn,a=new Array,o=di.ASCII_ENCODE;do if(o===di.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case di.C40_ENCODE:this.decodeC40Segment(r,n);break;case di.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case di.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case di.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case di.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new yt}o=di.ASCII_ENCODE}while(o!==di.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new eg(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new yt;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),di.ASCII_ENCODE;if(a===129)return di.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&r.append("0"),r.append(""+o)}else switch(a){case 230:return di.C40_ENCODE;case 231:return di.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return di.ANSIX12_ENCODE;case 239:return di.TEXT_ENCODE;case 240:return di.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new yt;break}}while(e.available()>0);return di.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(a){case 0:if(c<3)a=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new yt;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new yt}a=0;break;case 3:n?(r.append(String.fromCharCode(c+224)),n=!1):r.append(String.fromCharCode(c+96)),a=0;break;default:throw new yt}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(a){case 0:if(c<3)a=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new yt;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new yt}a=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),a=0}else throw new yt;break;default:throw new yt}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new yt;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new yt;for(var l=new Uint8Array(o),c=0;c<o;c++){if(e.available()<8)throw new yt;l[c]=this.unrandomize255State(e.readBits(8),i++)}n.push(l);try{r.append(ac.decode(l,Vn.ISO88591))}catch(u){throw new Zm("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t})(),iG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aG=(function(){function t(){this.rsDecoder=new tg(Ma.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new rG(e),a=i.getVersion(),o=i.readCodewords(),l=nG.getDataBlocks(o,a),c=0;try{for(var u=iG(l),h=u.next();!h.done;h=u.next()){var m=h.value;c+=m.getNumDataCodewords()}}catch(k){r={error:k}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var x=new Uint8Array(c),p=l.length,y=0;y<p;y++){var w=l[y],j=w.getCodewords(),C=w.getNumDataCodewords();this.correctErrors(j,C);for(var A=0;A<C;A++)x[A*p+y]=j[A]}return sG.decode(x)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Oi}for(var i=0;i<r;i++)e[i]=n[i]},t})(),oG=(function(){function t(e){this.image=e,this.rectangleDetector=new Uy(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Je;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],o=r[3],l=this.transitionsBetween(n,o)+1,c=this.transitionsBetween(a,o)+1;(l&1)===1&&(l+=1),(c&1)===1&&(c+=1),4*l<7*c&&4*c<7*l&&(l=c=Math.max(l,c));var u=t.sampleGrid(this.image,n,i,a,o,l,c);return new Rb(u,[n,i,a,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new Xt(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new Xt(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(r,n),l=this.transitionsBetween(n,i),c=this.transitionsBetween(i,a),u=this.transitionsBetween(a,r),h=o,m=[a,r,n,i];return h>l&&(h=l,m[0]=r,m[1]=n,m[2]=i,m[3]=a),h>c&&(h=c,m[0]=n,m[1]=i,m[2]=a,m[3]=r),h>u&&(m[0]=i,m[1]=a,m[2]=r,m[3]=n),m},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),l=t.shiftPoint(n,i,(o+1)*4),c=t.shiftPoint(i,n,(o+1)*4),u=this.transitionsBetween(l,r),h=this.transitionsBetween(c,a);return u<h?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),l=this.transitionsBetween(n,a),c=t.shiftPoint(r,n,(l+1)*4),u=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(c,a),l=this.transitionsBetween(u,a);var h=new Xt(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),m=new Xt(a.getX()+(r.getX()-n.getX())/(l+1),a.getY()+(r.getY()-n.getY())/(l+1));if(!this.isValid(h))return this.isValid(m)?m:null;if(!this.isValid(m))return h;var x=this.transitionsBetween(c,h)+this.transitionsBetween(u,h),p=this.transitionsBetween(c,m)+this.transitionsBetween(u,m);return x>p?h:m},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a)+1,l=this.transitionsBetween(i,a)+1,c=t.shiftPoint(r,n,l*4),u=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(c,a)+1,l=this.transitionsBetween(u,a)+1,(o&1)===1&&(o+=1),(l&1)===1&&(l+=1);var h=(r.getX()+n.getX()+i.getX()+a.getX())/4,m=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,h,m),n=t.moveAway(n,h,m),i=t.moveAway(i,h,m),a=t.moveAway(a,h,m);var x,p;return c=t.shiftPoint(r,n,l*4),c=t.shiftPoint(c,a,o*4),x=t.shiftPoint(n,r,l*4),x=t.shiftPoint(x,i,o*4),u=t.shiftPoint(i,a,l*4),u=t.shiftPoint(u,n,o*4),p=t.shiftPoint(a,i,l*4),p=t.shiftPoint(p,r,o*4),[c,x,u,p]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,o,l){var c=Ob.getInstance();return c.sampleGrid(e,o,l,.5,.5,o-.5,.5,o-.5,l-.5,.5,l-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),o=Math.trunc(r.getY()),l=Math.abs(o-i)>Math.abs(a-n);if(l){var c=n;n=i,i=c,c=a,a=o,o=c}for(var u=Math.abs(a-n),h=Math.abs(o-i),m=-u/2,x=i<o?1:-1,p=n<a?1:-1,y=0,w=this.image.get(l?i:n,l?n:i),j=n,C=i;j!==a;j+=p){var A=this.image.get(l?C:j,l?j:C);if(A!==w&&(y++,w=A),m+=h,m>0){if(C===o)break;C+=x,m-=u}}return y},t})(),zy=(function(){function t(){this.decoder=new aG}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(Jn.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new oG(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var l=n.getRawBytes(),c=new qa(n.getText(),l,8*l.length,i,Wt.DATA_MATRIX,zn.currentTimeMillis()),u=n.getByteSegments();u!=null&&c.putMetadata(Li.BYTE_SEGMENTS,u);var h=n.getECLevel();return h!=null&&c.putMetadata(Li.ERROR_CORRECTION_LEVEL,h),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new Je;var i=this.moduleSize(r,e),a=r[1],o=n[1],l=r[0],c=n[0],u=(c-l+1)/i,h=(o-a+1)/i;if(u<=0||h<=0)throw new Je;var m=i/2;a+=m,l+=m;for(var x=new uc(u,h),p=0;p<h;p++)for(var y=a+p*i,w=0;w<u;w++)e.get(l+w*i,y)&&x.set(w,p);return x},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new Je;var o=i-e[0];if(o===0)throw new Je;return o},t.NO_POINTS=[],t})(),lG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){lG(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new zy,r)||this}return e})(c0);var Ef;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Ef||(Ef={}));var cG=(function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new vl(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new ar;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Ef.L,"L",1),t.M=new t(Ef.M,"M",0),t.Q=new t(Ef.Q,"Q",3),t.H=new t(Ef.H,"H",2),t})(),dG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pE=(function(){function t(e){this.errorCorrectionLevel=cG.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return Jr.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var l=dG(t.FORMAT_INFO_DECODE_LOOKUP),c=l.next();!c.done;c=l.next()){var u=c.value,h=u[0];if(h===e||h===r)return new t(u[1]);var m=t.numBitsDiffering(e,h);m<a&&(o=u[1],a=m),e!==r&&(m=t.numBitsDiffering(r,h),m<a&&(o=u[1],a=m))}}catch(x){n={error:x}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t})(),uG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Le=(function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=uG(i),o=a.next();!o.done;o=a.next()){var l=o.value;n+=l.getCount()}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t})(),ue=(function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t})(),hG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uh=(function(){function t(e,r){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var l=0,c=a[0].getECCodewordsPerBlock(),u=a[0].getECBlocks();try{for(var h=hG(u),m=h.next();!m.done;m=h.next()){var x=m.value;l+=x.getCount()*(x.getDataCodewords()+c)}}catch(p){n={error:p}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new yt;try{return this.getVersionForNumber((e-17)/4)}catch{throw new yt}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new ar;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=pE.numBitsDiffering(e,a);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new uc(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Le(7,new ue(1,19)),new Le(10,new ue(1,16)),new Le(13,new ue(1,13)),new Le(17,new ue(1,9))),new t(2,Int32Array.from([6,18]),new Le(10,new ue(1,34)),new Le(16,new ue(1,28)),new Le(22,new ue(1,22)),new Le(28,new ue(1,16))),new t(3,Int32Array.from([6,22]),new Le(15,new ue(1,55)),new Le(26,new ue(1,44)),new Le(18,new ue(2,17)),new Le(22,new ue(2,13))),new t(4,Int32Array.from([6,26]),new Le(20,new ue(1,80)),new Le(18,new ue(2,32)),new Le(26,new ue(2,24)),new Le(16,new ue(4,9))),new t(5,Int32Array.from([6,30]),new Le(26,new ue(1,108)),new Le(24,new ue(2,43)),new Le(18,new ue(2,15),new ue(2,16)),new Le(22,new ue(2,11),new ue(2,12))),new t(6,Int32Array.from([6,34]),new Le(18,new ue(2,68)),new Le(16,new ue(4,27)),new Le(24,new ue(4,19)),new Le(28,new ue(4,15))),new t(7,Int32Array.from([6,22,38]),new Le(20,new ue(2,78)),new Le(18,new ue(4,31)),new Le(18,new ue(2,14),new ue(4,15)),new Le(26,new ue(4,13),new ue(1,14))),new t(8,Int32Array.from([6,24,42]),new Le(24,new ue(2,97)),new Le(22,new ue(2,38),new ue(2,39)),new Le(22,new ue(4,18),new ue(2,19)),new Le(26,new ue(4,14),new ue(2,15))),new t(9,Int32Array.from([6,26,46]),new Le(30,new ue(2,116)),new Le(22,new ue(3,36),new ue(2,37)),new Le(20,new ue(4,16),new ue(4,17)),new Le(24,new ue(4,12),new ue(4,13))),new t(10,Int32Array.from([6,28,50]),new Le(18,new ue(2,68),new ue(2,69)),new Le(26,new ue(4,43),new ue(1,44)),new Le(24,new ue(6,19),new ue(2,20)),new Le(28,new ue(6,15),new ue(2,16))),new t(11,Int32Array.from([6,30,54]),new Le(20,new ue(4,81)),new Le(30,new ue(1,50),new ue(4,51)),new Le(28,new ue(4,22),new ue(4,23)),new Le(24,new ue(3,12),new ue(8,13))),new t(12,Int32Array.from([6,32,58]),new Le(24,new ue(2,92),new ue(2,93)),new Le(22,new ue(6,36),new ue(2,37)),new Le(26,new ue(4,20),new ue(6,21)),new Le(28,new ue(7,14),new ue(4,15))),new t(13,Int32Array.from([6,34,62]),new Le(26,new ue(4,107)),new Le(22,new ue(8,37),new ue(1,38)),new Le(24,new ue(8,20),new ue(4,21)),new Le(22,new ue(12,11),new ue(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Le(30,new ue(3,115),new ue(1,116)),new Le(24,new ue(4,40),new ue(5,41)),new Le(20,new ue(11,16),new ue(5,17)),new Le(24,new ue(11,12),new ue(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Le(22,new ue(5,87),new ue(1,88)),new Le(24,new ue(5,41),new ue(5,42)),new Le(30,new ue(5,24),new ue(7,25)),new Le(24,new ue(11,12),new ue(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Le(24,new ue(5,98),new ue(1,99)),new Le(28,new ue(7,45),new ue(3,46)),new Le(24,new ue(15,19),new ue(2,20)),new Le(30,new ue(3,15),new ue(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Le(28,new ue(1,107),new ue(5,108)),new Le(28,new ue(10,46),new ue(1,47)),new Le(28,new ue(1,22),new ue(15,23)),new Le(28,new ue(2,14),new ue(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Le(30,new ue(5,120),new ue(1,121)),new Le(26,new ue(9,43),new ue(4,44)),new Le(28,new ue(17,22),new ue(1,23)),new Le(28,new ue(2,14),new ue(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Le(28,new ue(3,113),new ue(4,114)),new Le(26,new ue(3,44),new ue(11,45)),new Le(26,new ue(17,21),new ue(4,22)),new Le(26,new ue(9,13),new ue(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Le(28,new ue(3,107),new ue(5,108)),new Le(26,new ue(3,41),new ue(13,42)),new Le(30,new ue(15,24),new ue(5,25)),new Le(28,new ue(15,15),new ue(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Le(28,new ue(4,116),new ue(4,117)),new Le(26,new ue(17,42)),new Le(28,new ue(17,22),new ue(6,23)),new Le(30,new ue(19,16),new ue(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Le(28,new ue(2,111),new ue(7,112)),new Le(28,new ue(17,46)),new Le(30,new ue(7,24),new ue(16,25)),new Le(24,new ue(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Le(30,new ue(4,121),new ue(5,122)),new Le(28,new ue(4,47),new ue(14,48)),new Le(30,new ue(11,24),new ue(14,25)),new Le(30,new ue(16,15),new ue(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Le(30,new ue(6,117),new ue(4,118)),new Le(28,new ue(6,45),new ue(14,46)),new Le(30,new ue(11,24),new ue(16,25)),new Le(30,new ue(30,16),new ue(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Le(26,new ue(8,106),new ue(4,107)),new Le(28,new ue(8,47),new ue(13,48)),new Le(30,new ue(7,24),new ue(22,25)),new Le(30,new ue(22,15),new ue(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Le(28,new ue(10,114),new ue(2,115)),new Le(28,new ue(19,46),new ue(4,47)),new Le(28,new ue(28,22),new ue(6,23)),new Le(30,new ue(33,16),new ue(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Le(30,new ue(8,122),new ue(4,123)),new Le(28,new ue(22,45),new ue(3,46)),new Le(30,new ue(8,23),new ue(26,24)),new Le(30,new ue(12,15),new ue(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Le(30,new ue(3,117),new ue(10,118)),new Le(28,new ue(3,45),new ue(23,46)),new Le(30,new ue(4,24),new ue(31,25)),new Le(30,new ue(11,15),new ue(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Le(30,new ue(7,116),new ue(7,117)),new Le(28,new ue(21,45),new ue(7,46)),new Le(30,new ue(1,23),new ue(37,24)),new Le(30,new ue(19,15),new ue(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Le(30,new ue(5,115),new ue(10,116)),new Le(28,new ue(19,47),new ue(10,48)),new Le(30,new ue(15,24),new ue(25,25)),new Le(30,new ue(23,15),new ue(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Le(30,new ue(13,115),new ue(3,116)),new Le(28,new ue(2,46),new ue(29,47)),new Le(30,new ue(42,24),new ue(1,25)),new Le(30,new ue(23,15),new ue(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Le(30,new ue(17,115)),new Le(28,new ue(10,46),new ue(23,47)),new Le(30,new ue(10,24),new ue(35,25)),new Le(30,new ue(19,15),new ue(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Le(30,new ue(17,115),new ue(1,116)),new Le(28,new ue(14,46),new ue(21,47)),new Le(30,new ue(29,24),new ue(19,25)),new Le(30,new ue(11,15),new ue(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Le(30,new ue(13,115),new ue(6,116)),new Le(28,new ue(14,46),new ue(23,47)),new Le(30,new ue(44,24),new ue(7,25)),new Le(30,new ue(59,16),new ue(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Le(30,new ue(12,121),new ue(7,122)),new Le(28,new ue(12,47),new ue(26,48)),new Le(30,new ue(39,24),new ue(14,25)),new Le(30,new ue(22,15),new ue(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Le(30,new ue(6,121),new ue(14,122)),new Le(28,new ue(6,47),new ue(34,48)),new Le(30,new ue(46,24),new ue(10,25)),new Le(30,new ue(2,15),new ue(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Le(30,new ue(17,122),new ue(4,123)),new Le(28,new ue(29,46),new ue(14,47)),new Le(30,new ue(49,24),new ue(10,25)),new Le(30,new ue(24,15),new ue(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Le(30,new ue(4,122),new ue(18,123)),new Le(28,new ue(13,46),new ue(32,47)),new Le(30,new ue(48,24),new ue(14,25)),new Le(30,new ue(42,15),new ue(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Le(30,new ue(20,117),new ue(4,118)),new Le(28,new ue(40,47),new ue(7,48)),new Le(30,new ue(43,24),new ue(22,25)),new Le(30,new ue(10,15),new ue(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Le(30,new ue(19,118),new ue(6,119)),new Le(28,new ue(18,47),new ue(31,48)),new Le(30,new ue(34,24),new ue(34,25)),new Le(30,new ue(20,15),new ue(61,16)))],t})(),ji;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(ji||(ji={}));var u3=(function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[ji.DATA_MASK_000,new t(ji.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[ji.DATA_MASK_001,new t(ji.DATA_MASK_001,function(e,r){return(e&1)===0})],[ji.DATA_MASK_010,new t(ji.DATA_MASK_010,function(e,r){return r%3===0})],[ji.DATA_MASK_011,new t(ji.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[ji.DATA_MASK_100,new t(ji.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[ji.DATA_MASK_101,new t(ji.DATA_MASK_101,function(e,r){return e*r%6===0})],[ji.DATA_MASK_110,new t(ji.DATA_MASK_110,function(e,r){return e*r%6<3})],[ji.DATA_MASK_111,new t(ji.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t})(),fG=(function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new yt;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=pE.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new yt},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return uh.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var l=uh.decodeVersionInformation(n);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(l=uh.decodeVersionInformation(n),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new yt},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=u3.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),o=!0,l=new Uint8Array(r.getTotalCodewords()),c=0,u=0,h=0,m=i-1;m>0;m-=2){m===6&&m--;for(var x=0;x<i;x++)for(var p=o?i-1-x:x,y=0;y<2;y++)a.get(m-y,p)||(h++,u<<=1,this.bitMatrix.get(m-y,p)&&(u|=1),h===8&&(l[c++]=u,h=0,u=0));o=!o}if(c!==r.getTotalCodewords())throw new yt;return l},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=u3.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t})(),h3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mG=(function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,o,l;if(e.length!==r.getTotalCodewords())throw new ar;var c=r.getECBlocksForLevel(n),u=0,h=c.getECBlocks();try{for(var m=h3(h),x=m.next();!x.done;x=m.next()){var p=x.value;u+=p.getCount()}}catch(X){i={error:X}}finally{try{x&&!x.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}var y=new Array(u),w=0;try{for(var j=h3(h),C=j.next();!C.done;C=j.next())for(var p=C.value,A=0;A<p.getCount();A++){var k=p.getDataCodewords(),P=c.getECCodewordsPerBlock()+k;y[w++]=new t(k,new Uint8Array(P))}}catch(X){o={error:X}}finally{try{C&&!C.done&&(l=j.return)&&l.call(j)}finally{if(o)throw o.error}}for(var M=y[0].codewords.length,$=y.length-1;$>=0;){var L=y[$].codewords.length;if(L===M)break;$--}$++;for(var D=M-c.getECCodewordsPerBlock(),V=0,A=0;A<D;A++)for(var ne=0;ne<w;ne++)y[ne].codewords[A]=e[V++];for(var ne=$;ne<w;ne++)y[ne].codewords[D]=e[V++];for(var B=y[0].codewords.length,A=D;A<B;A++)for(var ne=0;ne<w;ne++){var F=ne<$?A:A+1;y[ne].codewords[F]=e[V++]}return y},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t})(),Fo;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Fo||(Fo={}));var Xn=(function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new ar;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Fo.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Fo.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Fo.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Fo.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Fo.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Fo.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Fo.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Fo.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Fo.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Fo.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t})(),pG=(function(){function t(){}return t.decode=function(e,r,n,i){var a=new mE(e),o=new Tn,l=new Array,c=-1,u=-1;try{var h=null,m=!1,x=void 0;do{if(a.available()<4)x=Xn.TERMINATOR;else{var p=a.readBits(4);x=Xn.forBits(p)}switch(x){case Xn.TERMINATOR:break;case Xn.FNC1_FIRST_POSITION:case Xn.FNC1_SECOND_POSITION:m=!0;break;case Xn.STRUCTURED_APPEND:if(a.available()<16)throw new yt;c=a.readBits(8),u=a.readBits(8);break;case Xn.ECI:var y=t.parseECIValue(a);if(h=hi.getCharacterSetECIByValue(y),h===null)throw new yt;break;case Xn.HANZI:var w=a.readBits(4),j=a.readBits(x.getCharacterCountBits(r));w===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,j);break;default:var C=a.readBits(x.getCharacterCountBits(r));switch(x){case Xn.NUMERIC:t.decodeNumericSegment(a,o,C);break;case Xn.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,C,m);break;case Xn.BYTE:t.decodeByteSegment(a,o,C,h,l,i);break;case Xn.KANJI:t.decodeKanjiSegment(a,o,C);break;default:throw new yt}break}}while(x!==Xn.TERMINATOR)}catch{throw new yt}return new eg(e,o.toString(),l.length===0?null:l,n===null?null:n.toString(),c,u)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new yt;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),l=o/96<<8&4294967295|o%96;l<959?l+=41377:l+=42657,i[a]=l>>8&255,i[a+1]=l&255,a+=2,n--}try{r.append(ac.decode(i,Vn.GB2312))}catch(c){throw new yt(c)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new yt;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),l=o/192<<8&4294967295|o%192;l<7936?l+=33088:l+=49472,i[a]=l>>8,i[a+1]=l,a+=2,n--}try{r.append(ac.decode(i,Vn.SHIFT_JIS))}catch(c){throw new yt(c)}},t.decodeByteSegment=function(e,r,n,i,a,o){if(8*n>e.available())throw new yt;for(var l=new Uint8Array(n),c=0;c<n;c++)l[c]=e.readBits(8);var u;i===null?u=Vn.guessEncoding(l,o):u=i.getName();try{r.append(ac.decode(l,u))}catch(h){throw new yt(h)}a.push(l)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new yt;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new yt;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new yt;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var l=a;l<r.length();l++)r.charAt(l)==="%"&&(l<r.length()-1&&r.charAt(l+1)==="%"?r.deleteCharAt(l+1):r.setCharAt(l,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new yt;var i=e.readBits(10);if(i>=1e3)throw new yt;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new yt;var a=e.readBits(7);if(a>=100)throw new yt;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new yt;var o=e.readBits(4);if(o>=10)throw new yt;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new yt},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t})(),xE=(function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t})(),f3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xG=(function(){function t(){this.rsDecoder=new tg(Ma.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(uc.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new fG(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new xE(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,o,l=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),h=mG.getDataBlocks(u,l,c),m=0;try{for(var x=f3(h),p=x.next();!p.done;p=x.next()){var y=p.value;m+=y.getNumDataCodewords()}}catch($){n={error:$}}finally{try{p&&!p.done&&(i=x.return)&&i.call(x)}finally{if(n)throw n.error}}var w=new Uint8Array(m),j=0;try{for(var C=f3(h),A=C.next();!A.done;A=C.next()){var y=A.value,k=y.getCodewords(),P=y.getNumDataCodewords();this.correctErrors(k,P);for(var M=0;M<P;M++)w[j++]=k[M]}}catch($){a={error:$}}finally{try{A&&!A.done&&(o=C.return)&&o.call(C)}finally{if(a)throw a.error}}return pG.decode(w,l,c,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Oi}for(var i=0;i<r;i++)e[i]=n[i]},t})(),gG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),vG=(function(t){gG(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,o=(this.getY()+r)/2,l=(this.estimatedModuleSize+i)/2;return new e(a,o,l)},e})(Xt),yG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wG=(function(){function t(e,r,n,i,a,o,l){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,o=new Int32Array(3),l=this.image,c=0;c<r;c++){var u=a+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var h=e;h<i&&!l.get(h,u);)h++;for(var m=0;h<i;){if(l.get(h,u))if(m===1)o[1]++;else if(m===2){if(this.foundPatternCross(o)){var x=this.handlePossibleCenter(o,u,h);if(x!==null)return x}o[0]=o[2],o[1]=1,o[2]=0,m=1}else o[++m]++;else m===1&&m++,o[m]++;h++}if(this.foundPatternCross(o)){var x=this.handlePossibleCenter(o,u,i);if(x!==null)return x}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Je},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,o=a.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var c=e;c>=0&&a.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&!a.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<o&&a.get(r,c)&&l[1]<=n;)l[1]++,c++;if(c===o||l[1]>n)return NaN;for(;c<o&&!a.get(r,c)&&l[2]<=n;)l[2]++,c++;if(l[2]>n)return NaN;var u=l[0]+l[1]+l[2];return 5*Math.abs(u-i)>=2*i?NaN:this.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,o=e[0]+e[1]+e[2],l=t.centerFromEnd(e,n),c=this.crossCheckVertical(r,l,2*e[1],o);if(!isNaN(c)){var u=(e[0]+e[1]+e[2])/3;try{for(var h=yG(this.possibleCenters),m=h.next();!m.done;m=h.next()){var x=m.value;if(x.aboutEquals(u,c,l))return x.combineEstimate(c,l,u)}}catch(y){i={error:y}}finally{try{m&&!m.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}var p=new vG(l,c,u);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t})(),bG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),NG=(function(t){bG(e,t);function e(r,n,i,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,l=(this.count*this.getY()+r)/a,c=(this.count*this.estimatedModuleSize+i)/a;return new e(o,l,c,a)},e})(Xt),jG=(function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t})(),B0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CG=(function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(Jn.TRY_HARDER)!==void 0,n=e!=null&&e.get(Jn.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),l=Math.floor(3*a/(4*t.MAX_MODULES));(l<t.MIN_SKIP||r)&&(l=t.MIN_SKIP);for(var c=!1,u=new Int32Array(5),h=l-1;h<a&&!c;h+=l){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var m=0,x=0;x<o;x++)if(i.get(x,h))(m&1)===1&&m++,u[m]++;else if((m&1)===0)if(m===4)if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,h,x,n);if(p===!0)if(l=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var y=this.findRowSkip();y>u[2]&&(h+=y-u[2]-l,x=o-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,m=3;continue}m=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,m=3;else u[++m]++;else u[m]++;if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,h,o,n);p===!0&&(l=u[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var w=this.selectBestPatterns();return Xt.orderBestPatterns(w),new jG(w)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),o=0,l=this.image;e>=o&&r>=o&&l.get(r-o,e-o);)a[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!l.get(r-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||r<o||a[1]>n)return!1;for(;e>=o&&r>=o&&l.get(r-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var c=l.getHeight(),u=l.getWidth();for(o=1;e+o<c&&r+o<u&&l.get(r+o,e+o);)a[2]++,o++;if(e+o>=c||r+o>=u)return!1;for(;e+o<c&&r+o<u&&!l.get(r+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=c||r+o>=u||a[3]>=n)return!1;for(;e+o<c&&r+o<u&&l.get(r+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var h=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(h-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,o=a.getHeight(),l=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(r,c);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&a.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<o&&a.get(r,c);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!a.get(r,c)&&l[3]<n;)l[3]++,c++;if(c===o||l[3]>=n)return NaN;for(;c<o&&a.get(r,c)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var u=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(u-i)>=2*i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,o=a.getWidth(),l=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(c,r);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(c,r)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&a.get(c,r)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<o&&a.get(c,r);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!a.get(c,r)&&l[3]<n;)l[3]++,c++;if(c===o||l[3]>=n)return NaN;for(;c<o&&a.get(c,r)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var u=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(u-i)>=i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,Math.floor(o),e[2],a);if(!isNaN(l)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(l),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(l),Math.floor(o),e[2],a)))){for(var c=a/7,u=!1,h=this.possibleCenters,m=0,x=h.length;m<x;m++){var p=h[m];if(p.aboutEquals(c,l,o)){h[m]=p.combineEstimate(l,o,c),u=!0;break}}if(!u){var y=new NG(o,l,c);h.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=B0(this.possibleCenters),o=a.next();!o.done;o=a.next()){var l=o.value;if(l.getCount()>=t.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,o=0,l=this.possibleCenters.length;try{for(var c=B0(this.possibleCenters),u=c.next();!u.done;u=c.next()){var h=u.value;h.getCount()>=t.CENTER_QUORUM&&(a++,o+=h.getEstimatedModuleSize())}}catch(w){e={error:w}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}if(a<3)return!1;var m=o/l,x=0;try{for(var p=B0(this.possibleCenters),y=p.next();!y.done;y=p.next()){var h=y.value;x+=Math.abs(h.getEstimatedModuleSize()-m)}}catch(w){n={error:w}}finally{try{y&&!y.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return x<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new Je;var o=this.possibleCenters,l;if(a>3){var c=0,u=0;try{for(var h=B0(this.possibleCenters),m=h.next();!m.done;m=h.next()){var x=m.value,p=x.getEstimatedModuleSize();c+=p,u+=p*p}}catch(M){e={error:M}}finally{try{m&&!m.done&&(r=h.return)&&r.call(h)}finally{if(e)throw e.error}}l=c/a;var y=Math.sqrt(u/a-l*l);o.sort(function(M,$){var L=Math.abs($.getEstimatedModuleSize()-l),D=Math.abs(M.getEstimatedModuleSize()-l);return L<D?-1:L>D?1:0});for(var w=Math.max(.2*l,y),j=0;j<o.length&&o.length>3;j++){var C=o[j];Math.abs(C.getEstimatedModuleSize()-l)>w&&(o.splice(j,1),j--)}}if(o.length>3){var c=0;try{for(var A=B0(o),k=A.next();!k.done;k=A.next()){var P=k.value;c+=P.getEstimatedModuleSize()}}catch($){n={error:$}}finally{try{k&&!k.done&&(i=A.return)&&i.call(A)}finally{if(n)throw n.error}}l=c/o.length,o.sort(function($,L){if(L.getCount()===$.getCount()){var D=Math.abs(L.getEstimatedModuleSize()-l),V=Math.abs($.getEstimatedModuleSize()-l);return D<V?1:D>V?-1:0}else return L.getCount()-$.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t})(),_G=(function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Jn.NEED_RESULT_POINT_CALLBACK);var r=new CG(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new Je("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,a),l=uh.getProvisionalVersionForDimension(o),c=l.getDimensionForVersion()-7,u=null;if(l.getAlignmentPatternCenters().length>0)for(var h=n.getX()-r.getX()+i.getX(),m=n.getY()-r.getY()+i.getY(),x=1-3/c,p=Math.floor(r.getX()+x*(h-r.getX())),y=Math.floor(r.getY()+x*(m-r.getY())),w=4;w<=16;w<<=1)try{u=this.findAlignmentInRegion(a,p,y,w);break}catch(k){if(!(k instanceof Je))throw k}var j=t.createTransform(r,n,i,u,o),C=t.sampleGrid(this.image,j,o),A;return u===null?A=[i,r,n]:A=[i,r,n,u],new Rb(C,A)},t.createTransform=function(e,r,n,i,a){var o=a-3.5,l,c,u,h;return i!==null?(l=i.getX(),c=i.getY(),u=o-3,h=u):(l=r.getX()-e.getX()+n.getX(),c=r.getY()-e.getY()+n.getY(),u=o,h=o),dE.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,u,h,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),l,c,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=Ob.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=hn.round(Xt.distance(e,r)/i),o=hn.round(Xt.distance(e,n)/i),l=Math.floor((a+o)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new Je("Dimensions could be not found.")}return l},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,l=e-(n-e);l<0?(o=e/(e-l),l=0):l>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var c=Math.floor(r-(i-r)*o);return o=1,c<0?(o=r/(r-c),c=0):c>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),l=Math.floor(e+(l-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,r,l,c),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var o=e;e=r,r=o,o=n,n=i,i=o}for(var l=Math.abs(n-e),c=Math.abs(i-r),u=-l/2,h=e<n?1:-1,m=r<i?1:-1,x=0,p=n+h,y=e,w=r;y!==p;y+=h){var j=a?w:y,C=a?y:w;if(x===1===this.image.get(j,C)){if(x===2)return hn.distance(y,w,e,r);x++}if(u+=c,u>0){if(w===i)break;w+=m,u-=l}}return x===2?hn.distance(n+h,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),o=Math.max(0,r-a),l=Math.min(this.image.getWidth()-1,r+a);if(l-o<e*3)throw new Je("Alignment top exceeds estimated module size.");var c=Math.max(0,n-a),u=Math.min(this.image.getHeight()-1,n+a);if(u-c<e*3)throw new Je("Alignment bottom exceeds estimated module size.");var h=new wG(this.image,o,c,l-o,u-c,e,this.resultPointCallback);return h.find()},t})(),Hy=(function(){function t(){this.decoder=new xG}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(Jn.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var o=new _G(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof xE&&n.getOther().applyMirroredCorrection(i);var l=new qa(n.getText(),n.getRawBytes(),void 0,i,Wt.QR_CODE,void 0),c=n.getByteSegments();c!==null&&l.putMetadata(Li.BYTE_SEGMENTS,c);var u=n.getECLevel();return u!==null&&l.putMetadata(Li.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(l.putMetadata(Li.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),l.putMetadata(Li.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new Je;var i=this.moduleSize(r,e),a=r[1],o=n[1],l=r[0],c=n[0];if(l>=c||a>=o)throw new Je;if(o-a!==c-l&&(c=l+(o-a),c>=e.getWidth()))throw new Je;var u=Math.round((c-l+1)/i),h=Math.round((o-a+1)/i);if(u<=0||h<=0)throw new Je;if(h!==u)throw new Je;var m=Math.floor(i/2);a+=m,l+=m;var x=l+Math.floor((u-1)*i)-c;if(x>0){if(x>m)throw new Je;l-=x}var p=a+Math.floor((h-1)*i)-o;if(p>0){if(p>m)throw new Je;a-=p}for(var y=new uc(u,h),w=0;w<h;w++)for(var j=a+Math.floor(w*i),C=0;C<u;C++)e.get(l+Math.floor(C*i),j)&&y.set(C,w);return y},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],o=e[1],l=!0,c=0;a<i&&o<n;){if(l!==r.get(a,o)){if(++c===5)break;l=!l}a++,o++}if(a===i||o===n)throw new Je;return(a-e[0])/7},t.NO_POINTS=new Array,t})(),AG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},on=(function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return hn.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=AG(e),l=o.next();!l.done;l=o.next()){var c=l.value;i[a++]=c}}catch(u){r={error:u}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=$a.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t})(),SG=(function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t})(),EG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kG=(function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new SG(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,o=0,l=0,c=!1;o<r.getHeight();){var u=t.findVertices(r,o,l);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,l=0;try{for(var h=(n=void 0,EG(a)),m=h.next();!m.done;m=h.next()){var x=m.value;x[1]!=null&&(o=Math.trunc(Math.max(o,x[1].getY()))),x[3]!=null&&(o=Math.max(o,Math.trunc(x[3].getY())))}}catch(p){n={error:p}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(c=!0,a.push(u),!e)break;u[2]!=null?(l=Math.trunc(u[2].getX()),o=Math.trunc(u[2].getY())):(l=Math.trunc(u[4].getX()),o=Math.trunc(u[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,o){for(var l=new Array(4),c=!1,u=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var h=t.findGuardPattern(e,a,i,n,!1,o,u);if(h!=null){for(;i>0;){var m=t.findGuardPattern(e,a,--i,n,!1,o,u);if(m!=null)h=m;else{i++;break}}l[0]=new Xt(h[0],i),l[1]=new Xt(h[1],i),c=!0;break}}var x=i+1;if(c){for(var p=0,m=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);x<r;x++){var h=t.findGuardPattern(e,m[0],x,n,!1,o,u);if(h!=null&&Math.abs(m[0]-h[0])<t.MAX_PATTERN_DRIFT&&Math.abs(m[1]-h[1])<t.MAX_PATTERN_DRIFT)m=h,p=0;else{if(p>t.SKIPPED_ROW_COUNT_MAX)break;p++}}x-=p+1,l[2]=new Xt(m[0],x),l[3]=new Xt(m[1],x)}return x-i<t.BARCODE_MIN_HEIGHT&&$a.fill(l,null),l},t.findGuardPattern=function(e,r,n,i,a,o,l){$a.fillWithin(l,0,l.length,0);for(var c=r,u=0;e.get(c,n)&&c>0&&u++<t.MAX_PIXEL_DRIFT;)c--;for(var h=c,m=0,x=o.length,p=a;h<i;h++){var y=e.get(h,n);if(y!==p)l[m]++;else{if(m===x-1){if(t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([c,h]);c+=l[0]+l[1],zn.arraycopy(l,2,l,0,m-1),l[m-1]=0,l[m]=0,m--}else m++;l[m]=1,p=!p}}return m===x-1&&t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([c,h-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,l=0;l<i;l++)a+=e[l],o+=r[l];if(a<o)return 1/0;var c=a/o;n*=c;for(var u=0,h=0;h<i;h++){var m=e[h],x=r[h]*c,p=m>x?m-x:x-m;if(p>n)return 1/0;u+=p}return u/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t})(),PG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oh=(function(){function t(e,r){if(r.length===0)throw new ar;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),zn.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=PG(this.coefficients),o=a.next();!o.done;o=a.next()){var l=o.value;i=this.field.add(i,l)}}catch(m){r={error:m}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var c=this.coefficients[0],u=this.coefficients.length,h=1;h<u;h++)c=this.field.add(this.field.multiply(e,c),this.coefficients[h]);return c},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new ar("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;zn.arraycopy(n,0,a,0,o);for(var l=o;l<n.length;l++)a[l]=this.field.add(r[l-o],n[l]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new ar("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new ar("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),l=0;l<n;l++)for(var c=r[l],u=0;u<a;u++)o[l+u]=this.field.add(o[l+u],this.field.multiply(c,i[u]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new ar;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Tn,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t})(),TG=(function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new ar;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new cE;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t})(),IG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),DG=(function(t){IG(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,o=0;o<r;o++)i.expTable[o]=a,a=a*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new oh(i,new Int32Array([0])),i.one=new oh(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new ar;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new oh(this,i)},e.PDF417_GF=new e(on.NUMBER_OF_CODEWORDS,3),e})(TG),RG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OG=(function(){function t(){this.field=DG.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,o=new oh(this.field,e),l=new Int32Array(r),c=!1,u=r;u>0;u--){var h=o.evaluateAt(this.field.exp(u));l[r-u]=h,h!==0&&(c=!0)}if(!c)return 0;var m=this.field.getOne();if(n!=null)try{for(var x=RG(n),p=x.next();!p.done;p=x.next()){var y=p.value,w=this.field.exp(e.length-1-y),j=new oh(this.field,new Int32Array([this.field.subtract(0,w),1]));m=m.multiply(j)}}catch(D){i={error:D}}finally{try{p&&!p.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}for(var C=new oh(this.field,l),A=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),C,r),k=A[0],P=A[1],M=this.findErrorLocations(k),$=this.findErrorMagnitudes(P,k,M),u=0;u<M.length;u++){var L=e.length-1-this.field.log(M[u]);if(L<0)throw Oi.getChecksumInstance();e[L]=this.field.subtract(e[L],$[u])}return M.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,o=r,l=this.field.getZero(),c=this.field.getOne();o.getDegree()>=Math.round(n/2);){var u=a,h=l;if(a=o,l=c,a.isZero())throw Oi.getChecksumInstance();o=u;for(var m=this.field.getZero(),x=a.getCoefficient(a.getDegree()),p=this.field.inverse(x);o.getDegree()>=a.getDegree()&&!o.isZero();){var y=o.getDegree()-a.getDegree(),w=this.field.multiply(o.getCoefficient(o.getDegree()),p);m=m.add(this.field.buildMonomial(y,w)),o=o.subtract(a.multiplyByMonomial(y,w))}c=m.multiply(l).subtract(h).negative()}var j=c.getCoefficient(0);if(j===0)throw Oi.getChecksumInstance();var C=this.field.inverse(j),A=c.multiply(C),k=o.multiply(C);return[A,k]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw Oi.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var l=new oh(this.field,a),c=n.length,u=new Int32Array(c),o=0;o<c;o++){var h=this.field.inverse(n[o]),m=this.field.subtract(0,e.evaluateAt(h)),x=this.field.inverse(l.evaluateAt(h));u[o]=this.field.multiply(m,x)}return u},t})(),qy=(function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var o=r==null||n==null,l=i==null||a==null;if(o&&l)throw new Je;o?(r=new Xt(0,i.getY()),n=new Xt(0,a.getY())):l&&(i=new Xt(e.getWidth()-1,r.getY()),a=new Xt(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,l=this.bottomRight;if(e>0){var c=n?this.topLeft:this.topRight,u=Math.trunc(c.getY()-e);u<0&&(u=0);var h=new Xt(c.getX(),u);n?i=h:o=h}if(r>0){var m=n?this.bottomLeft:this.bottomRight,x=Math.trunc(m.getY()+r);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);var p=new Xt(m.getX(),x);n?a=p:l=p}return new t(this.image,i,a,o,l)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t})(),LG=(function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t})(),Fb=(function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,l,c,u,h,m){if(o==="%%")return"%";if(r[++n]!==void 0){o=u?parseInt(u.substr(1)):void 0;var x=h?parseInt(h.substr(1)):void 0,p;switch(m){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(o);break;case"p":p=parseFloat(r[n]).toPrecision(o);break;case"e":p=parseFloat(r[n]).toExponential(o);break;case"x":p=parseInt(r[n]).toString(x||16);break;case"d":p=parseFloat(parseInt(r[n],x||10).toPrecision(o)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(x);for(var y=parseInt(c),w=c&&c[0]+""=="0"?"0":" ";p.length<y;)p=l!==void 0?p+w:w+p;return p}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t})(),FG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gE=(function(){function t(e){this.boundingBox=new qy(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new Fb,i=0;try{for(var a=FG(this.codewords),o=a.next();!o.done;o=a.next()){var l=o.value;if(l==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t})(),MG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BG=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},tm=(function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(m,x){var p={getKey:function(){return m},getValue:function(){return x}};p.getValue()>n?(n=p.getValue(),i=[],i.push(p.getKey())):p.getValue()===n&&i.push(p.getKey())};try{for(var o=MG(this.values.entries()),l=o.next();!l.done;l=o.next()){var c=BG(l.value,2),u=c[0],h=c[1];a(u,h)}}catch(m){e={error:m}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return on.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t})(),UG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),$v=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m3=(function(t){UG(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=$v(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o?.setRowNumberAsRowIndicatorColumn()}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=-1,h=1,m=0,x=l;x<c;x++)if(n[x]!=null){var p=n[x],y=p.getRowNumber()-u;if(y===0)m++;else if(y===1)h=Math.max(h,m),m=1,u=p.getRowNumber();else if(y<0||p.getRowNumber()>=r.getRowCount()||y>x)n[x]=null;else{var w=void 0;h>2?w=(h-2)*y:w=y;for(var j=w>=x,C=1;C<=w&&!j;C++)j=n[x-C]!=null;j?n[x]=null:(u=p.getRowNumber(),m=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=$v(this.getCodewords()),l=o.next();!l.done;l=o.next()){var c=l.value;if(c!=null){var u=c.getRowNumber();if(u>=a.length)continue;a[u]++}}}catch(h){r={error:h}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.getCodewords(),u=-1,h=o;h<l;h++)if(c[h]!=null){var m=c[h];m.setRowNumberAsRowIndicatorColumn();var x=m.getRowNumber()-u;x===0||(x===1?u=m.getRowNumber():m.getRowNumber()>=r.getRowCount()?c[h]=null:u=m.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new tm,o=new tm,l=new tm,c=new tm;try{for(var u=$v(i),h=u.next();!h.done;h=u.next()){var m=h.value;if(m!=null){m.setRowNumberAsRowIndicatorColumn();var x=m.getValue()%30,p=m.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(x*3+1);break;case 1:c.setValue(x/3),l.setValue(x%3);break;case 2:a.setValue(x+1);break}}}}catch(w){r={error:w}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(a.getValue().length===0||o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<on.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>on.MAX_ROWS_IN_BARCODE)return null;var y=new LG(a.getValue()[0],o.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,y),y},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var o=a.getValue()%30,l=a.getRowNumber();if(l>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e})(gE),VG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$G=(function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=on.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var l=this.detectionResultColumns[o].getCodewords()[n];l!=null&&(a=t.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var l=this.detectionResultColumns[o].getCodewords()[n];l!=null&&(a=t.adjustRowNumberIfValid(i,a,l),l.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[r],l=this.detectionResultColumns[e-1].getCodewords(),c=l;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=l[r],u[3]=c[r],r>0&&(u[0]=n[r-1],u[4]=l[r-1],u[5]=c[r-1]),r>1&&(u[8]=n[r-2],u[10]=l[r-2],u[11]=c[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=l[r+1],u[7]=c[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=l[r+2],u[13]=c[r+2]);try{for(var h=VG(u),m=h.next();!m.done;m=h.next()){var x=m.value;if(t.adjustRowNumber(o,x))return}}catch(p){i={error:p}}finally{try{m&&!m.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new Fb,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t})(),zG=(function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t})(),HG=(function(){function t(){}return t.initialize=function(){for(var e=0;e<on.SYMBOL_TABLE.length;e++)for(var r=on.SYMBOL_TABLE[e],n=r&1,i=0;i<on.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(on.BARS_IN_MODULE)),t.RATIOS_TABLE[e][on.BARS_IN_MODULE-i-1]=Math.fround(a/on.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=hn.sum(e),n=new Int32Array(on.BARS_IN_MODULE),i=0,a=0,o=0;o<on.MODULES_IN_CODEWORD;o++){var l=r/(2*on.MODULES_IN_CODEWORD)+o*r/on.MODULES_IN_CODEWORD;a+e[i]<=l&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return on.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=hn.sum(e),n=new Array(on.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=By.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var l=0;l<t.RATIOS_TABLE.length;l++){for(var c=0,u=t.RATIOS_TABLE[l],h=0;h<on.BARS_IN_MODULE;h++){var m=Math.fround(u[h]-n[h]);if(c+=Math.fround(m*m),c>=a)break}c<a&&(a=c,o=on.SYMBOL_TABLE[l])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(on.SYMBOL_TABLE.length).map(function(e){return new Array(on.BARS_IN_MODULE)}),t})(),qG=(function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t})(),p3=(function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t})(),WG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),GG=(function(t){WG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e})(Ha),KG=(function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new GG;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new Ib;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t})(),YG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),XG=(function(t){YG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(Ha),ZG=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),JG=(function(t){ZG(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new ar("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new XG;i=Jr.MAX_VALUE}this.buf=$a.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new Ib;this.ensureCapacity(this.count+i),zn.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return $a.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e})(KG),Pn;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Pn||(Pn={}));function vE(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var ux;function Ud(t){if(typeof ux>"u"&&(ux=vE()),ux===null)throw new Error("BigInt is not supported!");return ux(t)}function QG(){var t=[];t[0]=Ud(1);var e=Ud(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var eK=(function(){function t(){}return t.decode=function(e,r){var n=new Tn(""),i=hi.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],l=new qG;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:hi.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,l);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new yt;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw yt.getFormatInstance()}if(n.length()===0)throw yt.getFormatInstance();var c=new eg(null,n.toString(),null,r);return c.setOther(l),c},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw yt.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(Jr.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Tn;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var l=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Tn;r=t.textCompaction(e,r+1,c),n.setFileName(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new Tn;r=t.textCompaction(e,r+1,u),n.setSender(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var h=new Tn;r=t.textCompaction(e,r+1,h),n.setAddressee(h.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var m=new Tn;r=t.numericCompaction(e,r+1,m),n.setSegmentCount(Jr.parseInt(m.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var x=new Tn;r=t.numericCompaction(e,r+1,x),n.setTimestamp(p3.parseLong(x.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new Tn;r=t.numericCompaction(e,r+1,p),n.setChecksum(Jr.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var y=new Tn;r=t.numericCompaction(e,r+1,y),n.setFileSize(p3.parseLong(y.toString()));break;default:throw yt.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw yt.getFormatInstance()}if(l!==-1){var w=r-l;n.isLastSegment()&&w--,n.setOptionalData($a.copyOfRange(e,l,l+w))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),o=0,l=!1;r<e[0]&&!l;){var c=e[r++];if(c<t.TEXT_COMPACTION_MODE_LATCH)i[o]=c/30,i[o+1]=c%30,o+=2;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,l=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[r++],a[o]=c,o++;break}}return t.decodeTextCompaction(i,a,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=Pn.ALPHA,o=Pn.ALPHA,l=0;l<n;){var c=e[l],u="";switch(a){case Pn.ALPHA:if(c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case t.LL:a=Pn.LOWER;break;case t.ML:a=Pn.MIXED;break;case t.PS:o=a,a=Pn.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Pn.ALPHA;break}break;case Pn.LOWER:if(c<26)u=String.fromCharCode(97+c);else switch(c){case 26:u=" ";break;case t.AS:o=a,a=Pn.ALPHA_SHIFT;break;case t.ML:a=Pn.MIXED;break;case t.PS:o=a,a=Pn.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Pn.ALPHA;break}break;case Pn.MIXED:if(c<t.PL)u=t.MIXED_CHARS[c];else switch(c){case t.PL:a=Pn.PUNCT;break;case 26:u=" ";break;case t.LL:a=Pn.LOWER;break;case t.AL:a=Pn.ALPHA;break;case t.PS:o=a,a=Pn.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Pn.ALPHA;break}break;case Pn.PUNCT:if(c<t.PAL)u=t.PUNCT_CHARS[c];else switch(c){case t.PAL:a=Pn.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Pn.ALPHA;break}break;case Pn.ALPHA_SHIFT:if(a=o,c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Pn.ALPHA;break}break;case Pn.PUNCT_SHIFT:if(a=o,c<t.PAL)u=t.PUNCT_CHARS[c];else switch(c){case t.PAL:a=Pn.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Pn.ALPHA;break}break}u!==""&&i.append(u),l++}},t.byteCompaction=function(e,r,n,i,a){var o=new JG,l=0,c=0,u=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var h=new Int32Array(6),m=r[i++];i<r[0]&&!u;)switch(h[l++]=m,c=900*c+m,m=r[i++],m){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break;default:if(l%5===0&&l>0){for(var x=0;x<6;++x)o.write(Number(Ud(c)>>Ud(8*(5-x))));c=0,l=0}break}i===r[0]&&m<t.TEXT_COMPACTION_MODE_LATCH&&(h[l++]=m);for(var p=0;p<l;p++)o.write(h[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!u;){var y=r[i++];if(y<t.TEXT_COMPACTION_MODE_LATCH)l++,c=900*c+y;else switch(y){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break}if(l%5===0&&l>0){for(var x=0;x<6;++x)o.write(Number(Ud(c)>>Ud(8*(5-x))));c=0,l=0}}break}return a.append(ac.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var l=e[r++];if(r===e[0]&&(a=!0),l<t.TEXT_COMPACTION_MODE_LATCH)o[i]=l,i++;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||l===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Ud(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*Ud(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new yt;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=vE()?QG():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t})(),U0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tK=(function(){function t(){}return t.decode=function(e,r,n,i,a,o,l){for(var c=new qy(e,r,n,i,a),u=null,h=null,m,x=!0;;x=!1){if(r!=null&&(u=t.getRowIndicatorColumn(e,c,r,!0,o,l)),i!=null&&(h=t.getRowIndicatorColumn(e,c,i,!1,o,l)),m=t.merge(u,h),m==null)throw Je.getNotFoundInstance();var p=m.getBoundingBox();if(x&&p!=null&&(p.getMinY()<c.getMinY()||p.getMaxY()>c.getMaxY()))c=p;else break}m.setBoundingBox(c);var y=m.getBarcodeColumnCount()+1;m.setDetectionResultColumn(0,u),m.setDetectionResultColumn(y,h);for(var w=u!=null,j=1;j<=y;j++){var C=w?j:y-j;if(m.getDetectionResultColumn(C)===void 0){var A=void 0;C===0||C===y?A=new m3(c,C===0):A=new gE(c),m.setDetectionResultColumn(C,A);for(var k=-1,P=k,M=c.getMinY();M<=c.getMaxY();M++){if(k=t.getStartColumn(m,C,M,w),k<0||k>c.getMaxX()){if(P===-1)continue;k=P}var $=t.detectCodeword(e,c.getMinX(),c.getMaxX(),w,k,M,o,l);$!=null&&(A.setCodeword(M,$),P=k,o=Math.min(o,$.getWidth()),l=Math.max(l,$.getWidth()))}}}return t.createDecoderResult(m)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=qy.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new $G(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var l=U0(i),c=l.next();!c.done;c=l.next()){var u=c.value;if(o+=a-u,u>0)break}}catch(p){r={error:p}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}for(var h=e.getCodewords(),m=0;o>0&&h[m]==null;m++)o--;for(var x=0,m=i.length-1;m>=0&&(x+=a-i[m],!(i[m]>0));m--);for(var m=h.length-1;x>0&&h[m]==null;m--)x--;return e.getBoundingBox().addMissingRows(o,x,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=U0(e),o=a.next();!o.done;o=a.next()){var l=o.value;i=Math.max(i,l)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,o){for(var l=new m3(r,i),c=0;c<2;c++)for(var u=c===0?1:-1,h=Math.trunc(Math.trunc(n.getX())),m=Math.trunc(Math.trunc(n.getY()));m<=r.getMaxY()&&m>=r.getMinY();m+=u){var x=t.detectCodeword(e,0,e.getWidth(),i,h,m,a,o);x!=null&&(l.setCodeword(m,x),i?h=x.getStartX():h=x.getEndX())}return l},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>on.MAX_CODEWORDS_IN_BARCODE)throw Je.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var c=0;c<e.getBarcodeColumnCount();c++){var u=r[l][c+1].getValue(),h=l*e.getBarcodeColumnCount()+c;u.length===0?n.push(h):u.length===1?i[h]=u[0]:(o.push(h),a.push(u))}for(var m=new Array(a.length),x=0;x<m.length;x++)m[x]=a[x];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,on.toIntArray(n),on.toIntArray(o),m)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var o=new Int32Array(i.length),l=100;l-- >0;){for(var c=0;c<o.length;c++)r[i[c]]=a[c][o[c]];try{return t.decodeCodewords(r,e,n)}catch(h){var u=h instanceof Oi;if(!u)throw h}if(o.length===0)throw Oi.getChecksumInstance();for(var c=0;c<o.length;c++)if(o[c]<a[c].length-1){o[c]++;break}else if(o[c]=0,c===o.length-1)throw Oi.getChecksumInstance()}throw Oi.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<o.length;l++)for(var c=0;c<o[l].length;c++)o[l][c]=new tm;var u=0;try{for(var h=U0(e.getDetectionResultColumns()),m=h.next();!m.done;m=h.next()){var x=m.value;if(x!=null)try{for(var p=(i=void 0,U0(x.getCodewords())),y=p.next();!y.done;y=p.next()){var w=y.value;if(w!=null){var j=w.getRowNumber();if(j>=0){if(j>=o.length)continue;o[j][u].setValue(w.getValue())}}}}catch(C){i={error:C}}finally{try{y&&!y.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}u++}}catch(C){r={error:C}}finally{try{m&&!m.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,o,l=i?1:-1,c=null;if(t.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodeword(n)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(n),c!=null)return i?c.getStartX():c.getEndX();if(t.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodewordNearby(n)),c!=null)return i?c.getEndX():c.getStartX();for(var u=0;t.isValidBarcodeColumn(e,r-l);){r-=l;try{for(var h=(a=void 0,U0(e.getDetectionResultColumn(r).getCodewords())),m=h.next();!m.done;m=h.next()){var x=m.value;if(x!=null)return(i?x.getEndX():x.getStartX())+l*u*(x.getEndX()-x.getStartX())}}catch(p){a={error:p}}finally{try{m&&!m.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}u++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,o,l,c){a=t.adjustCodewordStartColumn(e,r,n,i,a,o);var u=t.getModuleBitCount(e,r,n,i,a,o);if(u==null)return null;var h,m=hn.sum(u);if(i)h=a+m;else{for(var x=0;x<u.length/2;x++){var p=u[x];u[x]=u[u.length-1-x],u[u.length-1-x]=p}h=a,a=h-m}if(!t.checkCodewordSkew(m,l,c))return null;var y=HG.getDecodedValue(u),w=on.getCodeword(y);return w===-1?null:new zG(a,h,t.getCodewordBucketNumber(y),w)},t.getModuleBitCount=function(e,r,n,i,a,o){for(var l=a,c=new Int32Array(8),u=0,h=i?1:-1,m=i;(i?l<n:l>=r)&&u<c.length;)e.get(l,o)===m?(c[u]++,l+=h):(u++,m=!m);return u===c.length||l===(i?n:r)&&u===c.length-1?c:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,o){for(var l=a,c=i?-1:1,u=0;u<2;u++){for(;(i?l>=r:l<n)&&i===e.get(l,o);){if(Math.abs(a-l)>t.CODEWORD_SKEW_SIZE)return a;l+=c}c=-c,i=!i}return l},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw yt.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=eK.decode(e,""+r);return o.setErrorsCorrected(a),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Oi.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw yt.getFormatInstance();var n=e[0];if(n>e.length)throw yt.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw yt.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new Fb,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new OG,t})(),rK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wy=(function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw Je.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof yt||n instanceof Oi?Je.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,o=new Array,l=kG.detectMultiple(e,r,n);try{for(var c=rK(l.getPoints()),u=c.next();!u.done;u=c.next()){var h=u.value,m=tK.decode(l.getBits(),h[4],h[5],h[6],h[7],t.getMinCodewordWidth(h),t.getMaxCodewordWidth(h)),x=new qa(m.getText(),m.getRawBytes(),void 0,h,Wt.PDF_417);x.putMetadata(Li.ERROR_CORRECTION_LEVEL,m.getECLevel());var p=m.getOther();p!=null&&x.putMetadata(Li.PDF417_EXTRA_METADATA,p),o.push(x)}}catch(y){i={error:y}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return o.map(function(y){return y})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?Jr.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*on.MODULES_IN_CODEWORD/on.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*on.MODULES_IN_CODEWORD/on.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*on.MODULES_IN_CODEWORD/on.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*on.MODULES_IN_CODEWORD/on.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t})(),nK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),x3=(function(t){nK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e})(Ha),g3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sK=(function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(Jn.TRY_HARDER)!==void 0,n=e==null?null:e.get(Jn.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===Wt.UPC_A||o===Wt.UPC_E||o===Wt.EAN_13||o===Wt.EAN_8||o===Wt.CODABAR||o===Wt.CODE_39||o===Wt.CODE_93||o===Wt.CODE_128||o===Wt.ITF||o===Wt.RSS_14||o===Wt.RSS_EXPANDED});a&&!r&&i.push(new em(e)),n.includes(Wt.QR_CODE)&&i.push(new Hy),n.includes(Wt.DATA_MATRIX)&&i.push(new zy),n.includes(Wt.AZTEC)&&i.push(new Vy),n.includes(Wt.PDF_417)&&i.push(new Wy),a&&r&&i.push(new em(e))}i.length===0&&(r||i.push(new em(e)),i.push(new Hy),i.push(new zy),i.push(new Vy),i.push(new Wy),r&&i.push(new em(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=g3(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new x3("No readers where selected, nothing can be read.");try{for(var i=g3(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(l){if(l instanceof x3)continue}}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new Je("No MultiFormat Readers were able to detect the code.")},t})(),iK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),aK=(function(t){iK(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new sK;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(c0),oK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){oK(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Wy,r)||this}return e})(c0);var lK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){lK(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Hy,r)||this}return e})(c0);var Gy;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.MIN_SIZE=3]="MIN_SIZE",t[t.MAX_SIZE=4]="MAX_SIZE",t[t.MARGIN=5]="MARGIN",t[t.PDF417_COMPACT=6]="PDF417_COMPACT",t[t.PDF417_COMPACTION=7]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=9]="AZTEC_LAYERS",t[t.QR_VERSION=10]="QR_VERSION"})(Gy||(Gy={}));const hx=Gy;var yE=(function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ru(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var o=n.multiply(new ru(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new ar("No error correction bytes");var n=e.length-r;if(n<=0)throw new ar("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);zn.arraycopy(e,0,a,0,n);var o=new ru(this.field,a);o=o.multiplyByMonomial(r,1);for(var l=o.divide(i)[1],c=l.getCoefficients(),u=r-c.length,h=0;h<u;h++)e[n+h]=0;zn.arraycopy(c,0,e,n+u,c.length)},t})(),rm=(function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var l=n[o],c=0;c<i-1;c++){var u=l[c];u===l[c+1]&&u===n[o+1][c]&&u===n[o+1][c+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var l=0;l<i;l++){var c=n[o];l+6<i&&c[l]===1&&c[l+1]===0&&c[l+2]===1&&c[l+3]===1&&c[l+4]===1&&c[l+5]===0&&c[l+6]===1&&(t.isWhiteHorizontal(c,l-4,l)||t.isWhiteHorizontal(c,l+7,l+11))&&r++,o+6<a&&n[o][l]===1&&n[o+1][l]===0&&n[o+2][l]===1&&n[o+3][l]===1&&n[o+4][l]===1&&n[o+5][l]===0&&n[o+6][l]===1&&(t.isWhiteVertical(n,l,o-4,o)||t.isWhiteVertical(n,l,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var l=n[o],c=0;c<i;c++)l[c]===1&&r++;var u=e.getHeight()*e.getWidth(),h=Math.floor(Math.abs(r*2-u)*10/u);return h*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new ar("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),o=e.getArray(),l=0;l<i;l++){for(var c=0,u=-1,h=0;h<a;h++){var m=r?o[l][h]:o[h][l];m===u?c++:(c>=5&&(n+=t.N1+(c-5)),c=1,u=m)}c>=5&&(n+=t.N1+(c-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t})(),cK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dK=(function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=cK(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;$a.fill(o,e)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=r.bytes[n],l=0,c=this.width;l<c;++l)if(a[l]!==o[l])return!1;return!0},t.prototype.toString=function(){for(var e=new Tn,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t})(),Ky=(function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Tn;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t})(),uK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Yn=(function(t){uK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e})(Ha),v3=(function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new Ai;t.makeTypeInfoBits(e,r,i);for(var a=0,o=i.getSize();a<o;++a){var l=i.get(i.getSize()-1-a),c=t.TYPE_INFO_COORDINATES[a],u=c[0],h=c[1];if(n.setBoolean(u,h,l),a<8){var m=n.getWidth()-a-1,x=8;n.setBoolean(m,x,l)}else{var m=8,x=n.getHeight()-7+(a-8);n.setBoolean(m,x,l)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new Ai;t.makeVersionInfoBits(e,n);for(var i=17,a=0;a<6;++a)for(var o=0;o<3;++o){var l=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+o,l),r.setBoolean(r.getHeight()-11+o,a,l)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,o=n.getWidth()-1,l=n.getHeight()-1;o>0;){for(o===6&&(o-=1);l>=0&&l<n.getHeight();){for(var c=0;c<2;++c){var u=o-c;if(t.isEmpty(n.get(u,l))){var h=void 0;i<e.getSize()?(h=e.get(i),++i):h=!1,r!==255&&rm.getDataMaskBit(r,u,l)&&(h=!h),n.setBoolean(u,l,h)}}l+=a}a=-a,l+=a,o-=2}if(i!==e.getSize())throw new Yn("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Jr.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new ar("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!Ky.isValidMaskPattern(r))throw new Yn("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var o=new Ai;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new Yn("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Yn("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Yn;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new Yn;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new Yn;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var l=i[a];if(l>=0)for(var c=0;c!==o;c++){var u=i[c];u>=0&&t.isEmpty(r.get(u,l))&&t.embedPositionAdjustmentPattern(u-2,l-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t})(),hK=(function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t})(),y3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return rm.applyMaskPenaltyRule1(e)+rm.applyMaskPenaltyRule2(e)+rm.applyMaskPenaltyRule3(e)+rm.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(hx.CHARACTER_SET)!==void 0;a&&(i=n.get(hx.CHARACTER_SET).toString());var o=this.chooseMode(e,i),l=new Ai;if(o===Xn.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=hi.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,l)}this.appendModeInfo(o,l);var u=new Ai;this.appendBytes(e,o,u,i);var h;if(n!==null&&n.get(hx.QR_VERSION)!==void 0){var m=Number.parseInt(n.get(hx.QR_VERSION).toString(),10);h=uh.getVersionForNumber(m);var x=this.calculateBitsNeeded(o,l,u,h);if(!this.willFit(x,h,r))throw new Yn("Data too big for requested version")}else h=this.recommendVersion(r,o,l,u);var p=new Ai;p.appendBitArray(l);var y=o===Xn.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(y,h,o,p),p.appendBitArray(u);var w=h.getECBlocksForLevel(r),j=h.getTotalCodewords()-w.getTotalECCodewords();this.terminateBits(j,p);var C=this.interleaveWithECBytes(p,h.getTotalCodewords(),j,w.getNumBlocks()),A=new Ky;A.setECLevel(r),A.setMode(o),A.setVersion(h);var k=h.getDimensionForVersion(),P=new dK(k,k),M=this.chooseMaskPattern(C,r,h,P);return A.setMaskPattern(M),v3.buildMatrix(C,r,h,M,P),A.setMatrix(P),A},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,uh.getVersionForNumber(1)),o=this.chooseVersion(a,e),l=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(l,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),hi.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Xn.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var l=e.charAt(a);if(t.isDigit(l))n=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)i=!0;else return Xn.BYTE}return i?Xn.ALPHANUMERIC:n?Xn.NUMERIC:Xn.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=ac.encode(e,hi.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,l=0;l<Ky.NUM_MASK_PATTERNS;l++){v3.buildMatrix(e,r,n,l,i);var c=this.calculateMaskPenalty(i);c<a&&(a=c,o=l)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=uh.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new Yn("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),o=a.getTotalECCodewords(),l=i-o,c=(e+7)/8;return l>=c},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new Yn("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits((i&1)===0?236:17,8);if(r.getSize()!==n)throw new Yn("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,o){if(i>=n)throw new Yn("Block ID too large");var l=e%n,c=n-l,u=Math.floor(e/n),h=u+1,m=Math.floor(r/n),x=m+1,p=u-m,y=h-x;if(p!==y)throw new Yn("EC bytes mismatch");if(n!==c+l)throw new Yn("RS blocks mismatch");if(e!==(m+p)*c+(x+y)*l)throw new Yn("Total bytes mismatch");i<c?(a[0]=m,o[0]=p):(a[0]=x,o[0]=y)},t.interleaveWithECBytes=function(e,r,n,i){var a,o,l,c;if(e.getSizeInBytes()!==n)throw new Yn("Number of bits and data bytes does not match");for(var u=0,h=0,m=0,x=new Array,p=0;p<i;++p){var y=new Int32Array(1),w=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,p,y,w);var j=y[0],C=new Uint8Array(j);e.toBytes(8*u,C,0,j);var A=t.generateECBytes(C,w[0]);x.push(new hK(C,A)),h=Math.max(h,j),m=Math.max(m,A.length),u+=y[0]}if(n!==u)throw new Yn("Data bytes does not match offset");for(var k=new Ai,p=0;p<h;++p)try{for(var P=(a=void 0,y3(x)),M=P.next();!M.done;M=P.next()){var $=M.value,C=$.getDataBytes();p<C.length&&k.appendBits(C[p],8)}}catch(ne){a={error:ne}}finally{try{M&&!M.done&&(o=P.return)&&o.call(P)}finally{if(a)throw a.error}}for(var p=0;p<m;++p)try{for(var L=(l=void 0,y3(x)),D=L.next();!D.done;D=L.next()){var $=D.value,A=$.getErrorCorrectionBytes();p<A.length&&k.appendBits(A[p],8)}}catch(ne){l={error:ne}}finally{try{D&&!D.done&&(c=L.return)&&c.call(L)}finally{if(l)throw l.error}}if(r!==k.getSizeInBytes())throw new Yn("Interleaving error: "+r+" and "+k.getSizeInBytes()+" differ.");return k},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new yE(Ma.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),a=0;a<r;a++)o[a]=i[n+a];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new Yn(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case Xn.NUMERIC:t.appendNumericBytes(e,n);break;case Xn.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Xn.BYTE:t.append8BitBytes(e,n,i);break;case Xn.KANJI:t.appendKanjiBytes(e,n);break;default:throw new Yn("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),l=t.getDigit(e.charAt(i+2));r.appendBits(a*100+o*10+l,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(a*10+o,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Yn;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Yn;r.appendBits(a*45+o,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=ac.encode(e,n)}catch(c){throw new Yn(c)}for(var a=0,o=i.length;a!==o;a++){var l=i[a];r.appendBits(l,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=ac.encode(e,hi.SJIS)}catch(m){throw new Yn(m)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,l=n[a+1]&255,c=o<<8&4294967295|l,u=-1;if(c>=33088&&c<=40956?u=c-33088:c>=57408&&c<=60351&&(u=c-49472),u===-1)throw new Yn("Invalid byte sequence");var h=(u>>8)*192+(u&255);r.appendBits(h,13)}},t.appendECI=function(e,r){r.appendBits(Xn.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=hi.UTF8.getName(),t})();var fK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){fK(e,t);function e(r,n,i,a,o,l,c,u){var h=t.call(this,l,c)||this;if(h.yuvData=r,h.dataWidth=n,h.dataHeight=i,h.left=a,h.top=o,a+l>n||o+c>i)throw new ar("Crop rectangle does not fit within image data.");return u&&h.reverseHorizontal(l,c),h}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new ar("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return zn.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return zn.arraycopy(this.yuvData,o,a,0,i),a;for(var l=0;l<n;l++){var c=l*r;zn.arraycopy(this.yuvData,o,a,c,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,l=0;l<n;l++){for(var c=l*r,u=0;u<r;u++){var h=a[o+u*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+u]=4278190080|h*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var l=o+r/2,c=o,u=o+r-1;c<l;c++,u--){var h=i[c];i[c]=i[u],i[u]=h}},e.prototype.invert=function(){return new Db(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Q1);var mK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){mK(e,t);function e(r,n,i,a,o,l,c){var u=t.call(this,n,i)||this;if(u.dataWidth=a,u.dataHeight=o,u.left=l,u.top=c,r.BYTES_PER_ELEMENT===4){for(var h=n*i,m=new Uint8ClampedArray(h),x=0;x<h;x++){var p=r[x],y=p>>16&255,w=p>>7&510,j=p&255;m[x]=(y+w+j)/4&255}u.luminances=m}else u.luminances=r;if(a===void 0&&(u.dataWidth=n),o===void 0&&(u.dataHeight=i),l===void 0&&(u.left=0),c===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+i>u.dataHeight)throw new ar("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new ar("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return zn.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return zn.arraycopy(this.luminances,o,a,0,i),a;for(var l=0;l<n;l++){var c=l*r;zn.arraycopy(this.luminances,o,a,c,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new Db(this)},e})(Q1);var pK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(t){pK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e})(hi);(function(){function t(){}return t.ISO_8859_1=hi.ISO8859_1,t})();var xK=(function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t})(),w3=(function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t})(),gK=(function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t})(),vK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Mb=(function(t){vK(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+Jr.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e})(gK),yK=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),wK=(function(t){yK(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(Mb);function bK(t,e,r){return new wK(t,e,r)}function V0(t,e,r){return new Mb(t,e,r)}var NK=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],nu=0,m1=1,Uo=2,wE=3,ec=4,jK=new Mb(null,0,0),zv=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],CK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function _K(t){var e,r;try{for(var n=CK(t),i=n.next();!i.done;i=n.next()){var a=i.value;$a.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[nu][ec]=0,t[m1][ec]=0,t[m1][nu]=28,t[wE][ec]=0,t[Uo][ec]=0,t[Uo][nu]=15,t}var bE=_K($a.createInt32Array(6,6)),AK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SK=(function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=zv[this.mode][e];i=V0(i,a&65535,a>>16),n+=a>>16}var o=e===Uo?4:5;return i=V0(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===Uo?4:5;return n=V0(n,bE[this.mode][e],i),n=V0(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===ec||this.mode===Uo){var a=zv[n][nu];r=V0(r,a&65535,a>>16),i+=a>>16,n=nu}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new t(r,n,this.binaryShiftByteCount+1,i+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=bK(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(zv[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new Ai;try{for(var l=AK(i),c=l.next();!c.done;c=l.next()){var u=c.value;u.appendTo(o,e)}}catch(h){r={error:h}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return Vn.format("%s bits=%d bytes=%d",NK[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(jK,nu,0,0),t})();function EK(t){var e=Vn.getCharCode(" "),r=Vn.getCharCode("."),n=Vn.getCharCode(",");t[nu][e]=1;for(var i=Vn.getCharCode("Z"),a=Vn.getCharCode("A"),o=a;o<=i;o++)t[nu][o]=o-a+2;t[m1][e]=1;for(var l=Vn.getCharCode("z"),c=Vn.getCharCode("a"),o=c;o<=l;o++)t[m1][o]=o-c+2;t[Uo][e]=1;for(var u=Vn.getCharCode("9"),h=Vn.getCharCode("0"),o=h;o<=u;o++)t[Uo][o]=o-h+2;t[Uo][n]=12,t[Uo][r]=13;for(var m=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],x=0;x<m.length;x++)t[wE][Vn.getCharCode(m[x])]=x;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],x=0;x<p.length;x++)Vn.getCharCode(p[x])>0&&(t[ec][Vn.getCharCode(p[x])]=x);return t}var Hv=EK($a.createInt32Array(5,256)),fx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kK=(function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=Vn.getCharCode(" "),r=Vn.getCharCode(`
`),n=w3.singletonList(SK.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Vn.getCharCode("\r"):a=o===r?2:0;break;case Vn.getCharCode("."):a=o===e?3:0;break;case Vn.getCharCode(","):a=o===e?4:0;break;case Vn.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var l=w3.min(n,function(c,u){return c.getBitCount()-u.getBitCount()});return l.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var o=fx(e),l=o.next();!l.done;l=o.next()){var c=l.value;this.updateStateForChar(c,r,a)}}catch(u){n={error:u}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=Hv[e.getMode()][i]>0,o=null,l=0;l<=ec;l++){var c=Hv[l][i];if(c>0){if(o==null&&(o=e.endBinaryShift(r)),!a||l===e.getMode()||l===Uo){var u=o.latchAndAppend(l,c);n.push(u)}if(!a&&bE[e.getMode()][l]>=0){var h=o.shiftAndAppend(l,c);n.push(h)}}}if(e.getBinaryShiftByteCount()>0||Hv[e.getMode()][i]===0){var m=e.addBinaryShiftChar(r);n.push(m)}},t.updateStateListForPair=function(e,r,n){var i,a,o=[];try{for(var l=fx(e),c=l.next();!c.done;c=l.next()){var u=c.value;this.updateStateForPair(u,r,n,o)}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(ec,n)),e.getMode()!==ec&&i.push(a.shiftAndAppend(ec,n)),n===3||n===4){var o=a.latchAndAppend(Uo,16-n).latchAndAppend(Uo,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(l)}},t.simplifyStates=function(e){var r,n,i,a,o=[];try{for(var l=fx(e),c=l.next();!c.done;c=l.next()){var u=c.value,h=!0,m=function(j){if(j.isBetterThanOrEqualTo(u))return h=!1,"break";u.isBetterThanOrEqualTo(j)&&(o=o.filter(function(C){return C!==j}))};try{for(var x=(i=void 0,fx(o)),p=x.next();!p.done;p=x.next()){var y=p.value,w=m(y);if(w==="break")break}}catch(j){i={error:j}}finally{try{p&&!p.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}h&&o.push(u)}}catch(j){r={error:j}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},t})(),PK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new kK(e).encode(),a=Jr.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+a,l,c,u,h,m;if(n!==t.DEFAULT_AZTEC_LAYERS){if(l=n<0,c=Math.abs(n),c>(l?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new ar(Vn.format("Illegal value %s for layers",n));u=t.totalBitsInLayer(c,l),h=t.WORD_SIZE[c];var x=u-u%h;if(m=t.stuffBits(i,h),m.getSize()+a>x)throw new ar("Data to large for user specified layer");if(l&&m.getSize()>h*64)throw new ar("Data to large for user specified layer")}else{h=0,m=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new ar("Data too large for an Aztec code");if(l=p<=3,c=l?p+1:p,u=t.totalBitsInLayer(c,l),!(o>u)){(m==null||h!==t.WORD_SIZE[c])&&(h=t.WORD_SIZE[c],m=t.stuffBits(i,h));var x=u-u%h;if(!(l&&m.getSize()>h*64)&&m.getSize()+a<=x)break}}}var y=t.generateCheckWords(m,u,h),w=m.getSize()/h,j=t.generateModeMessage(l,c,w),C=(l?11:14)+c*4,A=new Int32Array(C),k;if(l){k=C;for(var p=0;p<A.length;p++)A[p]=p}else{k=C+1+2*Jr.truncDivision(Jr.truncDivision(C,2)-1,15);for(var P=Jr.truncDivision(C,2),M=Jr.truncDivision(k,2),p=0;p<P;p++){var $=p+Jr.truncDivision(p,15);A[P-p-1]=M-$-1,A[P+p]=M+$+1}}for(var L=new uc(k),p=0,D=0;p<c;p++){for(var V=(c-p)*4+(l?9:12),ne=0;ne<V;ne++)for(var B=ne*2,F=0;F<2;F++)y.get(D+B+F)&&L.set(A[p*2+F],A[p*2+ne]),y.get(D+V*2+B+F)&&L.set(A[p*2+ne],A[C-1-p*2-F]),y.get(D+V*4+B+F)&&L.set(A[C-1-p*2-F],A[C-1-p*2-ne]),y.get(D+V*6+B+F)&&L.set(A[C-1-p*2-ne],A[p*2+F]);D+=V*8}if(t.drawModeMessage(L,l,k,j),l)t.drawBullsEye(L,Jr.truncDivision(k,2),5);else{t.drawBullsEye(L,Jr.truncDivision(k,2),7);for(var p=0,ne=0;p<Jr.truncDivision(C,2)-1;p+=15,ne+=16)for(var F=Jr.truncDivision(k,2)&1;F<k;F+=2)L.set(Jr.truncDivision(k,2)-ne,F),L.set(Jr.truncDivision(k,2)+ne,F),L.set(F,Jr.truncDivision(k,2)-ne),L.set(F,Jr.truncDivision(k,2)+ne)}var X=new xK;return X.setCompact(l),X.setSize(k),X.setLayers(c),X.setCodeWords(w),X.setMatrix(L),X},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new Ai;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=Jr.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var l=a-3+o;i.get(o)&&e.set(l,a-5),i.get(o+7)&&e.set(a+5,l),i.get(20-o)&&e.set(l,a+5),i.get(27-o)&&e.set(a-5,l)}else for(var o=0;o<10;o++){var l=a-5+o+Jr.truncDivision(o,5);i.get(o)&&e.set(l,a-7),i.get(o+10)&&e.set(a+7,l),i.get(29-o)&&e.set(l,a+7),i.get(39-o)&&e.set(a-7,l)}},t.generateCheckWords=function(e,r,n){var i,a,o=e.getSize()/n,l=new yE(t.getGF(n)),c=Jr.truncDivision(r,n),u=t.bitsToWords(e,n,c);l.encode(u,c-o);var h=r%n,m=new Ai;m.appendBits(0,h);try{for(var x=PK(Array.from(u)),p=x.next();!p.done;p=x.next()){var y=p.value;m.appendBits(y,n)}}catch(w){i={error:w}}finally{try{p&&!p.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}return m},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/r;a<o;a++){for(var l=0,c=0;c<r;c++)l|=e.get(a*r+c)?1<<r-c-1:0;i[a]=l}return i},t.getGF=function(e){switch(e){case 4:return Ma.AZTEC_PARAM;case 6:return Ma.AZTEC_DATA_6;case 8:return Ma.AZTEC_DATA_8;case 10:return Ma.AZTEC_DATA_10;case 12:return Ma.AZTEC_DATA_12;default:throw new ar("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new Ai,i=e.getSize(),a=(1<<r)-2,o=0;o<i;o+=r){for(var l=0,c=0;c<r;c++)(o+c>=i||e.get(o+c))&&(l|=1<<r-1-c);(l&a)===a?(n.appendBits(l&a,r),o--):(l&a)===0?(n.appendBits(l|1,r),o--):n.appendBits(l,r)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var qv={exports:{}},b3;function TK(){return b3||(b3=1,(function(t){var e=(function(r){var n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(q,ie,G){q[ie]=G.value},o,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function m(q,ie,G){return Object.defineProperty(q,ie,{value:G,enumerable:!0,configurable:!0,writable:!0}),q[ie]}try{m({},"")}catch{m=function(ie,G,R){return ie[G]=R}}function x(q,ie,G,R){var z=ie&&ie.prototype instanceof k?ie:k,U=Object.create(z.prototype),Q=new oe(R||[]);return a(U,"_invoke",{value:F(q,G,Q)}),U}r.wrap=x;function p(q,ie,G){try{return{type:"normal",arg:q.call(ie,G)}}catch(R){return{type:"throw",arg:R}}}var y="suspendedStart",w="suspendedYield",j="executing",C="completed",A={};function k(){}function P(){}function M(){}var $={};m($,c,function(){return this});var L=Object.getPrototypeOf,D=L&&L(L(pe([])));D&&D!==n&&i.call(D,c)&&($=D);var V=M.prototype=k.prototype=Object.create($);P.prototype=M,a(V,"constructor",{value:M,configurable:!0}),a(M,"constructor",{value:P,configurable:!0}),P.displayName=m(M,h,"GeneratorFunction");function ne(q){["next","throw","return"].forEach(function(ie){m(q,ie,function(G){return this._invoke(ie,G)})})}r.isGeneratorFunction=function(q){var ie=typeof q=="function"&&q.constructor;return ie?ie===P||(ie.displayName||ie.name)==="GeneratorFunction":!1},r.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,M):(q.__proto__=M,m(q,h,"GeneratorFunction")),q.prototype=Object.create(V),q},r.awrap=function(q){return{__await:q}};function B(q,ie){function G(U,Q,J,re){var le=p(q[U],q,Q);if(le.type==="throw")re(le.arg);else{var ye=le.arg,je=ye.value;return je&&typeof je=="object"&&i.call(je,"__await")?ie.resolve(je.__await).then(function(Se){G("next",Se,J,re)},function(Se){G("throw",Se,J,re)}):ie.resolve(je).then(function(Se){ye.value=Se,J(ye)},function(Se){return G("throw",Se,J,re)})}}var R;function z(U,Q){function J(){return new ie(function(re,le){G(U,Q,re,le)})}return R=R?R.then(J,J):J()}a(this,"_invoke",{value:z})}ne(B.prototype),m(B.prototype,u,function(){return this}),r.AsyncIterator=B,r.async=function(q,ie,G,R,z){z===void 0&&(z=Promise);var U=new B(x(q,ie,G,R),z);return r.isGeneratorFunction(ie)?U:U.next().then(function(Q){return Q.done?Q.value:U.next()})};function F(q,ie,G){var R=y;return function(U,Q){if(R===j)throw new Error("Generator is already running");if(R===C){if(U==="throw")throw Q;return H()}for(G.method=U,G.arg=Q;;){var J=G.delegate;if(J){var re=X(J,G);if(re){if(re===A)continue;return re}}if(G.method==="next")G.sent=G._sent=G.arg;else if(G.method==="throw"){if(R===y)throw R=C,G.arg;G.dispatchException(G.arg)}else G.method==="return"&&G.abrupt("return",G.arg);R=j;var le=p(q,ie,G);if(le.type==="normal"){if(R=G.done?C:w,le.arg===A)continue;return{value:le.arg,done:G.done}}else le.type==="throw"&&(R=C,G.method="throw",G.arg=le.arg)}}}function X(q,ie){var G=ie.method,R=q.iterator[G];if(R===o)return ie.delegate=null,G==="throw"&&q.iterator.return&&(ie.method="return",ie.arg=o,X(q,ie),ie.method==="throw")||G!=="return"&&(ie.method="throw",ie.arg=new TypeError("The iterator does not provide a '"+G+"' method")),A;var z=p(R,q.iterator,ie.arg);if(z.type==="throw")return ie.method="throw",ie.arg=z.arg,ie.delegate=null,A;var U=z.arg;if(!U)return ie.method="throw",ie.arg=new TypeError("iterator result is not an object"),ie.delegate=null,A;if(U.done)ie[q.resultName]=U.value,ie.next=q.nextLoc,ie.method!=="return"&&(ie.method="next",ie.arg=o);else return U;return ie.delegate=null,A}ne(V),m(V,h,"Generator"),m(V,c,function(){return this}),m(V,"toString",function(){return"[object Generator]"});function ee(q){var ie={tryLoc:q[0]};1 in q&&(ie.catchLoc=q[1]),2 in q&&(ie.finallyLoc=q[2],ie.afterLoc=q[3]),this.tryEntries.push(ie)}function xe(q){var ie=q.completion||{};ie.type="normal",delete ie.arg,q.completion=ie}function oe(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(ee,this),this.reset(!0)}r.keys=function(q){var ie=Object(q),G=[];for(var R in ie)G.push(R);return G.reverse(),function z(){for(;G.length;){var U=G.pop();if(U in ie)return z.value=U,z.done=!1,z}return z.done=!0,z}};function pe(q){if(q){var ie=q[c];if(ie)return ie.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length)){var G=-1,R=function z(){for(;++G<q.length;)if(i.call(q,G))return z.value=q[G],z.done=!1,z;return z.value=o,z.done=!0,z};return R.next=R}}return{next:H}}r.values=pe;function H(){return{value:o,done:!0}}return oe.prototype={constructor:oe,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(xe),!q)for(var ie in this)ie.charAt(0)==="t"&&i.call(this,ie)&&!isNaN(+ie.slice(1))&&(this[ie]=o)},stop:function(){this.done=!0;var q=this.tryEntries[0],ie=q.completion;if(ie.type==="throw")throw ie.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var ie=this;function G(re,le){return U.type="throw",U.arg=q,ie.next=re,le&&(ie.method="next",ie.arg=o),!!le}for(var R=this.tryEntries.length-1;R>=0;--R){var z=this.tryEntries[R],U=z.completion;if(z.tryLoc==="root")return G("end");if(z.tryLoc<=this.prev){var Q=i.call(z,"catchLoc"),J=i.call(z,"finallyLoc");if(Q&&J){if(this.prev<z.catchLoc)return G(z.catchLoc,!0);if(this.prev<z.finallyLoc)return G(z.finallyLoc)}else if(Q){if(this.prev<z.catchLoc)return G(z.catchLoc,!0)}else if(J){if(this.prev<z.finallyLoc)return G(z.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(q,ie){for(var G=this.tryEntries.length-1;G>=0;--G){var R=this.tryEntries[G];if(R.tryLoc<=this.prev&&i.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var z=R;break}}z&&(q==="break"||q==="continue")&&z.tryLoc<=ie&&ie<=z.finallyLoc&&(z=null);var U=z?z.completion:{};return U.type=q,U.arg=ie,z?(this.method="next",this.next=z.finallyLoc,A):this.complete(U)},complete:function(q,ie){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&ie&&(this.next=ie),A},finish:function(q){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var G=this.tryEntries[ie];if(G.finallyLoc===q)return this.complete(G.completion,G.afterLoc),xe(G),A}},catch:function(q){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var G=this.tryEntries[ie];if(G.tryLoc===q){var R=G.completion;if(R.type==="throw"){var z=R.arg;xe(G)}return z}}throw new Error("illegal catch attempt")},delegateYield:function(q,ie,G){return this.delegate={iterator:pe(q),resultName:ie,nextLoc:G},this.method==="next"&&(this.arg=o),A}},r})(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(qv)),qv.exports}var Wv,N3;function Bb(){return N3||(N3=1,Wv=(t,e)=>`${t}-${e}-${Math.random().toString(16).slice(3,8)}`),Wv}var Gv,j3;function NE(){if(j3)return Gv;j3=1;const t=Bb();let e=0;return Gv=({id:r,action:n,payload:i={}})=>{let a=r;return typeof a>"u"&&(a=t("Job",e),e+=1),{id:a,action:n,payload:i}},Gv}var $0={},C3;function Ub(){if(C3)return $0;C3=1;let t=!1;return $0.logging=t,$0.setLogging=e=>{t=e},$0.log=(...e)=>t?console.log.apply(this,e):null,$0}var Kv,_3;function IK(){if(_3)return Kv;_3=1;const t=NE(),{log:e}=Ub(),r=Bb();let n=0;return Kv=()=>{const i=r("Scheduler",n),a={},o={};let l=[];n+=1;const c=()=>l.length,u=()=>Object.keys(a).length,h=()=>{if(l.length!==0){const w=Object.keys(a);for(let j=0;j<w.length;j+=1)if(typeof o[w[j]]>"u"){l[0](a[w[j]]);break}}},m=(w,j)=>new Promise((C,A)=>{const k=t({action:w,payload:j});l.push(async P=>{l.shift(),o[P.id]=k;try{C(await P[w].apply(this,[...j,k.id]))}catch(M){A(M)}finally{delete o[P.id],h()}}),e(`[${i}]: Add ${k.id} to JobQueue`),e(`[${i}]: JobQueue length=${l.length}`),h()});return{addWorker:w=>(a[w.id]=w,e(`[${i}]: Add ${w.id}`),e(`[${i}]: Number of workers=${u()}`),h(),w.id),addJob:async(w,...j)=>{if(u()===0)throw Error(`[${i}]: You need to have at least one worker before adding jobs`);return m(w,j)},terminate:async()=>{Object.keys(a).forEach(async w=>{await a[w].terminate()}),l=[]},getQueueLen:c,getNumWorkers:u}},Kv}function DK(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Yv,A3;function RK(){if(A3)return Yv;A3=1;function t(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}return Yv=t,Yv}var Xv,S3;function OK(){if(S3)return Xv;S3=1;const t=RK();return Xv=e=>{const r={};return typeof WorkerGlobalScope<"u"?r.type="webworker":t()?r.type="electron":typeof document=="object"?r.type="browser":typeof process=="object"&&typeof DK=="function"&&(r.type="node"),typeof e>"u"?r:r[e]},Xv}var Zv,E3;function LK(){if(E3)return Zv;E3=1;const e=OK()("type")==="browser"?r=>new URL(r,window.location.href).href:r=>r;return Zv=r=>{const n={...r};return["corePath","workerPath","langPath"].forEach(i=>{r[i]&&(n[i]=e(n[i]))}),n},Zv}var Jv,k3;function FK(){return k3||(k3=1,Jv=t=>{const e=[],r=[],n=[],i=[],a=[];return t.blocks&&t.blocks.forEach(o=>{o.paragraphs.forEach(l=>{l.lines.forEach(c=>{c.words.forEach(u=>{u.symbols.forEach(h=>{a.push({...h,page:t,block:o,paragraph:l,line:c,word:u})}),i.push({...u,page:t,block:o,paragraph:l,line:c})}),n.push({...c,page:t,block:o,paragraph:l})}),r.push({...l,page:t,block:o})}),e.push({...o,page:t})}),{...t,blocks:e,paragraphs:r,lines:n,words:i,symbols:a}}),Jv}var Qv,P3;function jE(){return P3||(P3=1,Qv={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),Qv}const MK="5.1.1",BK={version:MK};var e2,T3;function UK(){return T3||(T3=1,e2={workerBlobURL:!0,logger:()=>{}}),e2}var t2,I3;function VK(){if(I3)return t2;I3=1;const t=BK.version;return t2={...UK(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${t}/dist/worker.min.js`},t2}var r2,D3;function $K(){return D3||(D3=1,r2=({workerPath:t,workerBlobURL:e})=>{let r;if(Blob&&URL&&e){const n=new Blob([`importScripts("${t}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(t);return r}),r2}var n2,R3;function zK(){return R3||(R3=1,n2=t=>{t.terminate()}),n2}var s2,O3;function HK(){return O3||(O3=1,s2=(t,e)=>{t.onmessage=({data:r})=>{e(r)}}),s2}var i2,L3;function qK(){return L3||(L3=1,i2=async(t,e)=>{t.postMessage(e)}),i2}var a2,F3;function WK(){if(F3)return a2;F3=1;const t=r=>new Promise((n,i)=>{const a=new FileReader;a.onload=()=>{n(a.result)},a.onerror=({target:{error:{code:o}}})=>{i(Error(`File could not be read! Code=${o}`))},a.readAsArrayBuffer(r)}),e=async r=>{let n=r;if(typeof r>"u")return"undefined";if(typeof r=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(r)?n=atob(r.split(",")[1]).split("").map(i=>i.charCodeAt(0)):n=await(await fetch(r)).arrayBuffer();else if(typeof HTMLElement<"u"&&r instanceof HTMLElement)r.tagName==="IMG"&&(n=await e(r.src)),r.tagName==="VIDEO"&&(n=await e(r.poster)),r.tagName==="CANVAS"&&await new Promise(i=>{r.toBlob(async a=>{n=await t(a),i()})});else if(typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas){const i=await r.convertToBlob();n=await t(i)}else(r instanceof File||r instanceof Blob)&&(n=await t(r));return new Uint8Array(n)};return a2=e,a2}var o2,M3;function GK(){if(M3)return o2;M3=1;const t=VK(),e=$K(),r=zK(),n=HK(),i=qK(),a=WK();return o2={defaultOptions:t,spawnWorker:e,terminateWorker:r,onMessage:n,send:i,loadImage:a},o2}var l2,B3;function CE(){if(B3)return l2;B3=1;const t=LK(),e=FK(),r=NE(),{log:n}=Ub(),i=Bb(),a=jE(),{defaultOptions:o,spawnWorker:l,terminateWorker:c,onMessage:u,loadImage:h,send:m}=GK();let x=0;return l2=async(p="eng",y=a.LSTM_ONLY,w={},j={})=>{const C=i("Worker",x),{logger:A,errorHandler:k,...P}=t({...o,...w}),M={},$={},L=typeof p=="string"?p.split("+"):p;let D=y,V=j;const ne=[a.DEFAULT,a.LSTM_ONLY].includes(y)&&!P.legacyCore;let B,F;const X=new Promise(($e,Ee)=>{F=$e,B=Ee}),ee=$e=>{B($e.message)};let xe=l(P);xe.onerror=ee,x+=1;const oe=($e,Ee)=>{M[$e]=Ee},pe=($e,Ee)=>{$[$e]=Ee},H=({id:$e,action:Ee,payload:lt})=>new Promise((Pe,nt)=>{n(`[${C}]: Start ${$e}, action=${Ee}`);const We=`${Ee}-${$e}`;oe(We,Pe),pe(We,nt),m(xe,{workerId:C,jobId:$e,action:Ee,payload:lt})}),q=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),ie=$e=>H(r({id:$e,action:"load",payload:{options:{lstmOnly:ne,corePath:P.corePath,logging:P.logging}}})),G=($e,Ee,lt)=>H(r({id:lt,action:"FS",payload:{method:"writeFile",args:[$e,Ee]}})),R=($e,Ee)=>H(r({id:Ee,action:"FS",payload:{method:"readFile",args:[$e,{encoding:"utf8"}]}})),z=($e,Ee)=>H(r({id:Ee,action:"FS",payload:{method:"unlink",args:[$e]}})),U=($e,Ee,lt)=>H(r({id:lt,action:"FS",payload:{method:$e,args:Ee}})),Q=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),J=($e,Ee)=>H(r({id:Ee,action:"loadLanguage",payload:{langs:$e,options:{langPath:P.langPath,dataPath:P.dataPath,cachePath:P.cachePath,cacheMethod:P.cacheMethod,gzip:P.gzip,lstmOnly:[a.DEFAULT,a.LSTM_ONLY].includes(D)&&!P.legacyLang}}})),re=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),le=($e,Ee,lt,Pe)=>H(r({id:Pe,action:"initialize",payload:{langs:$e,oem:Ee,config:lt}})),ye=($e="eng",Ee,lt,Pe)=>{if(ne&&[a.TESSERACT_ONLY,a.TESSERACT_LSTM_COMBINED].includes(Ee))throw Error("Legacy model requested but code missing.");const nt=Ee||D;D=nt;const We=lt||V;V=We;const ct=(typeof $e=="string"?$e.split("+"):$e).filter(tr=>!L.includes(tr));return L.push(...ct),ct.length>0?J(ct,Pe).then(()=>le($e,nt,We,Pe)):le($e,nt,We,Pe)},je=($e={},Ee)=>H(r({id:Ee,action:"setParameters",payload:{params:$e}})),Se=async($e,Ee={},lt={blocks:!0,text:!0,hocr:!0,tsv:!0},Pe)=>H(r({id:Pe,action:"recognize",payload:{image:await h($e),options:Ee,output:lt}})),Be=($e="Tesseract OCR Result",Ee=!1,lt)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),H(r({id:lt,action:"getPDF",payload:{title:$e,textonly:Ee}}))),Fe=async($e,Ee)=>{if(ne)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return H(r({id:Ee,action:"detect",payload:{image:await h($e)}}))},Te=async()=>(xe!==null&&(c(xe),xe=null),Promise.resolve());u(xe,({workerId:$e,jobId:Ee,status:lt,action:Pe,data:nt})=>{const We=`${Pe}-${Ee}`;if(lt==="resolve"){n(`[${$e}]: Complete ${Ee}`);let xt=nt;Pe==="recognize"?xt=e(nt):Pe==="getPDF"&&(xt=Array.from({...nt,length:Object.keys(nt).length})),M[We]({jobId:Ee,data:xt})}else if(lt==="reject")if($[We](nt),Pe==="load"&&B(nt),k)k(nt);else throw Error(nt);else lt==="progress"&&A({...nt,userJobId:Ee})});const ce={id:C,worker:xe,setResolve:oe,setReject:pe,load:q,writeText:G,readText:R,removeFile:z,FS:U,loadLanguage:Q,initialize:re,reinitialize:ye,setParameters:je,recognize:Se,getPDF:Be,detect:Fe,terminate:Te};return ie().then(()=>J(p)).then(()=>le(p,y,j)).then(()=>F(ce)).catch(()=>{}),X},l2}var c2,U3;function KK(){if(U3)return c2;U3=1;const t=CE();return c2={recognize:async(n,i,a)=>{const o=await t(i,1,a);return o.recognize(n).finally(async()=>{await o.terminate()})},detect:async(n,i)=>{const a=await t("osd",0,i);return a.detect(n).finally(async()=>{await a.terminate()})}},c2}var d2,V3;function YK(){return V3||(V3=1,d2={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),d2}var u2,$3;function XK(){return $3||($3=1,u2={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),u2}var h2,z3;function ZK(){if(z3)return h2;z3=1,TK();const t=IK(),e=CE(),r=KK(),n=YK(),i=jE(),a=XK(),{setLogging:o}=Ub();return h2={languages:n,OEM:i,PSM:a,createScheduler:t,createWorker:e,setLogging:o,...r},h2}var JK=ZK();const QK=b1(JK),Lx=!1;function eY(t){const e=t.data,r=t.width,n=t.height;let i=0,a=0;for(let o=1;o<n-1;o++)for(let l=1;l<r-1;l++){const c=(o*r+l)*4,u=e[c],h=e[((o-1)*r+l)*4],m=e[((o+1)*r+l)*4],x=e[(o*r+(l-1))*4],p=e[(o*r+(l+1))*4],y=Math.abs(4*u-h-m-x-p);i+=y,a++}return i/a*10}function tY(t,e,r){const i=t.getImageData(0,0,e,r).data;let a=0,o=0;for(let c=10;c<r-10;c+=10)for(let u=10;u<e-10;u+=10){const h=(c*e+u)*4,m=i[h],x=i[(c*e+(u+1))*4],p=i[((c+1)*e+u)*4];a+=Math.abs(m-x),o+=Math.abs(m-p)}return o/(a+1)>1.2?90:0}function rY(t,e,r){const n=e.data;for(let i=0;i<n.length;i+=4){const a=n[i]*.299+n[i+1]*.587+n[i+2]*.114;n[i]=n[i+1]=n[i+2]=a}switch(r){case"high-contrast":const a=1.0156862745098039;for(let x=0;x<n.length;x+=4)n[x]=Math.min(255,Math.max(0,a*(n[x]-128)+128)),n[x+1]=n[x],n[x+2]=n[x];for(let x=0;x<n.length;x+=4){const p=n[x]>140?255:0;n[x]=n[x+1]=n[x+2]=p}break;case"denoise":const o=new Uint8ClampedArray(n),l=e.width;for(let x=4;x<n.length-4;x+=4){const p=(o[x-4]+o[x]+o[x+4]+o[x-l*4]+o[x+l*4])/5;n[x]=n[x+1]=n[x+2]=p}for(let x=0;x<n.length;x+=4){const p=n[x]>128?255:0;n[x]=n[x+1]=n[x+2]=p}break;case"aggressive":const c=2.5,u=259*(c+255)/(255*(259-c));for(let x=0;x<n.length;x+=4)n[x]=Math.min(255,Math.max(0,u*(n[x]-128)+128)),n[x+1]=n[x],n[x+2]=n[x];for(let x=0;x<n.length;x+=4){const p=n[x]>120?255:0;n[x]=n[x+1]=n[x+2]=p}break;default:const h=1.5,m=259*(h+255)/(255*(259-h));for(let x=0;x<n.length;x+=4)n[x]=m*(n[x]-128)+128,n[x+1]=n[x],n[x+2]=n[x];for(let x=0;x<n.length;x+=4){const p=n[x]>128?255:0;n[x]=n[x+1]=n[x+2]=p}}t.putImageData(e,0,0)}async function nY(t){return new Promise((e,r)=>{const n=document.createElement("canvas"),i=n.getContext("2d"),a=new Image;if(a.onload=()=>{if(!i){r(new Error("Canvas context not available"));return}try{const o=Math.max(a.width,a.height);let l=Math.min(2,2e3/o);l=Math.max(1,l);const c=Math.floor(a.width*l),u=Math.floor(a.height*l);n.width=c,n.height=u,i.drawImage(a,0,0,c,u);const h=tY(i,c,u);let m=!1;if(h!==0){m=!0;const M=document.createElement("canvas"),$=M.getContext("2d");if(!$){r(new Error("Could not get rotated canvas context"));return}h===90||h===270?(M.width=u,M.height=c):(M.width=c,M.height=u),$.translate(M.width/2,M.height/2),$.rotate(h*Math.PI/180),$.drawImage(n,-c/2,-u/2),n.width=M.width,n.height=M.height,i.drawImage(M,0,0)}const x=n.width,p=n.height,y=n.toDataURL("image/png"),w=i.getImageData(0,0,x,p),C=eY(w)<100,A=["standard","high-contrast","denoise","aggressive"],k=[];for(const M of A){const $=document.createElement("canvas"),L=$.getContext("2d");if(!L)continue;$.width=n.width,$.height=n.height,L.drawImage(n,0,0);const D=L.getImageData(0,0,n.width,n.height);rY(L,D,M);const V=L.getImageData(0,0,n.width,n.height);let ne=0;const B=V.data;for(let X=4;X<B.length-4;X+=16)Math.abs(B[X]-B[X+4])>200&&ne++;const F=$.toDataURL("image/png");k.push({strategy:M,image:F,testScore:ne})}k.sort((M,$)=>$.testScore-M.testScore);const P=k[0];e({image:P.image,fullColorImage:y,width:x,height:p,isBlurry:C,rotationCorrected:m,strategy:P.strategy})}catch(o){r(o)}},a.onerror=()=>r(new Error("Failed to load image")),typeof t=="string")a.src=t;else{const o=new FileReader;o.onload=l=>{a.src=l.target?.result},o.onerror=()=>r(new Error("Failed to read image file")),o.readAsDataURL(t)}})}async function sY(t){const e=await QK.createWorker("eng");try{const r=await nY(t),i=(await e.recognize(r.image)).data;let a=[];return i.lines&&Array.isArray(i.lines)&&i.lines.forEach(o=>{o.words&&Array.isArray(o.words)&&o.words.forEach(l=>{l.text&&l.bbox&&a.push({text:l.text,bbox:l.bbox,confidence:l.confidence||0})})}),await e.terminate(),{text:i.text,confidence:i.confidence,preprocessedImage:r.image,previewImage:r.fullColorImage,previewImageWidth:r.width,previewImageHeight:r.height,isBlurry:r.isBlurry,rotationCorrected:r.rotationCorrected,preprocessingStrategy:r.strategy,words:a}}catch(r){throw console.error("OCR failed:",r),await e.terminate(),new Error("Failed to extract text from image")}}function f2(t){const e=t.split(`
`).map(p=>p.trim()).filter(Boolean),r={},n=[/\((\d+(?:\.\d+)?)\s*(?:mg|mcg|g|ml|units?)\)/i,/(\d+(?:\.\d+)?)\s*(?:mg|mcg|g|ml|units?)\b/i];let i=null;for(const p of n){const y=t.match(p);if(y){i=y;const w=y[1]||y[0].match(/\d+(?:\.\d+)?/)?.[0],j=y[0].match(/mg|mcg|g|ml|units?/i)?.[0];r.dosage=`${w} ${j}`;break}}const a=[/take\s+\d+\s+tablet/i,/\b(once|twice|three times?)\s+(?:daily|per day|a day|in the morning|in the evening)/i,/\b(QD|BID|TID|QID|Q\d+H)\b/i,/(?:in the|every)\s+(morning|evening|afternoon|night)/i];for(const p of a){const y=t.match(p);if(y){r.frequency=y[0].trim();break}}const o=[/by\s+(mouth|injection|inhalation)/i,/\b(oral|topical|injection|IV|IM|sublingual|transdermal|inhalation|ophthalmic|otic)\b/i];for(const p of o){const y=t.match(p);if(y){r.route=y[1]||y[0].trim();break}}const l=[/(?:Dr\.|Doctor)\s+([A-Z]\.\s*)?([A-Z][a-z]+\s+[A-Z][a-z]+)/i,/([A-Z][a-z]+\s+[A-Z]\s+[A-Z][a-z]+)\s+(?:MD|RPh|NU|par F)/i];for(const p of l){const y=t.match(p);if(y){r.prescriber=y[0].trim();break}}const c=t.match(/(?:qty|quantity)\s*:?\s*(\d+)/i);c&&(r.quantity=c[1]);const u=t.match(/(?:refills?|no refills)\s*:?\s*(\d+|remaining)/i);u&&(r.refills=u[1]);const h=t.match(/take\s+\d+\s+tablet[^.]*\./i);h&&(r.instructions=h[0].trim());const m=/\b([a-z]+[A-Z][A-Za-z]+)\b/,x=t.match(m);if(x&&x[1]){const p=x[1].trim(),y=p.toLowerCase(),w=r.frequency&&r.frequency.toLowerCase().includes(y),j=r.route&&r.route.toLowerCase().includes(y),C=r.instructions&&r.instructions.toLowerCase().includes(y),A=r.quantity&&y.includes(r.quantity.toLowerCase());!w&&!j&&!C&&!A&&(r.name=p)}if(!r.name&&i&&i.index!==void 0){const p=t.substring(0,i.index).trim(),y=/([A-Z][A-Za-z]+(?:\s+[A-Z]?[A-Za-z]+){0,2})\s*$/i,w=p.match(y);if(w&&w[1]){const j=w[1].trim(),C=j.toLowerCase(),A=r.frequency&&r.frequency.toLowerCase().includes(C),k=r.route&&r.route.toLowerCase().includes(C),P=r.instructions&&r.instructions.toLowerCase().includes(C),M=r.quantity&&C.includes(r.quantity.toLowerCase());!A&&!k&&!P&&!M&&(r.name=j)}}if(!r.name){const p=[/pharmacy/i,/hospital/i,/research/i,/children/i,/jude/i,/\d{3}[-\s]?\d{3}[-\s]?\d{4}/,/^\d+\s+[A-Z][a-z]+\s+(Place|Street|Road|Ave|Dr)/i,/Rx\s*[:#]?\s*\d+/i,/written/i,/filled/i,/test/i,/patient/i,/discard/i,/commonly\s+known/i,/no\s+refills/i,/^take\s+\d+/i,/^by\s+mouth/i,/MRN/i,/mersin/i,/TET/i],y=e.find(w=>{if(!/[A-Za-z]{3,}/.test(w)||w.length<3||w.length>40)return!1;for(const C of p)if(C.test(w))return!1;return(w.match(/[A-Za-z]/g)||[]).length/w.length>.6});y&&(r.name=y.replace(/^\W+|\W+$/g,"").trim())}if(!r.name){const p=t.match(/commonly\s+known\s+as\s+([A-Za-z]+)/i);p&&(r.name=p[1])}return r}function iY(t){const e=(t.match(/Rx\s*[:#]?\s*\d{5,}/gi)||[]).length>1,r=/^[\*]\s/m.test(t),n=/^\d+\.\s+[A-Z]/m.test(t);if(!e&&!r&&!n){const o=f2(t);return o.name||o.dosage||o.frequency?[o]:[]}const i=[];return t.split(/(?:\n\s*\n\s*\n|\d+\.\s+[A-Z])/).forEach(o=>{const l=o.trim();if(l.length>20){const c=f2(l);c.name&&(c.dosage||c.frequency||c.route)&&i.push(c)}}),i.length>0?i:[f2(t)]}function aY(t){let e=0,r=0;return t.name&&(e+=30,r+=30),t.dosage&&(e+=25,r+=25),t.frequency&&(e+=20,r+=20),t.route&&(e+=10,r+=10),t.quantity&&(e+=10,r+=10),t.instructions&&(e+=5,r+=5),r>0?Math.round(e/r*100):0}async function oY(t){const e=t.replace(/\D/g,"");if(e.length<8)return console.log(" UPC too short:",e),null;const r=[e,e.slice(1),e.padStart(13,"0"),e.padStart(14,"0")];console.log(" Trying UPC lookup with variants:",r);for(const n of r)try{const i=`https://world.openfoodfacts.org/api/v2/product/${n}.json`;console.log(" Trying OpenFoodFacts:",i);const a=await fetch(i);if(console.log(" OpenFoodFacts response status:",a.status),a.ok){const o=await a.json();if(console.log(" OpenFoodFacts data:",o),o&&o.product&&o.status===1){const l=o.product;return console.log(" Product found in OpenFoodFacts:",l.product_name),{upc:n,title:l.product_name||l.generic_name||void 0,brand:(l.brands||"").split(",")[0]?.trim()||void 0,categories:(l.categories_tags||[]).map(c=>c.replace("en:","")),imageUrl:l.image_front_small_url||l.image_small_url||void 0}}}}catch(i){console.warn(" OpenFoodFacts lookup failed for variant:",n,i)}for(const n of r)try{const i=`https://api.upcitemdb.com/prod/trial/lookup?upc=${n}`;console.log(" Trying UPCItemDB:",i);const a=await fetch(i);if(console.log(" UPCItemDB response status:",a.status),a.ok){const o=await a.json();if(console.log(" UPCItemDB data:",o),o&&o.items&&o.items.length>0){const l=o.items[0];return console.log(" Product found in UPCItemDB:",l.title),{upc:n,title:l.title||l.description,brand:l.brand,categories:l.category?[l.category]:[],imageUrl:l.images?.[0]}}}}catch(i){console.warn(" UPCItemDB lookup failed for variant:",n,i)}return console.log(" No product found in any UPC database"),null}function lY(t,e,r){new Date().toISOString()}const cY=(t,e)=>lY();function _E({onMedicationsScanned:t,onCancel:e}){const[r,n]=_.useState(null),[i,a]=_.useState(""),[o,l]=_.useState(""),[c,u]=_.useState(null),[h,m]=_.useState(!1),[x,p]=_.useState(""),y=_.useRef(null),w=($,L)=>{cY()},j=async $=>{const L=$.target.files?.[0];if(!L){w();return}w(`File selected: ${L.name}, type: ${L.type}, size: ${L.size} bytes`),p(""),a(""),u(null);const D=new FileReader;D.onload=async V=>{const ne=V.target?.result;w(),n(ne),await C(ne)},D.onerror=V=>{w(),p("Failed to read image file")},D.readAsDataURL(L)},C=async $=>{m(!0),p("");try{w("Creating Image element...");const L=new Image;L.src=$,await new Promise(q=>{L.onload=q}),w(`Image loaded successfully: ${L.width}x${L.height} pixels`);const D=document.createElement("canvas"),V=D.getContext("2d");if(!V)throw new Error("Could not get canvas context");const ne=1500;let B=L.width,F=L.height;(B>ne||F>ne)&&(B>F?(F=F/B*ne,B=ne):(B=B/F*ne,F=ne),w(`Scaling image down to: ${Math.round(B)}x${Math.round(F)}`)),D.width=B,D.height=F,V.drawImage(L,0,0,B,F);const X=D.toDataURL("image/jpeg",.95),ee=new Image;ee.src=X,await new Promise(q=>{ee.onload=q}),w("Image preprocessed, attempting barcode detection...");const xe=new Map;xe.set(Jn.TRY_HARDER,!0),xe.set(Jn.POSSIBLE_FORMATS,[Wt.UPC_A,Wt.UPC_E,Wt.EAN_13,Wt.EAN_8,Wt.CODE_128,Wt.CODE_39]);const oe=[];oe.push({angle:0,img:ee});const pe=[90,180,270];for(const q of pe){const ie=document.createElement("canvas"),G=ie.getContext("2d");if(!G)continue;q===90||q===270?(ie.width=ee.height,ie.height=ee.width):(ie.width=ee.width,ie.height=ee.height),G.translate(ie.width/2,ie.height/2),G.rotate(q*Math.PI/180),G.drawImage(ee,-ee.width/2,-ee.height/2);const R=ie.toDataURL("image/jpeg",.95),z=new Image;z.src=R,await new Promise(U=>{z.onload=U}),oe.push({angle:q,img:z})}const H=[{name:"MultiFormat",make:()=>new aK(xe)},{name:"UPC/EAN",make:()=>new eG}];for(const{name:q,make:ie}of H)for(const{angle:G,img:R}of oe)try{w(`Trying ${q} reader at ${G} ...`);const z=ie();z.hints===void 0&&q==="MultiFormat"&&(z.hints=xe);const U=await z.decodeFromImageElement(R),Q=U.getText(),J=U.getBarcodeFormat();w(` BARCODE DETECTED with ${q} at ${G}!`),w(`Format: ${Wt[J]}`),w(`Raw data: "${Q}"`),w(`Length: ${Q.length} characters`),a(Q),l(Wt[J]||String(J)),w("Beginning medication/product lookup flow...");const re=await k(Q),le=[Wt.UPC_A,Wt.UPC_E,Wt.EAN_13,Wt.EAN_8].includes(J);if(re){w(` FDA medication found: ${re.brand_name||re.generic_name}`),m(!1);return}else if(le){w("NDC lookup failed. Detected retail barcode format (UPC/EAN), attempting product lookup...");const ye=await oY(Q);if(ye){w(` UPC/EAN product found: ${ye.title||ye.brand||"Unnamed"}`);const je={name:ye.title||ye.brand||`Product ${Q}`,dosage:"See package",frequency:"As directed",route:"Oral"};p(""),w("Passing scanned product to parent component..."),t([je]),m(!1);return}else w(" UPC/EAN product lookup returned no data."),p("Product found but not in medication database. You can continue with manual entry.")}else w(" No FDA medication found and barcode is not retail format (UPC/EAN)."),p("Medication not found in FDA database. This may be a non-NDC barcode.");m(!1);return}catch(z){w(` ${q} at ${G} failed: ${z.message||z}`);continue}throw new Error("All barcode readers failed to detect the code")}catch(L){w(),w(`Error: ${L.message||L}`),w(),console.error("Full error:",L),p("No barcode detected in image. Please try another image with a clear barcode.")}finally{m(!1)}},A=$=>{const L=$.replace(/\D/g,"");w(),w(),w(`Digits only: "${L}" (${L.length} digits)`);const D=[];if($.includes("-")){const B=$.split("-");B.length>=2&&D.push(`${B[0]}-${B[1]}`)}if(L.length===12){const B=L.slice(1,12),F=L.slice(1,11);w(),D.push(`${B.slice(0,4)}-${B.slice(4,8)}`),D.push(`${B.slice(0,5)}-${B.slice(5,8)}`),D.push(`${B.slice(0,5)}-${B.slice(5,9)}`),D.push(`${F.slice(0,4)}-${F.slice(4,8)}`),D.push(`${F.slice(0,5)}-${F.slice(5,8)}`),D.push(`${F.slice(0,5)}-${F.slice(5,9)}`),D.push(`0${F.slice(0,4)}-${F.slice(4,8)}`),D.push(`0${F.slice(0,3)}-${F.slice(3,7)}`)}if(L.length===11){w(),D.push(`${L.slice(0,4)}-${L.slice(4,8)}`),D.push(`${L.slice(0,5)}-${L.slice(5,8)}`),D.push(`${L.slice(0,5)}-${L.slice(5,9)}`);const B=L.slice(0,10);D.push(`${B.slice(0,4)}-${B.slice(4,8)}`),D.push(`${B.slice(0,5)}-${B.slice(5,8)}`)}if(L.length===10){const B="0"+L;w(),D.push(`${B.slice(0,4)}-${B.slice(4,8)}`),D.push(`${B.slice(0,5)}-${B.slice(5,8)}`),D.push(`${B.slice(0,5)}-${B.slice(5,9)}`),D.push(`${L.slice(0,4)}-${L.slice(4,8)}`),D.push(`${L.slice(0,5)}-${L.slice(5,8)}`)}L.length===8&&D.push(`${L.slice(0,4)}-${L.slice(4,8)}`),L.length===9&&D.push(`${L.slice(0,5)}-${L.slice(5,9)}`);const V=L.replace(/^0+/,"");V.length>=8&&(D.push(`${V.slice(0,4)}-${V.slice(4,8)}`),D.push(`${V.slice(0,5)}-${V.slice(5,8)}`));const ne=[...new Set(D)];return w(),ne},k=async $=>{const L=A($);w(`Starting FDA API lookup with ${L.length} format(s)...`);for(let D=0;D<L.length;D++){const V=L[D];try{w(`[${D+1}/${L.length}] Trying: ${V}`);const ne=`https://api.fda.gov/drug/ndc.json?search=product_ndc:"${V}"&limit=1`;w(`API URL: ${ne}`);const B=await fetch(ne);if(w(`Response status: ${B.status} ${B.statusText}`),B.ok){const F=await B.json();if(w(`Response data: ${JSON.stringify(F).substring(0,200)}...`),F.results&&F.results.length>0)return w(` SUCCESS! Found medication: ${F.results[0].brand_name||F.results[0].generic_name}`),u(F.results[0]),F.results[0];w(" No results in response")}else{const F=await B.text();w(` API error: ${F.substring(0,100)}`)}}catch(ne){w(` Request failed: ${ne.message}`);continue}}return w(),p("Medication not found in FDA database. This may not be an NDC barcode or the medication is not registered."),null},P=()=>{if(!c)return;const $={name:c.brand_name||c.generic_name||"Unknown",dosage:c.active_ingredients?.[0]?.strength||"",frequency:"Once daily",route:c.route?.[0]||"Oral"};t([$])},M=()=>{n(null),a(""),u(null),p(""),m(!1)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:e}),s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 p-6 relative",children:[s.jsx("button",{onClick:e,className:"absolute top-4 left-4 w-10 h-10 rounded-xl bg-white hover:bg-white/90 flex items-center justify-center transition-colors shadow-sm","aria-label":"Close",children:s.jsx(zs,{className:"w-5 h-5 text-emerald-700"})}),s.jsxs("div",{className:"text-center pt-8",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/20 flex items-center justify-center mx-auto mb-3",children:s.jsx(Vs,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Scan Medication Barcode"}),s.jsx("p",{className:"text-sm text-emerald-50",children:"Take a photo or upload an image of the medication barcode"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"space-y-6",children:[!r&&s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6",children:[s.jsx("input",{ref:y,type:"file",accept:"image/*",capture:"environment",onChange:j,className:"hidden"}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs(fe,{onClick:()=>y.current?.click(),className:"h-14 rounded-xl bg-emerald-600 hover:bg-emerald-700 text-white font-medium",children:[s.jsx(Vs,{className:"w-5 h-5 mr-2"}),"Take Photo"]}),s.jsxs(fe,{onClick:()=>{const $=y.current;$&&($.removeAttribute("capture"),$.click())},variant:"outline",className:"h-14 rounded-xl border-2 border-slate-300 hover:bg-slate-50 font-medium",children:[s.jsx(Va,{className:"w-5 h-5 mr-2"}),"Upload from Gallery"]})]})]}),r&&s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Scanned Image"}),s.jsx("button",{onClick:M,className:"w-8 h-8 rounded-lg hover:bg-slate-100 flex items-center justify-center transition-colors",children:s.jsx(zs,{className:"w-5 h-5 text-slate-600"})})]}),s.jsx("img",{src:r,alt:"Medication barcode",className:"w-full max-h-96 object-contain rounded-xl bg-slate-50 border border-slate-200"})]}),h&&s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-emerald-200 border-t-emerald-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600 font-medium",children:"Scanning barcode..."}),s.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"This may take a few seconds"})]}),x&&!h&&s.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-100 flex items-center justify-center flex-shrink-0",children:s.jsx(_i,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-red-900 font-semibold mb-1",children:"Medication Not Found"}),s.jsx("p",{className:"text-red-700 text-sm leading-relaxed",children:x})]}),i&&s.jsxs("div",{className:"bg-white p-3 rounded-lg border border-red-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Detected Barcode"}),s.jsx("p",{className:"mt-1 font-mono text-sm text-slate-900",children:i})]}),o&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-md bg-slate-100 border border-slate-200 text-slate-600 font-medium",children:o})]}),s.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["The format ",o||"Unknown"," may be a retail UPC and not an FDA NDC."]})]}),s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 space-y-2",children:[s.jsx("p",{className:"text-amber-800 text-sm font-medium",children:"Searching multiple databases:"}),s.jsxs("ul",{className:"text-amber-700 text-xs space-y-1 list-disc pl-4",children:[s.jsx("li",{children:"Checking OpenFoodFacts database..."}),s.jsx("li",{children:"Checking UPCItemDB for retail products..."}),s.jsx("li",{children:"Checking Barcode Spider database..."}),s.jsx("li",{children:"Trying multiple barcode format variations..."})]}),s.jsx("p",{className:"text-amber-700 text-xs mt-2",children:"If not found after extensive search, try scanning a different barcode on the package or use OCR scan instead."})]}),s.jsx("div",{className:"flex flex-wrap gap-3",children:s.jsx(fe,{onClick:M,className:"h-10 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white flex-1",children:"Try Another Image"})})]})]})}),i&&!h&&!c&&!x&&s.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-2xl p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center flex-shrink-0",children:s.jsx(lc,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-blue-900 font-semibold mb-1",children:"Barcode Detected"}),s.jsx("p",{className:"text-blue-700 font-mono text-sm bg-white px-3 py-2 rounded-lg border border-blue-200 mt-2",children:i}),s.jsx("p",{className:"text-blue-600 text-sm mt-2",children:"Looking up medication information..."})]})]})}),c&&s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"bg-emerald-50 border-b border-emerald-200 p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-600 flex items-center justify-center flex-shrink-0",children:s.jsx(lc,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-emerald-900",children:"Medication Found!"}),s.jsx("p",{className:"text-sm text-emerald-700",children:"Review the information below"})]})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Barcode (NDC)"}),s.jsx("p",{className:"mt-1 text-slate-900 font-mono text-sm bg-slate-50 px-3 py-2 rounded-lg",children:i})]}),c.brand_name&&s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Brand Name"}),s.jsx("p",{className:"mt-1 text-lg text-slate-900 font-semibold",children:c.brand_name})]}),c.generic_name&&s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Generic Name"}),s.jsx("p",{className:"mt-1 text-slate-900",children:c.generic_name})]}),c.dosage_form&&s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Dosage Form"}),s.jsx("p",{className:"mt-1 text-slate-900",children:c.dosage_form})]}),c.route&&c.route.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Route"}),s.jsx("p",{className:"mt-1 text-slate-900",children:c.route[0]})]}),c.active_ingredients&&c.active_ingredients.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide mb-2 block",children:"Active Ingredients"}),s.jsx("div",{className:"space-y-2",children:c.active_ingredients.map(($,L)=>s.jsxs("div",{className:"flex items-center gap-2 text-slate-900 bg-slate-50 px-3 py-2 rounded-lg",children:[s.jsx("span",{className:"text-emerald-600",children:""}),s.jsx("span",{className:"font-medium",children:$.name}),s.jsx("span",{className:"text-slate-500",children:""}),s.jsx("span",{className:"text-slate-700",children:$.strength})]},L))})]}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:s.jsxs("p",{className:"text-xs text-amber-800",children:[s.jsx("strong",{className:"font-semibold",children:"Note:"})," This information is retrieved from the FDA database for reference. Please verify all details and complete dosage and frequency information."]})})]}),s.jsxs("div",{className:"border-t border-slate-200 p-6 flex flex-col sm:flex-row gap-3",children:[s.jsx(fe,{onClick:M,variant:"outline",className:"flex-1 h-12 rounded-xl border-2 border-slate-300 hover:bg-slate-50 font-medium",children:"Scan Another"}),s.jsx(fe,{onClick:P,className:"flex-1 h-12 rounded-xl bg-emerald-600 hover:bg-emerald-700 text-white font-medium",children:"Add This Medication"})]})]}),!r&&s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide mb-4",children:"Tips for Best Results"}),s.jsxs("ul",{className:"space-y-3 text-sm text-slate-600",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-emerald-600 mt-0.5",children:""}),s.jsx("span",{children:"Ensure the barcode is clearly visible and in focus"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-emerald-600 mt-0.5",children:""}),s.jsx("span",{children:"Use good lighting to avoid shadows on the barcode"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-emerald-600 mt-0.5",children:""}),s.jsx("span",{children:"Hold the camera steady and close enough to read the barcode"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-emerald-600 mt-0.5",children:""}),s.jsx("span",{children:"Works with NDC (National Drug Code) barcodes on medication bottles"})]})]})]})]})})]})})]})}function lr({className:t,...e}){return s.jsx("div",{"data-slot":"card",className:hr("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}const dY=jw("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function uY({className:t,variant:e,...r}){return s.jsx("div",{"data-slot":"alert",role:"alert",className:hr(dY({variant:e}),t),...r})}function hY({className:t,...e}){return s.jsx("div",{"data-slot":"alert-description",className:hr("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}var rg="Switch",[fY]=xo(rg),[mY,pY]=fY(rg),AE=_.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:h,...m}=t,[x,p]=_.useState(null),y=Kr(e,k=>p(k)),w=_.useRef(!1),j=x?h||!!x.closest("form"):!0,[C,A]=cc({prop:i,defaultProp:a??!1,onChange:u,caller:rg});return s.jsxs(mY,{scope:r,checked:C,disabled:l,children:[s.jsx(Ar.button,{type:"button",role:"switch","aria-checked":C,"aria-required":o,"data-state":PE(C),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:y,onClick:Nt(t.onClick,k=>{A(P=>!P),j&&(w.current=k.isPropagationStopped(),w.current||k.stopPropagation())})}),j&&s.jsx(kE,{control:x,bubbles:!w.current,name:n,value:c,checked:C,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});AE.displayName=rg;var SE="SwitchThumb",EE=_.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=pY(SE,r);return s.jsx(Ar.span,{"data-state":PE(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});EE.displayName=SE;var xY="SwitchBubbleInput",kE=_.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=_.useRef(null),l=Kr(o,a),c=Aw(r),u=Sw(e);return _.useEffect(()=>{const h=o.current;if(!h)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(h,r),h.dispatchEvent(y)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kE.displayName=xY;function PE(t){return t?"checked":"unchecked"}var gY=AE,vY=EE;function Mi({className:t,...e}){return s.jsx(gY,{"data-slot":"switch",className:hr("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(vY,{"data-slot":"switch-thumb",className:hr("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function yY(){const[t,e]=_.useState(!1),[r,n]=_.useState(null),[i,a]=_.useState(null),[o,l]=_.useState([]),c=_.useCallback(async m=>{if(!m){n("No file provided");return}if(!m.type.startsWith("image/")){n("Please provide a valid image file");return}e(!0),n(null),a(null),l([]);try{const x=await sY(m);a(x),console.log(" Raw OCR text:",x.text);const p=iY(x.text);console.log(` Parsed ${p.length} medication(s)`);const y=p.map(w=>({...w,confidence:aY(w)}));l(y),y.forEach((w,j)=>{console.log(`  Medication ${j+1}:`,{name:w.name,dosage:w.dosage,frequency:w.frequency,route:w.route,confidence:w.confidence})})}catch(x){const p=x instanceof Error?x.message:"Failed to process image";n(p),console.error("OCR Error:",x)}finally{e(!1)}},[]),u=_.useCallback(async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){n("Camera not supported in this browser");return}const m=document.createElement("input");m.type="file",m.accept="image/*",m.capture="environment",m.onchange=async x=>{const y=x.target.files?.[0];y&&await c(y)},m.click()}catch(m){const x=m instanceof Error?m.message:"Failed to access camera";n(x),console.error("Camera Error:",m)}},[c]),h=_.useCallback(()=>{e(!1),n(null),a(null),l([])},[]);return{isProcessing:t,error:r,ocrResult:i,medications:o,scanImage:c,scanFromCamera:u,reset:h}}function TE({onMedicationsScanned:t,onCancel:e}){const{isProcessing:r,error:n,medications:i,ocrResult:a,scanImage:o,scanFromCamera:l,reset:c}=yY(),[u,h]=_.useState(null),[m,x]=_.useState(!0),[p,y]=_.useState([]),[w,j]=_.useState([]),C=_.useRef(null);_.useEffect(()=>{a?.previewImage&&h(a.previewImage)},[a]),_.useEffect(()=>{if(i.length>0&&a?.words){const L=i[0],D=[],V=[];[{field:"Medication Name",text:L.name,color:"#0966CC"},{field:"Dosage",text:L.dosage,color:"#10B981"},{field:"Frequency",text:L.frequency,color:"#F59E0B"},{field:"Route",text:L.route,color:"#8B5CF6"},{field:"Quantity",text:L.quantity?.toString(),color:"#EC4899"},{field:"Instructions",text:L.instructions,color:"#F97316"},{field:"Prescriber",text:L.prescriber,color:"#06B6D4"}].forEach(({field:B,text:F,color:X})=>{if(F){D.push({searchText:F,color:X,field:B});const ee=F.toLowerCase().replace(/[^a-z0-9]/g,"");a.words?.forEach(xe=>{const oe=xe.text.toLowerCase().replace(/[^a-z0-9]/g,"");oe&&ee.includes(oe)&&V.push({bbox:xe.bbox,color:X})})}}),y(D),j(V)}},[i,a]);const A=async L=>{const D=L.target.files?.[0];D&&await o(D)},k=async()=>{await l()},P=()=>{C.current?.click()},M=()=>{i.length>0&&t(i)},$=()=>{c(),h(null),y([]),j([]),C.current&&(C.current.value="")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Medication OCR Scanner"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Scan medication labels to auto-fill information"})]}),s.jsx(fe,{variant:"ghost",size:"icon",onClick:e,className:"text-slate-600 hover:text-slate-900",children:s.jsx(zs,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-6",children:[!u&&!r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(lr,{className:"p-8 cursor-pointer hover:shadow-lg hover:border-[#0966CC] transition-all group",onClick:k,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-2xl bg-[#E0F2FE] flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:s.jsx(Vs,{className:"w-10 h-10 text-[#0966CC]"})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Take Photo"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Use your camera to scan medication labels"})]})}),s.jsx(lr,{className:"p-8 cursor-pointer hover:shadow-lg hover:border-[#10B981] transition-all group",onClick:P,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-2xl bg-[#D1FAE5] flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:s.jsx(Va,{className:"w-10 h-10 text-[#10B981]"})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Upload Image"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Choose an existing photo from your device"})]})})]}),s.jsx("input",{ref:C,type:"file",accept:"image/*",onChange:A,className:"hidden"}),r&&s.jsx(lr,{className:"p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(lm,{className:"w-12 h-12 text-[#0966CC] animate-spin mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Processing Image..."}),s.jsx("p",{className:"text-sm text-slate-600",children:"Extracting medication information using OCR"})]})}),n&&s.jsxs(uY,{variant:"destructive",children:[s.jsx(_i,{className:"w-4 h-4"}),s.jsx(hY,{children:n})]}),u&&!r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(lr,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[s.jsx(ir,{className:"w-4 h-4"}),"Scanned Image"]}),p.length>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mi,{id:"show-annotations",checked:m,onCheckedChange:x}),s.jsx(qe,{htmlFor:"show-annotations",className:"text-xs text-slate-600 cursor-pointer flex items-center gap-1",children:m?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"w-3 h-3"}),"Annotations"]}):s.jsxs(s.Fragment,{children:[s.jsx(om,{className:"w-3 h-3"}),"Annotations"]})})]})]}),s.jsxs("div",{className:"relative w-full rounded-lg border border-slate-200 overflow-hidden bg-slate-50",children:[s.jsx("img",{src:u,alt:"Scanned medication",className:"w-full h-auto block"}),m&&w.length>0&&a?.previewImageWidth&&a?.previewImageHeight&&s.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:w.map((L,D)=>{const V=(L.bbox.x1-L.bbox.x0)/a.previewImageWidth*100,ne=(L.bbox.y1-L.bbox.y0)/a.previewImageHeight*100,B=L.bbox.x0/a.previewImageWidth*100,F=L.bbox.y0/a.previewImageHeight*100;return s.jsx("span",{className:"absolute border-2",style:{backgroundColor:L.color+"40",borderColor:L.color,left:`${B}%`,top:`${F}%`,width:`${V}%`,height:`${ne}%`}},D)})})]}),m&&p.length>0&&s.jsxs("div",{className:"mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[s.jsx("p",{className:"text-xs font-medium text-slate-700 mb-2",children:"Color Legend:"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:p.map((L,D)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-sm border",style:{backgroundColor:L.color,borderColor:L.color}}),s.jsx("span",{className:"text-slate-600",children:L.field})]},D))})]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:$,className:"w-full mt-3",children:[s.jsx(zs,{className:"w-4 h-4 mr-2"}),"Scan Different Image"]})]}),s.jsxs(lr,{className:"p-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[s.jsx(Js,{className:"w-4 h-4 text-[#10B981]"}),"Extracted Information"]}),i.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(_i,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-slate-600",children:"No medication information detected. Try a clearer image."})]}):s.jsxs("div",{className:"space-y-4",children:[i.map((L,D)=>s.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2 border border-slate-200",children:[L.name&&s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-medium text-slate-500 block mb-1",children:"Medication Name"}),s.jsx("span",{className:"text-sm font-semibold text-slate-900",children:L.name})]}),L.dosage&&s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-medium text-slate-500 block mb-1",children:"Dosage"}),s.jsx("span",{className:"text-sm text-slate-900",children:L.dosage})]}),L.frequency&&s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-medium text-slate-500 block mb-1",children:"Frequency"}),s.jsx("span",{className:"text-sm text-slate-900",children:L.frequency})]}),L.route&&s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-medium text-slate-500 block mb-1",children:"Route"}),s.jsx("span",{className:"text-sm text-slate-900 capitalize",children:L.route})]}),L.quantity&&s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-medium text-slate-500 block mb-1",children:"Quantity"}),s.jsx("span",{className:"text-sm text-slate-900",children:L.quantity})]}),L.instructions&&s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-medium text-slate-500 block mb-1",children:"Instructions"}),s.jsx("span",{className:"text-sm text-slate-900",children:L.instructions})]}),L.confidence!==void 0&&s.jsx("div",{className:"pt-2 border-t border-slate-200",children:s.jsxs(ft,{className:L.confidence>=75?"bg-[#D1FAE5] text-[#10B981] border-[#10B981]":L.confidence>=50?"bg-[#FEF3C7] text-[#F59E0B] border-[#F59E0B]":"bg-[#FEE2E2] text-[#DC2626] border-[#DC2626]",children:[L.confidence,"% Confidence"]})})]},D)),s.jsxs(fe,{onClick:M,className:"w-full bg-[#10B981] hover:bg-[#059669] text-white",children:[s.jsx(Js,{className:"w-4 h-4 mr-2"}),"Use ",i.length," Medication",i.length!==1?"s":"",s.jsx(X2,{className:"w-4 h-4 ml-2"})]})]})]})]}),s.jsxs(lr,{className:"p-6 bg-[#E0F2FE] border-[#0966CC]/30",children:[s.jsxs("h4",{className:"text-sm font-semibold text-[#0966CC] mb-2 flex items-center gap-2",children:[s.jsx(_i,{className:"w-4 h-4"}),"Tips for Best Results"]}),s.jsxs("ul",{className:"text-xs text-slate-700 space-y-1 ml-6 list-disc",children:[s.jsx("li",{children:"Ensure the medication label is clearly visible and in focus"}),s.jsx("li",{children:"Use good lighting - avoid shadows and glare"}),s.jsx("li",{children:"Capture the entire label with medication name, dosage, and instructions"}),s.jsx("li",{children:"Hold the camera steady or use a flat surface"}),s.jsx("li",{children:"Review and edit extracted information before saving"})]})]})]})]})})}function wY({scannedMedications:t,scanType:e,patients:r,onSelectExistingPatient:n,onCreateNewPatient:i,onCancel:a}){const[o,l]=_.useState(""),c=[{id:"1",firstName:"Sarah",lastName:"Johnson",dateOfBirth:"1985-06-15",address:"456 Oak Ave, Springfield, IL 62704"},{id:"2",firstName:"Michael",lastName:"Chen",dateOfBirth:"1972-11-03",address:"789 Pine St, Springfield, IL 62701"},{id:"3",firstName:"Emma",lastName:"Williams",dateOfBirth:"1990-03-22",address:"321 Elm Rd, Springfield, IL 62702"}],u=r&&r.length>0?r:c,h=o?u.filter(x=>x.firstName.toLowerCase().includes(o.toLowerCase())||x.lastName.toLowerCase().includes(o.toLowerCase())):u,m=x=>{if(!x)return"-";const p=new Date,y=new Date(x);let w=p.getFullYear()-y.getFullYear();const j=p.getMonth()-y.getMonth();return(j<0||j===0&&p.getDate()<y.getDate())&&w--,w};return s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-slate-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Add Medication To Patient"}),s.jsx("button",{onClick:a,className:"w-10 h-10 rounded-xl hover:bg-slate-100 flex items-center justify-center transition-colors","aria-label":"Close",children:s.jsx(zs,{className:"w-5 h-5 text-slate-600"})})]}),s.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-4",children:[s.jsxs("p",{className:"text-sm text-emerald-800",children:[s.jsxs("strong",{children:[t.length," medication",t.length>1?"s":""]})," scanned via ",e]}),s.jsx("div",{className:"mt-2 space-y-1",children:t.map((x,p)=>s.jsxs("div",{className:"text-sm text-emerald-700",children:[" ",x.name||"Unknown medication"," ",x.dosage?`(${x.dosage})`:""]},p))})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[s.jsx(lr,{className:"p-5 cursor-pointer hover:shadow-lg hover:border-[#0966CC] transition-all group",onClick:i,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#E0F2FE] flex items-center justify-center group-hover:scale-110 transition-transform",children:s.jsx($s,{className:"w-6 h-6 text-[#0966CC]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Create New Patient Chart"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Start a new patient chart with these scanned medications"})]}),s.jsx(Xr,{className:"w-5 h-5 text-slate-400 group-hover:text-[#0966CC] transition-colors"})]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-1 h-px bg-slate-200"}),s.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"OR"}),s.jsx("div",{className:"flex-1 h-px bg-slate-200"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide mb-3",children:"Add to Existing Patient"}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx(wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsx(it,{type:"text",placeholder:"Search patients by name...",value:o,onChange:x=>l(x.target.value),className:"pl-10"})]}),s.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:h.length===0?s.jsxs("div",{className:"text-center py-8 text-slate-500",children:[s.jsx(Ts,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),s.jsx("p",{className:"text-sm",children:"No patients found"})]}):h.map(x=>s.jsx(lr,{className:"p-4 cursor-pointer hover:shadow-md hover:border-[#0966CC] transition-all",onClick:()=>n(x.id),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center flex-shrink-0",children:s.jsx(Ts,{className:"w-5 h-5 text-slate-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h4",{className:"font-semibold text-slate-900 truncate",children:[x.firstName," ",x.lastName]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-slate-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ho,{className:"w-3 h-3"}),"Age ",m(x.dateOfBirth)]}),x.address&&s.jsxs("span",{className:"flex items-center gap-1 truncate",children:[s.jsx(qo,{className:"w-3 h-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:x.address})]})]})]}),s.jsx(Xr,{className:"w-5 h-5 text-slate-400 flex-shrink-0"})]})},x.id))})]})]}),s.jsx("div",{className:"p-6 border-t border-slate-200",children:s.jsx(fe,{onClick:a,variant:"outline",className:"w-full",children:"Cancel"})})]})})}const bY=t=>{const e=new Date,r=e.getTime()-t.getTime(),n=Math.floor(r/6e4),i=Math.floor(r/36e5),a=Math.floor(r/864e5);if(n<2)return"Just now";if(n<60)return`Edited ${n} min ago`;if(i<24)return`Edited today at ${t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}`;const o=new Date(e);return o.setDate(o.getDate()-1),t.toDateString()===o.toDateString()?"Edited yesterday":a<7?`Edited ${t.toLocaleDateString("en-US",{weekday:"long"})}`:`Edited ${t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`},NY=t=>{switch(t){case"active":return"Active";case"verified_ready":return"Verified Ready";case"delivered_locked":return"Delivered (Locked)";case"needs_reverification":return"Needs Reverification";case"archived":return"Archived";default:return"Active"}},jY=t=>{switch(t){case"bottle_scan":return"Bottle Scan";case"pdf_import":return"PDF Import";case"image_upload":return"Manual Entry";case"empty_chart":return"Manual Entry";default:return"Manual Entry"}};function CY({navigation:t}){const{logout:e,user:r}=po(),[n,i]=_.useState([]),[a,o]=_.useState(!0),[l,c]=_.useState(null);_.useEffect(()=>{async function Ke(){o(!0),c(null);try{const Xe=r?.id;if(!Xe){c("Clinician ID not found"),o(!1);return}const cn=(await PS(Xe)||[]).map(dn=>({id:dn.id,name:`${dn.first_name} ${dn.last_name}`,dob:dn.date_of_birth,charts:(dn.charts||[]).map(In=>({id:In.id,status:NY(In.status),type:jY(In.source),medicationCount:Array.isArray(In.medications)?In.medications.length:0,createdDate:In.created_at,createdBy:In.created_by,finalizedDate:In.finalized_at??void 0}))}));console.log("Mapped patient data:",cn),i(cn)}catch(Xe){c(Xe.message||"Failed to fetch patients")}finally{o(!1)}}Ke()},[r?.id]);const[u,h]=_.useState(!1),[m,x]=_.useState("dashboard"),[p,y]=_.useState(""),[w,j]=_.useState("newest"),[C,A]=_.useState("all"),[k,P]=_.useState(!1),[M,$]=_.useState(!0),[L,D]=_.useState(!1),[V,ne]=_.useState(!1),[B,F]=_.useState(""),[X,ee]=_.useState([]),[xe,oe]=_.useState(!1),[pe,H]=_.useState(null),[q,ie]=_.useState(null),[G,R]=_.useState(!1),[z,U]=_.useState(!1),[Q,J]=_.useState(new Date),[re,le]=_.useState("synced"),[ye,je]=_.useState(!1),[Se,Be]=_.useState(!1),[Fe,Te]=_.useState(!1),[ce,$e]=_.useState("anna.clinician@luminous.com"),[Ee,lt]=_.useState("(555) 123-4567"),[Pe,nt]=_.useState(""),[We,xt]=_.useState(""),[ct,tr]=_.useState(""),[It,St]=_.useState(!1),[fr,Ct]=_.useState(!1),[mt,Et]=_.useState(!1),[jt,rr]=_.useState(""),[cr,vt]=_.useState(!1),[Zt,mr]=_.useState(!1),[kt,Qt]=_.useState(!1),[Dt,Or]=_.useState(!1),[Dr,Cr]=_.useState(null),[Mt,ge]=_.useState({length:!1,upperLower:!1,numberOrSymbol:!1}),pt=Ke=>({length:Ke.length>=8,upperLower:/[a-z]/.test(Ke)&&/[A-Z]/.test(Ke),numberOrSymbol:/[0-9\W]/.test(Ke)});_.useEffect(()=>{if(!We){Cr(null),ge({length:!1,upperLower:!1,numberOrSymbol:!1});return}const Ke=Dl(We);Cr(Ke),ge(pt(We))},[We]);const[bt,yr]=_.useState([]),[Qr,Ce]=_.useState(null),[wt,tt]=_.useState("desc"),[Rr,Yr]=_.useState(!1),Lr=n.length,wr=n.reduce((Ke,Xe)=>Ke+(Xe.charts?.filter(er=>er.status==="Needs Reverification").length||0),0),Ve=n.reduce((Ke,Xe)=>Ke+(Xe.charts?.filter(er=>er.status==="Active").length||0),0),Rt=n.reduce((Ke,Xe)=>Ke+(Xe.charts?.filter(er=>er.status==="Verified Ready").length||0),0);_.useEffect(()=>{const Ke=()=>{$(!0),le("synced"),et.success("Back online - Synced successfully",{duration:3e3})},Xe=()=>{$(!1),le("offline")};return window.addEventListener("online",Ke),window.addEventListener("offline",Xe),()=>{window.removeEventListener("online",Ke),window.removeEventListener("offline",Xe)}},[]),_.useEffect(()=>{wr>0&&je(!0)},[wr]);const en=()=>{e(),t.navigate("Landing")},bs=(Ke,Xe)=>{t.navigate("ChartDetail",{patientId:Ke,chartId:Xe})},mn=Ke=>{H(Ke.touches[0].clientY)},Ln=Ke=>{if(pe===null)return;Ke.changedTouches[0].clientY-pe>100&&window.scrollY===0&&Is(),H(null)},Is=()=>{P(!0),setTimeout(()=>{P(!1)},1e3)},Hn=Ke=>{Be(!1),Yr(!1),F(Ke),Ke==="Barcode Scan"?D(!0):Ke==="Bottle OCR"?ne(!0):Ke==="Import PDF"&&et.info("PDF/Image import coming soon")},qn=Ke=>{bt.includes(Ke)?yr(bt.filter(Xe=>Xe!==Ke)):yr([...bt,Ke])},Bi=Ke=>{Qr===Ke?tt(wt==="asc"?"desc":"asc"):(Ce(Ke),tt("desc"))},Ga=()=>{let Ke=[];if(n.forEach(Xe=>{Xe.charts?.forEach(er=>{Ke.push({patient:Xe,chart:er})})}),p&&(Ke=Ke.filter(Xe=>Xe.patient.name.toLowerCase().includes(p.toLowerCase()))),C!=="all"&&(Ke=Ke.filter(Xe=>Xe.chart.status===C)),bt.length>0&&(Ke=Ke.filter(Xe=>bt.includes(Xe.chart.status))),Qr==="created")Ke.sort((Xe,er)=>{const cn=new Date(Xe.chart.createdDate).getTime(),dn=new Date(er.chart.createdDate).getTime();return wt==="asc"?cn-dn:dn-cn});else if(Qr==="status"){const Xe={"Needs Reverification":0,Active:1,"Verified Ready":2,"Delivered (Locked)":3,Archived:4};Ke.sort((er,cn)=>{const dn=Xe[er.chart.status]||999,In=Xe[cn.chart.status]||999;return wt==="asc"?dn-In:In-dn})}else Ke.sort((Xe,er)=>{switch(w){case"newest":return new Date(er.chart.createdDate).getTime()-new Date(Xe.chart.createdDate).getTime();case"oldest":return new Date(Xe.chart.createdDate).getTime()-new Date(er.chart.createdDate).getTime();case"name-asc":return Xe.patient.name.localeCompare(er.patient.name);case"name-desc":return er.patient.name.localeCompare(Xe.patient.name);case"status":const cn={"Needs Reverification":0,Active:1,"Verified Ready":2,"Delivered (Locked)":3,Archived:4};return(cn[Xe.chart.status]||999)-(cn[er.chart.status]||999);default:return 0}});return Ke},Ui=Ga(),go=Ke=>{switch(Ke){case"Needs Reverification":return s.jsx(_i,{className:"w-3.5 h-3.5"});case"Active":return s.jsx(ir,{className:"w-3.5 h-3.5"});case"Verified Ready":return s.jsx(ur,{className:"w-3.5 h-3.5"});case"Delivered (Locked)":return s.jsx(os,{className:"w-3.5 h-3.5"});case"Archived":return s.jsx(uo,{className:"w-3.5 h-3.5"});default:return null}},Go=Ke=>{switch(Ke){case"Needs Reverification":return"bg-red-100 text-red-700 border-red-200";case"Active":return"bg-sky-100 text-sky-700 border-sky-200";case"Verified Ready":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"Delivered (Locked)":return"bg-purple-100 text-purple-700 border-purple-200";case"Archived":return"bg-slate-100 text-slate-600 border-slate-200";default:return""}},td=Ke=>{switch(Ke){case"Needs Reverification":return"Needs Review";case"Verified Ready":return"Verified";case"Delivered (Locked)":return"Locked";default:return Ke}},bn=Ke=>{switch(Ke){case"Needs Reverification":return"Chart awaiting review before medication verification";case"Active":return"Currently in progress";case"Verified Ready":return"All medications verified and ready for delivery";case"Delivered (Locked)":return"Chart has been finalized and locked";case"Archived":return"Chart has been archived";default:return Ke}},pc=()=>s.jsxs("nav",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>{x("dashboard"),h(!1)},className:`w-full flex items-center justify-between px-3 py-3 rounded-lg transition-colors ${m==="dashboard"?"bg-[#E0F2FE] text-[#0966CC]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cl,{className:"w-5 h-5"}),s.jsx("span",{children:"Dashboard"})]}),wr>0&&s.jsx(ft,{className:"bg-[#DC2626] text-white border-0 h-5 min-w-5 px-1.5 flex items-center justify-center",children:wr})]}),s.jsxs("button",{onClick:()=>{x("charts"),h(!1)},className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors ${m==="charts"?"bg-[#E0F2FE] text-[#0966CC]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsx(ir,{className:"w-5 h-5"}),s.jsx("span",{children:"My Charts"})]}),s.jsxs("button",{onClick:()=>{x("profile"),h(!1)},className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors ${m==="profile"?"bg-[#E0F2FE] text-[#0966CC]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsx(Ts,{className:"w-5 h-5"}),s.jsx("span",{children:"Profile"})]}),s.jsxs("button",{onClick:()=>{x("settings"),h(!1)},className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors ${m==="settings"?"bg-[#E0F2FE] text-[#0966CC]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsx(rc,{className:"w-5 h-5"}),s.jsx("span",{children:"Settings"})]})]}),Il=()=>s.jsxs("div",{className:"space-y-6",onTouchStart:mn,onTouchEnd:Ln,children:[k&&s.jsxs("div",{className:"flex items-center justify-center py-4",children:[s.jsx(wm,{className:"w-5 h-5 text-[#0966CC] animate-spin"}),s.jsx("span",{className:"ml-2 text-sm text-[#64748b]",children:"Refreshing..."})]}),ye&&wr>0&&s.jsx("div",{className:"bg-gradient-to-r from-[#FEF2F2] to-[#FEE2E2] rounded-2xl shadow-sm border border-[#FECACA] p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#DC2626]/10 flex items-center justify-center flex-shrink-0",children:s.jsx(_i,{className:"w-5 h-5 text-[#DC2626]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[15px] text-[#991B1B]",children:s.jsxs("span",{className:"font-semibold",children:[wr," chart",wr!==1?"s need":" needs"," review"]})}),s.jsx("p",{className:"text-sm text-[#DC2626]",children:"Patient medication list requires verification before continuing"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{onClick:()=>{ie("Needs Reverification"),A("Needs Reverification"),je(!1)},className:"bg-[#DC2626] hover:bg-[#B91C1C] text-white shadow-sm",children:"View Now"}),s.jsx("button",{onClick:()=>je(!1),className:"w-8 h-8 rounded-lg hover:bg-[#FEE2E2] flex items-center justify-center transition-colors","aria-label":"Dismiss banner",children:s.jsx(zs,{className:"w-4 h-4 text-[#DC2626]"})})]})]})}),s.jsxs("div",{className:"bg-gradient-to-r from-sky-50 to-sky-100 rounded-2xl border border-sky-200 px-5 md:px-6 py-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(J2,{className:"w-4 h-4 text-sky-600"}),s.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Quick Actions"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("button",{onClick:()=>t.navigate("NewPatientChart"),className:"flex-1 min-w-[160px] bg-white hover:bg-sky-50 border border-sky-200 rounded-2xl px-4 py-3.5 transition-all text-left group shadow-sm hover:shadow-md hover:ring-1 hover:ring-sky-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-sky-100 flex items-center justify-center group-hover:scale-110 transition-transform",children:s.jsx($s,{className:"w-5 h-5 text-sky-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-[15px] text-slate-900 mb-0.5",children:"New Chart"}),s.jsx("div",{className:"text-sm text-slate-600",children:"Create patient chart"})]}),s.jsx(Xr,{className:"w-4 h-4 text-slate-400 group-hover:text-sky-600 transition-colors"})]})}),s.jsx("button",{onClick:()=>Be(!0),className:"flex-1 min-w-[160px] bg-white hover:bg-emerald-50 border border-emerald-200 rounded-2xl px-4 py-3.5 transition-all text-left group shadow-sm hover:shadow-md hover:ring-1 hover:ring-emerald-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-100 flex items-center justify-center group-hover:scale-110 transition-transform",children:s.jsx(Vs,{className:"w-5 h-5 text-emerald-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-[15px] text-slate-900 mb-0.5",children:"Scan"}),s.jsx("div",{className:"text-sm text-slate-600",children:"Capture medications"})]}),s.jsx(Xr,{className:"w-4 h-4 text-slate-400 group-hover:text-emerald-600 transition-colors"})]})}),s.jsx("button",{onClick:()=>t.navigate("PatientChartList"),className:"flex-1 min-w-[160px] bg-white hover:bg-sky-50 border border-sky-200 rounded-2xl px-4 py-3.5 transition-all text-left group shadow-sm hover:shadow-md hover:ring-1 hover:ring-sky-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-sky-100 flex items-center justify-center group-hover:scale-110 transition-transform",children:s.jsx(cD,{className:"w-5 h-5 text-sky-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-[15px] text-slate-900 mb-0.5",children:"All Charts"}),s.jsx("div",{className:"text-sm text-slate-600",children:"View full list"})]}),s.jsx(Xr,{className:"w-4 h-4 text-slate-400 group-hover:text-sky-600 transition-colors"})]})})]})]}),s.jsx(Jd,{open:Se,onOpenChange:Be,children:s.jsxs(Qd,{side:"bottom",className:"h-auto rounded-t-3xl",children:[s.jsxs(eu,{children:[s.jsx(tu,{children:"Choose Scan Method"}),s.jsx(Rf,{children:"Select how you want to capture medication information. The system will automatically detect if the patient exists."})]}),s.jsxs("div",{className:"mt-6 space-y-3 pb-6",children:[s.jsx("button",{onClick:()=>{Be(!1),t.navigate("NewPatientChart")},className:"w-full bg-white rounded-xl border-2 border-slate-200 p-4 hover:border-sky-400 hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-sky-100 flex items-center justify-center flex-shrink-0 group-hover:bg-sky-200 transition-colors",children:s.jsx($s,{className:"w-6 h-6 text-sky-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium mb-1",children:"Manual Entry"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Type patient and medication details manually"})]})]})}),s.jsx("button",{onClick:()=>Hn("Barcode Scan"),className:"w-full bg-white rounded-xl border-2 border-slate-200 p-4 hover:border-emerald-400 hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-emerald-100 flex items-center justify-center flex-shrink-0 group-hover:bg-emerald-200 transition-colors",children:s.jsx(o_,{className:"w-6 h-6 text-emerald-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium mb-1",children:"Scan Barcode"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Quick medication lookup via barcode"})]})]})}),s.jsx("button",{onClick:()=>Hn("Bottle OCR"),className:"w-full bg-white rounded-xl border-2 border-slate-200 p-4 hover:border-violet-400 hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-violet-100 flex items-center justify-center flex-shrink-0 group-hover:bg-violet-200 transition-colors",children:s.jsx(Vs,{className:"w-6 h-6 text-violet-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium mb-1",children:"Scan Bottle (OCR)"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Capture text from medication bottle labels"})]})]})}),s.jsx("button",{onClick:()=>Hn("Import PDF"),className:"w-full bg-white rounded-xl border-2 border-slate-200 p-4 hover:border-amber-400 hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-amber-100 flex items-center justify-center flex-shrink-0 group-hover:bg-amber-200 transition-colors",children:s.jsx(Va,{className:"w-6 h-6 text-amber-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium mb-1",children:"Import PDF/Image"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Upload discharge summaries or med lists"})]})]})})]})]})}),s.jsx(Jd,{open:Rr,onOpenChange:Yr,children:s.jsxs(Qd,{side:"bottom",className:"h-auto rounded-t-3xl",children:[s.jsxs(eu,{children:[s.jsx(tu,{children:"Scan Medication Information"}),s.jsx(Rf,{children:"Choose how you want to capture medication data"})]}),s.jsxs("div",{className:"mt-6 space-y-3 pb-6",children:[s.jsx("button",{onClick:()=>Hn("Barcode Scan"),className:"w-full bg-white rounded-xl border-2 border-slate-200 p-4 hover:border-emerald-400 hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-emerald-100 flex items-center justify-center flex-shrink-0 group-hover:bg-emerald-200 transition-colors",children:s.jsx(bm,{className:"w-6 h-6 text-emerald-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium mb-1",children:"Scan Barcode"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Quick medication lookup via barcode"})]})]})}),s.jsx("button",{onClick:()=>Hn("Bottle OCR"),className:"w-full bg-white rounded-xl border-2 border-slate-200 p-4 hover:border-violet-400 hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-violet-100 flex items-center justify-center flex-shrink-0 group-hover:bg-violet-200 transition-colors",children:s.jsx(Vs,{className:"w-6 h-6 text-violet-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium mb-1",children:"Scan Bottle (OCR)"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Capture text from medication bottle labels"})]})]})}),s.jsx("button",{onClick:()=>Hn("Import PDF"),className:"w-full bg-white rounded-xl border-2 border-slate-200 p-4 hover:border-amber-400 hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-amber-100 flex items-center justify-center flex-shrink-0 group-hover:bg-amber-200 transition-colors",children:s.jsx(Va,{className:"w-6 h-6 text-amber-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium mb-1",children:"Import PDF/Image"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Upload discharge summaries or med lists"})]})]})})]})]})}),L&&s.jsx(_E,{onMedicationsScanned:Ke=>{const Xe=Ke.map(er=>({name:er.name,dosage:er.dosage,frequency:er.frequency,route:er.route}));D(!1),ee(Xe),oe(!0)},onCancel:()=>D(!1)}),V&&s.jsx(TE,{onMedicationsScanned:Ke=>{ne(!1),ee(Ke),oe(!0)},onCancel:()=>ne(!1)}),xe&&s.jsx(wY,{scannedMedications:X,scanType:B,patients:n.map(Ke=>({id:Ke.id,firstName:Ke.name.split(" ")[0]||Ke.name,lastName:Ke.name.split(" ").slice(1).join(" "),dateOfBirth:Ke.dob})),onSelectExistingPatient:Ke=>{const Xe=n.find(er=>er.id===Ke);oe(!1),Xe&&t.navigate("ChartDetail",{patientId:Xe.id,chartId:Xe.charts[0]?.id,prefillMedications:X})},onCreateNewPatient:()=>{oe(!1),t.navigate("NewPatientChart",{scannedMedications:X,scanType:B})},onCancel:()=>oe(!1)}),s.jsx("div",{className:"flex items-center justify-end","aria-live":"polite",role:"status",children:s.jsx("div",{className:"flex items-center gap-2",children:re==="synced"?s.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-[#D1FAE5] text-[#047857]",children:[s.jsx(Js,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-sm font-medium",children:"Synced just now"})]}):re==="syncing"?s.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-[#DBEAFE] text-[#0369A1]",children:[s.jsx(lm,{className:"w-3.5 h-3.5 animate-spin"}),s.jsx("span",{className:"text-sm font-medium",children:"Syncing..."})]}):s.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-[#FEE2E2] text-[#991B1B]",children:[s.jsx(If,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-sm font-medium",children:"Offline  3 pending uploads"})]})})}),s.jsxs("div",{className:"mt-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Cl,{className:"w-4 h-4 text-sky-600"}),s.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Overview"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsx(xs.div,{initial:{scale:1},animate:wr>0?{scale:[1,1.03,1]}:{scale:1},transition:{duration:.3,ease:"easeInOut"},className:"w-full",children:s.jsx("button",{onClick:()=>{ie("Needs Reverification"),A("Needs Reverification"),je(!1)},className:"bg-gradient-to-br from-[#FEE2E2] to-[#FECACA] rounded-2xl shadow-sm hover:shadow-lg transition-all p-5 text-left border-l-4 border-[#DC2626] hover:ring-2 hover:ring-[#DC2626]/30 w-full",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-11 h-11 rounded-xl bg-[#DC2626]/10 flex items-center justify-center",children:s.jsx(_i,{className:"w-5 h-5 text-[#DC2626]"})}),s.jsxs("div",{children:[s.jsx(xs.p,{initial:{opacity:.5},animate:{opacity:1},className:"text-2xl text-[#DC2626] font-semibold",children:wr},`count-${wr}`),s.jsx("p",{className:"text-xs font-semibold text-[#991B1B]",children:"Needs Review"})]})]})})},wr)}),s.jsx(Wr,{side:"bottom",className:"max-w-xs",children:s.jsx("p",{children:"Patient charts requiring verification of medication list before continuing"})})]})}),s.jsx("button",{onClick:()=>{ie("Active"),A("Active")},className:"bg-white rounded-2xl shadow-sm hover:shadow-md transition-all p-5 text-left hover:ring-1 hover:ring-sky-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-11 h-11 rounded-xl bg-[#DBEAFE] flex items-center justify-center",children:s.jsx(ir,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl text-[#0f172a] font-semibold",children:Ve}),s.jsx("p",{className:"text-xs font-semibold text-[#64748b]",children:"Active"})]})]})}),s.jsx("button",{onClick:()=>{ie("Verified Ready"),A("Verified Ready")},className:"bg-white rounded-2xl shadow-sm hover:shadow-md transition-all p-5 text-left hover:ring-1 hover:ring-emerald-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-11 h-11 rounded-xl bg-[#D1FAE5] flex items-center justify-center",children:s.jsx(ur,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl text-[#0f172a] font-semibold",children:Rt}),s.jsx("p",{className:"text-xs font-semibold text-[#64748b]",children:"Ready"})]})]})}),s.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-11 h-11 rounded-xl bg-[#E0F2FE] flex items-center justify-center",children:s.jsx(as,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl text-[#0f172a] font-semibold",children:Lr}),s.jsx("p",{className:"text-xs font-semibold text-[#64748b]",children:"Patients"})]})]})})]})]}),q&&s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(ft,{className:"bg-[#DC2626] text-white border-0 px-3 py-1.5 text-sm flex items-center gap-2",children:[s.jsx(_i,{className:"w-3.5 h-3.5"}),s.jsxs("span",{children:["Showing: ",q]}),s.jsx("button",{onClick:()=>{ie(null),A("all")},className:"ml-1 hover:bg-white/20 rounded-full p-0.5 transition-colors",children:s.jsx(zs,{className:"w-3.5 h-3.5"})})]})}),s.jsx("div",{className:"sticky top-0 z-30 bg-white/95 backdrop-blur-sm py-3 -mx-6 px-6 border-b border-slate-200 shadow-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(wa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#94a3b8]"}),s.jsx(it,{id:"dashboard-search",placeholder:"Search by patient name...",value:p,onChange:Ke=>y(Ke.target.value),className:"pl-12 h-11 rounded-xl border border-[#e2e8f0] bg-white focus:bg-white"})]}),s.jsx("div",{className:"w-full md:w-48",children:s.jsxs(ei,{value:C,onValueChange:Ke=>A(Ke),children:[s.jsxs(ri,{className:"h-11 rounded-xl border border-[#e2e8f0] bg-white",children:[s.jsx(Zx,{className:"w-4 h-4 mr-2"}),s.jsx(ti,{placeholder:"Filter Status"})]}),s.jsxs(ni,{children:[s.jsx(At,{value:"all",children:"All Statuses"}),s.jsx(At,{value:"Needs Reverification",children:"Needs Reverification"}),s.jsx(At,{value:"Active",children:"Active"}),s.jsx(At,{value:"Verified Ready",children:"Verified Ready"}),s.jsx(At,{value:"Delivered (Locked)",children:"Delivered (Locked)"}),s.jsx(At,{value:"Archived",children:"Archived"})]})]})}),s.jsx("div",{className:"w-full md:w-48",children:s.jsxs(ei,{value:w,onValueChange:Ke=>j(Ke),children:[s.jsxs(ri,{className:"h-11 rounded-xl border border-[#e2e8f0] bg-white",children:[s.jsx(Z2,{className:"w-4 h-4 mr-2"}),s.jsx(ti,{placeholder:"Sort By"})]}),s.jsxs(ni,{children:[s.jsx(At,{value:"newest",children:"Newest First"}),s.jsx(At,{value:"oldest",children:"Oldest First"}),s.jsx(At,{value:"name-asc",children:"Name (A-Z)"}),s.jsx(At,{value:"name-desc",children:"Name (Z-A)"}),s.jsx(At,{value:"status",children:"Status"})]})]})})]}),(p||C!=="all")&&s.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-[#f1f5f9]",children:[s.jsx("span",{className:"text-xs text-[#64748b]",children:"Active filters:"}),p&&s.jsxs(ft,{variant:"outline",className:"bg-[#f8fafc] text-xs",children:['Search: "',p,'"']}),C!=="all"&&s.jsxs(ft,{variant:"outline",className:"bg-[#f8fafc] text-xs",children:["Status: ",C]}),s.jsx("button",{onClick:()=>{y(""),A("all")},className:"ml-auto text-xs text-[#0966CC] hover:underline",children:"Clear all"})]})]})}),Ui.filter(Ke=>Ke.chart.status==="Active").length>0&&s.jsxs("div",{className:"bg-gradient-to-br from-[#F0F9FF] to-white rounded-2xl shadow-sm hover:shadow-md p-5 border border-[#DBEAFE] transition-all hover:ring-1 hover:ring-sky-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(WN,{className:"w-4 h-4 text-[#0966CC]"}),s.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Continue where you left off"})]}),(()=>{const Ke=Ui.filter(aa=>aa.chart.status==="Active").sort((aa,Wn)=>new Date(Wn.chart.createdDate).getTime()-new Date(aa.chart.createdDate).getTime())[0];if(!Ke)return null;const Xe=Ke.chart.medicationCount,er=0,cn=Xe>0?Math.min(er/Xe*100,100):0,dn=new Date(Ke.chart.createdDate),In=bY(dn),mi=Ke.patient.name.split(" ").map(aa=>aa[0]).join("").toUpperCase();return s.jsx("button",{onClick:()=>{bs(Ke.patient.id,Ke.chart.id)},className:"w-full",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-4",children:[s.jsx(ys,{className:"w-12 h-12 border-2 border-sky-200 flex-shrink-0",children:s.jsx(ws,{className:"bg-gradient-to-br from-[#0966CC] to-[#0C4A6E] text-white",children:mi})}),s.jsxs("div",{className:"flex-1 text-left min-w-0",children:[s.jsx("p",{className:"text-[15px] font-medium text-[#0f172a] mb-1",children:Ke.patient.name}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-[#64748b] mb-2 flex-wrap",children:[s.jsx("span",{children:Ke.chart.type}),s.jsx("span",{children:""}),s.jsx("span",{children:In})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:"text-[#64748b]",children:[er," of ",Xe," meds completed"]}),s.jsxs("span",{className:"font-medium text-[#0966CC]",children:[Math.round(cn),"%"]})]}),s.jsx(SS,{value:cn,className:"h-1.5"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs("div",{className:"px-4 py-2 bg-[#0966CC] hover:bg-[#0C4A6E] text-white rounded-xl text-sm font-medium flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(WN,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:"Resume"})]}),s.jsx(Xr,{className:"w-5 h-5 text-[#0966CC]"})]})]})})})()]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ir,{className:"w-5 h-5 text-sky-600"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg text-slate-900",children:["All Charts (",Ui.length,")"]}),s.jsx("p",{className:"text-sm text-slate-600 mt-0.5",children:"Manage and review patient charts"})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:re==="synced"?s.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-700 text-sm",children:[s.jsx(Js,{className:"w-4 h-4"}),s.jsx("span",{children:"Synced"})]}):re==="syncing"?s.jsxs("div",{className:"flex items-center gap-1.5 text-sky-700 text-sm",children:[s.jsx(lm,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Syncing..."})]}):s.jsxs("div",{className:"flex items-center gap-1.5 text-amber-700 text-sm",children:[s.jsx(If,{className:"w-4 h-4"}),s.jsx("span",{children:"Offline  3 pending uploads"})]})})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[s.jsxs(fe,{onClick:()=>t.navigate("NewPatientChart"),className:"bg-sky-600 hover:bg-sky-700 text-white shadow-sm",children:[s.jsx($s,{className:"w-4 h-4 mr-2"}),"New Chart"]}),s.jsxs(fe,{onClick:()=>Yr(!0),variant:"outline",className:"border-violet-200 text-violet-700 hover:bg-violet-50 shadow-sm",children:[s.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Scan"]}),s.jsxs(fe,{onClick:()=>Hn("Import PDF"),variant:"outline",className:"border-amber-200 text-amber-700 hover:bg-amber-50 shadow-sm",children:[s.jsx(bw,{className:"w-4 h-4 mr-2"}),"Import PDF"]}),s.jsxs(fe,{onClick:()=>et.info("Bulk review feature coming soon"),variant:"outline",className:"border-slate-200 text-slate-700 hover:bg-slate-50 shadow-sm",children:[s.jsx(d_,{className:"w-4 h-4 mr-2"}),"Bulk Review"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-5",children:[s.jsx("span",{className:"text-sm text-slate-600 mr-1",children:"Quick filters:"}),["Active","Needs Reverification","Verified Ready","Archived"].map(Ke=>s.jsx("button",{onClick:()=>qn(Ke),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all border ${bt.includes(Ke)?Ke==="Needs Reverification"?"bg-red-100 border-red-300 text-red-700":Ke==="Active"?"bg-sky-100 border-sky-300 text-sky-700":Ke==="Verified Ready"?"bg-emerald-100 border-emerald-300 text-emerald-700":"bg-slate-100 border-slate-300 text-slate-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:Ke==="Needs Reverification"?"Needs Review":Ke},Ke)),bt.length>0&&s.jsx("button",{onClick:()=>yr([]),className:"text-xs text-sky-600 hover:text-sky-700 font-medium ml-1",children:"Clear all"})]}),Ui.length===0&&s.jsxs("div",{className:"bg-white rounded-3xl border border-dashed border-slate-200 p-12 text-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center mx-auto mb-4",children:p||C!=="all"||bt.length>0?s.jsx(wa,{className:"w-8 h-8 text-slate-300"}):s.jsx(ir,{className:"w-8 h-8 text-slate-300"})}),s.jsx("h3",{className:"text-xl text-slate-900 mb-2",children:p||C!=="all"||bt.length>0?"No charts match your filters":"No patient charts yet"}),s.jsx("p",{className:"text-sm text-slate-600 mb-6 max-w-md mx-auto leading-relaxed",children:p||C!=="all"||bt.length>0?"Try adjusting status or date range":"Get started by creating your first patient chart."}),!(p||C!=="all"||bt.length>0)&&s.jsxs(fe,{onClick:()=>t.navigate("NewPatientChart"),className:"bg-sky-600 hover:bg-sky-700 text-white shadow-lg shadow-sky-600/20",children:[s.jsx($s,{className:"w-4 h-4 mr-2"}),"Create new chart"]})]}),G&&s.jsx("div",{className:"space-y-3",children:[1,2,3].map(Ke=>s.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-5 animate-pulse",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsx("div",{className:"h-5 bg-[#f1f5f9] rounded w-1/3"}),s.jsx("div",{className:"h-4 bg-[#f1f5f9] rounded w-1/4"}),s.jsx("div",{className:"h-3 bg-[#f1f5f9] rounded w-2/3"})]}),s.jsx("div",{className:"h-10 w-10 bg-[#f1f5f9] rounded-lg"})]})},Ke))}),z&&!G&&s.jsxs("div",{className:"bg-white rounded-3xl border border-dashed border-[#FEE2E2] p-12 text-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-[#FEE2E2] to-[#FECACA] flex items-center justify-center mx-auto mb-4",children:s.jsx(_i,{className:"w-8 h-8 text-[#DC2626]"})}),s.jsx("h3",{className:"text-xl text-[#0f172a] mb-2",children:"Unable to load charts"}),s.jsx("p",{className:"text-sm text-[#64748b] mb-6 max-w-md mx-auto leading-relaxed",children:"There was a problem loading your patient charts. Please try again."}),s.jsxs(fe,{onClick:()=>{U(!1),R(!0),setTimeout(()=>R(!1),1e3)},className:"bg-[#0966CC] hover:bg-[#0C4A6E] text-white",children:[s.jsx(wm,{className:"w-4 h-4 mr-2"}),"Retry"]})]}),!G&&!z&&Ui.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3 bg-slate-50 border-b border-slate-200 text-xs font-medium text-slate-600",children:[s.jsx("div",{className:"col-span-5",children:"Patient"}),s.jsx("div",{className:"col-span-2 hidden md:block",children:s.jsxs("button",{onClick:()=>Bi("created"),className:"flex items-center gap-1 hover:text-slate-900 transition-colors",children:["Created",Qr==="created"?wt==="asc"?s.jsx(Yx,{className:"w-3.5 h-3.5 text-sky-600"}):s.jsx(Gx,{className:"w-3.5 h-3.5 text-sky-600"}):s.jsx(Kx,{className:"w-3.5 h-3.5 opacity-30"})]})}),s.jsx("div",{className:"col-span-3 hidden md:block",children:"Medications"}),s.jsx("div",{className:"col-span-2",children:s.jsxs("button",{onClick:()=>Bi("status"),className:"flex items-center gap-1 hover:text-slate-900 transition-colors",children:["Status",Qr==="status"?wt==="asc"?s.jsx(Yx,{className:"w-3.5 h-3.5 text-sky-600"}):s.jsx(Gx,{className:"w-3.5 h-3.5 text-sky-600"}):s.jsx(Kx,{className:"w-3.5 h-3.5 opacity-30"})]})})]}),s.jsx("div",{className:"divide-y divide-slate-100",children:Ui.map(({patient:Ke,chart:Xe},er)=>{const cn=Ke.name.split(" ").map(dn=>dn[0]).join("").toUpperCase().slice(0,2);return s.jsx(zr,{children:s.jsxs("button",{onClick:()=>bs(Ke.id,Xe.id),className:`w-full grid grid-cols-12 gap-4 px-6 py-4 text-left transition-all cursor-pointer hover:bg-slate-50 active:scale-[0.998] group ${er%2===1?"bg-slate-50/50":"bg-white"} ${Xe.status==="Needs Reverification"?"border-l-4 border-l-red-400 pl-5":""}`,children:[s.jsxs("div",{className:"col-span-5 flex items-center gap-3 min-w-0",children:[s.jsx(ys,{className:"w-10 h-10 border-2 border-slate-200 flex-shrink-0",children:s.jsx(ws,{className:`text-sm ${Xe.status==="Needs Reverification"?"bg-gradient-to-br from-red-500 to-red-600 text-white":"bg-gradient-to-br from-sky-500 to-sky-600 text-white"}`,children:cn})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-900 truncate",children:Ke.name}),s.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["DOB: ",new Date(Ke.dob).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),s.jsxs("div",{className:"col-span-2 hidden md:flex flex-col justify-center",children:[s.jsx("p",{className:"text-sm text-slate-700",children:new Date(Xe.createdDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:Xe.createdBy})]}),s.jsxs("div",{className:"col-span-3 hidden md:flex flex-col justify-center",children:[s.jsxs("p",{className:"text-sm text-slate-700",children:[Xe.medicationCount," medication",Xe.medicationCount!==1?"s":""]}),s.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:Xe.type})]}),s.jsxs("div",{className:"col-span-2 flex items-center justify-between gap-2",children:[s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsx("span",{className:"inline-flex",children:s.jsxs(ft,{className:`${Go(Xe.status)} flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium border`,children:[go(Xe.status),s.jsx("span",{className:"whitespace-nowrap",children:td(Xe.status)})]})})}),s.jsx(Wr,{side:"left",className:"max-w-xs",children:s.jsx("p",{children:bn(Xe.status)})})]}),s.jsx(Xr,{className:"w-5 h-5 text-slate-300 group-hover:text-sky-600 group-hover:translate-x-0.5 transition-all flex-shrink-0"})]})]})},`${Ke.id}-${Xe.id}`)})})]})]})]}),Si=()=>{Te(!0)},vo=()=>{et.success("Profile updated successfully"),Te(!1)},Dl=Ke=>{let Xe=0;Ke.length>=8&&Xe++,/[a-z]/.test(Ke)&&/[A-Z]/.test(Ke)&&Xe++,/\d/.test(Ke)&&Xe++,/[^a-zA-Z0-9]/.test(Ke)&&Xe++;const er=["Very Weak","Weak","Fair","Strong"],cn=["text-red-600","text-yellow-600","text-blue-600","text-green-600"];return{score:Xe,label:er[Xe]||er[0],color:cn[Xe]||cn[0]}},Rl=async()=>{if(rr(""),vt(!1),!Pe||!We||!ct){rr("Please fill in all fields");return}if(We===Pe){rr("New password cannot match current password");return}if(We!==ct){rr("Passwords do not match");return}if(Dl(We).score<2){rr("Password is too weak. Please choose a stronger password");return}mr(!0),setTimeout(()=>{mr(!1),vt(!0),nt(""),xt(""),tr(""),et.success("Password updated successfully"),setTimeout(()=>vt(!1),5e3)},1500)},Ko=()=>!Pe||!We||!ct?!1:Dl(We).score>=2&&We===ct&&We!==Pe,Ei=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ys,{className:"w-24 h-24",children:s.jsx(ws,{className:"bg-gradient-to-br from-[#0966CC] to-[#0C4A6E] text-white text-2xl",children:"AC"})}),s.jsx("button",{className:"absolute bottom-0 right-0 w-8 h-8 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-slate-50 transition-colors border border-slate-200",children:s.jsx(Va,{className:"w-4 h-4 text-slate-600"})})]}),s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-3 mb-2",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl text-[#0f172a] mb-1",children:["Anna Clinician",s.jsx("span",{className:"text-[#64748b] text-lg ml-2",children:"RN, BSN"})]}),s.jsx("p",{className:"text-sm text-[#64748b] mb-2",children:"she/her"})]}),s.jsxs(fe,{onClick:Si,size:"sm",variant:"outline",className:"mx-auto md:mx-0",children:[s.jsx(bh,{className:"w-3.5 h-3.5 mr-1.5"}),"Edit Profile"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-2 mb-3",children:[s.jsx(ft,{className:"bg-[#E0F2FE] text-[#0966CC] border-[#BFDBFE]",children:"Registered Nurse"}),s.jsxs(ft,{className:"bg-emerald-100 text-emerald-700 border-emerald-200 flex items-center gap-1",children:[s.jsx(a_,{className:"w-3 h-3"}),"Verified Clinician"]})]}),s.jsxs("p",{className:"text-sm text-[#64748b] flex items-center justify-center md:justify-start gap-2",children:[s.jsx(ya,{className:"w-3.5 h-3.5"}),"Home Health Services  Luminous Home Health"]}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Geriatric Medicine"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#E0F2FE] flex items-center justify-center mb-3 mx-auto",children:s.jsx(as,{className:"w-6 h-6 text-[#0966CC]"})}),s.jsx("p",{className:"text-2xl text-[#0f172a] mb-1",children:Lr}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Patients"})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#DBEAFE] flex items-center justify-center mb-3 mx-auto",children:s.jsx(ir,{className:"w-6 h-6 text-[#0966CC]"})}),s.jsx("p",{className:"text-2xl text-[#0f172a] mb-1",children:n.reduce((Ke,Xe)=>Ke+(Xe.charts?.length||0),0)}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Charts"})]}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6 text-center cursor-help",children:[s.jsxs("div",{className:"w-12 h-12 rounded-xl bg-[#D1FAE5] flex items-center justify-center mb-3 mx-auto relative",children:[s.jsx(ur,{className:"w-6 h-6 text-[#10B981]"}),s.jsxs("svg",{className:"absolute inset-0 w-12 h-12 -rotate-90",children:[s.jsx("circle",{cx:"24",cy:"24",r:"20",fill:"none",stroke:"#D1FAE5",strokeWidth:"2.5"}),s.jsx("circle",{cx:"24",cy:"24",r:"20",fill:"none",stroke:"#10B981",strokeWidth:"2.5",strokeDasharray:"123 125.6"})]})]}),s.jsx("p",{className:"text-2xl text-[#0f172a] mb-1",children:"98%"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Accuracy"})]})}),s.jsx(Wr,{side:"bottom",className:"max-w-xs",children:s.jsx("p",{className:"text-sm",children:"% of medication scans verified correctly on first attempt"})})]})})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6",children:[s.jsx("h3",{className:"text-lg text-[#0f172a] mb-4",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0F2FE] flex items-center justify-center flex-shrink-0",children:s.jsx(On,{className:"w-4 h-4 text-[#0966CC]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(qe,{className:"text-xs text-[#64748b]",children:"Email"}),s.jsx("p",{className:"text-sm text-[#0f172a] mt-1",children:"anna.clinician@luminous.com"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0F2FE] flex items-center justify-center flex-shrink-0",children:s.jsx(Ba,{className:"w-4 h-4 text-[#0966CC]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(qe,{className:"text-xs text-[#64748b]",children:"Phone"}),s.jsx("p",{className:"text-sm text-[#0f172a] mt-1",children:"(555) 123-4567"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0F2FE] flex items-center justify-center flex-shrink-0",children:s.jsx(qo,{className:"w-4 h-4 text-[#0966CC]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(qe,{className:"text-xs text-[#64748b]",children:"Address"}),s.jsx("p",{className:"text-sm text-[#0f172a] mt-1",children:"123 Medical Plaza, Healthcare City, HC 12345"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0F2FE] flex items-center justify-center flex-shrink-0",children:s.jsx(ya,{className:"w-4 h-4 text-[#0966CC]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(qe,{className:"text-xs text-[#64748b]",children:"Agency"}),s.jsx("p",{className:"text-sm text-[#0f172a] mt-1",children:"Luminous Home Health"})]})]})]})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6",children:[s.jsx("h3",{className:"text-lg text-[#0f172a] mb-4",children:"Professional Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(na,{className:"w-4 h-4 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(qe,{className:"text-xs text-[#64748b]",children:"License Number"}),s.jsxs("p",{className:"text-sm text-[#0f172a] mt-1 flex items-center gap-2",children:["RN-987654321",s.jsxs(ft,{className:"bg-emerald-100 text-emerald-700 border-emerald-200 text-xs py-0 px-1.5",children:[s.jsx(ur,{className:"w-3 h-3 mr-0.5"}),"Verified"]})]})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(na,{className:"w-4 h-4 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(qe,{className:"text-xs text-[#64748b]",children:"NPI Number"}),s.jsx("p",{className:"text-sm text-[#0f172a] mt-1",children:"1234567890"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(yw,{className:"w-4 h-4 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(qe,{className:"text-xs text-[#64748b]",children:"Specialization"}),s.jsx("p",{className:"text-sm text-[#0f172a] mt-1",children:"Geriatric Medicine"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(u_,{className:"w-4 h-4 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(qe,{className:"text-xs text-[#64748b]",children:"Certifications"}),s.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-1",children:[s.jsx(ft,{variant:"outline",className:"text-xs bg-emerald-50 text-emerald-700 border-emerald-200",children:"WOCN Certified"}),s.jsx(ft,{variant:"outline",className:"text-xs bg-emerald-50 text-emerald-700 border-emerald-200",children:"Geriatrics Specialist"})]})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(Qs,{className:"w-4 h-4 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(qe,{className:"text-xs text-[#64748b]",children:"Years of Practice"}),s.jsx("p",{className:"text-sm text-[#0f172a] mt-1",children:"8 years"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(Ho,{className:"w-4 h-4 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(qe,{className:"text-xs text-[#64748b]",children:"Joined"}),s.jsx("p",{className:"text-sm text-[#0f172a] mt-1",children:"January 15, 2024"})]})]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 rounded-xl p-4 border border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-600",children:[s.jsx(na,{className:"w-4 h-4 text-emerald-600"}),s.jsx("span",{className:"font-medium text-emerald-700",children:"HIPAA-Compliant"}),s.jsx("span",{className:"text-slate-400",children:""}),s.jsx("span",{children:"Encrypted"}),s.jsx("span",{className:"text-slate-400",children:""}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"Secure Session"]})]})}),s.jsxs("div",{className:"text-xs text-slate-500 space-y-1 px-2",children:[s.jsx("p",{children:"Account created: January 2025"}),s.jsx("p",{children:"Last updated: Today at 2:03 PM"})]})]}),rd=()=>{const Ke=Ga();return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(wa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#94a3b8]"}),s.jsx(it,{placeholder:"Search by patient name...",value:p,onChange:Xe=>y(Xe.target.value),className:"pl-12 h-11 rounded-xl border border-[#e2e8f0] bg-white focus:bg-white"})]}),s.jsx("div",{className:"w-full md:w-48",children:s.jsxs(ei,{value:C,onValueChange:Xe=>A(Xe),children:[s.jsxs(ri,{className:"h-11 rounded-xl border border-[#e2e8f0] bg-white",children:[s.jsx(Zx,{className:"w-4 h-4 mr-2"}),s.jsx(ti,{placeholder:"Filter Status"})]}),s.jsxs(ni,{children:[s.jsx(At,{value:"all",children:"All Statuses"}),s.jsx(At,{value:"Needs Reverification",children:"Needs Reverification"}),s.jsx(At,{value:"Active",children:"Active"}),s.jsx(At,{value:"Verified Ready",children:"Verified Ready"}),s.jsx(At,{value:"Delivered (Locked)",children:"Delivered (Locked)"}),s.jsx(At,{value:"Archived",children:"Archived"})]})]})}),s.jsx("div",{className:"w-full md:w-48",children:s.jsxs(ei,{value:w,onValueChange:Xe=>j(Xe),children:[s.jsxs(ri,{className:"h-11 rounded-xl border border-[#e2e8f0] bg-white",children:[s.jsx(Z2,{className:"w-4 h-4 mr-2"}),s.jsx(ti,{placeholder:"Sort By"})]}),s.jsxs(ni,{children:[s.jsx(At,{value:"newest",children:"Newest First"}),s.jsx(At,{value:"oldest",children:"Oldest First"}),s.jsx(At,{value:"name-asc",children:"Name (A-Z)"}),s.jsx(At,{value:"name-desc",children:"Name (Z-A)"}),s.jsx(At,{value:"status",children:"Status"})]})]})})]})}),s.jsxs("div",{className:"bg-white rounded-2xl border border-[#e2e8f0] overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-[#e2e8f0]",children:s.jsxs("h2",{className:"text-lg text-[#0f172a]",children:["All Charts (",Ke.length,")"]})}),Ke.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(ir,{className:"w-12 h-12 text-[#cbd5e1] mx-auto mb-3"}),s.jsx("p",{className:"text-[#64748b]",children:"No charts found"})]}):s.jsx("div",{className:"divide-y divide-[#e2e8f0]",children:Ke.map(({patient:Xe,chart:er})=>{const cn=Xe.name.split(" ").map(dn=>dn[0]).join("").toUpperCase();return s.jsxs("button",{onClick:()=>t.navigate("ChartDetail",{chartId:er.id}),className:"w-full p-4 hover:bg-[#f8fafc] transition-colors text-left flex items-center gap-4",children:[s.jsx(ys,{className:"w-12 h-12 border-2 border-slate-200 flex-shrink-0",children:s.jsx(ws,{className:`text-sm ${er.status==="Needs Reverification"?"bg-gradient-to-br from-red-500 to-red-600 text-white":"bg-gradient-to-br from-sky-500 to-sky-600 text-white"}`,children:cn})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-sm text-slate-900 truncate",children:Xe.name}),s.jsxs("p",{className:"text-xs text-slate-500",children:["DOB: ",new Date(Xe.dob).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[er.medicationCount," medication",er.medicationCount!==1?"s":"","  ",er.type]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ft,{className:`${Go(er.status)} flex items-center gap-1.5 px-2.5 py-1 text-xs border`,children:[go(er.status),s.jsx("span",{className:"whitespace-nowrap",children:td(er.status)})]}),s.jsx(Xr,{className:"w-5 h-5 text-slate-300"})]})]},er.id)})})]})]})},Hs=()=>{const Ke=[{name:"My Patients",icon:as,action:()=>x("dashboard"),color:"#0966CC"},{name:"View All Charts",icon:ir,action:()=>x("charts"),color:"#F59E0B"},{name:"Scan Medications",icon:bm,action:()=>t.navigate("CaptureSourceSelection"),color:"#8B5CF6"}];return s.jsxs("div",{className:"max-w-4xl space-y-5",children:[s.jsxs("button",{onClick:()=>x("profile"),className:"flex items-center gap-2 text-sm text-[#0966CC] hover:text-[#0C4A6E] transition-colors",children:[s.jsx(ln,{className:"w-4 h-4"}),"Back to Profile"]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"QUICK ACTIONS"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Ke.map((Xe,er)=>{const cn=Xe.icon;return s.jsxs(fe,{onClick:Xe.action,variant:"outline",className:"h-auto p-4 flex items-center justify-start gap-3 hover:border-[#0966CC] hover:bg-[#E0F2FE] transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${Xe.color}20`},children:s.jsx(cn,{className:"w-5 h-5",style:{color:Xe.color}})}),s.jsx("span",{className:"text-sm text-[#0f172a]",children:Xe.name}),s.jsx(Xr,{className:"w-4 h-4 text-[#cbd5e1] ml-auto"})]},er)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"SECURITY"}),s.jsx("div",{className:"bg-white rounded-2xl border border-[#e2e8f0] p-5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#DBEAFE] flex items-center justify-center flex-shrink-0",children:s.jsx(os,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Password"}),s.jsx("p",{className:"text-xs text-[#64748b] mb-2",children:"Last changed 30 days ago"})]})]}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>Or(!0),className:"text-[#0966CC] hover:text-[#075985] hover:bg-[#DBEAFE]",children:"Change"})]}),s.jsx(Ur,{}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(na,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Two-Factor Authentication"}),s.jsx(ft,{variant:"outline",className:"border-[#10B981] text-[#10B981] text-xs h-5",children:" Enabled"})]}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Extra security for your account"})]})]})}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center flex-shrink-0",children:s.jsx(qo,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Last Login"}),s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:" Phoenix, AZ"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:" Today at 9:42 AM"})]})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"NOTIFICATIONS"}),s.jsxs("div",{className:"bg-white rounded-2xl border border-[#e2e8f0] overflow-hidden",children:[s.jsx("div",{className:"flex items-center justify-between p-4 border-b border-[#e2e8f0]",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center",children:s.jsx(On,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Email Notifications"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Receive email updates"})]})]})}),s.jsx("div",{className:"flex items-center justify-between p-4 border-b border-[#e2e8f0]",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center",children:s.jsx(fh,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Push Notifications"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Receive app notifications"})]})]})}),s.jsx("div",{className:"flex items-center justify-between p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0F2FE] flex items-center justify-center",children:s.jsx(ir,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Chart Alerts"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Updates on your charts"})]})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-8",style:{display:"none"},children:[s.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#E0F2FE] flex items-center justify-center flex-shrink-0",children:s.jsx(os,{className:"w-6 h-6 text-[#0966CC]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg text-slate-900 mb-1",children:"Change Password"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Update your password regularly for security"})]})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"current-password",className:"text-sm text-slate-700 mb-2 block",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(it,{id:"current-password",type:It?"text":"password",value:Pe,onChange:Xe=>{nt(Xe.target.value),rr(""),vt(!1)},placeholder:"Enter current password",className:"h-12 rounded-xl border-2 border-slate-200 bg-slate-50 pr-12 focus:border-sky-500 focus:bg-white transition-colors"}),s.jsx("button",{type:"button",onClick:()=>St(!It),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:It?s.jsx(om,{className:"w-5 h-5"}):s.jsx(Ps,{className:"w-5 h-5"})})]})]}),s.jsx(Ur,{className:"my-6"}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"new-password",className:"text-sm text-slate-700 mb-2 block",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(it,{id:"new-password",type:fr?"text":"password",value:We,onChange:Xe=>{xt(Xe.target.value),rr(""),vt(!1)},onFocus:()=>Qt(!0),onBlur:()=>Qt(!1),placeholder:"Enter new password",className:"h-12 rounded-xl border-2 border-slate-200 bg-slate-50 pr-12 focus:border-sky-500 focus:bg-white transition-colors"}),s.jsx("button",{type:"button",onClick:()=>Ct(!fr),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:fr?s.jsx(om,{className:"w-5 h-5"}):s.jsx(Ps,{className:"w-5 h-5"})})]}),We&&Dr&&s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Password strength:"}),s.jsx("span",{className:`text-xs font-medium ${Dr.score===0?"text-red-600":Dr.score===1?"text-yellow-600":Dr.score===2?"text-blue-600":"text-green-600"}`,children:Dr.label})]}),s.jsx("div",{className:"flex gap-1.5",children:[0,1,2,3].map(Xe=>s.jsx("div",{className:`h-1.5 flex-1 rounded-full transition-all ${Xe<=Dr.score?Dr.color:"bg-slate-200"}`},Xe))})]}),(kt||We)&&s.jsxs("div",{className:"mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[s.jsx("p",{className:"text-xs text-slate-700 mb-2 font-medium",children:"Must include:"}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[Mt?.length?s.jsx(Js,{className:"w-3.5 h-3.5 text-emerald-600"}):s.jsx("div",{className:"w-3.5 h-3.5 rounded-full border-2 border-slate-300"}),s.jsx("span",{className:Mt?.length?"text-emerald-700":"text-slate-600",children:"At least 8 characters"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[Mt?.upperLower?s.jsx(Js,{className:"w-3.5 h-3.5 text-emerald-600"}):s.jsx("div",{className:"w-3.5 h-3.5 rounded-full border-2 border-slate-300"}),s.jsx("span",{className:Mt?.upperLower?"text-emerald-700":"text-slate-600",children:"Upper & lowercase letters"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[Mt?.numberOrSymbol?s.jsx(Js,{className:"w-3.5 h-3.5 text-emerald-600"}):s.jsx("div",{className:"w-3.5 h-3.5 rounded-full border-2 border-slate-300"}),s.jsx("span",{className:Mt?.numberOrSymbol?"text-emerald-700":"text-slate-600",children:"Number or special symbol"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"confirm-password",className:"text-sm text-slate-700 mb-2 block",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(it,{id:"confirm-password",type:mt?"text":"password",value:ct,onChange:Xe=>{tr(Xe.target.value),rr(""),vt(!1)},placeholder:"Confirm new password",className:"h-12 rounded-xl border-2 border-slate-200 bg-slate-50 pr-12 focus:border-sky-500 focus:bg-white transition-colors"}),s.jsx("button",{type:"button",onClick:()=>Et(!mt),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:mt?s.jsx(om,{className:"w-5 h-5"}):s.jsx(Ps,{className:"w-5 h-5"})})]}),ct&&We!==ct&&s.jsxs("p",{className:"text-xs text-red-600 mt-2 flex items-center gap-1",children:[s.jsx(zs,{className:"w-3 h-3"}),"Passwords do not match"]}),ct&&We===ct&&We.length>=8&&s.jsxs("p",{className:"text-xs text-emerald-600 mt-2 flex items-center gap-1",children:[s.jsx(Js,{className:"w-3 h-3"}),"Passwords match"]})]}),s.jsx("div",{className:"pt-2",children:s.jsx(fe,{onClick:Rl,disabled:!Ko()||Zt,className:`h-12 px-6 rounded-xl transition-all ${cr?"bg-emerald-600 hover:bg-emerald-700":"bg-sky-600 hover:bg-sky-700"} text-white disabled:opacity-50 disabled:cursor-not-allowed`,children:Zt?s.jsxs(s.Fragment,{children:[s.jsx(lm,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):cr?s.jsxs(s.Fragment,{children:[s.jsx(Js,{className:"w-4 h-4 mr-2"}),"Password Updated"]}):s.jsxs(s.Fragment,{children:[s.jsx(os,{className:"w-4 h-4 mr-2"}),"Update Password"]})})}),s.jsx("div",{className:"pt-4 border-t border-slate-200",children:s.jsxs("div",{className:"flex items-start gap-2 text-xs text-slate-600",children:[s.jsx(na,{className:"w-4 h-4 text-emerald-600 flex-shrink-0 mt-0.5"}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium text-emerald-700",children:"HIPAA-compliant & encrypted:"})," Your password is securely encrypted and never stored in plain text."]})]})})]})]}),s.jsx(_r,{open:Dt,onOpenChange:Or,children:s.jsxs(jr,{children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Change Password"}),s.jsx(Pr,{children:"Choose a strong password to keep your account secure"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"current-password-dialog",children:"Current Password"}),s.jsx(it,{id:"current-password-dialog",type:"password",value:Pe,onChange:Xe=>nt(Xe.target.value),placeholder:"Enter current password",className:"h-11 rounded-xl"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"new-password-dialog",children:"New Password"}),s.jsx(it,{id:"new-password-dialog",type:"password",value:We,onChange:Xe=>xt(Xe.target.value),placeholder:"Enter new password",className:"h-11 rounded-xl"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Must be at least 8 characters"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"confirm-password-dialog",children:"Confirm New Password"}),s.jsx(it,{id:"confirm-password-dialog",type:"password",value:ct,onChange:Xe=>tr(Xe.target.value),placeholder:"Confirm new password",className:"h-11 rounded-xl"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>{Or(!1),nt(""),xt(""),tr("")},children:"Cancel"}),s.jsx(fe,{className:"bg-[#0966CC] hover:bg-[#075985]",onClick:()=>{if(!Pe||!We||!ct){et.error("Please fill in all fields");return}if(We!==ct){et.error("New passwords do not match");return}if(We.length<8){et.error("Password must be at least 8 characters");return}et.success("Password changed successfully!"),Or(!1),nt(""),xt(""),tr("")},children:"Update Password"})]})]})})]})};return s.jsxs("div",{className:"h-screen flex bg-[#f8fafc] overflow-hidden",children:[s.jsxs("aside",{className:"hidden md:flex md:flex-col w-64 bg-white border-r border-[#e2e8f0]",children:[s.jsxs("div",{className:"border-b border-[#e2e8f0] p-6",children:[s.jsx("div",{className:"mb-1 text-sm text-[#64748b]",children:r?.agency_name}),s.jsx("div",{className:"text-lg text-[#0f172a]",children:"Clinician Portal"})]}),s.jsx("div",{className:"flex-1 py-4 px-3 overflow-y-auto",children:pc()}),s.jsx("div",{className:"border-t border-[#e2e8f0] p-4",children:s.jsxs(fe,{onClick:en,variant:"outline",className:"w-full border-[#DC2626] text-[#DC2626] hover:bg-[#FEE2E2]",children:[s.jsx(Yc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})})]}),s.jsx(Jd,{open:u,onOpenChange:h,children:s.jsxs(Qd,{side:"left",className:"w-[280px] sm:w-[320px] p-0 flex flex-col",children:[s.jsxs(eu,{className:"border-b border-[#e2e8f0] p-6",children:[s.jsxs(tu,{className:"text-left",children:[s.jsx("div",{className:"mb-1 text-sm text-[#64748b]",children:r?.agency_name}),s.jsx("div",{className:"text-lg text-[#0f172a]",children:"Clinician Portal"})]}),s.jsx(Rf,{className:"sr-only",children:"Navigation menu for Clinician Portal"})]}),s.jsx("div",{className:"flex-1 py-4 px-3 overflow-y-auto",children:pc()}),s.jsx("div",{className:"border-t border-[#e2e8f0] p-4",children:s.jsxs(fe,{onClick:en,variant:"outline",className:"w-full border-[#DC2626] text-[#DC2626] hover:bg-[#FEE2E2]",children:[s.jsx(Yc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})})]})}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"bg-white border-b border-[#e2e8f0] px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>h(!0),className:"md:hidden w-10 h-10 rounded-xl bg-[#f8fafc] hover:bg-[#f1f5f9] flex items-center justify-center transition-colors",children:s.jsx(A1,{className:"w-5 h-5 text-[#64748b]"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-xl text-[#0f172a]",children:[m==="dashboard"&&"Dashboard",m==="charts"&&"My Charts",m==="profile"&&"My Profile",m==="settings"&&"Settings"]}),s.jsxs("p",{className:"text-sm text-[#64748b]",children:[m==="dashboard"&&`Welcome back, ${r?.first_name}!`,m==="charts"&&"View and manage all patient charts",m==="profile"&&"View and manage your profile",m==="settings"&&"Manage your account settings"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1.5 rounded-lg bg-[#f8fafc]",children:M?s.jsxs(s.Fragment,{children:[s.jsx(f_,{className:"w-4 h-4 text-[#10B981]"}),s.jsx("span",{className:"text-xs text-[#10B981]",children:"Online"})]}):s.jsxs(s.Fragment,{children:[s.jsx(If,{className:"w-4 h-4 text-[#DC2626]"}),s.jsx("span",{className:"text-xs text-[#DC2626]",children:"Offline"})]})}),s.jsxs("button",{className:"w-10 h-10 rounded-xl bg-[#f8fafc] hover:bg-[#f1f5f9] flex items-center justify-center relative transition-colors",children:[s.jsx(fh,{className:"w-5 h-5 text-[#64748b]"}),s.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-[#F59E0B] border-2 border-white"})]})]})]})}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[m==="dashboard"&&Il(),m==="charts"&&rd(),m==="profile"&&Ei(),m==="settings"&&Hs()]})]}),s.jsx(K1,{position:"top-right"}),s.jsx(_r,{open:Fe,onOpenChange:Te,children:s.jsxs(jr,{className:"sm:max-w-md",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Edit Profile"}),s.jsx(Pr,{children:"Update your contact information and preferences."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"edit-email",children:"Email"}),s.jsx(it,{id:"edit-email",type:"email",value:ce,onChange:Ke=>$e(Ke.target.value),className:"h-11 rounded-xl"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"edit-phone",children:"Phone"}),s.jsx(it,{id:"edit-phone",type:"tel",value:Ee,onChange:Ke=>lt(Ke.target.value),className:"h-11 rounded-xl"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>Te(!1),children:"Cancel"}),s.jsx(fe,{onClick:vo,className:"bg-sky-600 hover:bg-sky-700",children:"Save Changes"})]})]})})]})}const _Y=t=>{switch(t){case"active":return"Active";case"verified_ready":return"Verified Ready";case"delivered_locked":return"Delivered (Locked)";case"needs_reverification":return"Needs Reverification";case"archived":return"Archived";default:return"Active"}},AY=t=>{switch(t){case"bottle_scan":return"Bottle Scan";case"pdf_import":return"PDF Import";case"image_upload":case"empty_chart":default:return"Manual Entry"}};function SY({navigation:t}){const{user:e}=po(),[r,n]=_.useState([]),[i,a]=_.useState(!0),[o,l]=_.useState(null),[c,u]=_.useState(""),[h,m]=_.useState("newest"),[x,p]=_.useState("all"),[y,w]=_.useState(new Set),[j,C]=_.useState(!1),[A,k]=_.useState([]),[P,M]=_.useState(null),[$,L]=_.useState("desc"),[D,V]=_.useState("synced"),[ne,B]=_.useState(!1),F=U=>{A.includes(U)?k(A.filter(Q=>Q!==U)):k([...A,U])},X=U=>{P===U?L($==="asc"?"desc":"asc"):(M(U),L("desc"))},ee=U=>{B(!1),et.info(`${U} feature coming soon`)};_.useEffect(()=>{(async()=>{try{if(!e?.id)return;const J=(await PS(e.id)||[]).map(re=>({id:re.id,name:`${re.first_name} ${re.last_name}`,dob:re.date_of_birth,charts:(re.charts||[]).map(le=>({id:le.id,status:_Y(le.status),type:AY(le.source),medicationCount:le.medication_count??0,createdDate:le.created_at,createdBy:le.created_by??"Unknown",finalizedDate:le.finalized_at??void 0}))}));n(J),l(null)}catch(Q){console.error("Error loading patient charts list",Q),l(Q.message||"Failed to load charts")}finally{a(!1)}})()},[e?.id]);const oe=(()=>{let U=[];if(r.forEach(Q=>{Q.charts.forEach(J=>{U.push({patient:Q,chart:J,chartKey:`${Q.id}-${J.id}`})})}),c&&(U=U.filter(Q=>Q.patient.name.toLowerCase().includes(c.toLowerCase()))),x!=="all"&&(U=U.filter(Q=>Q.chart.status===x)),A.length>0&&(U=U.filter(Q=>A.includes(Q.chart.status))),P==="created")U.sort((Q,J)=>{const re=new Date(Q.chart.createdDate).getTime(),le=new Date(J.chart.createdDate).getTime();return $==="asc"?re-le:le-re});else if(P==="status"){const Q={"Needs Reverification":0,Active:1,"Verified Ready":2,"Delivered (Locked)":3,Archived:4};U.sort((J,re)=>{const le=Q[J.chart.status]||999,ye=Q[re.chart.status]||999;return $==="asc"?le-ye:ye-le})}else U.sort((Q,J)=>{switch(h){case"newest":return new Date(J.chart.createdDate).getTime()-new Date(Q.chart.createdDate).getTime();case"oldest":return new Date(Q.chart.createdDate).getTime()-new Date(J.chart.createdDate).getTime();case"name-asc":return Q.patient.name.localeCompare(J.patient.name);case"name-desc":return J.patient.name.localeCompare(Q.patient.name);case"status":const re={"Needs Reverification":0,Active:1,"Verified Ready":2,"Delivered (Locked)":3,Archived:4};return(re[Q.chart.status]||999)-(re[J.chart.status]||999);default:return 0}});return U})(),pe=U=>{const Q=new Set(y);Q.has(U)?Q.delete(U):Q.add(U),w(Q)},H=()=>{y.size===oe.length?w(new Set):w(new Set(oe.map(U=>U.chartKey)))},q=()=>{C(!1),w(new Set)},ie=()=>{alert(`Exporting ${y.size} charts to PDF...`),q()},G=()=>{alert(`Preparing to email ${y.size} charts...`),q()},R=()=>{confirm(`Are you sure you want to archive ${y.size} charts?`)&&(alert(`Archived ${y.size} charts`),q())},z=(U,Q)=>{j||t.navigate("ChartDetail",{patientId:U,chartId:Q})};return s.jsxs("div",{className:"h-screen flex flex-col bg-[#f8fafc]",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#0966CC] to-[#0C4A6E] p-5",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>t.goBack(),className:"w-10 h-10 rounded-xl bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors",children:s.jsx(ln,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-lg text-white",children:"All Patient Charts"}),s.jsx("div",{className:"w-10"})]})}),j&&s.jsx("div",{className:"bg-gradient-to-r from-[#0966CC] to-[#0C4A6E] px-6 py-4 shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:q,className:"text-white hover:text-white/80 transition-colors",children:s.jsx(zs,{className:"w-5 h-5"})}),s.jsxs("span",{className:"text-white",children:[y.size," selected"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(fe,{onClick:ie,disabled:y.size===0,size:"sm",className:"bg-white/10 border-0 text-white hover:bg-white/20 backdrop-blur-sm",children:[s.jsx(ga,{className:"w-4 h-4 mr-2"}),"Export"]}),s.jsxs(fe,{onClick:G,disabled:y.size===0,size:"sm",className:"bg-white/10 border-0 text-white hover:bg-white/20 backdrop-blur-sm",children:[s.jsx(On,{className:"w-4 h-4 mr-2"}),"Email"]}),s.jsxs(fe,{onClick:R,disabled:y.size===0,size:"sm",className:"bg-white/10 border-0 text-white hover:bg-white/20 backdrop-blur-sm",children:[s.jsx(uo,{className:"w-4 h-4 mr-2"}),"Archive"]})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(wa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#94a3b8]"}),s.jsx(it,{id:"charts-search",placeholder:"Search by patient name...",value:c,onChange:U=>u(U.target.value),className:"pl-12 h-11 rounded-xl border border-[#e2e8f0] bg-white"})]}),s.jsx("div",{className:"w-full md:w-48",children:s.jsxs(ei,{value:x,onValueChange:U=>p(U),children:[s.jsxs(ri,{className:"h-11 rounded-xl border border-[#e2e8f0] bg-white",children:[s.jsx(Zx,{className:"w-4 h-4 mr-2"}),s.jsx(ti,{placeholder:"Filter Status"})]}),s.jsxs(ni,{children:[s.jsx(At,{value:"all",children:"All Statuses"}),s.jsx(At,{value:"Needs Reverification",children:"Needs Reverification"}),s.jsx(At,{value:"Active",children:"Active"}),s.jsx(At,{value:"Verified Ready",children:"Verified Ready"}),s.jsx(At,{value:"Delivered (Locked)",children:"Delivered (Locked)"}),s.jsx(At,{value:"Archived",children:"Archived"})]})]})}),s.jsx("div",{className:"w-full md:w-48",children:s.jsxs(ei,{value:h,onValueChange:U=>m(U),children:[s.jsxs(ri,{className:"h-11 rounded-xl border border-[#e2e8f0] bg-white",children:[s.jsx(Z2,{className:"w-4 h-4 mr-2"}),s.jsx(ti,{placeholder:"Sort By"})]}),s.jsxs(ni,{children:[s.jsx(At,{value:"newest",children:"Newest First"}),s.jsx(At,{value:"oldest",children:"Oldest First"}),s.jsx(At,{value:"name-asc",children:"Name (A-Z)"}),s.jsx(At,{value:"name-desc",children:"Name (Z-A)"}),s.jsx(At,{value:"status",children:"Status"})]})]})})]}),(c||x!=="all")&&s.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-[#f1f5f9]",children:[s.jsx("span",{className:"text-xs text-[#64748b]",children:"Active filters:"}),c&&s.jsxs(ft,{variant:"outline",className:"bg-[#f8fafc] text-xs",children:['Search: "',c,'"']}),x!=="all"&&s.jsxs(ft,{variant:"outline",className:"bg-[#f8fafc] text-xs",children:["Status: ",x]}),s.jsx("button",{onClick:()=>{u(""),p("all")},className:"ml-auto text-xs text-[#0966CC] hover:underline",children:"Clear all"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ir,{className:"w-5 h-5 text-sky-600"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg text-slate-900",children:["All Charts (",oe.length,")"]}),s.jsx("p",{className:"text-sm text-slate-600 mt-0.5",children:"Manage and review patient charts"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[D==="synced"?s.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-700 text-sm",children:[s.jsx(Js,{className:"w-4 h-4"}),s.jsx("span",{children:"Synced"})]}):D==="syncing"?s.jsxs("div",{className:"flex items-center gap-1.5 text-sky-700 text-sm",children:[s.jsx(lm,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Syncing..."})]}):s.jsxs("div",{className:"flex items-center gap-1.5 text-amber-700 text-sm",children:[s.jsx(If,{className:"w-4 h-4"}),s.jsx("span",{children:"Offline  3 pending"})]}),s.jsx(fe,{onClick:()=>C(!j),variant:j?"default":"outline",className:j?"bg-[#0966CC] hover:bg-[#0C4A6E] text-white":"",children:j?s.jsxs(s.Fragment,{children:[s.jsx(zs,{className:"w-4 h-4 mr-2"}),"Cancel"]}):s.jsxs(s.Fragment,{children:[s.jsx(GN,{className:"w-4 h-4 mr-2"}),"Select"]})})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs(fe,{onClick:()=>t.navigate("NewPatientChart"),className:"bg-sky-600 hover:bg-sky-700 text-white shadow-sm",children:[s.jsx($s,{className:"w-4 h-4 mr-2"}),"New Chart"]}),s.jsxs(fe,{onClick:()=>B(!0),variant:"outline",className:"border-violet-200 text-violet-700 hover:bg-violet-50 shadow-sm",children:[s.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Scan"]}),s.jsxs(fe,{onClick:()=>ee("Import PDF"),variant:"outline",className:"border-amber-200 text-amber-700 hover:bg-amber-50 shadow-sm",children:[s.jsx(bw,{className:"w-4 h-4 mr-2"}),"Import PDF"]}),s.jsxs(fe,{onClick:()=>et.info("Bulk review feature coming soon"),variant:"outline",className:"border-slate-200 text-slate-700 hover:bg-slate-50 shadow-sm",children:[s.jsx(d_,{className:"w-4 h-4 mr-2"}),"Bulk Review"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"text-sm text-slate-600 mr-1",children:"Quick filters:"}),["Active","Needs Reverification","Verified Ready","Archived"].map(U=>s.jsx("button",{onClick:()=>F(U),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all border ${A.includes(U)?U==="Needs Reverification"?"bg-red-100 border-red-300 text-red-700":U==="Active"?"bg-sky-100 border-sky-300 text-sky-700":U==="Verified Ready"?"bg-emerald-100 border-emerald-300 text-emerald-700":"bg-slate-100 border-slate-300 text-slate-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:U==="Needs Reverification"?"Needs Review":U},U)),A.length>0&&s.jsx("button",{onClick:()=>k([]),className:"text-xs text-sky-600 hover:text-sky-700 font-medium ml-1",children:"Clear all"})]}),j&&s.jsx("div",{className:"bg-gradient-to-br from-[#E0F2FE] to-[#DBEAFE] border-0 rounded-2xl p-4 shadow-sm",children:s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:H,className:"flex items-center gap-2 text-[#0966CC] hover:text-[#0C4A6E] transition-colors",children:[y.size===oe.length?s.jsx(GN,{className:"w-5 h-5"}):s.jsx(XD,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm",children:y.size===oe.length?"Deselect All":"Select All"})]}),y.size>0&&s.jsxs("span",{className:"text-sm text-[#0966CC]",children:[y.size," of ",oe.length," selected"]})]})})}),oe.length===0&&s.jsxs("div",{className:"bg-white rounded-3xl border border-dashed border-slate-200 p-12 text-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center mx-auto mb-4",children:s.jsx(wa,{className:"w-8 h-8 text-slate-300"})}),s.jsx("h3",{className:"text-xl text-slate-900 mb-2",children:"No charts match your filters"}),s.jsx("p",{className:"text-sm text-slate-600 mb-6 max-w-md mx-auto leading-relaxed",children:"Try adjusting status or date range"}),s.jsxs(fe,{onClick:()=>{u(""),p("all"),k([])},className:"bg-sky-600 hover:bg-sky-700 text-white shadow-lg shadow-sky-600/20",children:[s.jsx(zs,{className:"w-4 h-4 mr-2"}),"Clear all filters"]})]}),oe.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"hidden md:grid md:grid-cols-12 gap-4 px-6 py-3 bg-slate-50 border-b border-slate-200 text-xs font-medium text-slate-600",children:[j&&s.jsx("div",{className:"col-span-1 flex items-center",children:s.jsx(sa,{checked:y.size===oe.length&&oe.length>0,onCheckedChange:H})}),s.jsx("div",{className:`${j?"col-span-3":"col-span-4"}`,children:"Patient"}),s.jsx("div",{className:"col-span-2",children:s.jsxs("button",{onClick:()=>X("status"),className:"flex items-center gap-1 hover:text-slate-900 transition-colors",children:["Status",P==="status"?$==="asc"?s.jsx(Yx,{className:"w-3.5 h-3.5 text-sky-600"}):s.jsx(Gx,{className:"w-3.5 h-3.5 text-sky-600"}):s.jsx(Kx,{className:"w-3.5 h-3.5 opacity-30"})]})}),s.jsx("div",{className:"col-span-2",children:"Type"}),s.jsx("div",{className:"col-span-1",children:"Meds"}),s.jsx("div",{className:"col-span-2",children:s.jsxs("button",{onClick:()=>X("created"),className:"flex items-center gap-1 hover:text-slate-900 transition-colors",children:["Created",P==="created"?$==="asc"?s.jsx(Yx,{className:"w-3.5 h-3.5 text-sky-600"}):s.jsx(Gx,{className:"w-3.5 h-3.5 text-sky-600"}):s.jsx(Kx,{className:"w-3.5 h-3.5 opacity-30"})]})})]}),s.jsx("div",{className:"divide-y divide-slate-100",children:oe.map(({patient:U,chart:Q,chartKey:J},re)=>{const le=Fe=>{switch(Fe){case"Needs Reverification":return s.jsx(_i,{className:"w-3.5 h-3.5"});case"Active":return s.jsx(ir,{className:"w-3.5 h-3.5"});case"Verified Ready":return s.jsx(ur,{className:"w-3.5 h-3.5"});case"Delivered (Locked)":return s.jsx(os,{className:"w-3.5 h-3.5"});case"Archived":return s.jsx(uo,{className:"w-3.5 h-3.5"});default:return null}},ye=Fe=>{switch(Fe){case"Needs Reverification":return"bg-red-100 text-red-700 border-red-200";case"Active":return"bg-sky-100 text-sky-700 border-sky-200";case"Verified Ready":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"Delivered (Locked)":return"bg-purple-100 text-purple-700 border-purple-200";case"Archived":return"bg-slate-100 text-slate-600 border-slate-200";default:return""}},je=Fe=>{switch(Fe){case"Needs Reverification":return"Needs Review";case"Verified Ready":return"Verified";case"Delivered (Locked)":return"Locked";default:return Fe}},Se=Fe=>{switch(Fe){case"Needs Reverification":return"Chart awaiting review before medication verification";case"Active":return"Currently in progress";case"Verified Ready":return"All medications verified and ready for delivery";case"Delivered (Locked)":return"Chart has been finalized and locked";case"Archived":return"Chart has been archived";default:return Fe}},Be=U.name.split(" ").map(Fe=>Fe[0]).join("").toUpperCase().slice(0,2);return s.jsxs("div",{className:`group cursor-pointer ${re%2===1?"bg-slate-50/50":"bg-white"} ${Q.status==="Needs Reverification"?"border-l-4 border-l-red-400":""}`,onClick:()=>{j?pe(J):z(U.id,Q.id)},children:[s.jsxs("div",{className:"hidden md:grid md:grid-cols-12 gap-4 px-6 py-4 items-center hover:bg-slate-50 active:scale-[0.998] transition-all",children:[j&&s.jsx("div",{className:"col-span-1 flex items-center",children:s.jsx(sa,{checked:y.has(J),onCheckedChange:()=>pe(J),onClick:Fe=>Fe.stopPropagation()})}),s.jsxs("div",{className:`${j?"col-span-3":"col-span-4"} flex items-center gap-3 min-w-0`,children:[s.jsx(ys,{className:"w-10 h-10 border-2 border-slate-200 flex-shrink-0",children:s.jsx(ws,{className:`text-sm ${Q.status==="Needs Reverification"?"bg-gradient-to-br from-red-500 to-red-600 text-white":"bg-gradient-to-br from-sky-500 to-sky-600 text-white"}`,children:Be})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-900 truncate",children:U.name}),s.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["DOB: ",new Date(U.dob).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),s.jsx("div",{className:"col-span-2",children:s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsx("span",{className:"inline-flex",children:s.jsxs(ft,{className:`${ye(Q.status)} flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium border`,children:[le(Q.status),s.jsx("span",{className:"whitespace-nowrap",children:je(Q.status)})]})})}),s.jsx(Wr,{side:"right",className:"max-w-xs",children:s.jsx("p",{children:Se(Q.status)})})]})})}),s.jsx("div",{className:"col-span-2 text-sm text-slate-700",children:Q.type}),s.jsx("div",{className:"col-span-1 text-sm text-slate-700",children:Q.medicationCount}),s.jsxs("div",{className:"col-span-2 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-slate-700",children:new Date(Q.createdDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),!j&&s.jsx(Xr,{className:"w-5 h-5 text-slate-300 group-hover:text-sky-600 group-hover:translate-x-0.5 transition-all"})]})]}),s.jsx("div",{className:"md:hidden p-4 hover:bg-slate-50 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-3",children:[j&&s.jsx("div",{className:"pt-1",children:s.jsx(sa,{checked:y.has(J),onCheckedChange:()=>pe(J),onClick:Fe=>Fe.stopPropagation()})}),s.jsx(ys,{className:"w-10 h-10 border-2 border-slate-200 flex-shrink-0",children:s.jsx(ws,{className:`text-sm ${Q.status==="Needs Reverification"?"bg-gradient-to-br from-red-500 to-red-600 text-white":"bg-gradient-to-br from-sky-500 to-sky-600 text-white"}`,children:Be})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-slate-900",children:U.name}),s.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["DOB: ",new Date(U.dob).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),s.jsxs(ft,{className:`${ye(Q.status)} flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium border flex-shrink-0`,children:[le(Q.status),s.jsx("span",{className:"whitespace-nowrap",children:je(Q.status)})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[s.jsx("span",{children:Q.type}),s.jsx("span",{children:""}),s.jsxs("span",{children:[Q.medicationCount," med",Q.medicationCount!==1?"s":""]}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date(Q.createdDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]}),!j&&s.jsx(Xr,{className:"w-5 h-5 text-slate-300 group-hover:text-sky-600 flex-shrink-0 mt-1"})]})})]},J)})})]})]})}),s.jsx(Jd,{open:ne,onOpenChange:B,children:s.jsxs(Qd,{side:"bottom",className:"h-[80vh] sm:h-auto",children:[s.jsxs(eu,{children:[s.jsx(tu,{className:"text-xl",children:"Scan Medication Information"}),s.jsx(Rf,{children:"Choose how you want to capture medication data"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsx("button",{onClick:()=>ee("Bottle Scan"),className:"w-full bg-white rounded-xl border-2 border-slate-200 p-4 hover:border-emerald-400 hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-emerald-100 flex items-center justify-center flex-shrink-0 group-hover:bg-emerald-200 transition-colors",children:s.jsx(bm,{className:"w-6 h-6 text-emerald-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium mb-1",children:"Scan Barcode"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Quick medication lookup via barcode"})]})]})}),s.jsx("button",{onClick:()=>ee("Bottle OCR"),className:"w-full bg-white rounded-xl border-2 border-slate-200 p-4 hover:border-violet-400 hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-violet-100 flex items-center justify-center flex-shrink-0 group-hover:bg-violet-200 transition-colors",children:s.jsx(Vs,{className:"w-6 h-6 text-violet-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium mb-1",children:"Scan Bottle (OCR)"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Capture text from medication bottle labels"})]})]})}),s.jsx("button",{onClick:()=>ee("Import PDF"),className:"w-full bg-white rounded-xl border-2 border-slate-200 p-4 hover:border-amber-400 hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-amber-100 flex items-center justify-center flex-shrink-0 group-hover:bg-amber-200 transition-colors",children:s.jsx(Va,{className:"w-6 h-6 text-amber-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium mb-1",children:"Import PDF/Image"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Upload discharge summaries or med lists"})]})]})})]})]})})]})}function lu({className:t,...e}){return s.jsx("textarea",{"data-slot":"textarea",className:hr("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const EY=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],kY=t=>{const r=t.replace(/\D/g,"").match(/^(\d{0,3})(\d{0,3})(\d{0,4})$/);if(r){const n=[r[1],r[2],r[3]].filter(Boolean);return n.length===0?"":n.length===1?n[0]:n.length===2?`(${n[0]}) ${n[1]}`:`(${n[0]}) ${n[1]}-${n[2]}`}return t};function PY({navigation:t,route:e}){const r=e?.params?.prefillData,n=e?.params?.scannedMedications,i=e?.params?.scanType,[a,o]=_.useState(r?.firstName||""),[l,c]=_.useState(r?.lastName||""),[u,h]=_.useState(r?.dateOfBirth||""),[m,x]=_.useState(r?.medicalRecordNumber||""),[p,y]=_.useState(""),[w,j]=_.useState(""),[C,A]=_.useState(""),[k,P]=_.useState(""),[M,$]=_.useState(""),[L,D]=_.useState(""),[V,ne]=_.useState(""),[B,F]=_.useState({}),[X,ee]=_.useState({}),[xe,oe]=_.useState(!!r),pe=_.useRef(null);_.useEffect(()=>{r||pe.current?.focus()},[r]);const H=U=>{y(kY(U))},q=()=>{const U={};return a.trim()||(U.firstName="First name is required"),l.trim()||(U.lastName="Last name is required"),u||(U.dob="Date of birth is required"),w.trim()||(U.address1="Address is required"),F(U),Object.keys(U).length===0},ie=()=>{q()&&t.navigate("NewPatientChartMedications",{patientId:"new-patient-id",chartId:"new-chart-id",patient:{first_name:a,last_name:l,dob:u,phone:p,address1:w,address2:C,city:k,state:M,zip_code:L,notes:V},scannedMedications:n,scanType:i})},G=()=>{console.log("Saving as draft..."),t.goBack()},R=U=>{ee({...X,[U]:!0})},z=a&&l&&u&&w;return s.jsxs("div",{className:"h-screen flex flex-col bg-[#f8fafc]",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#0966CC] to-[#0C4A6E] p-5 shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>t.goBack(),className:"w-10 h-10 rounded-xl bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors","aria-label":"Back to dashboard",children:s.jsx(ln,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-lg text-white",children:"New Patient Chart"}),s.jsx("div",{className:"w-10"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto pb-24",children:s.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"bg-white rounded-2xl border border-sky-200 p-5 shadow-sm",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-sky-100 flex items-center justify-center flex-shrink-0",children:s.jsx(Ts,{className:"w-5 h-5 text-sky-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-slate-900 mb-1",children:"Patient Information"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Creating new chart  required details first"})]})]})}),xe&&i&&s.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-emerald-100 rounded-2xl shadow-sm border border-emerald-200 p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-600 flex items-center justify-center flex-shrink-0",children:s.jsx(lc,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-[15px] text-emerald-900 font-medium",children:[i," Completed"]}),s.jsx("p",{className:"text-sm text-emerald-700",children:"Patient info captured. Please verify and complete remaining fields."})]})]}),s.jsx("button",{onClick:()=>oe(!1),className:"w-8 h-8 rounded-lg hover:bg-emerald-200 flex items-center justify-center transition-colors flex-shrink-0","aria-label":"Dismiss banner",children:s.jsx(ln,{className:"w-4 h-4 text-emerald-700 rotate-45"})})]})}),s.jsx("div",{className:"flex items-center gap-2 px-2",children:s.jsxs("span",{className:"text-sm text-slate-600",children:[s.jsx("span",{className:"text-red-500",children:"*"})," Required fields"]})}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-6 space-y-5",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[s.jsxs("div",{children:[s.jsxs(qe,{htmlFor:"firstName",className:"text-slate-700",children:["First Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(it,{ref:pe,id:"firstName",value:a,onChange:U=>o(U.target.value),onBlur:()=>R("firstName"),placeholder:"Enter first name",className:`mt-2 h-12 rounded-xl border-2 ${X.firstName&&B.firstName?"border-red-300 bg-red-50 focus:ring-red-200":"border-slate-200 bg-slate-50 focus:ring-sky-200"}`}),X.firstName&&B.firstName&&s.jsxs("p",{className:"text-sm text-red-600 mt-1.5 flex items-center gap-1",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-red-600"}),B.firstName]})]}),s.jsxs("div",{children:[s.jsxs(qe,{htmlFor:"lastName",className:"text-slate-700",children:["Last Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(it,{id:"lastName",value:l,onChange:U=>c(U.target.value),onBlur:()=>R("lastName"),placeholder:"Enter last name",className:`mt-2 h-12 rounded-xl border-2 ${X.lastName&&B.lastName?"border-red-300 bg-red-50 focus:ring-red-200":"border-slate-200 bg-slate-50 focus:ring-sky-200"}`}),X.lastName&&B.lastName&&s.jsxs("p",{className:"text-sm text-red-600 mt-1.5 flex items-center gap-1",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-red-600"}),B.lastName]})]})]}),s.jsxs("div",{children:[s.jsxs(qe,{htmlFor:"dob",className:"text-slate-700",children:["Date of Birth ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Ho,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"}),s.jsx(it,{id:"dob",type:"date",value:u,onChange:U=>h(U.target.value),onBlur:()=>R("dob"),className:`pl-12 h-12 rounded-xl border-2 ${X.dob&&B.dob?"border-red-300 bg-red-50 focus:ring-red-200":"border-slate-200 bg-slate-50 focus:ring-sky-200"}`})]}),X.dob&&B.dob&&s.jsxs("p",{className:"text-sm text-red-600 mt-1.5 flex items-center gap-1",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-red-600"}),B.dob]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"medicalRecordNumber",className:"text-slate-700",children:"Medical Record Number (MRN)"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"}),s.jsx(it,{id:"medicalRecordNumber",value:m,onChange:U=>x(U.target.value),placeholder:"Enter MRN (optional)",className:"pl-12 h-12 rounded-xl border-2 border-slate-200 bg-slate-50 focus:ring-sky-200"})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-1.5",children:"Unique patient identifier from medical records"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"phone",className:"text-slate-700",children:"Phone"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Ba,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"}),s.jsx(it,{id:"phone",type:"tel",value:p,onChange:U=>H(U.target.value),placeholder:"(555) 123-4567",maxLength:14,className:"pl-12 h-12 rounded-xl border-2 border-slate-200 bg-slate-50 focus:ring-sky-200"})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-1.5",children:"Format: (555) 123-4567"})]})]}),s.jsxs("div",{className:"pt-6 pb-6 px-6 border-t border-slate-200 space-y-5",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Address"}),s.jsxs("div",{children:[s.jsxs(qe,{htmlFor:"address1",className:"text-slate-700",children:["Street Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(qo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"}),s.jsx(it,{id:"address1",value:w,onChange:U=>j(U.target.value),onBlur:()=>R("address1"),placeholder:"123 Main Street",className:`pl-12 h-12 rounded-xl border-2 ${X.address1&&B.address1?"border-red-300 bg-red-50 focus:ring-red-200":"border-slate-200 bg-slate-50 focus:ring-sky-200"}`})]}),X.address1&&B.address1&&s.jsxs("p",{className:"text-sm text-red-600 mt-1.5 flex items-center gap-1",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-red-600"}),B.address1]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"address2",className:"text-slate-700",children:"Address Line 2"}),s.jsx(it,{id:"address2",value:C,onChange:U=>A(U.target.value),placeholder:"Apartment, suite, etc. (optional)",className:"mt-2 h-12 rounded-xl border-2 border-slate-200 bg-slate-50 focus:ring-sky-200"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"city",className:"text-slate-700",children:"City"}),s.jsx(it,{id:"city",value:k,onChange:U=>P(U.target.value),placeholder:"City",className:"mt-2 h-12 rounded-xl border-2 border-slate-200 bg-slate-50 focus:ring-sky-200"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"state",className:"text-slate-700",children:"State"}),s.jsxs(ei,{value:M,onValueChange:$,children:[s.jsx(ri,{className:"mt-2 h-12 rounded-xl border-2 border-slate-200 bg-slate-50 focus:ring-sky-200",children:s.jsx(ti,{placeholder:"Select state"})}),s.jsx(ni,{className:"max-h-[300px]",children:EY.map(U=>s.jsx(At,{value:U,children:U},U))})]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"zipCode",className:"text-slate-700",children:"ZIP Code"}),s.jsx(it,{id:"zipCode",value:L,onChange:U=>D(U.target.value.replace(/\D/g,"").slice(0,5)),placeholder:"12345",maxLength:5,className:"mt-2 h-12 rounded-xl border-2 border-slate-200 bg-slate-50 focus:ring-sky-200"})]})]})]}),s.jsxs("div",{className:"pt-6 pb-6 px-6 border-t border-slate-200 space-y-5",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Additional Notes"}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"notes",className:"text-slate-700",children:"Clinical Notes"}),s.jsx(lu,{id:"notes",value:V,onChange:U=>ne(U.target.value),placeholder:"Optional notes about this patient (e.g., special considerations, allergies, communication preferences)...",className:"mt-2 min-h-[120px] rounded-xl border-2 border-slate-200 bg-slate-50 focus:ring-sky-200 resize-none"}),s.jsx("p",{className:"text-xs text-slate-500 mt-1.5",children:"Optional field for additional context"})]})]})]})]})}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 shadow-lg z-50",children:s.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(fe,{onClick:G,variant:"outline",className:"flex-1 h-12 rounded-xl border-2 border-slate-300 hover:bg-slate-50 text-slate-700 font-medium",children:[s.jsx(W9,{className:"w-4 h-4 mr-2"}),"Save as Draft"]}),s.jsxs(fe,{onClick:ie,disabled:!z,className:"flex-1 h-12 rounded-xl bg-sky-600 hover:bg-sky-700 text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:[s.jsx(Nw,{className:"w-4 h-4 mr-2"}),"Save & Continue"]})]}),!z&&s.jsx("p",{className:"text-xs text-center text-slate-500 mt-2",children:"Complete required fields to continue"})]})})]})}const TY=["Oral","Topical","Inhalation","Injection","IV","Sublingual","Rectal","Transdermal"],IY=["Once daily","Twice daily","Three times daily","Four times daily","As needed","Every 4 hours","Every 6 hours","Every 8 hours","Every 12 hours","Weekly","Monthly"];function DY({navigation:t,route:e}){const r=e?.params?.scannedMedications||[],n=e?.params?.scanType,[i,a]=_.useState(r.map((H,q)=>({id:`scanned-${q}`,...H}))),[o,l]=_.useState(!1),[c,u]=_.useState(null),[h,m]=_.useState(!1),[x,p]=_.useState(r.length>0),[y,w]=_.useState(""),[j,C]=_.useState(""),[A,k]=_.useState(""),[P,M]=_.useState(""),[$,L]=_.useState([]),D=H=>{H.target.files&&L(Array.from(H.target.files))},V=()=>{w(""),C(""),k(""),M(""),l(!1),u(null),m(!1)},ne=H=>{alert(`${H} capture will be implemented. This will open camera/file picker for OCR scanning.`),m(!1)},B=()=>{m(!1),l(!0)},F=()=>{if(y&&j&&A&&P){const H={id:Date.now().toString(),name:y,dosage:j,frequency:A,route:P};a([...i,H]),V()}},X=()=>{c&&y&&j&&A&&P&&(a(i.map(H=>H.id===c?{...H,name:y,dosage:j,frequency:A,route:P}:H)),V())},ee=H=>{w(H.name),C(H.dosage),k(H.frequency),M(H.route),u(H.id),l(!0)},xe=H=>{a(i.filter(q=>q.id!==H))},oe=()=>{t.navigate("NewPatientChartReview",{...e.params,medications:i,attachments:$})},pe=()=>{t.navigate("NewPatientChartReview",e.params)};return s.jsxs("div",{className:"h-screen flex flex-col bg-[#f8fafc]",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#0966CC] to-[#0C4A6E] p-5 shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>t.goBack(),className:"w-10 h-10 rounded-xl bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors","aria-label":"Back",children:s.jsx(ln,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-lg text-white",children:"New Patient Chart"}),s.jsx("div",{className:"w-10"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto pb-24",children:s.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"bg-white rounded-2xl border border-sky-200 p-5 shadow-sm",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-sky-100 flex items-center justify-center flex-shrink-0",children:s.jsx(zf,{className:"w-5 h-5 text-sky-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-slate-900 mb-1",children:"Current Medications"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Add patient's current medications (optional  can be completed later)"})]})]})}),x&&n&&i.length>0&&s.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-emerald-100 rounded-2xl shadow-sm border border-emerald-200 p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-600 flex items-center justify-center flex-shrink-0",children:s.jsx(lc,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-[15px] text-emerald-900 font-medium",children:[i.length," Medication",i.length>1?"s":""," Captured via ",n]}),s.jsx("p",{className:"text-sm text-emerald-700",children:"Review and verify scanned medications, or add more as needed."})]})]}),s.jsx("button",{onClick:()=>p(!1),className:"w-8 h-8 rounded-lg hover:bg-emerald-200 flex items-center justify-center transition-colors flex-shrink-0","aria-label":"Dismiss banner",children:s.jsx(zs,{className:"w-4 h-4 text-emerald-700"})})]})}),i.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"p-5 border-b border-slate-200",children:s.jsxs("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:["Added Medications (",i.length,")"]})}),s.jsx("div",{className:"divide-y divide-slate-200",children:i.map(H=>s.jsx("div",{className:"p-5 hover:bg-slate-50 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zf,{className:"w-4 h-4 text-sky-600 flex-shrink-0"}),s.jsx("h4",{className:"text-slate-900 font-medium",children:H.name})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Dosage:"}),s.jsx("p",{className:"text-slate-700 font-medium",children:H.dosage})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Frequency:"}),s.jsx("p",{className:"text-slate-700 font-medium",children:H.frequency})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Route:"}),s.jsx("p",{className:"text-slate-700 font-medium",children:H.route})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>ee(H),className:"w-9 h-9 rounded-lg bg-slate-100 hover:bg-slate-200 flex items-center justify-center transition-colors",children:s.jsx(ED,{className:"w-4 h-4 text-slate-600"})}),s.jsx("button",{onClick:()=>xe(H.id),className:"w-9 h-9 rounded-lg bg-red-50 hover:bg-red-100 flex items-center justify-center transition-colors",children:s.jsx(Hf,{className:"w-4 h-4 text-red-600"})})]})]})},H.id))})]}),s.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-sm p-6 border border-slate-200",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center",children:s.jsx(Bm,{className:"w-5 h-5 text-slate-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Attachments"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Optional documents to upload with this chart."})]})]})}),s.jsxs("label",{className:"mt-3 ml-14 bg-[#0966CC] hover:bg-[#0C4A6E] text-white px-4 py-2 rounded-xl cursor-pointer inline-flex items-center",children:[s.jsx(Va,{className:"w-4 h-4 mr-2"}),"Choose files",s.jsx("input",{type:"file",multiple:!0,className:"hidden",onChange:D})]}),$.length>0&&s.jsx("ul",{className:"mt-4 space-y-2 text-xs text-slate-700",children:$.map((H,q)=>s.jsxs("li",{className:"flex items-center justify-between bg-slate-50 rounded-lg px-3 py-2",children:[s.jsx("span",{className:"truncate max-w-xs",children:H.name}),s.jsxs("span",{className:"text-slate-400 text-[11px]",children:[Math.round(H.size/1024)," KB"]})]},q))})]}),h&&s.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Choose Capture Method"}),s.jsx("button",{onClick:()=>m(!1),className:"text-slate-400 hover:text-slate-600",children:""})]}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Select how you want to add medication information"}),s.jsx("button",{onClick:B,className:"w-full bg-white rounded-xl border-2 border-slate-200 p-4 hover:border-sky-400 hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-sky-100 flex items-center justify-center flex-shrink-0 group-hover:bg-sky-200 transition-colors",children:s.jsx($s,{className:"w-6 h-6 text-sky-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium mb-1",children:"Manual Entry"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Type medication details manually"})]})]})}),s.jsx("button",{onClick:()=>ne("Barcode"),className:"w-full bg-white rounded-xl border-2 border-slate-200 p-4 hover:border-emerald-400 hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-emerald-100 flex items-center justify-center flex-shrink-0 group-hover:bg-emerald-200 transition-colors",children:s.jsx(o_,{className:"w-6 h-6 text-emerald-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium mb-1",children:"Scan Barcode"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Scan medication barcode for quick lookup"})]})]})}),s.jsx("button",{onClick:()=>ne("Bottle OCR"),className:"w-full bg-white rounded-xl border-2 border-slate-200 p-4 hover:border-violet-400 hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-violet-100 flex items-center justify-center flex-shrink-0 group-hover:bg-violet-200 transition-colors",children:s.jsx(Vs,{className:"w-6 h-6 text-violet-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium mb-1",children:"Scan Bottle (OCR)"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Capture text from medication bottle labels"})]})]})}),s.jsx("button",{onClick:()=>ne("Import PDF"),className:"w-full bg-white rounded-xl border-2 border-slate-200 p-4 hover:border-amber-400 hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-amber-100 flex items-center justify-center flex-shrink-0 group-hover:bg-amber-200 transition-colors",children:s.jsx(Va,{className:"w-6 h-6 text-amber-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium mb-1",children:"Import PDF/Image"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Upload existing PDF or image files"})]})]})})]})}),o?s.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:s.jsxs("div",{className:"p-6 space-y-5",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:c?"Edit Medication":"Add Medication"}),s.jsxs("div",{children:[s.jsxs(qe,{htmlFor:"medName",className:"text-slate-700",children:["Medication Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(it,{id:"medName",value:y,onChange:H=>w(H.target.value),placeholder:"e.g., Lisinopril",className:"mt-2 h-12 rounded-xl border-2 border-slate-200 bg-slate-50 focus:ring-sky-200"})]}),s.jsxs("div",{children:[s.jsxs(qe,{htmlFor:"dosage",className:"text-slate-700",children:["Dosage ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(it,{id:"dosage",value:j,onChange:H=>C(H.target.value),placeholder:"e.g., 10mg",className:"mt-2 h-12 rounded-xl border-2 border-slate-200 bg-slate-50 focus:ring-sky-200"})]}),s.jsxs("div",{children:[s.jsxs(qe,{htmlFor:"frequency",className:"text-slate-700",children:["Frequency ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(ei,{value:A,onValueChange:k,children:[s.jsx(ri,{className:"mt-2 h-12 rounded-xl border-2 border-slate-200 bg-slate-50 focus:ring-sky-200",children:s.jsx(ti,{placeholder:"Select frequency"})}),s.jsx(ni,{className:"max-h-[300px]",children:IY.map(H=>s.jsx(At,{value:H,children:H},H))})]})]}),s.jsxs("div",{children:[s.jsxs(qe,{htmlFor:"medRoute",className:"text-slate-700",children:["Route ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(ei,{value:P,onValueChange:M,children:[s.jsx(ri,{className:"mt-2 h-12 rounded-xl border-2 border-slate-200 bg-slate-50 focus:ring-sky-200",children:s.jsx(ti,{placeholder:"Select route"})}),s.jsx(ni,{children:TY.map(H=>s.jsx(At,{value:H,children:H},H))})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(fe,{onClick:V,variant:"outline",className:"flex-1 h-12 rounded-xl border-2 border-slate-300",children:"Cancel"}),s.jsxs(fe,{onClick:c?X:F,disabled:!y||!j||!A||!P,className:"flex-1 h-12 rounded-xl bg-sky-600 hover:bg-sky-700 text-white disabled:opacity-50",children:[c?"Update":"Add"," Medication"]})]})]})}):h?null:s.jsx("button",{onClick:()=>m(!0),className:"w-full p-6 bg-white rounded-2xl border-2 border-dashed border-slate-300 hover:border-sky-400 hover:bg-sky-50/50 transition-all group",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 group-hover:bg-sky-100 flex items-center justify-center transition-colors",children:s.jsx($s,{className:"w-5 h-5 text-slate-600 group-hover:text-sky-600"})}),s.jsx("span",{className:"text-slate-700 font-medium",children:"Add Medication"})]})}),i.length===0&&!o&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-slate-500 text-sm",children:"No medications added yet. You can add them now or skip this step."})})]})}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 shadow-lg z-50",children:s.jsx("div",{className:"max-w-2xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx(fe,{onClick:pe,variant:"outline",className:"flex-1 h-12 rounded-xl border-2 border-slate-300 hover:bg-slate-50 text-slate-700 font-medium",children:"Skip for Now"}),s.jsx(fe,{onClick:oe,className:"flex-1 h-12 rounded-xl bg-sky-600 hover:bg-sky-700 text-white font-medium shadow-sm",children:"Continue to Review"})]})})})]})}function RY(t){const e="/storage/v1/object/public/chart-documents/",r=t.indexOf(e);return r===-1?null:t.substring(r+e.length)}async function IE(t,e,r){const n=t.name.split(".").pop(),i=`${r}/${e}/${crypto.randomUUID()}.${n}`,{data:a,error:o}=await $n.storage.from("chart-documents").upload(i,t);if(o)throw o;const{data:l}=$n.storage.from("chart-documents").getPublicUrl(i),c=l.publicUrl,{data:u,error:h}=await $n.from("documents").insert({chart_id:e,tenant_id:r,file_name:t.name,file_type:t.type,file_url:c}).select().single();if(h)throw h;return u}async function OY(t,e){const r=RY(e);r&&await $n.storage.from("chart-documents").remove([r]);const{error:n}=await $n.from("documents").delete().eq("id",t);if(n)throw n;return{success:!0}}const LY=t=>{switch(t){case"Barcode Scan":return"bottle_scan";case"Import PDF":return"pdf_import";case"Bottle OCR":return"image_upload";default:return"empty_chart"}};function FY({navigation:t,route:e}){const{user:r}=po(),n=e.params?.scanType,i=e.params?.patient||{first_name:"",last_name:"",dob:"",phone:"",address1:"",address2:"",city:"",state:"",zip_code:"",notes:""},a=e.params?.medications||[],o=e.params?.attachments||[],l=()=>{t.goBack()},c=()=>{t.goBack(),t.goBack()},u=()=>{t.goBack()},h=async()=>{if(!r?.id||!r?.tenant_id){alert("Missing clinician or tenant information. Please sign in again.");return}try{const{data:p,error:y}=await $n.from("patients").insert({tenant_id:r.tenant_id,first_name:i.first_name,last_name:i.last_name,date_of_birth:i.dob,address_line1:i.address1,address_line2:i.address2||null,city:i.city||null,state:i.state||null,zip_code:i.zip_code||null,phone:i.phone||null,created_by:r.id,assigned_clinician_id:r.id}).select("id").single();if(y||!p){console.error("Error inserting patient:",y),alert("Failed to save patient. Please try again.");return}const w=p.id,j=LY(n),{data:C,error:A}=await $n.from("charts").insert({tenant_id:r.tenant_id,patient_id:w,status:"active",source:j,created_by:r.id,medication_count:a.length||null}).select("id").single();if(A||!C){console.error("Error inserting chart:",A),alert("Failed to create chart. Please try again.");return}const k=C.id;if(a.length>0){const P=a.map($=>({tenant_id:r.tenant_id,chart_id:k,drug_name:$.name,strength:$.dosage,route:$.route,frequency:$.frequency,prescriber:"Unknown",instructions:null,notes:null,scanned_on:new Date().toISOString(),ocr_confidence:null,verified:!1,changed_after_verify:!1})),{error:M}=await $n.from("medications").insert(P);if(M)throw M}o&&o.length>0&&await Promise.all(o.map(P=>IE(P,k,r.tenant_id))),t.navigate("NewPatientChartComplete",{patient:i,patientId:w,chartId:k})}catch(p){console.error("Unexpected error when saving chart:",p),alert("An unexpected error occurred. Please try again.")}},m=p=>p?new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not provided",x=p=>{if(!p)return null;const y=new Date,w=new Date(p);let j=y.getFullYear()-w.getFullYear();const C=y.getMonth()-w.getMonth();return(C<0||C===0&&y.getDate()<w.getDate())&&j--,j};return s.jsxs("div",{className:"h-screen flex flex-col bg-[#f8fafc]",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#0966CC] to-[#0C4A6E] p-5 shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:l,className:"w-10 h-10 rounded-xl bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors","aria-label":"Back",children:s.jsx(ln,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-lg text-white",children:"New Patient Chart"}),s.jsx("div",{className:"w-10"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto pb-24",children:s.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"bg-white rounded-2xl border border-sky-200 p-5 shadow-sm",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-sky-100 flex items-center justify-center flex-shrink-0",children:s.jsx(lc,{className:"w-5 h-5 text-sky-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-slate-900 mb-1",children:"Review Patient Chart"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Verify all information before saving to system"})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-5 border-b border-slate-200 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-sky-100 flex items-center justify-center",children:s.jsx(Ts,{className:"w-5 h-5 text-sky-600"})}),s.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Patient Information"})]}),s.jsx("button",{onClick:c,className:"text-sm text-sky-600 hover:text-sky-700 font-medium",children:"Edit"})]}),s.jsxs("div",{className:"p-6 space-y-5",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-2xl text-slate-900 font-semibold",children:[i.first_name," ",i.last_name]}),i.dob&&s.jsxs("p",{className:"text-slate-600 mt-1",children:["Age ",x(i.dob),"  DOB: ",m(i.dob)]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 pt-4 border-t border-slate-200",children:[i.phone&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ba,{className:"w-5 h-5 text-slate-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Phone"}),s.jsx("p",{className:"text-slate-900",children:i.phone})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qo,{className:"w-5 h-5 text-slate-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Address"}),s.jsx("p",{className:"text-slate-900",children:i.address1}),i.address2&&s.jsx("p",{className:"text-slate-900",children:i.address2}),s.jsxs("p",{className:"text-slate-900",children:[i.city,", ",i.state," ",i.zip_code]})]})]})]}),i.notes&&s.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-2",children:"Clinical Notes"}),s.jsx("p",{className:"text-slate-700 bg-slate-50 rounded-lg p-4",children:i.notes})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-5 border-b border-slate-200 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-sky-100 flex items-center justify-center",children:s.jsx(zf,{className:"w-5 h-5 text-sky-600"})}),s.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Current Medications"})]}),s.jsx("button",{onClick:u,className:"text-sm text-sky-600 hover:text-sky-700 font-medium",children:"Edit"})]}),a.length>0?s.jsx("div",{className:"divide-y divide-slate-200",children:a.map((p,y)=>s.jsx("div",{className:"p-5 hover:bg-slate-50 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-sky-50 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-sm font-semibold text-sky-600",children:y+1})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("h4",{className:"text-slate-900 font-medium",children:p.name}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Dosage:"}),s.jsx("p",{className:"text-slate-700 font-medium",children:p.dosage})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Frequency:"}),s.jsx("p",{className:"text-slate-700 font-medium",children:p.frequency})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Route:"}),s.jsx("p",{className:"text-slate-700 font-medium",children:p.route})]})]})]})]})},p.id))}):s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("p",{className:"text-slate-500",children:"No medications added"}),s.jsx("button",{onClick:u,className:"text-sm text-sky-600 hover:text-sky-700 font-medium mt-2",children:"Add medications"})]})]}),s.jsx("div",{className:"bg-sky-50 border border-sky-200 rounded-2xl p-5",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-sky-600 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"!"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-slate-900 font-medium mb-1",children:"Ready to Save?"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Once saved, this patient chart will be created in the system. You can edit details later from the patient list."})]})]})})]})}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 shadow-lg z-50",children:s.jsx("div",{className:"max-w-2xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx(fe,{onClick:l,variant:"outline",className:"flex-1 h-12 rounded-xl border-2 border-slate-300 hover:bg-slate-50 text-slate-700 font-medium",children:"Back to Medications"}),s.jsxs(fe,{onClick:h,className:"flex-1 h-12 rounded-xl bg-green-600 hover:bg-green-700 text-white font-medium shadow-sm",children:[s.jsx(Nw,{className:"w-4 h-4 mr-2"}),"Save Patient Chart"]})]})})})]})}function MY({navigation:t,route:e}){const{role:r}=po(),n=e.params?.patient||{first_name:"Unknown",last_name:"Patient",dob:"N/A"},i=e.params?.chartId,a=e.params?.patientId,o=()=>{t.navigate("ClinicianDashboard")},l=()=>{if(!a||!i){alert("Missing patient or chart information.");return}t.navigate("CaptureSourceSelection",{patientId:a,chartId:i})},c=()=>{t.navigate("PatientChartList")},u=h=>{if(!h)return null;const m=new Date,x=new Date(h);let p=m.getFullYear()-x.getFullYear();const y=m.getMonth()-x.getMonth();return(y<0||y===0&&m.getDate()<x.getDate())&&p--,p};return s.jsxs("div",{className:"h-screen flex flex-col bg-[#f8fafc]",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 p-5 shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"w-10"}),s.jsx("h1",{className:"text-lg text-white",children:"Chart Created"}),s.jsx("div",{className:"w-10"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"pt-8 pb-6 flex flex-col items-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-green-100 animate-ping opacity-75"}),s.jsx("div",{className:"relative w-24 h-24 rounded-full bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center shadow-xl",children:s.jsx(ur,{className:"w-14 h-14 text-white",strokeWidth:2.5})})]}),s.jsx("h2",{className:"text-3xl text-slate-900 font-semibold mt-8 mb-3 text-center",children:"Patient Chart Created!"}),s.jsx("p",{className:"text-slate-600 text-center max-w-md",children:"Successfully created patient chart. You can now add medications through scanning or continue to the dashboard."})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"p-5 border-b border-slate-200",children:s.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Chart Summary"})}),s.jsx("div",{className:"p-6 space-y-4",children:s.jsxs("div",{className:"flex items-start gap-4 p-4 bg-slate-50 rounded-xl",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-sky-100 flex items-center justify-center flex-shrink-0",children:s.jsx(Ts,{className:"w-5 h-5 text-sky-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Patient Created"}),s.jsxs("p",{className:"text-slate-900 font-medium",children:[n.first_name," ",n.last_name]}),s.jsxs("p",{className:"text-sm text-slate-600 mt-0.5",children:["Age: ",u(n.dob)," DOB: ",n.dob]})]}),s.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-green-100 rounded-full",children:[s.jsx(ur,{className:"w-3 h-3 text-green-700"}),s.jsxs("span",{className:"text-xs font-medium text-green-700",children:["#CHT-",Date.now().toString().slice(-6)]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"p-5 border-b border-slate-200",children:s.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Next Steps"})}),s.jsxs("div",{className:"p-6 space-y-3",children:[s.jsx("button",{onClick:l,className:"w-full p-4 bg-sky-50 hover:bg-sky-100 border-2 border-sky-200 rounded-xl transition-all group text-left",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-sky-600 flex items-center justify-center flex-shrink-0",children:s.jsx(zf,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-slate-900 font-medium group-hover:text-sky-700 transition-colors",children:"Start Medication Capture"}),s.jsx("p",{className:"text-sm text-slate-600 mt-0.5",children:"Scan or manually enter medications"})]}),s.jsx(X2,{className:"w-5 h-5 text-slate-400 group-hover:text-sky-600 transition-colors"})]})}),s.jsx("button",{onClick:c,className:"w-full p-4 bg-slate-50 hover:bg-slate-100 border-2 border-slate-200 rounded-xl transition-all group text-left",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-600 flex items-center justify-center flex-shrink-0",children:s.jsx(Ts,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-slate-900 font-medium group-hover:text-slate-700 transition-colors",children:"View Patient List"}),s.jsx("p",{className:"text-sm text-slate-600 mt-0.5",children:"See all patients and charts"})]}),s.jsx(X2,{className:"w-5 h-5 text-slate-400 group-hover:text-slate-600 transition-colors"})]})})]})]})]})}),s.jsx("div",{className:"bg-white border-t border-slate-200 shadow-lg",children:s.jsx("div",{className:"max-w-2xl mx-auto px-6 py-4",children:s.jsxs(fe,{onClick:o,variant:"outline",className:"w-full h-12 rounded-xl border-2 border-slate-300 hover:bg-slate-50 text-slate-700 font-medium",children:[s.jsx(nD,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})})})]})}function BY({navigation:t,route:e}){const{patientId:r,chartId:n}=e.params,i=o=>{t.navigate("ChartDetail",{patientId:r,chartId:n,scanType:o})},a=[{id:"bottle",title:"Bottle Photo",description:"Scan medication bottle labels",icon:Vs,color:"from-[#0966CC] to-[#0C4A6E]",bgColor:"bg-[#E0F2FE]",iconColor:"text-[#0966CC]"},{id:"document",title:"Document Scan",description:"Scan paper documents (DC summary, PCP med list, referrals)",icon:bm,color:"from-[#10B981] to-[#059669]",bgColor:"bg-[#D1FAE5]",iconColor:"text-[#10B981]"},{id:"import",title:"Import PDF/Image",description:"Import a PDF or photo of a document",icon:Va,color:"from-[#F59E0B] to-[#D97706]",bgColor:"bg-[#FEF3C7]",iconColor:"text-[#F59E0B]"}];return s.jsxs("div",{className:"h-screen flex flex-col bg-[#f8fafc]",children:[s.jsxs("div",{className:"bg-gradient-to-r from-[#0966CC] to-[#0C4A6E] p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("button",{onClick:()=>t.goBack(),className:"w-10 h-10 rounded-xl bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors",children:s.jsx(ln,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-lg text-white",children:"Scan Feature"}),s.jsx("div",{className:"w-10"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/20 flex items-center justify-center mx-auto mb-3",children:s.jsx(ir,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-xl text-white mb-2",children:"Luminous Home Health  Anna (Clinician)"}),s.jsx("p",{className:"text-sm text-white/80",children:"New Patient"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-xl text-[#0f172a] mb-2",children:"Choose a scan option to begin"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Select how you want to capture medication information"})]}),s.jsx("div",{className:"space-y-4",children:a.map(o=>{const l=o.icon;return s.jsx("button",{onClick:()=>i(o.id),className:"w-full bg-white rounded-2xl border-2 border-[#e2e8f0] p-6 hover:border-[#0966CC] hover:shadow-lg transition-all text-left group",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-16 h-16 rounded-xl ${o.bgColor} flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform`,children:s.jsx(l,{className:`w-8 h-8 ${o.iconColor}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-lg text-[#0f172a] mb-2",children:o.title}),s.jsx("p",{className:"text-sm text-[#64748b]",children:o.description})]})]})},o.id)})}),s.jsx("div",{className:"bg-white rounded-2xl border border-[#e2e8f0] p-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search charts by patient name...",className:"w-full h-12 pl-12 pr-4 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc] text-[#0f172a] placeholder:text-[#94a3b8]"}),s.jsx(ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#94a3b8]"})]})})]})})]})}var UY=Symbol("radix.slottable");function VY(t){const e=({children:r})=>s.jsx(s.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=UY,e}var DE="AlertDialog",[$Y]=xo(DE,[tA]),ed=tA(),RE=t=>{const{__scopeAlertDialog:e,...r}=t,n=ed(e);return s.jsx(Rw,{...n,...r,modal:!0})};RE.displayName=DE;var zY="AlertDialogTrigger",HY=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ed(r);return s.jsx(aF,{...i,...n,ref:e})});HY.displayName=zY;var qY="AlertDialogPortal",OE=t=>{const{__scopeAlertDialog:e,...r}=t,n=ed(e);return s.jsx(Ow,{...n,...r})};OE.displayName=qY;var WY="AlertDialogOverlay",LE=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ed(r);return s.jsx(I1,{...i,...n,ref:e})});LE.displayName=WY;var Ff="AlertDialogContent",[GY,KY]=$Y(Ff),YY=VY("AlertDialogContent"),FE=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=ed(r),o=_.useRef(null),l=Kr(e,o),c=_.useRef(null);return s.jsx(rF,{contentName:Ff,titleName:ME,docsSlug:"alert-dialog",children:s.jsx(GY,{scope:r,cancelRef:c,children:s.jsxs(D1,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:Nt(i.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(YY,{children:n}),s.jsx(ZY,{contentRef:o})]})})})});FE.displayName=Ff;var ME="AlertDialogTitle",BE=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ed(r);return s.jsx(Lw,{...i,...n,ref:e})});BE.displayName=ME;var UE="AlertDialogDescription",VE=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ed(r);return s.jsx(Fw,{...i,...n,ref:e})});VE.displayName=UE;var XY="AlertDialogAction",$E=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ed(r);return s.jsx(R1,{...i,...n,ref:e})});$E.displayName=XY;var zE="AlertDialogCancel",HE=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=KY(zE,r),a=ed(r),o=Kr(e,i);return s.jsx(R1,{...a,...n,ref:o})});HE.displayName=zE;var ZY=({contentRef:t})=>{const e=`\`${Ff}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ff}\` by passing a \`${UE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ff}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},JY=RE,QY=OE,eX=LE,tX=FE,rX=$E,nX=HE,sX=BE,iX=VE;function $d({...t}){return s.jsx(JY,{"data-slot":"alert-dialog",...t})}function aX({...t}){return s.jsx(QY,{"data-slot":"alert-dialog-portal",...t})}const qE=_.forwardRef(({className:t,...e},r)=>s.jsx(eX,{ref:r,"data-slot":"alert-dialog-overlay",className:hr("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));qE.displayName="AlertDialogOverlay";function zd({className:t,...e}){return s.jsxs(aX,{children:[s.jsx(qE,{}),s.jsx(tX,{"data-slot":"alert-dialog-content",className:hr("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function Hd({className:t,...e}){return s.jsx("div",{"data-slot":"alert-dialog-header",className:hr("flex flex-col gap-2 text-center sm:text-left",t),...e})}function qd({className:t,...e}){return s.jsx("div",{"data-slot":"alert-dialog-footer",className:hr("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Wd({className:t,...e}){return s.jsx(sX,{"data-slot":"alert-dialog-title",className:hr("text-lg font-semibold",t),...e})}function Gd({className:t,...e}){return s.jsx(iX,{"data-slot":"alert-dialog-description",className:hr("text-muted-foreground text-sm",t),...e})}function Kd({className:t,...e}){return s.jsx(rX,{className:hr(_w(),t),...e})}function Yd({className:t,...e}){return s.jsx(nX,{className:hr(_w({variant:"outline"}),t),...e})}var m2="rovingFocusGroup.onEntryFocus",oX={bubbles:!1,cancelable:!0},Jm="RovingFocusGroup",[Yy,WE,lX]=Mw(Jm),[cX,ng]=xo(Jm,[lX]),[dX,uX]=cX(Jm),GE=_.forwardRef((t,e)=>s.jsx(Yy.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(Yy.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(hX,{...t,ref:e})})}));GE.displayName=Jm;var hX=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...m}=t,x=_.useRef(null),p=Kr(e,x),y=O1(a),[w,j]=cc({prop:o,defaultProp:l??null,onChange:c,caller:Jm}),[C,A]=_.useState(!1),k=_l(u),P=WE(r),M=_.useRef(!1),[$,L]=_.useState(0);return _.useEffect(()=>{const D=x.current;if(D)return D.addEventListener(m2,k),()=>D.removeEventListener(m2,k)},[k]),s.jsx(dX,{scope:r,orientation:n,dir:y,loop:i,currentTabStopId:w,onItemFocus:_.useCallback(D=>j(D),[j]),onItemShiftTab:_.useCallback(()=>A(!0),[]),onFocusableItemAdd:_.useCallback(()=>L(D=>D+1),[]),onFocusableItemRemove:_.useCallback(()=>L(D=>D-1),[]),children:s.jsx(Ar.div,{tabIndex:C||$===0?-1:0,"data-orientation":n,...m,ref:p,style:{outline:"none",...t.style},onMouseDown:Nt(t.onMouseDown,()=>{M.current=!0}),onFocus:Nt(t.onFocus,D=>{const V=!M.current;if(D.target===D.currentTarget&&V&&!C){const ne=new CustomEvent(m2,oX);if(D.currentTarget.dispatchEvent(ne),!ne.defaultPrevented){const B=P().filter(oe=>oe.focusable),F=B.find(oe=>oe.active),X=B.find(oe=>oe.id===w),xe=[F,X,...B].filter(Boolean).map(oe=>oe.ref.current);XE(xe,h)}}M.current=!1}),onBlur:Nt(t.onBlur,()=>A(!1))})})}),KE="RovingFocusGroupItem",YE=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...l}=t,c=Vo(),u=a||c,h=uX(KE,r),m=h.currentTabStopId===u,x=WE(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:w}=h;return _.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),s.jsx(Yy.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:s.jsx(Ar.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:Nt(t.onMouseDown,j=>{n?h.onItemFocus(u):j.preventDefault()}),onFocus:Nt(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:Nt(t.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){h.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const C=pX(j,h.orientation,h.dir);if(C!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let k=x().filter(P=>P.focusable).map(P=>P.ref.current);if(C==="last")k.reverse();else if(C==="prev"||C==="next"){C==="prev"&&k.reverse();const P=k.indexOf(j.currentTarget);k=h.loop?xX(k,P+1):k.slice(P+1)}setTimeout(()=>XE(k))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:w!=null}):o})})});YE.displayName=KE;var fX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mX(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function pX(t,e,r){const n=mX(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return fX[n]}function XE(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function xX(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var ZE=GE,JE=YE;function gX(t){const e=vX(t),r=_.forwardRef((n,i)=>{const{children:a,...o}=n,l=_.Children.toArray(a),c=l.find(wX);if(c){const u=c.props.children,h=l.map(m=>m===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:m);return s.jsx(e,{...o,ref:i,children:_.isValidElement(u)?_.cloneElement(u,void 0,h):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function vX(t){const e=_.forwardRef((r,n)=>{const{children:i,...a}=r;if(_.isValidElement(i)){const o=NX(i),l=bX(a,i.props);return i.type!==_.Fragment&&(l.ref=n?hc(n,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var yX=Symbol("radix.slottable");function wX(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yX}function bX(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function NX(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Xy=["Enter"," "],jX=["ArrowDown","PageUp","Home"],QE=["ArrowUp","PageDown","End"],CX=[...jX,...QE],_X={ltr:[...Xy,"ArrowRight"],rtl:[...Xy,"ArrowLeft"]},AX={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qm="Menu",[Im,SX,EX]=Mw(Qm),[Nh,e7]=xo(Qm,[EX,hu,ng]),sg=hu(),t7=ng(),[kX,jh]=Nh(Qm),[PX,ep]=Nh(Qm),r7=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=t,l=sg(e),[c,u]=_.useState(null),h=_.useRef(!1),m=_l(a),x=O1(i);return _.useEffect(()=>{const p=()=>{h.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>h.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),s.jsx(U1,{...l,children:s.jsx(kX,{scope:e,open:r,onOpenChange:m,content:c,onContentChange:u,children:s.jsx(PX,{scope:e,onClose:_.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:x,modal:o,children:n})})})};r7.displayName=Qm;var TX="MenuAnchor",Vb=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=sg(r);return s.jsx(qm,{...i,...n,ref:e})});Vb.displayName=TX;var $b="MenuPortal",[IX,n7]=Nh($b,{forceMount:void 0}),s7=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,a=jh($b,e);return s.jsx(IX,{scope:e,forceMount:r,children:s.jsx(za,{present:r||a.open,children:s.jsx(r0,{asChild:!0,container:i,children:n})})})};s7.displayName=$b;var zo="MenuContent",[DX,zb]=Nh(zo),i7=_.forwardRef((t,e)=>{const r=n7(zo,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=jh(zo,t.__scopeMenu),o=ep(zo,t.__scopeMenu);return s.jsx(Im.Provider,{scope:t.__scopeMenu,children:s.jsx(za,{present:n||a.open,children:s.jsx(Im.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(RX,{...i,ref:e}):s.jsx(OX,{...i,ref:e})})})})}),RX=_.forwardRef((t,e)=>{const r=jh(zo,t.__scopeMenu),n=_.useRef(null),i=Kr(e,n);return _.useEffect(()=>{const a=n.current;if(a)return P1(a)},[]),s.jsx(Hb,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Nt(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),OX=_.forwardRef((t,e)=>{const r=jh(zo,t.__scopeMenu);return s.jsx(Hb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),LX=gX("MenuContent.ScrollLock"),Hb=_.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:x,onDismiss:p,disableOutsideScroll:y,...w}=t,j=jh(zo,r),C=ep(zo,r),A=sg(r),k=t7(r),P=SX(r),[M,$]=_.useState(null),L=_.useRef(null),D=Kr(e,L,j.onContentChange),V=_.useRef(0),ne=_.useRef(""),B=_.useRef(0),F=_.useRef(null),X=_.useRef("right"),ee=_.useRef(0),xe=y?zm:_.Fragment,oe=y?{as:LX,allowPinchZoom:!0}:void 0,pe=q=>{const ie=ne.current+q,G=P().filter(re=>!re.disabled),R=document.activeElement,z=G.find(re=>re.ref.current===R)?.textValue,U=G.map(re=>re.textValue),Q=KX(U,ie,z),J=G.find(re=>re.textValue===Q)?.ref.current;(function re(le){ne.current=le,window.clearTimeout(V.current),le!==""&&(V.current=window.setTimeout(()=>re(""),1e3))})(ie),J&&setTimeout(()=>J.focus())};_.useEffect(()=>()=>window.clearTimeout(V.current),[]),E1();const H=_.useCallback(q=>X.current===F.current?.side&&XX(q,F.current?.area),[]);return s.jsx(DX,{scope:r,searchRef:ne,onItemEnter:_.useCallback(q=>{H(q)&&q.preventDefault()},[H]),onItemLeave:_.useCallback(q=>{H(q)||(L.current?.focus(),$(null))},[H]),onTriggerLeave:_.useCallback(q=>{H(q)&&q.preventDefault()},[H]),pointerGraceTimerRef:B,onPointerGraceIntentChange:_.useCallback(q=>{F.current=q},[]),children:s.jsx(xe,{...oe,children:s.jsx($m,{asChild:!0,trapped:i,onMountAutoFocus:Nt(a,q=>{q.preventDefault(),L.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(t0,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:x,onDismiss:p,children:s.jsx(ZE,{asChild:!0,...k,dir:C.dir,orientation:"vertical",loop:n,currentTabStopId:M,onCurrentTabStopIdChange:$,onEntryFocus:Nt(c,q=>{C.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(V1,{role:"menu","aria-orientation":"vertical","data-state":b7(j.open),"data-radix-menu-content":"",dir:C.dir,...A,...w,ref:D,style:{outline:"none",...w.style},onKeyDown:Nt(w.onKeyDown,q=>{const G=q.target.closest("[data-radix-menu-content]")===q.currentTarget,R=q.ctrlKey||q.altKey||q.metaKey,z=q.key.length===1;G&&(q.key==="Tab"&&q.preventDefault(),!R&&z&&pe(q.key));const U=L.current;if(q.target!==U||!CX.includes(q.key))return;q.preventDefault();const J=P().filter(re=>!re.disabled).map(re=>re.ref.current);QE.includes(q.key)&&J.reverse(),WX(J)}),onBlur:Nt(t.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(V.current),ne.current="")}),onPointerMove:Nt(t.onPointerMove,Dm(q=>{const ie=q.target,G=ee.current!==q.clientX;if(q.currentTarget.contains(ie)&&G){const R=q.clientX>ee.current?"right":"left";X.current=R,ee.current=q.clientX}}))})})})})})})});i7.displayName=zo;var FX="MenuGroup",qb=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Ar.div,{role:"group",...n,ref:e})});qb.displayName=FX;var MX="MenuLabel",a7=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Ar.div,{...n,ref:e})});a7.displayName=MX;var p1="MenuItem",H3="menu.itemSelect",ig=_.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,a=_.useRef(null),o=ep(p1,t.__scopeMenu),l=zb(p1,t.__scopeMenu),c=Kr(e,a),u=_.useRef(!1),h=()=>{const m=a.current;if(!r&&m){const x=new CustomEvent(H3,{bubbles:!0,cancelable:!0});m.addEventListener(H3,p=>n?.(p),{once:!0}),P_(m,x),x.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(o7,{...i,ref:c,disabled:r,onClick:Nt(t.onClick,h),onPointerDown:m=>{t.onPointerDown?.(m),u.current=!0},onPointerUp:Nt(t.onPointerUp,m=>{u.current||m.currentTarget?.click()}),onKeyDown:Nt(t.onKeyDown,m=>{const x=l.searchRef.current!=="";r||x&&m.key===" "||Xy.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});ig.displayName=p1;var o7=_.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=t,o=zb(p1,r),l=t7(r),c=_.useRef(null),u=Kr(e,c),[h,m]=_.useState(!1),[x,p]=_.useState("");return _.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[a.children]),s.jsx(Im.ItemSlot,{scope:r,disabled:n,textValue:i??x,children:s.jsx(JE,{asChild:!0,...l,focusable:!n,children:s.jsx(Ar.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Nt(t.onPointerMove,Dm(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Nt(t.onPointerLeave,Dm(y=>o.onItemLeave(y))),onFocus:Nt(t.onFocus,()=>m(!0)),onBlur:Nt(t.onBlur,()=>m(!1))})})})}),BX="MenuCheckboxItem",l7=_.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return s.jsx(f7,{scope:t.__scopeMenu,checked:r,children:s.jsx(ig,{role:"menuitemcheckbox","aria-checked":x1(r)?"mixed":r,...i,ref:e,"data-state":Gb(r),onSelect:Nt(i.onSelect,()=>n?.(x1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});l7.displayName=BX;var c7="MenuRadioGroup",[UX,VX]=Nh(c7,{value:void 0,onValueChange:()=>{}}),d7=_.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,a=_l(n);return s.jsx(UX,{scope:t.__scopeMenu,value:r,onValueChange:a,children:s.jsx(qb,{...i,ref:e})})});d7.displayName=c7;var u7="MenuRadioItem",h7=_.forwardRef((t,e)=>{const{value:r,...n}=t,i=VX(u7,t.__scopeMenu),a=r===i.value;return s.jsx(f7,{scope:t.__scopeMenu,checked:a,children:s.jsx(ig,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":Gb(a),onSelect:Nt(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});h7.displayName=u7;var Wb="MenuItemIndicator",[f7,$X]=Nh(Wb,{checked:!1}),m7=_.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,a=$X(Wb,r);return s.jsx(za,{present:n||x1(a.checked)||a.checked===!0,children:s.jsx(Ar.span,{...i,ref:e,"data-state":Gb(a.checked)})})});m7.displayName=Wb;var zX="MenuSeparator",p7=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Ar.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});p7.displayName=zX;var HX="MenuArrow",x7=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=sg(r);return s.jsx($1,{...i,...n,ref:e})});x7.displayName=HX;var qX="MenuSub",[Rte,g7]=Nh(qX),nm="MenuSubTrigger",v7=_.forwardRef((t,e)=>{const r=jh(nm,t.__scopeMenu),n=ep(nm,t.__scopeMenu),i=g7(nm,t.__scopeMenu),a=zb(nm,t.__scopeMenu),o=_.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:t.__scopeMenu},h=_.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return _.useEffect(()=>h,[h]),_.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),s.jsx(Vb,{asChild:!0,...u,children:s.jsx(o7,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":b7(r.open),...t,ref:hc(e,i.onTriggerChange),onClick:m=>{t.onClick?.(m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Nt(t.onPointerMove,Dm(m=>{a.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:Nt(t.onPointerLeave,Dm(m=>{h();const x=r.content?.getBoundingClientRect();if(x){const p=r.content?.dataset.side,y=p==="right",w=y?-5:5,j=x[y?"left":"right"],C=x[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+w,y:m.clientY},{x:j,y:x.top},{x:C,y:x.top},{x:C,y:x.bottom},{x:j,y:x.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Nt(t.onKeyDown,m=>{const x=a.searchRef.current!=="";t.disabled||x&&m.key===" "||_X[n.dir].includes(m.key)&&(r.onOpenChange(!0),r.content?.focus(),m.preventDefault())})})})});v7.displayName=nm;var y7="MenuSubContent",w7=_.forwardRef((t,e)=>{const r=n7(zo,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=jh(zo,t.__scopeMenu),o=ep(zo,t.__scopeMenu),l=g7(y7,t.__scopeMenu),c=_.useRef(null),u=Kr(e,c);return s.jsx(Im.Provider,{scope:t.__scopeMenu,children:s.jsx(za,{present:n||a.open,children:s.jsx(Im.Slot,{scope:t.__scopeMenu,children:s.jsx(Hb,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{o.isUsingKeyboardRef.current&&c.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Nt(t.onFocusOutside,h=>{h.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Nt(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Nt(t.onKeyDown,h=>{const m=h.currentTarget.contains(h.target),x=AX[o.dir].includes(h.key);m&&x&&(a.onOpenChange(!1),l.trigger?.focus(),h.preventDefault())})})})})})});w7.displayName=y7;function b7(t){return t?"open":"closed"}function x1(t){return t==="indeterminate"}function Gb(t){return x1(t)?"indeterminate":t?"checked":"unchecked"}function WX(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function GX(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function KX(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=GX(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function YX(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],u=l.x,h=l.y,m=c.x,x=c.y;h>n!=x>n&&r<(m-u)*(n-h)/(x-h)+u&&(i=!i)}return i}function XX(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return YX(r,e)}function Dm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var ZX=r7,JX=Vb,QX=s7,eZ=i7,tZ=qb,rZ=a7,nZ=ig,sZ=l7,iZ=d7,aZ=h7,oZ=m7,lZ=p7,cZ=x7,dZ=v7,uZ=w7,ag="DropdownMenu",[hZ]=xo(ag,[e7]),ba=e7(),[fZ,N7]=hZ(ag),j7=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=ba(e),u=_.useRef(null),[h,m]=cc({prop:i,defaultProp:a??!1,onChange:o,caller:ag});return s.jsx(fZ,{scope:e,triggerId:Vo(),triggerRef:u,contentId:Vo(),open:h,onOpenChange:m,onOpenToggle:_.useCallback(()=>m(x=>!x),[m]),modal:l,children:s.jsx(ZX,{...c,open:h,onOpenChange:m,dir:n,modal:l,children:r})})};j7.displayName=ag;var C7="DropdownMenuTrigger",_7=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,a=N7(C7,r),o=ba(r);return s.jsx(JX,{asChild:!0,...o,children:s.jsx(Ar.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:hc(e,a.triggerRef),onPointerDown:Nt(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Nt(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});_7.displayName=C7;var mZ="DropdownMenuPortal",A7=t=>{const{__scopeDropdownMenu:e,...r}=t,n=ba(e);return s.jsx(QX,{...n,...r})};A7.displayName=mZ;var S7="DropdownMenuContent",E7=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=N7(S7,r),a=ba(r),o=_.useRef(!1);return s.jsx(eZ,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:Nt(t.onCloseAutoFocus,l=>{o.current||i.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Nt(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!i.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});E7.displayName=S7;var pZ="DropdownMenuGroup",xZ=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ba(r);return s.jsx(tZ,{...i,...n,ref:e})});xZ.displayName=pZ;var gZ="DropdownMenuLabel",k7=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ba(r);return s.jsx(rZ,{...i,...n,ref:e})});k7.displayName=gZ;var vZ="DropdownMenuItem",P7=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ba(r);return s.jsx(nZ,{...i,...n,ref:e})});P7.displayName=vZ;var yZ="DropdownMenuCheckboxItem",wZ=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ba(r);return s.jsx(sZ,{...i,...n,ref:e})});wZ.displayName=yZ;var bZ="DropdownMenuRadioGroup",NZ=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ba(r);return s.jsx(iZ,{...i,...n,ref:e})});NZ.displayName=bZ;var jZ="DropdownMenuRadioItem",CZ=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ba(r);return s.jsx(aZ,{...i,...n,ref:e})});CZ.displayName=jZ;var _Z="DropdownMenuItemIndicator",AZ=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ba(r);return s.jsx(oZ,{...i,...n,ref:e})});AZ.displayName=_Z;var SZ="DropdownMenuSeparator",T7=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ba(r);return s.jsx(lZ,{...i,...n,ref:e})});T7.displayName=SZ;var EZ="DropdownMenuArrow",kZ=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ba(r);return s.jsx(cZ,{...i,...n,ref:e})});kZ.displayName=EZ;var PZ="DropdownMenuSubTrigger",TZ=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ba(r);return s.jsx(dZ,{...i,...n,ref:e})});TZ.displayName=PZ;var IZ="DropdownMenuSubContent",DZ=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ba(r);return s.jsx(uZ,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DZ.displayName=IZ;var RZ=j7,OZ=_7,LZ=A7,FZ=E7,MZ=k7,BZ=P7,UZ=T7;function tp({...t}){return s.jsx(RZ,{"data-slot":"dropdown-menu",...t})}function rp({...t}){return s.jsx(OZ,{"data-slot":"dropdown-menu-trigger",...t})}function np({className:t,sideOffset:e=4,...r}){return s.jsx(LZ,{children:s.jsx(FZ,{"data-slot":"dropdown-menu-content",sideOffset:e,className:hr("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function fn({className:t,inset:e,variant:r="default",...n}){return s.jsx(BZ,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":r,className:hr("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function Kb({className:t,inset:e,...r}){return s.jsx(MZ,{"data-slot":"dropdown-menu-label","data-inset":e,className:hr("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...r})}function oc({className:t,...e}){return s.jsx(UZ,{"data-slot":"dropdown-menu-separator",className:hr("bg-border -mx-1 my-1 h-px",t),...e})}const q3=t=>{switch(t){case"active":return"Active";case"verified_ready":return"Verified Ready";case"delivered_locked":return"Delivered (Locked)";case"needs_reverification":return"Needs Reverification";case"archived":return"Archived";default:return"Active"}};function VZ({navigation:t,route:e}){const[r,n]=_.useState(!1),[i,a]=_.useState(!1),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[h,m]=_.useState(!1),[x,p]=_.useState(!1),[y,w]=_.useState(!1),[j,C]=_.useState(!1),[A,k]=_.useState(""),[P,M]=_.useState(!1),[$,L]=_.useState(!1),[D,V]=_.useState(!1),[ne,B]=_.useState(!1),[F,X]=_.useState(""),[ee,xe]=_.useState(""),[oe,pe]=_.useState(""),[H,q]=_.useState(""),[ie,G]=_.useState(""),[R,z]=_.useState(""),[U,Q]=_.useState(!1),[J,re]=_.useState([]),[le,ye]=_.useState(!1),[je,Se]=_.useState(null),{patientId:Be,chartId:Fe,prefillMedications:Te}=e.params,{user:ce}=po(),[$e,Ee]=_.useState({first_name:"",last_name:"",dob:"",phone:"",address1:"",address2:"",city:"",state:"",zip_code:"",notes:""}),lt=_.useRef(null),Pe=_.useCallback(async()=>{if(Fe){ye(!0),Se(null);try{const{data:Ve,error:Rt}=await $n.from("documents").select("*").eq("chart_id",Fe).order("created_at",{ascending:!1});if(Rt)throw Rt;re(Ve||[])}catch(Ve){Se(Ve.message||"Failed to load documents")}finally{ye(!1)}}},[Fe]),[nt,We]=_.useState("Active"),[xt,ct]=_.useState([]),[tr,It]=_.useState(!0),[St,fr]=_.useState(null),Ct=xt.some(Ve=>!Ve.isVerified),mt=nt==="Delivered (Locked)",[Et,jt]=_.useState(null),rr=xt.filter(Ve=>Ve.isVerified).length,cr=xt.length,vt=cr>0?rr/cr*100:0,mr=nt==="Delivered (Locked)"?{icon:"",text:"Delivered / Locked",classes:"bg-[#E0E7FF] text-[#4F46E5] border-0"}:Ct?{icon:"",text:"Re-Verification Needed",classes:"bg-[#FEF3C7] text-[#92400E] border-0"}:vt===100?{icon:"",text:"Verified Ready",classes:"bg-[#D1FAE5] text-[#10B981] border-0"}:{icon:"",text:"In Progress",classes:"bg-[#DBEAFE] text-[#0966CC] border-0"};_.useEffect(()=>{(async()=>{try{if(!Fe||!Be)return;const{data:Rt,error:en}=await $n.from("patients").select("first_name, last_name, date_of_birth").eq("id",Be).single();if(en)throw en;Ee(qn=>({...qn,first_name:Rt.first_name,last_name:Rt.last_name,dob:Rt.date_of_birth??""}));const{data:bs,error:mn}=await $n.from("charts").select("status").eq("id",Fe).single();if(mn)throw mn;We(q3(bs.status)),Pe();const{data:Ln,error:Is}=await $n.from("medications").select("id, drug_name, strength, route, frequency, prescriber, scanned_on, ocr_confidence, verified").eq("chart_id",Fe);if(Is)throw Is;const Hn=(Ln||[]).map(qn=>({id:qn.id,drugName:qn.drug_name,strength:qn.strength||"",route:qn.route||"",frequency:qn.frequency||"",prescriber:qn.prescriber||"",scannedDate:qn.scanned_on?new Date(qn.scanned_on).toLocaleDateString():"",confidence:qn.ocr_confidence!=null?Math.round(Number(qn.ocr_confidence)*100):0,isVerified:qn.verified}));ct(Hn),fr(null)}catch(Rt){console.error("Error loading chart detail",Rt),fr(Rt.message||"Failed to load chart")}finally{It(!1)}})()},[Fe,Be]),_.useEffect(()=>{(async()=>{if(!(!Te||!Array.isArray(Te)))for(const Rt of Te)try{await Dt(Rt)}catch(en){console.error("Failed to save prefilled medication",en)}})()},[]);const kt=()=>{X(""),xe(""),pe(""),q(""),G(""),z(""),a(!0)},Qt=async()=>{if(!F.trim()){alert("Drug name is required");return}if(!Fe||!ce?.tenant_id){alert("Missing chart or tenant information");return}try{Q(!0),console.log("Inserting medication from modal");const{data:Ve,error:Rt}=await $n.from("medications").insert([{chart_id:Fe,tenant_id:ce.tenant_id,drug_name:F.trim(),strength:ee||null,route:oe||null,frequency:H||null,prescriber:ie||null,instructions:null,notes:null,scanned_on:R?new Date(R).toISOString():null,ocr_confidence:.9,verified:!1,changed_after_verify:!1}]).select("*").single();if(console.log("Insert result:",Ve,Rt),Rt)throw Rt;ct(en=>[...en,{id:Ve.id,drugName:Ve.drug_name,strength:Ve.strength||"",route:Ve.route||"",frequency:Ve.frequency||"",prescriber:Ve.prescriber||"",scannedDate:Ve.scanned_on?new Date(Ve.scanned_on).toLocaleDateString():"",confidence:Ve.ocr_confidence!=null?Math.round(Number(Ve.ocr_confidence)*100):0,isVerified:Ve.verified}]),X(""),xe(""),pe(""),q(""),G(""),z(""),a(!1)}catch(Ve){console.error("Error inserting medication from modal:",Ve),alert(Ve.message||"Failed to add medication")}finally{Q(!1)}},Dt=async Ve=>{if(!Fe||!ce?.tenant_id){alert("Missing chart or tenant information");return}try{Q(!0);const Rt=Ve.confidence;let en=null;typeof Rt=="number"&&(en=Rt>1?Rt/100:Rt);const bs={chart_id:Fe,tenant_id:ce.tenant_id,drug_name:Ve.name||Ve.drugName||"Unknown",strength:Ve.dosage||Ve.strength||null,route:Ve.route||null,frequency:Ve.frequency||null,prescriber:Ve.prescriber||null,instructions:Ve.instructions||null,notes:null,scanned_on:new Date().toISOString(),ocr_confidence:en??.8,verified:!1,changed_after_verify:!1},{data:mn,error:Ln}=await $n.from("medications").insert([bs]).select("*").single();if(Ln)throw Ln;ct(Is=>[...Is,{id:mn.id,drugName:mn.drug_name,strength:mn.strength||"",route:mn.route||"",frequency:mn.frequency||"",prescriber:mn.prescriber||"",scannedDate:mn.scanned_on?new Date(mn.scanned_on).toLocaleDateString():"",confidence:mn.ocr_confidence!=null?Math.round(Number(mn.ocr_confidence)*100):0,isVerified:mn.verified}]),p(!1),w(!1),alert("Medication added from scan")}catch(Rt){console.error("Error inserting scanned medication:",Rt),alert(Rt.message||"Failed to add scanned medication")}finally{Q(!1)}},Or=Ve=>Ve>=85?{color:"bg-[#10B981]",label:"High",message:"High confidence - AI extraction reliable"}:Ve>=70?{color:"bg-[#F59E0B]",label:"Medium",message:"Medium confidence - Manual review recommended"}:{color:"bg-[#DC2626]",label:"Low",message:"Low confidence - Manual verification required"},Dr=Ve=>{t.navigate("MedicationVerification",{patientId:Be,chartId:Fe,medicationId:Ve})},Cr=Ve=>{t.navigate("MedicationVerification",{patientId:Be,chartId:Fe,medicationId:Ve,mode:"edit"})},Mt=async Ve=>{if(!(mt||!window.confirm("Are you sure you want to remove this medication from the chart?")))try{jt(Ve);const{error:en}=await $n.from("medications").delete().eq("id",Ve);if(en)throw en;ct(bs=>bs.filter(mn=>mn.id!==Ve))}catch(en){console.error("Failed to delete medication:",en),alert(en.message||"Failed to delete medication")}finally{jt(null)}},ge=()=>{if(Ct){alert("Please verify all medications before proceeding to chart summary.");return}t.navigate("ChartSummary",{patientId:Be,chartId:Fe,patient:$e,medications:xt.map(Ve=>({drugName:Ve.drugName,strength:Ve.strength,route:Ve.route,frequency:Ve.frequency,prescriber:Ve.prescriber,scannedDate:Ve.scannedDate}))})},pt=async Ve=>{try{if(ye(!0),!ce?.tenant_id){alert("User tenant ID is missing");return}if(!Fe){alert("Chart ID is missing");return}const Rt=await IE(Ve,Fe,ce.tenant_id);re(en=>[...en,Rt]),alert("Document uploaded!")}catch(Rt){console.error("Upload failed:",Rt),alert(Rt.message||"Failed to upload document")}finally{ye(!1)}},bt=async Ve=>{if(!mt)try{ye(!0),await OY(Ve.id,Ve.file_url),re(Rt=>Rt.filter(en=>en.id!==Ve.id))}catch(Rt){console.error("Delete failed:",Rt),alert(Rt.message||"Failed to delete document")}finally{ye(!1)}},yr=()=>{C(!1),A==="pdf"?alert("PDF generated and downloaded"):A==="fax"?u(!0):A==="email"&&m(!0)},Qr=()=>{alert("Fax sent successfully"),u(!1),We("Delivered (Locked)")},Ce=()=>{alert("Email sent successfully"),m(!1),We("Delivered (Locked)")},wt=()=>{L(!0)},tt=()=>{We("Archived"),L(!1),alert("Chart archived successfully")},Rr=()=>{V(!0)},Yr=()=>{We("Active"),V(!1),alert("Chart restored to Active status")},Lr=()=>{B(!0)},wr=async()=>{if(B(!1),!Fe){alert("Chart ID missing");return}try{const{data:Ve,error:Rt}=await $n.from("charts").update({status:"active"}).eq("id",Fe).select().single();if(Rt)throw Rt;We(q3(Ve.status)),alert("Chart unlocked successfully")}catch(Ve){console.error("Failed to unlock chart:",Ve),alert(Ve.message||"Failed to unlock chart")}};return s.jsx(zr,{children:s.jsxs("div",{className:"h-screen flex flex-col bg-[#f8fafc]",children:[s.jsxs("div",{className:"bg-gradient-to-r from-[#0966CC] to-[#0C4A6E] p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{onClick:()=>t.goBack(),className:"w-10 h-10 rounded-xl bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors",children:s.jsx(ln,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsxs("h1",{className:"text-lg text-white",children:[$e.first_name," ",$e.last_name]}),s.jsxs("p",{className:"text-sm text-white/80",children:["DOB: ",$e.dob]})]}),s.jsxs(tp,{children:[s.jsx(rp,{asChild:!0,children:s.jsx("button",{className:"w-10 h-10 rounded-xl bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors",children:s.jsx(Fm,{className:"w-5 h-5 text-white"})})}),s.jsxs(np,{align:"end",className:"w-56",children:[nt==="Delivered (Locked)"&&s.jsxs(s.Fragment,{children:[s.jsxs(fn,{onClick:Lr,className:"cursor-pointer",children:[s.jsx(Jx,{className:"w-4 h-4 mr-2"}),"Unlock Chart"]}),s.jsx(oc,{}),s.jsxs(fn,{onClick:wt,className:"cursor-pointer text-amber-600",children:[s.jsx(uo,{className:"w-4 h-4 mr-2"}),"Archive Chart"]})]}),nt==="Active"&&s.jsxs(fn,{onClick:wt,className:"cursor-pointer text-amber-600",children:[s.jsx(uo,{className:"w-4 h-4 mr-2"}),"Archive Chart"]}),nt==="Verified Ready"&&s.jsxs(fn,{onClick:wt,className:"cursor-pointer text-amber-600",children:[s.jsx(uo,{className:"w-4 h-4 mr-2"}),"Archive Chart"]}),nt==="Needs Reverification"&&s.jsxs(fn,{onClick:wt,className:"cursor-pointer text-amber-600",children:[s.jsx(uo,{className:"w-4 h-4 mr-2"}),"Archive Chart"]}),nt==="Archived"&&s.jsxs(fn,{onClick:Rr,className:"cursor-pointer text-green-600",children:[s.jsx(bf,{className:"w-4 h-4 mr-2"}),"Restore to Active"]})]})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs(ft,{className:mr.classes,children:[mr.icon," ",mr.text]})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 pb-32",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsxs("button",{onClick:()=>t.goBack(),className:"flex items-center gap-1 text-[#0966CC] hover:text-[#0C4A6E] transition-colors",children:[s.jsx(zN,{className:"w-4 h-4"}),"Back to Charts"]}),s.jsx("span",{className:"text-[#94a3b8]",children:"|"}),s.jsxs("span",{className:"text-[#64748b]",children:["Patient: ",$e.first_name," ",$e.last_name]}),s.jsx("span",{className:"text-[#94a3b8]",children:"|"}),s.jsxs("span",{className:"text-[#64748b]",children:["DOB ",$e.dob]})]}),mt&&s.jsxs("div",{className:"bg-sky-50 border-2 border-sky-100 rounded-xl p-4 flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-sky-100 flex items-center justify-center flex-shrink-0",children:s.jsx(os,{className:"w-4 h-4 text-sky-700"})}),s.jsxs("div",{className:"text-slate-700",children:[s.jsx("p",{className:"text-sm font-medium",children:"This chart is locked"}),s.jsx("p",{className:"text-xs text-slate-600",children:"Medications and attachments are read-only after delivery. Use the menu to unlock if corrections are needed."})]})]}),!mt&&cr>0&&s.jsxs("div",{className:"bg-gradient-to-br from-white to-[#f8fafc] rounded-2xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#E0F2FE] to-[#DBEAFE] flex items-center justify-center",children:s.jsx(Nm,{className:"w-6 h-6 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-[#0f172a]",children:"Verification Progress"}),s.jsxs("p",{className:"text-sm text-[#64748b]",children:[rr," of ",cr," medications verified"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl text-[#0f172a]",children:[Math.round(vt),"%"]}),s.jsx("div",{className:"text-xs text-[#64748b]",children:"Complete"})]})]}),s.jsx(SS,{value:vt,className:"h-2.5"}),vt===100&&s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-[#10B981] bg-[#D1FAE5]/50 rounded-xl px-3 py-2",children:[s.jsx(ur,{className:"w-4 h-4"}),s.jsx("span",{children:"All medications verified! Ready to finalize."})]})]}),Ct&&!mt&&s.jsx("div",{className:"bg-gradient-to-br from-[#FEF3C7] to-[#FEF9E7] border-0 rounded-2xl shadow-sm p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#F59E0B]/10 flex items-center justify-center flex-shrink-0",children:s.jsx(_i,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-[#92400E] mb-1",children:"Verification Required"}),s.jsx("p",{className:"text-sm text-[#92400E]/90 leading-relaxed",children:"Some medications have been changed after verification or need initial verification. All fields must be verified before delivery."})]}),s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsx("button",{className:"flex-shrink-0",children:s.jsx(mh,{className:"w-4 h-4 text-[#92400E]/70"})})}),s.jsx(Wr,{children:s.jsx("p",{className:"text-xs",children:"AI extraction confidence varies. Values below 85% require manual review for safety."})})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg text-[#0f172a]",children:"Medications"}),!mt&&s.jsxs(fe,{onClick:kt,disabled:U,className:"bg-[#0966CC] hover:bg-[#0C4A6E] text-white",children:[s.jsx($s,{className:"w-4 h-4 mr-2"}),U?"Adding...":"Add Medication"]})]}),s.jsx(Ur,{className:"mb-4"}),s.jsx("div",{className:"space-y-3",children:xt.map(Ve=>{const Rt=Or(Ve.confidence);return s.jsx("div",{className:"bg-[#f8fafc] rounded-xl border border-[#e2e8f0] p-4 hover:border-[#cbd5e1] transition-colors",children:s.jsx("div",{className:"flex items-start justify-between gap-4 mb-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("h3",{className:"text-[#0f172a]",children:[Ve.drugName," ",Ve.strength]}),s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${Rt.color}`}),s.jsxs("span",{className:"text-xs text-[#64748b]",children:[Ve.confidence,"%"]})]})}),s.jsx(Wr,{children:s.jsx("p",{className:"text-xs",children:Rt.message})})]}),!mt&&s.jsxs("div",{className:"flex items-center gap-2",children:[Ve.isVerified?s.jsxs(ft,{className:"bg-[#D1FAE5] text-[#10B981] border-[#A7F3D0]",children:[s.jsx(ur,{className:"w-3 h-3 mr-1"}),"Verified"]}):s.jsx(fe,{onClick:()=>Dr(Ve.id),size:"sm",className:"h-7 px-3 bg-[#0966CC] hover:bg-[#0C4A6E] text-white",children:"Verify"}),s.jsx(fe,{onClick:()=>Cr(Ve.id),variant:"ghost",size:"sm",className:"h-7 px-2",children:s.jsx(bh,{className:"w-3.5 h-3.5"})}),s.jsx(fe,{onClick:()=>Mt(Ve.id),variant:"ghost",size:"sm",title:"Delete medication",disabled:Et===Ve.id,className:"h-7 w-7 text-red-500 hover:text-red-600 hover:bg-red-50",children:s.jsx(Hf,{className:"w-3.5 h-3.5"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-4 gap-y-1 text-sm",children:[s.jsxs("div",{className:"pl-3",children:[s.jsx("span",{className:"text-xs text-[#94a3b8]",children:"Route:"})," ",s.jsx("span",{className:"text-[#64748b]",children:Ve.route})]}),s.jsxs("div",{className:"pl-3",children:[s.jsx("span",{className:"text-xs text-[#94a3b8]",children:"Frequency:"})," ",s.jsx("span",{className:"text-[#64748b]",children:Ve.frequency})]}),s.jsxs("div",{className:"pl-3",children:[s.jsx("span",{className:"text-xs text-[#94a3b8]",children:"Prescriber:"})," ",s.jsx("span",{className:"text-[#64748b]",children:Ve.prescriber})]}),s.jsxs("div",{className:"pl-3",children:[s.jsx("span",{className:"text-xs text-[#94a3b8]",children:"Scanned:"})," ",s.jsx("span",{className:"text-[#64748b]",children:Ve.scannedDate})]})]})]})})},Ve.id)})})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg text-[#0f172a]",children:"Attached Documents"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{onClick:Pe,variant:"ghost",className:"h-9 w-9",title:"Refresh",disabled:le,children:s.jsx(wm,{className:`w-4 h-4 ${le?"animate-spin":""}`})}),!mt&&s.jsxs(fe,{onClick:()=>l(!0),variant:"outline",className:"border-[#e2e8f0]",children:[s.jsx(Bm,{className:"w-4 h-4 mr-2"}),"Attach"]})]})]}),s.jsx(Ur,{className:"mb-4"}),mt?J.length===0?s.jsx("p",{className:"text-sm text-[#64748b]",children:"No documents attached"}):null:s.jsx("div",{className:`border-2 border-dashed rounded-xl p-8 transition-colors ${P?"border-[#0966CC] bg-[#E0F2FE]":"border-[#cbd5e1] bg-[#f8fafc]"}`,onDragEnter:Ve=>{Ve.preventDefault(),M(!0)},onDragLeave:Ve=>{Ve.preventDefault(),M(!1)},onDragOver:Ve=>{Ve.preventDefault()},onDrop:async Ve=>{Ve.preventDefault(),M(!1);const Rt=Ve.dataTransfer.files?.[0];Rt&&pt(Rt)},children:s.jsxs("div",{className:"text-center",children:[s.jsx(Va,{className:"w-12 h-12 text-[#94a3b8] mx-auto mb-3"}),s.jsxs("p",{className:"text-[#64748b] mb-2",children:[" Drag & drop or"," ",s.jsx("button",{onClick:()=>lt.current?.click(),className:"text-[#0966CC] hover:text-[#0C4A6E] underline",children:"browse files"}),s.jsx("input",{ref:lt,type:"file",accept:"image/*,.pdf",hidden:!0,onChange:Ve=>{const Rt=Ve.target.files?.[0];Rt&&pt(Rt)}})]}),s.jsx("p",{className:"text-xs text-[#94a3b8]",children:"Accepted: PDF, JPG, PNG"})]})}),s.jsx("div",{className:"mt-4",children:le?s.jsx("p",{className:"text-sm text-[#64748b]",children:"Loading documents"}):je?s.jsx("p",{className:"text-sm text-red-600",children:je}):J.length===0?s.jsx("p",{className:"text-sm text-[#64748b]",children:"No documents attached to this chart yet."}):s.jsx("div",{className:"space-y-3",children:J.map(Ve=>s.jsxs("div",{className:"flex items-center justify-between bg-[#f8fafc] border border-[#e2e8f0] rounded-xl px-4 py-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a] font-medium",children:Ve.file_name}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[Ve.file_type,"  ",new Date(Ve.created_at).toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("a",{href:Ve.file_url,target:"_blank",rel:"noreferrer",className:"text-sm text-[#0966CC] hover:text-[#0C4A6E] underline",children:"View"}),!mt&&s.jsx(fe,{onClick:()=>bt(Ve),variant:"ghost",className:"h-9 w-9",title:"Delete",disabled:le,children:s.jsx(Hf,{className:"w-4 h-4"})})]})]},Ve.id))})})]})]})}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-[#e2e8f0] shadow-lg p-4 z-10",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:!mt&&vt===100?s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(fe,{onClick:kt,disabled:U,variant:"outline",className:"flex-1 h-12 border-2 border-[#e2e8f0]",children:[s.jsx($s,{className:"w-4 h-4 mr-2"}),U?"Adding...":"Add Medication"]}),s.jsxs(fe,{onClick:ge,className:"flex-1 h-12 bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(ur,{className:"w-4 h-4 mr-2"}),"Finalize Chart"]})]}):mt?s.jsxs(fe,{onClick:()=>t.goBack(),variant:"outline",className:"w-full h-12 border-2 border-[#e2e8f0]",children:[s.jsx(zN,{className:"w-4 h-4 mr-2"}),"Back to Charts"]}):s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(fe,{onClick:kt,disabled:U,variant:"outline",className:"flex-1 h-12 border-2 border-[#e2e8f0]",children:[s.jsx($s,{className:"w-4 h-4 mr-2"}),U?"Adding...":"Add Medication"]}),s.jsxs(fe,{onClick:()=>{alert("Draft saved")},className:"flex-1 h-12 bg-[#0966CC] hover:bg-[#0C4A6E] text-white",children:[s.jsx(Nw,{className:"w-4 h-4 mr-2"}),"Save Draft"]})]})})}),s.jsx(_r,{open:i,onOpenChange:a,children:s.jsxs(jr,{className:"sm:max-w-[500px]",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"New Medication"}),s.jsx(Pr,{children:"Add a new medication to this chart"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(fe,{onClick:()=>{a(!1),p(!0)},className:"h-12 rounded-xl bg-[#0966CC] hover:bg-[#0C4A6E] text-white",children:[s.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Scan Barcode"]}),s.jsxs(fe,{onClick:()=>{a(!1),w(!0)},variant:"outline",className:"h-12 rounded-xl border-2 border-[#e2e8f0]",children:[s.jsx(ir,{className:"w-4 h-4 mr-2"}),"OCR Label"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-[#e2e8f0]"})}),s.jsx("div",{className:"relative flex justify-center text-xs",children:s.jsx("span",{className:"bg-white px-2 text-[#64748b]",children:"or enter manually"})})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"drugName",children:"Drug Name *"}),s.jsx(it,{id:"drugName",placeholder:"Enter drug name",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]",value:F,onChange:Ve=>X(Ve.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"strength",children:"Strength"}),s.jsx(it,{id:"strength",placeholder:"e.g., 500 mg",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]",value:ee,onChange:Ve=>xe(Ve.target.value)})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"route",children:"Route"}),s.jsx(it,{id:"route",placeholder:"e.g., PO",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]",value:oe,onChange:Ve=>pe(Ve.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"frequency",children:"Frequency"}),s.jsx(it,{id:"frequency",placeholder:"e.g., BID",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]",value:H,onChange:Ve=>q(Ve.target.value)})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"prescriber",children:"Prescriber"}),s.jsx(it,{id:"prescriber",placeholder:"Dr. Name",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]",value:ie,onChange:Ve=>G(Ve.target.value)})]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"scannedOn",children:"Scanned On"}),s.jsx(it,{id:"scannedOn",type:"datetime-local",placeholder:"mm/dd/yyyy --:-- --",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]",value:R,onChange:Ve=>z(Ve.target.value)})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(fe,{onClick:()=>a(!1),variant:"outline",className:"flex-1 h-12 rounded-xl",children:"Cancel"}),s.jsx(fe,{onClick:Qt,disabled:U||!F.trim(),className:"flex-1 h-12 rounded-xl bg-[#0966CC] hover:bg-[#0C4A6E] text-white",children:U?"Adding":"Add Medication"})]})]})}),s.jsx(_r,{open:c,onOpenChange:u,children:s.jsxs(jr,{className:"sm:max-w-[500px]",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Send via Fax"}),s.jsx(Pr,{children:"Enter the fax number to send this chart"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"faxNumber",children:"Fax Number *"}),s.jsx(it,{id:"faxNumber",type:"tel",placeholder:"(555) 123-4567",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"faxNote",children:"Note (Optional)"}),s.jsx(it,{id:"faxNote",placeholder:"Add a note for the recipient",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(fe,{onClick:()=>u(!1),variant:"outline",className:"flex-1 h-12 rounded-xl",children:"Cancel"}),s.jsxs(fe,{onClick:Qr,className:"flex-1 h-12 rounded-xl bg-[#10B981] hover:bg-[#059669] text-white",children:[s.jsx(vf,{className:"w-4 h-4 mr-2"}),"Send Fax"]})]})]})}),s.jsx(_r,{open:h,onOpenChange:m,children:s.jsxs(jr,{className:"sm:max-w-[500px]",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Send via Email"}),s.jsx(Pr,{children:"Enter the email address to send this chart"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"emailAddress",children:"Email Address *"}),s.jsx(it,{id:"emailAddress",type:"email",placeholder:"recipient@example.com",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"emailSubject",children:"Subject"}),s.jsx(it,{id:"emailSubject",defaultValue:`Patient Chart - ${$e.first_name} ${$e.last_name}`,className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"emailMessage",children:"Message (Optional)"}),s.jsx(it,{id:"emailMessage",placeholder:"Add a message",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(fe,{onClick:()=>m(!1),variant:"outline",className:"flex-1 h-12 rounded-xl",children:"Cancel"}),s.jsxs(fe,{onClick:Ce,className:"flex-1 h-12 rounded-xl bg-[#F59E0B] hover:bg-[#D97706] text-white",children:[s.jsx(On,{className:"w-4 h-4 mr-2"}),"Send Email"]})]})]})}),s.jsx(_r,{open:o,onOpenChange:l,children:s.jsxs(jr,{className:"sm:max-w-[500px]",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Attach Document"}),s.jsx(Pr,{children:"Choose how you want to capture the document"})]}),s.jsxs("div",{className:"space-y-3 py-4",children:[s.jsx("button",{onClick:()=>{l(!1)},className:"w-full bg-white rounded-xl border-2 border-[#e2e8f0] p-4 hover:border-[#0966CC] hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#E0F2FE] flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:s.jsx(Vs,{className:"w-6 h-6 text-[#0966CC]"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-[#0f172a] mb-1",children:"Bottle Photo"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Scan medication bottle labels"})]})]})}),s.jsx("button",{onClick:()=>{l(!1)},className:"w-full bg-white rounded-xl border-2 border-[#e2e8f0] p-4 hover:border-[#0966CC] hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:s.jsx(ir,{className:"w-6 h-6 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-[#0f172a] mb-1",children:"Document Scan"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Scan paper documents (DC summary, PCP med list, referrals)"})]})]})}),s.jsx("button",{onClick:()=>{l(!1)},className:"w-full bg-white rounded-xl border-2 border-[#e2e8f0] p-4 hover:border-[#0966CC] hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#FEF3C7] flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:s.jsx(ga,{className:"w-6 h-6 text-[#F59E0B]"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-[#0f172a] mb-1",children:"Import PDF/Image"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Import a PDF or photo of a document"})]})]})})]})]})}),x&&s.jsx(_E,{onMedicationsScanned:Ve=>{const Rt=Ve[0];Rt?Dt(Rt):p(!1)},onCancel:()=>p(!1)}),y&&s.jsx(TE,{onMedicationsScanned:Ve=>{const Rt=Ve[0];Rt?Dt(Rt):w(!1)},onCancel:()=>w(!1)}),s.jsx($d,{open:j,onOpenChange:C,children:s.jsxs(zd,{children:[s.jsxs(Hd,{children:[s.jsx(Wd,{children:"Confirm Delivery"}),s.jsxs(Gd,{children:["Are you sure you want to send this chart?",s.jsx("br",{}),s.jsx("strong",{className:"text-[#92400E]",children:" This chart will be locked after delivery."})]})]}),s.jsxs(qd,{children:[s.jsx(Yd,{className:"h-12 rounded-xl",children:" Cancel"}),s.jsx(Kd,{onClick:yr,className:"h-12 rounded-xl bg-[#10B981] hover:bg-[#059669] text-white",children:" Confirm & Deliver"})]})]})}),s.jsx($d,{open:$,onOpenChange:L,children:s.jsxs(zd,{children:[s.jsxs(Hd,{children:[s.jsx(Wd,{children:"Archive Chart"}),s.jsxs(Gd,{children:["Are you sure you want to archive this chart?",s.jsx("br",{}),s.jsx("br",{}),"Archived charts can be restored to Active status at any time."]})]}),s.jsxs(qd,{children:[s.jsx(Yd,{className:"h-12 rounded-xl",children:"Cancel"}),s.jsxs(Kd,{onClick:tt,className:"h-12 rounded-xl bg-amber-600 hover:bg-amber-700 text-white",children:[s.jsx(uo,{className:"w-4 h-4 mr-2"}),"Archive Chart"]})]})]})}),s.jsx($d,{open:D,onOpenChange:V,children:s.jsxs(zd,{children:[s.jsxs(Hd,{children:[s.jsx(Wd,{children:"Restore Chart"}),s.jsxs(Gd,{children:["Are you sure you want to restore this chart to Active status?",s.jsx("br",{}),s.jsx("br",{}),"The chart will be moved from Archived to Active and can be edited again."]})]}),s.jsxs(qd,{children:[s.jsx(Yd,{className:"h-12 rounded-xl",children:"Cancel"}),s.jsxs(Kd,{onClick:Yr,className:"h-12 rounded-xl bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(bf,{className:"w-4 h-4 mr-2"}),"Restore to Active"]})]})]})}),s.jsx($d,{open:ne,onOpenChange:B,children:s.jsxs(zd,{children:[s.jsxs(Hd,{children:[s.jsx(Wd,{children:"Unlock Chart"}),s.jsxs(Gd,{children:["Are you sure you want to unlock this chart?",s.jsx("br",{}),s.jsx("br",{}),s.jsx("strong",{className:"text-amber-700",children:" Warning:"})," Unlocking will allow the chart to be edited again. This should only be done if corrections are needed."]})]}),s.jsxs(qd,{children:[s.jsx(Yd,{className:"h-12 rounded-xl",children:"Cancel"}),s.jsxs(Kd,{onClick:wr,className:"h-12 rounded-xl bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(Jx,{className:"w-4 h-4 mr-2"}),"Unlock Chart"]})]})]})})]})})}function $Z({navigation:t,route:e}){const{patientId:r,chartId:n,medicationId:i,mode:a}=e.params||{},o=a==="edit",{user:l}=po(),[c,u]=_.useState({value:"",isVerified:!1,confidence:90}),[h,m]=_.useState({value:"",isVerified:!1,confidence:85}),[x,p]=_.useState({value:"",isVerified:!1,confidence:90}),[y,w]=_.useState({value:"",isVerified:!1,confidence:80}),[j,C]=_.useState({value:"",isVerified:!1,confidence:80}),[A,k]=_.useState(""),[P,M]=_.useState(!1),[$,L]=_.useState(null);_.useEffect(()=>{(async()=>{if(i)try{M(!0);const{data:ee,error:xe}=await $n.from("medications").select("drug_name, strength, route, frequency, prescriber, scanned_on, ocr_confidence, verified").eq("id",i).single();if(xe)throw xe;if(!ee)return;const oe=ee.ocr_confidence!=null?Math.round(Number(ee.ocr_confidence)*100):90;u({value:ee.drug_name??"",isVerified:!!ee.verified,confidence:oe}),m({value:ee.strength??"",isVerified:!!ee.verified,confidence:oe}),p({value:ee.route??"",isVerified:!!ee.verified,confidence:oe}),w({value:ee.frequency??"",isVerified:!!ee.verified,confidence:oe}),C({value:ee.prescriber??"",isVerified:!!ee.verified,confidence:oe}),k(ee.scanned_on?new Date(ee.scanned_on).toLocaleString():""),L(null)}catch(ee){console.error("Error loading medication",ee),L(ee.message||"Failed to load medication")}finally{M(!1)}})()},[i]);const D=c.isVerified&&h.isVerified&&x.isVerified&&y.isVerified&&j.isVerified,V=X=>{switch(X){case"drugName":u({...c,isVerified:!0});break;case"strength":m({...h,isVerified:!0});break;case"medicationRoute":p({...x,isVerified:!0});break;case"frequency":w({...y,isVerified:!0});break;case"prescriber":C({...j,isVerified:!0});break}},ne=()=>{t.navigate("ClinicianDashboard")},B=async()=>{if(!D){alert("Please verify all fields before saving");return}try{if(M(!0),!n||!l?.tenant_id)throw new Error("Missing chart or tenant information");const X={chart_id:n,tenant_id:l.tenant_id,drug_name:c.value,strength:h.value||null,route:x.value||null,frequency:y.value||null,prescriber:j.value||null,instructions:null,notes:null,scanned_on:A?new Date(A).toISOString():null,ocr_confidence:.9,verified:!0,changed_after_verify:!1};let ee=i;if(i){const{data:xe,error:oe}=await $n.from("medications").update(X).eq("id",i).select("id").single();if(oe)throw oe;ee=xe.id}else{const{data:xe,error:oe}=await $n.from("medications").insert([X]).select("id").single();if(oe)throw oe;ee=xe.id}t.navigate("ChartDetail",{patientId:r,chartId:n})}catch(X){console.error("Error saving medication",X),alert(X.message||"Failed to save medication")}finally{M(!1)}},F=({label:X,field:ee,value:xe,isVerified:oe,confidence:pe,onChange:H,onVerify:q})=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(qe,{htmlFor:ee,children:X}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ft,{className:pe>=90?"bg-[#D1FAE5] text-[#10B981] border-[#A7F3D0]":pe>=75?"bg-[#FEF3C7] text-[#F59E0B] border-[#FDE68A]":"bg-[#FEE2E2] text-[#DC2626] border-[#FECACA]",children:[pe,"% confidence"]}),oe&&s.jsxs(ft,{className:"bg-[#D1FAE5] text-[#10B981] border-[#A7F3D0]",children:[s.jsx(ur,{className:"w-3 h-3 mr-1"}),"Verified"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(it,{id:ee,value:xe,onChange:ie=>H(ie.target.value),className:"flex-1 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]"}),!oe&&s.jsx(fe,{onClick:q,className:"bg-[#0966CC] hover:bg-[#0C4A6E] text-white px-6",children:"Verify"})]})]});return s.jsxs("div",{className:"h-screen flex flex-col bg-[#f8fafc]",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#0966CC] to-[#0C4A6E] p-5",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>t.goBack(),className:"w-10 h-10 rounded-xl bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors",children:s.jsx(ln,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-lg text-white",children:o?"Edit Medication":"Verify Medication"}),s.jsxs(fe,{onClick:ne,variant:"ghost",size:"sm",className:"h-9 px-3 rounded-xl bg-white/10 hover:bg-white/20 text-white text-sm font-medium flex items-center gap-1",children:[s.jsx(zs,{className:"w-4 h-4"}),"Exit"]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[!D&&s.jsx("div",{className:"bg-[#FEF3C7] border-2 border-[#FDE68A] rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Zs,{className:"w-5 h-5 text-[#F59E0B] flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-[#92400E] mb-1",children:"Field Verification Required"}),s.jsx("p",{className:"text-sm text-[#92400E]",children:'Please review and verify each field. Click "Verify" on each field after confirming the information is correct.'})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg text-[#0f172a]",children:"Scanned Image"}),s.jsxs(ft,{className:"bg-[#E0F2FE] text-[#0966CC] border-[#BFDBFE]",children:[s.jsx(Vs,{className:"w-3 h-3 mr-1"}),A]})]}),s.jsx("div",{className:"aspect-video bg-[#f8fafc] rounded-xl border-2 border-dashed border-[#e2e8f0] flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Vs,{className:"w-12 h-12 text-[#cbd5e1] mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Scanned medication bottle image"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6",children:[s.jsx("h2",{className:"text-lg text-[#0f172a] mb-4",children:"Medication Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(F,{label:"Drug Name",field:"drugName",value:c.value,isVerified:c.isVerified,confidence:c.confidence,onChange:X=>u({...c,value:X,isVerified:!1}),onVerify:()=>V("drugName")}),s.jsx(F,{label:"Strength",field:"strength",value:h.value,isVerified:h.isVerified,confidence:h.confidence,onChange:X=>m({...h,value:X,isVerified:!1}),onVerify:()=>V("strength")}),s.jsx(F,{label:"Route",field:"medicationRoute",value:x.value,isVerified:x.isVerified,confidence:x.confidence,onChange:X=>p({...x,value:X,isVerified:!1}),onVerify:()=>V("medicationRoute")}),s.jsx(F,{label:"Frequency",field:"frequency",value:y.value,isVerified:y.isVerified,confidence:y.confidence,onChange:X=>w({...y,value:X,isVerified:!1}),onVerify:()=>V("frequency")}),s.jsx(F,{label:"Prescriber",field:"prescriber",value:j.value,isVerified:j.isVerified,confidence:j.confidence,onChange:X=>C({...j,value:X,isVerified:!1}),onVerify:()=>V("prescriber")})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(fe,{onClick:()=>t.goBack(),variant:"outline",className:"flex-1 h-12 rounded-xl border-2 border-[#e2e8f0]",children:"Cancel"}),s.jsxs(fe,{onClick:B,className:"flex-1 h-12 rounded-xl bg-[#0966CC] hover:bg-[#0C4A6E] text-white",disabled:!D,children:[s.jsx(ur,{className:"w-4 h-4 mr-2"}),"Save ",D?"":"(Verify All Fields)"]})]})]})})]})}function zZ({navigation:t,route:e}){const{patient:r,medications:n=[],patientId:i,chartId:a}=e.params||{},o={first_name:"",last_name:"",dob:"",phone:"",address1:"",address2:"",city:"",state:"",zip_code:"",notes:"",...r||{}},l=()=>{t.goBack()},c=()=>{t.navigate("ClinicianDashboard")},u=()=>{t.navigate("ChartDelivery",{patient:o,patientId:i,chartId:a,medications:n})},h=x=>x?new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not provided",m=x=>{if(!x)return null;const p=new Date,y=new Date(x);let w=p.getFullYear()-y.getFullYear();const j=p.getMonth()-y.getMonth();return(j<0||j===0&&p.getDate()<y.getDate())&&w--,w};return s.jsxs("div",{className:"h-screen flex flex-col bg-[#f8fafc]",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#0966CC] to-[#0C4A6E] p-5 shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:l,className:"w-10 h-10 rounded-xl bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors","aria-label":"Back",children:s.jsx(ln,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-lg text-white",children:"Chart Summary"}),s.jsxs(fe,{onClick:c,variant:"ghost",size:"sm",className:"h-9 px-3 rounded-xl bg-white/10 hover:bg-white/20 text-white text-sm font-medium flex items-center gap-1",children:[s.jsx(zs,{className:"w-4 h-4"}),"Exit"]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto pb-24",children:s.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"bg-white rounded-2xl border border-sky-200 p-5 shadow-sm",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-sky-100 flex items-center justify-center flex-shrink-0",children:s.jsx(ur,{className:"w-5 h-5 text-sky-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-slate-900 mb-1",children:"Review Complete Chart"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Please confirm all information is correct before proceeding to delivery"})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"p-5 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-sky-100 flex items-center justify-center",children:s.jsx(Ts,{className:"w-5 h-5 text-sky-600"})}),s.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Patient Information"})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("h4",{className:"text-2xl text-slate-900 font-semibold mb-2",children:[o.first_name," ",o.last_name]}),o.dob&&s.jsxs("p",{className:"text-slate-600",children:["Age ",m(o.dob),"  DOB: ",h(o.dob)]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-5 border-b border-slate-200 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-100 flex items-center justify-center",children:s.jsx(zf,{className:"w-5 h-5 text-green-600"})}),s.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Verified Medications"})]}),s.jsxs(ft,{className:"bg-[#D1FAE5] text-[#10B981] border-[#A7F3D0]",children:[s.jsx(ur,{className:"w-3 h-3 mr-1"}),n?.length||0," Medications"]})]}),s.jsx("div",{className:"divide-y divide-slate-200",children:n?.map((x,p)=>s.jsx("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-sky-50 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-sm font-semibold text-sky-600",children:p+1})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"mb-3",children:s.jsxs("h4",{className:"text-lg text-slate-900 font-semibold",children:[x.drugName," ",x.strength]})}),s.jsx(Ur,{className:"my-3"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Drug Name"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm text-slate-900 font-medium",children:x.drugName}),s.jsx(ur,{className:"w-3.5 h-3.5 text-green-600"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Strength"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm text-slate-900 font-medium",children:x.strength}),s.jsx(ur,{className:"w-3.5 h-3.5 text-green-600"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Route"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm text-slate-900 font-medium",children:x.route}),s.jsx(ur,{className:"w-3.5 h-3.5 text-green-600"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Frequency"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm text-slate-900 font-medium",children:x.frequency}),s.jsx(ur,{className:"w-3.5 h-3.5 text-green-600"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Prescriber"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm text-slate-900 font-medium",children:x.prescriber}),s.jsx(ur,{className:"w-3.5 h-3.5 text-green-600"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Scanned Date"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ho,{className:"w-3.5 h-3.5 text-slate-400"}),s.jsx("p",{className:"text-sm text-slate-900 font-medium",children:x.scannedDate})]})]})]})]})]})},p))})]}),s.jsx("div",{className:"bg-sky-50 border border-sky-200 rounded-2xl p-5",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-sky-600 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"!"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-slate-900 font-medium mb-1",children:"Confirm Complete Chart"}),s.jsxs("p",{className:"text-sm text-slate-600",children:["By proceeding, you confirm that all ",n?.length||0," medication(s) have been reviewed and are accurate. Next, you'll select delivery options."]})]})]})})]})}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 shadow-lg z-50",children:s.jsx("div",{className:"max-w-2xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(fe,{onClick:l,variant:"outline",className:"flex-1 h-12 rounded-xl border-2 border-slate-300 hover:bg-slate-50 text-slate-700 font-medium",children:[s.jsx(ln,{className:"w-4 h-4 mr-2"}),"Back to Chart"]}),s.jsxs(fe,{onClick:u,className:"flex-1 h-12 rounded-xl bg-green-600 hover:bg-green-700 text-white font-medium shadow-sm",children:[s.jsx(ur,{className:"w-4 h-4 mr-2"}),"Confirm & Continue to Delivery"]})]})})})]})}const HZ="modulepreload",qZ=function(t){return"/"+t},W3={},p2=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=o(r.map(u=>{if(u=qZ(u),u in W3)return;W3[u]=!0;const h=u.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":HZ,h||(x.as="script"),x.crossOrigin="",x.href=u,c&&x.setAttribute("nonce",c),document.head.appendChild(x),h)return new Promise((p,y)=>{x.addEventListener("load",p),x.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};function Sn(t){"@babel/helpers - typeof";return Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(t)}var El=Uint8Array,ho=Uint16Array,Yb=Int32Array,Xb=new El([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zb=new El([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),G3=new El([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),I7=function(t,e){for(var r=new ho(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new Yb(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},D7=I7(Xb,2),WZ=D7.b,Zy=D7.r;WZ[28]=258,Zy[258]=28;var GZ=I7(Zb,0),K3=GZ.r,Jy=new ho(32768);for(var Zn=0;Zn<32768;++Zn){var Ld=(Zn&43690)>>1|(Zn&21845)<<1;Ld=(Ld&52428)>>2|(Ld&13107)<<2,Ld=(Ld&61680)>>4|(Ld&3855)<<4,Jy[Zn]=((Ld&65280)>>8|(Ld&255)<<8)>>1}var mm=(function(t,e,r){for(var n=t.length,i=0,a=new ho(e);i<n;++i)t[i]&&++a[t[i]-1];var o=new ho(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(r){l=new ho(1<<e);var c=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],h=e-t[i],m=o[t[i]-1]++<<h,x=m|(1<<h)-1;m<=x;++m)l[Jy[m]>>c]=u}else for(l=new ho(n),i=0;i<n;++i)t[i]&&(l[i]=Jy[o[t[i]-1]++]>>15-t[i]);return l}),yh=new El(288);for(var Zn=0;Zn<144;++Zn)yh[Zn]=8;for(var Zn=144;Zn<256;++Zn)yh[Zn]=9;for(var Zn=256;Zn<280;++Zn)yh[Zn]=7;for(var Zn=280;Zn<288;++Zn)yh[Zn]=8;var g1=new El(32);for(var Zn=0;Zn<32;++Zn)g1[Zn]=5;var KZ=mm(yh,9,0),YZ=mm(g1,5,0),R7=function(t){return(t+7)/8|0},XZ=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new El(t.subarray(e,r))},qc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},z0=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},x2=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:L7,l:0};if(i==1){var o=new El(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(M,$){return M.f-$.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,h=1,m=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};h!=i-1;)l=r[r[u].f<r[m].f?u++:m++],c=r[u!=h&&r[u].f<r[m].f?u++:m++],r[h++]={s:-1,f:l.f+c.f,l,r:c};for(var x=a[0].s,n=1;n<i;++n)a[n].s>x&&(x=a[n].s);var p=new ho(x+1),y=Qy(r[h-1],p,0);if(y>e){var n=0,w=0,j=y-e,C=1<<j;for(a.sort(function($,L){return p[L.s]-p[$.s]||$.f-L.f});n<i;++n){var A=a[n].s;if(p[A]>e)w+=C-(1<<y-p[A]),p[A]=e;else break}for(w>>=j;w>0;){var k=a[n].s;p[k]<e?w-=1<<e-p[k]++-1:++n}for(;n>=0&&w;--n){var P=a[n].s;p[P]==e&&(--p[P],++w)}y=e}return{t:new El(p),l:y}},Qy=function(t,e,r){return t.s==-1?Math.max(Qy(t.l,e,r+1),Qy(t.r,e,r+1)):e[t.s]=r},Y3=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ho(++e),n=0,i=t[0],a=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[l]}return{c:r.subarray(0,n),n:e}},H0=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},O7=function(t,e,r){var n=r.length,i=R7(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},X3=function(t,e,r,n,i,a,o,l,c,u,h){qc(e,h++,r),++i[256];for(var m=x2(i,15),x=m.t,p=m.l,y=x2(a,15),w=y.t,j=y.l,C=Y3(x),A=C.c,k=C.n,P=Y3(w),M=P.c,$=P.n,L=new ho(19),D=0;D<A.length;++D)++L[A[D]&31];for(var D=0;D<M.length;++D)++L[M[D]&31];for(var V=x2(L,7),ne=V.t,B=V.l,F=19;F>4&&!ne[G3[F-1]];--F);var X=u+5<<3,ee=H0(i,yh)+H0(a,g1)+o,xe=H0(i,x)+H0(a,w)+o+14+3*F+H0(L,ne)+2*L[16]+3*L[17]+7*L[18];if(c>=0&&X<=ee&&X<=xe)return O7(e,h,t.subarray(c,c+u));var oe,pe,H,q;if(qc(e,h,1+(xe<ee)),h+=2,xe<ee){oe=mm(x,p,0),pe=x,H=mm(w,j,0),q=w;var ie=mm(ne,B,0);qc(e,h,k-257),qc(e,h+5,$-1),qc(e,h+10,F-4),h+=14;for(var D=0;D<F;++D)qc(e,h+3*D,ne[G3[D]]);h+=3*F;for(var G=[A,M],R=0;R<2;++R)for(var z=G[R],D=0;D<z.length;++D){var U=z[D]&31;qc(e,h,ie[U]),h+=ne[U],U>15&&(qc(e,h,z[D]>>5&127),h+=z[D]>>12)}}else oe=KZ,pe=yh,H=YZ,q=g1;for(var D=0;D<l;++D){var Q=n[D];if(Q>255){var U=Q>>18&31;z0(e,h,oe[U+257]),h+=pe[U+257],U>7&&(qc(e,h,Q>>23&31),h+=Xb[U]);var J=Q&31;z0(e,h,H[J]),h+=q[J],J>3&&(z0(e,h,Q>>5&8191),h+=Zb[J])}else z0(e,h,oe[Q]),h+=pe[Q]}return z0(e,h,oe[256]),h+pe[256]},ZZ=new Yb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),L7=new El(0),JZ=function(t,e,r,n,i,a){var o=a.z||t.length,l=new El(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),u=a.l,h=(a.r||0)&7;if(e){h&&(c[0]=a.r>>3);for(var m=ZZ[e-1],x=m>>13,p=m&8191,y=(1<<r)-1,w=a.p||new ho(32768),j=a.h||new ho(y+1),C=Math.ceil(r/3),A=2*C,k=function(Te){return(t[Te]^t[Te+1]<<C^t[Te+2]<<A)&y},P=new Yb(25e3),M=new ho(288),$=new ho(32),L=0,D=0,V=a.i||0,ne=0,B=a.w||0,F=0;V+2<o;++V){var X=k(V),ee=V&32767,xe=j[X];if(w[ee]=xe,j[X]=ee,B<=V){var oe=o-V;if((L>7e3||ne>24576)&&(oe>423||!u)){h=X3(t,c,0,P,M,$,D,ne,F,V-F,h),ne=L=D=0,F=V;for(var pe=0;pe<286;++pe)M[pe]=0;for(var pe=0;pe<30;++pe)$[pe]=0}var H=2,q=0,ie=p,G=ee-xe&32767;if(oe>2&&X==k(V-G))for(var R=Math.min(x,oe)-1,z=Math.min(32767,V),U=Math.min(258,oe);G<=z&&--ie&&ee!=xe;){if(t[V+H]==t[V+H-G]){for(var Q=0;Q<U&&t[V+Q]==t[V+Q-G];++Q);if(Q>H){if(H=Q,q=G,Q>R)break;for(var J=Math.min(G,Q-2),re=0,pe=0;pe<J;++pe){var le=V-G+pe&32767,ye=w[le],je=le-ye&32767;je>re&&(re=je,xe=le)}}}ee=xe,xe=w[ee],G+=ee-xe&32767}if(q){P[ne++]=268435456|Zy[H]<<18|K3[q];var Se=Zy[H]&31,Be=K3[q]&31;D+=Xb[Se]+Zb[Be],++M[257+Se],++$[Be],B=V+H,++L}else P[ne++]=t[V],++M[t[V]]}}for(V=Math.max(V,B);V<o;++V)P[ne++]=t[V],++M[t[V]];h=X3(t,c,u,P,M,$,D,ne,F,V-F,h),u||(a.r=h&7|c[h/8|0]<<3,h-=7,a.h=j,a.p=w,a.i=V,a.w=B)}else{for(var V=a.w||0;V<o+u;V+=65535){var Fe=V+65535;Fe>=o&&(c[h/8|0]=u,Fe=o),h=O7(c,h+1,t.subarray(V,Fe))}a.i=o}return XZ(l,0,n+R7(h)+i)},F7=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},QZ=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new El(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return JZ(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},M7=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},eJ=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=F7();i.p(e.dictionary),M7(t,2,i.d())}};function ew(t,e){e||(e={});var r=F7();r.p(t);var n=QZ(t,e,e.dictionary?6:2,4);return eJ(n,e),M7(n,n.length-4,r.d()),n}var tJ=typeof TextDecoder<"u"&&new TextDecoder,rJ=0;try{tJ.decode(L7,{stream:!0}),rJ=1}catch{}function nJ(t){if(Array.isArray(t))return t}function sJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Z3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function iJ(t,e){if(t){if(typeof t=="string")return Z3(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z3(t,e):void 0}}function aJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J3(t,e){return nJ(t)||sJ(t,e)||iJ(t,e)||aJ()}function Q3(t,e="utf8"){return new TextDecoder(e).decode(t)}const oJ=new TextEncoder;function lJ(t){return oJ.encode(t)}const cJ=1024*8,dJ=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),g2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Jb{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=cJ,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof Jb)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=g2[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===dJ&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new g2[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new g2[r](a);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return Q3(this.readBytes(e))}decodeText(e=1,r="utf8"){return Q3(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(lJ(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function d0(t){let e=t.length;for(;--e>=0;)t[e]=0}const uJ=3,hJ=258,B7=29,fJ=256,mJ=fJ+1+B7,U7=30,pJ=512,xJ=new Array((mJ+2)*2);d0(xJ);const gJ=new Array(U7*2);d0(gJ);const vJ=new Array(pJ);d0(vJ);const yJ=new Array(hJ-uJ+1);d0(yJ);const wJ=new Array(B7);d0(wJ);const bJ=new Array(U7);d0(bJ);const NJ=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var tw=NJ;const jJ=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},CJ=new Uint32Array(jJ()),_J=(t,e,r,n)=>{const i=CJ,a=n+r;t^=-1;for(let o=n;o<a;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Xl=_J,rw={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},V7={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const AJ=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var SJ=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)AJ(r,n)&&(t[n]=r[n])}}return t},EJ=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let o=t[n];r.set(o,i),i+=o.length}return r},$7={assign:SJ,flattenChunks:EJ};let z7=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{z7=!1}const Rm=new Uint8Array(256);for(let t=0;t<256;t++)Rm[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Rm[254]=Rm[254]=1;var kJ=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,o=t.length,l=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),a=0,i=0;a<l;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const PJ=(t,e)=>{if(e<65534&&t.subarray&&z7)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var TJ=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){a[i++]=o;continue}let l=Rm[o];if(l>4){a[i++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|t[n++]&63,l--;if(l>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return PJ(a,i)},IJ=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Rm[t[r]]>e?r:e},nw={string2buf:kJ,buf2string:TJ,utf8border:IJ};function DJ(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var RJ=DJ;const mx=16209,OJ=16191;var LJ=function(e,r){let n,i,a,o,l,c,u,h,m,x,p,y,w,j,C,A,k,P,M,$,L,D,V,ne;const B=e.state;n=e.next_in,V=e.input,i=n+(e.avail_in-5),a=e.next_out,ne=e.output,o=a-(r-e.avail_out),l=a+(e.avail_out-257),c=B.dmax,u=B.wsize,h=B.whave,m=B.wnext,x=B.window,p=B.hold,y=B.bits,w=B.lencode,j=B.distcode,C=(1<<B.lenbits)-1,A=(1<<B.distbits)-1;e:do{y<15&&(p+=V[n++]<<y,y+=8,p+=V[n++]<<y,y+=8),k=w[p&C];t:for(;;){if(P=k>>>24,p>>>=P,y-=P,P=k>>>16&255,P===0)ne[a++]=k&65535;else if(P&16){M=k&65535,P&=15,P&&(y<P&&(p+=V[n++]<<y,y+=8),M+=p&(1<<P)-1,p>>>=P,y-=P),y<15&&(p+=V[n++]<<y,y+=8,p+=V[n++]<<y,y+=8),k=j[p&A];r:for(;;){if(P=k>>>24,p>>>=P,y-=P,P=k>>>16&255,P&16){if($=k&65535,P&=15,y<P&&(p+=V[n++]<<y,y+=8,y<P&&(p+=V[n++]<<y,y+=8)),$+=p&(1<<P)-1,$>c){e.msg="invalid distance too far back",B.mode=mx;break e}if(p>>>=P,y-=P,P=a-o,$>P){if(P=$-P,P>h&&B.sane){e.msg="invalid distance too far back",B.mode=mx;break e}if(L=0,D=x,m===0){if(L+=u-P,P<M){M-=P;do ne[a++]=x[L++];while(--P);L=a-$,D=ne}}else if(m<P){if(L+=u+m-P,P-=m,P<M){M-=P;do ne[a++]=x[L++];while(--P);if(L=0,m<M){P=m,M-=P;do ne[a++]=x[L++];while(--P);L=a-$,D=ne}}}else if(L+=m-P,P<M){M-=P;do ne[a++]=x[L++];while(--P);L=a-$,D=ne}for(;M>2;)ne[a++]=D[L++],ne[a++]=D[L++],ne[a++]=D[L++],M-=3;M&&(ne[a++]=D[L++],M>1&&(ne[a++]=D[L++]))}else{L=a-$;do ne[a++]=ne[L++],ne[a++]=ne[L++],ne[a++]=ne[L++],M-=3;while(M>2);M&&(ne[a++]=ne[L++],M>1&&(ne[a++]=ne[L++]))}}else if((P&64)===0){k=j[(k&65535)+(p&(1<<P)-1)];continue r}else{e.msg="invalid distance code",B.mode=mx;break e}break}}else if((P&64)===0){k=w[(k&65535)+(p&(1<<P)-1)];continue t}else if(P&32){B.mode=OJ;break e}else{e.msg="invalid literal/length code",B.mode=mx;break e}break}}while(n<i&&a<l);M=y>>3,n-=M,y-=M<<3,p&=(1<<y)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<l?257+(l-a):257-(a-l),B.hold=p,B.bits=y};const uf=15,eC=852,tC=592,rC=0,v2=1,nC=2,FJ=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),MJ=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),BJ=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),UJ=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),VJ=(t,e,r,n,i,a,o,l)=>{const c=l.bits;let u=0,h=0,m=0,x=0,p=0,y=0,w=0,j=0,C=0,A=0,k,P,M,$,L,D=null,V;const ne=new Uint16Array(uf+1),B=new Uint16Array(uf+1);let F=null,X,ee,xe;for(u=0;u<=uf;u++)ne[u]=0;for(h=0;h<n;h++)ne[e[r+h]]++;for(p=c,x=uf;x>=1&&ne[x]===0;x--);if(p>x&&(p=x),x===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(m=1;m<x&&ne[m]===0;m++);for(p<m&&(p=m),j=1,u=1;u<=uf;u++)if(j<<=1,j-=ne[u],j<0)return-1;if(j>0&&(t===rC||x!==1))return-1;for(B[1]=0,u=1;u<uf;u++)B[u+1]=B[u]+ne[u];for(h=0;h<n;h++)e[r+h]!==0&&(o[B[e[r+h]]++]=h);if(t===rC?(D=F=o,V=20):t===v2?(D=FJ,F=MJ,V=257):(D=BJ,F=UJ,V=0),A=0,h=0,u=m,L=a,y=p,w=0,M=-1,C=1<<p,$=C-1,t===v2&&C>eC||t===nC&&C>tC)return 1;for(;;){X=u-w,o[h]+1<V?(ee=0,xe=o[h]):o[h]>=V?(ee=F[o[h]-V],xe=D[o[h]-V]):(ee=96,xe=0),k=1<<u-w,P=1<<y,m=P;do P-=k,i[L+(A>>w)+P]=X<<24|ee<<16|xe|0;while(P!==0);for(k=1<<u-1;A&k;)k>>=1;if(k!==0?(A&=k-1,A+=k):A=0,h++,--ne[u]===0){if(u===x)break;u=e[r+o[h]]}if(u>p&&(A&$)!==M){for(w===0&&(w=p),L+=m,y=u-w,j=1<<y;y+w<x&&(j-=ne[y+w],!(j<=0));)y++,j<<=1;if(C+=1<<y,t===v2&&C>eC||t===nC&&C>tC)return 1;M=A&$,i[M]=p<<24|y<<16|L-a|0}}return A!==0&&(i[L+A]=u-w<<24|64<<16|0),l.bits=p,0};var pm=VJ;const $J=0,H7=1,q7=2,{Z_FINISH:sC,Z_BLOCK:zJ,Z_TREES:px,Z_OK:wh,Z_STREAM_END:HJ,Z_NEED_DICT:qJ,Z_STREAM_ERROR:Wo,Z_DATA_ERROR:W7,Z_MEM_ERROR:G7,Z_BUF_ERROR:WJ,Z_DEFLATED:iC}=V7,og=16180,aC=16181,oC=16182,lC=16183,cC=16184,dC=16185,uC=16186,hC=16187,fC=16188,mC=16189,v1=16190,Wc=16191,y2=16192,pC=16193,w2=16194,xC=16195,gC=16196,vC=16197,yC=16198,xx=16199,gx=16200,wC=16201,bC=16202,NC=16203,jC=16204,CC=16205,b2=16206,_C=16207,AC=16208,is=16209,K7=16210,Y7=16211,GJ=852,KJ=592,YJ=15,XJ=YJ,SC=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function ZJ(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ch=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<og||e.mode>Y7?1:0},X7=t=>{if(Ch(t))return Wo;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=og,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(GJ),e.distcode=e.distdyn=new Int32Array(KJ),e.sane=1,e.back=-1,wh},Z7=t=>{if(Ch(t))return Wo;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,X7(t)},J7=(t,e)=>{let r;if(Ch(t))return Wo;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Wo:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Z7(t))},Q7=(t,e)=>{if(!t)return Wo;const r=new ZJ;t.state=r,r.strm=t,r.window=null,r.mode=og;const n=J7(t,e);return n!==wh&&(t.state=null),n},JJ=t=>Q7(t,XJ);let EC=!0,N2,j2;const QJ=t=>{if(EC){N2=new Int32Array(512),j2=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(pm(H7,t.lens,0,288,N2,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;pm(q7,t.lens,0,32,j2,0,t.work,{bits:5}),EC=!1}t.lencode=N2,t.lenbits=9,t.distcode=j2,t.distbits=5},ek=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},eQ=(t,e)=>{let r,n,i,a,o,l,c,u,h,m,x,p,y,w,j=0,C,A,k,P,M,$,L,D;const V=new Uint8Array(4);let ne,B;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ch(t)||!t.output||!t.input&&t.avail_in!==0)return Wo;r=t.state,r.mode===Wc&&(r.mode=y2),o=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,u=r.hold,h=r.bits,m=l,x=c,D=wh;e:for(;;)switch(r.mode){case og:if(r.wrap===0){r.mode=y2;break}for(;h<16;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,V[0]=u&255,V[1]=u>>>8&255,r.check=Xl(r.check,V,2,0),u=0,h=0,r.mode=aC;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=is;break}if((u&15)!==iC){t.msg="unknown compression method",r.mode=is;break}if(u>>>=4,h-=4,L=(u&15)+8,r.wbits===0&&(r.wbits=L),L>15||L>r.wbits){t.msg="invalid window size",r.mode=is;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?mC:Wc,u=0,h=0;break;case aC:for(;h<16;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if(r.flags=u,(r.flags&255)!==iC){t.msg="unknown compression method",r.mode=is;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=is;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(V[0]=u&255,V[1]=u>>>8&255,r.check=Xl(r.check,V,2,0)),u=0,h=0,r.mode=oC;case oC:for(;h<32;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(V[0]=u&255,V[1]=u>>>8&255,V[2]=u>>>16&255,V[3]=u>>>24&255,r.check=Xl(r.check,V,4,0)),u=0,h=0,r.mode=lC;case lC:for(;h<16;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(V[0]=u&255,V[1]=u>>>8&255,r.check=Xl(r.check,V,2,0)),u=0,h=0,r.mode=cC;case cC:if(r.flags&1024){for(;h<16;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(V[0]=u&255,V[1]=u>>>8&255,r.check=Xl(r.check,V,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=dC;case dC:if(r.flags&1024&&(p=r.length,p>l&&(p=l),p&&(r.head&&(L=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+p),L)),r.flags&512&&r.wrap&4&&(r.check=Xl(r.check,n,p,a)),l-=p,a+=p,r.length-=p),r.length))break e;r.length=0,r.mode=uC;case uC:if(r.flags&2048){if(l===0)break e;p=0;do L=n[a+p++],r.head&&L&&r.length<65536&&(r.head.name+=String.fromCharCode(L));while(L&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Xl(r.check,n,p,a)),l-=p,a+=p,L)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=hC;case hC:if(r.flags&4096){if(l===0)break e;p=0;do L=n[a+p++],r.head&&L&&r.length<65536&&(r.head.comment+=String.fromCharCode(L));while(L&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Xl(r.check,n,p,a)),l-=p,a+=p,L)break e}else r.head&&(r.head.comment=null);r.mode=fC;case fC:if(r.flags&512){for(;h<16;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=is;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Wc;break;case mC:for(;h<32;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}t.adler=r.check=SC(u),u=0,h=0,r.mode=v1;case v1:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=u,r.bits=h,qJ;t.adler=r.check=1,r.mode=Wc;case Wc:if(e===zJ||e===px)break e;case y2:if(r.last){u>>>=h&7,h-=h&7,r.mode=b2;break}for(;h<3;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}switch(r.last=u&1,u>>>=1,h-=1,u&3){case 0:r.mode=pC;break;case 1:if(QJ(r),r.mode=xx,e===px){u>>>=2,h-=2;break e}break;case 2:r.mode=gC;break;case 3:t.msg="invalid block type",r.mode=is}u>>>=2,h-=2;break;case pC:for(u>>>=h&7,h-=h&7;h<32;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=is;break}if(r.length=u&65535,u=0,h=0,r.mode=w2,e===px)break e;case w2:r.mode=xC;case xC:if(p=r.length,p){if(p>l&&(p=l),p>c&&(p=c),p===0)break e;i.set(n.subarray(a,a+p),o),l-=p,a+=p,c-=p,o+=p,r.length-=p;break}r.mode=Wc;break;case gC:for(;h<14;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if(r.nlen=(u&31)+257,u>>>=5,h-=5,r.ndist=(u&31)+1,u>>>=5,h-=5,r.ncode=(u&15)+4,u>>>=4,h-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=is;break}r.have=0,r.mode=vC;case vC:for(;r.have<r.ncode;){for(;h<3;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}r.lens[F[r.have++]]=u&7,u>>>=3,h-=3}for(;r.have<19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,ne={bits:r.lenbits},D=pm($J,r.lens,0,19,r.lencode,0,r.work,ne),r.lenbits=ne.bits,D){t.msg="invalid code lengths set",r.mode=is;break}r.have=0,r.mode=yC;case yC:for(;r.have<r.nlen+r.ndist;){for(;j=r.lencode[u&(1<<r.lenbits)-1],C=j>>>24,A=j>>>16&255,k=j&65535,!(C<=h);){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if(k<16)u>>>=C,h-=C,r.lens[r.have++]=k;else{if(k===16){for(B=C+2;h<B;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if(u>>>=C,h-=C,r.have===0){t.msg="invalid bit length repeat",r.mode=is;break}L=r.lens[r.have-1],p=3+(u&3),u>>>=2,h-=2}else if(k===17){for(B=C+3;h<B;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}u>>>=C,h-=C,L=0,p=3+(u&7),u>>>=3,h-=3}else{for(B=C+7;h<B;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}u>>>=C,h-=C,L=0,p=11+(u&127),u>>>=7,h-=7}if(r.have+p>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=is;break}for(;p--;)r.lens[r.have++]=L}}if(r.mode===is)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=is;break}if(r.lenbits=9,ne={bits:r.lenbits},D=pm(H7,r.lens,0,r.nlen,r.lencode,0,r.work,ne),r.lenbits=ne.bits,D){t.msg="invalid literal/lengths set",r.mode=is;break}if(r.distbits=6,r.distcode=r.distdyn,ne={bits:r.distbits},D=pm(q7,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,ne),r.distbits=ne.bits,D){t.msg="invalid distances set",r.mode=is;break}if(r.mode=xx,e===px)break e;case xx:r.mode=gx;case gx:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=u,r.bits=h,LJ(t,x),o=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,u=r.hold,h=r.bits,r.mode===Wc&&(r.back=-1);break}for(r.back=0;j=r.lencode[u&(1<<r.lenbits)-1],C=j>>>24,A=j>>>16&255,k=j&65535,!(C<=h);){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if(A&&(A&240)===0){for(P=C,M=A,$=k;j=r.lencode[$+((u&(1<<P+M)-1)>>P)],C=j>>>24,A=j>>>16&255,k=j&65535,!(P+C<=h);){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}u>>>=P,h-=P,r.back+=P}if(u>>>=C,h-=C,r.back+=C,r.length=k,A===0){r.mode=CC;break}if(A&32){r.back=-1,r.mode=Wc;break}if(A&64){t.msg="invalid literal/length code",r.mode=is;break}r.extra=A&15,r.mode=wC;case wC:if(r.extra){for(B=r.extra;h<B;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=bC;case bC:for(;j=r.distcode[u&(1<<r.distbits)-1],C=j>>>24,A=j>>>16&255,k=j&65535,!(C<=h);){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if((A&240)===0){for(P=C,M=A,$=k;j=r.distcode[$+((u&(1<<P+M)-1)>>P)],C=j>>>24,A=j>>>16&255,k=j&65535,!(P+C<=h);){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}u>>>=P,h-=P,r.back+=P}if(u>>>=C,h-=C,r.back+=C,A&64){t.msg="invalid distance code",r.mode=is;break}r.offset=k,r.extra=A&15,r.mode=NC;case NC:if(r.extra){for(B=r.extra;h<B;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=is;break}r.mode=jC;case jC:if(c===0)break e;if(p=x-c,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=is;break}p>r.wnext?(p-=r.wnext,y=r.wsize-p):y=r.wnext-p,p>r.length&&(p=r.length),w=r.window}else w=i,y=o-r.offset,p=r.length;p>c&&(p=c),c-=p,r.length-=p;do i[o++]=w[y++];while(--p);r.length===0&&(r.mode=gx);break;case CC:if(c===0)break e;i[o++]=r.length,c--,r.mode=gx;break;case b2:if(r.wrap){for(;h<32;){if(l===0)break e;l--,u|=n[a++]<<h,h+=8}if(x-=c,t.total_out+=x,r.total+=x,r.wrap&4&&x&&(t.adler=r.check=r.flags?Xl(r.check,i,x,o-x):tw(r.check,i,x,o-x)),x=c,r.wrap&4&&(r.flags?u:SC(u))!==r.check){t.msg="incorrect data check",r.mode=is;break}u=0,h=0}r.mode=_C;case _C:if(r.wrap&&r.flags){for(;h<32;){if(l===0)break e;l--,u+=n[a++]<<h,h+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=is;break}u=0,h=0}r.mode=AC;case AC:D=HJ;break e;case is:D=W7;break e;case K7:return G7;case Y7:default:return Wo}return t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=u,r.bits=h,(r.wsize||x!==t.avail_out&&r.mode<is&&(r.mode<b2||e!==sC))&&ek(t,t.output,t.next_out,x-t.avail_out),m-=t.avail_in,x-=t.avail_out,t.total_in+=m,t.total_out+=x,r.total+=x,r.wrap&4&&x&&(t.adler=r.check=r.flags?Xl(r.check,i,x,t.next_out-x):tw(r.check,i,x,t.next_out-x)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Wc?128:0)+(r.mode===xx||r.mode===w2?256:0),(m===0&&x===0||e===sC)&&D===wh&&(D=WJ),D},tQ=t=>{if(Ch(t))return Wo;let e=t.state;return e.window&&(e.window=null),t.state=null,wh},rQ=(t,e)=>{if(Ch(t))return Wo;const r=t.state;return(r.wrap&2)===0?Wo:(r.head=e,e.done=!1,wh)},nQ=(t,e)=>{const r=e.length;let n,i,a;return Ch(t)||(n=t.state,n.wrap!==0&&n.mode!==v1)?Wo:n.mode===v1&&(i=1,i=tw(i,e,r,0),i!==n.check)?W7:(a=ek(t,e,r,r),a?(n.mode=K7,G7):(n.havedict=1,wh))};var sQ=Z7,iQ=J7,aQ=X7,oQ=JJ,lQ=Q7,cQ=eQ,dQ=tQ,uQ=rQ,hQ=nQ,fQ="pako inflate (from Nodeca project)",Kc={inflateReset:sQ,inflateReset2:iQ,inflateResetKeep:aQ,inflateInit:oQ,inflateInit2:lQ,inflate:cQ,inflateEnd:dQ,inflateGetHeader:uQ,inflateSetDictionary:hQ,inflateInfo:fQ};function mQ(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var pQ=mQ;const tk=Object.prototype.toString,{Z_NO_FLUSH:xQ,Z_FINISH:gQ,Z_OK:Om,Z_STREAM_END:C2,Z_NEED_DICT:_2,Z_STREAM_ERROR:vQ,Z_DATA_ERROR:kC,Z_MEM_ERROR:yQ}=V7;function sp(t){this.options=$7.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new RJ,this.strm.avail_out=0;let r=Kc.inflateInit2(this.strm,e.windowBits);if(r!==Om)throw new Error(rw[r]);if(this.header=new pQ,Kc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=nw.string2buf(e.dictionary):tk.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Kc.inflateSetDictionary(this.strm,e.dictionary),r!==Om)))throw new Error(rw[r])}sp.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?gQ:xQ,tk.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Kc.inflate(r,o),a===_2&&i&&(a=Kc.inflateSetDictionary(r,i),a===Om?a=Kc.inflate(r,o):a===kC&&(a=_2));r.avail_in>0&&a===C2&&r.state.wrap>0&&t[r.next_in]!==0;)Kc.inflateReset(r),a=Kc.inflate(r,o);switch(a){case vQ:case kC:case _2:case yQ:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===C2))if(this.options.to==="string"){let c=nw.utf8border(r.output,r.next_out),u=r.next_out-c,h=nw.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Om&&l===0)){if(a===C2)return a=Kc.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};sp.prototype.onData=function(t){this.chunks.push(t)};sp.prototype.onEnd=function(t){t===Om&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$7.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function wQ(t,e){const r=new sp(e);if(r.push(t),r.err)throw r.msg||rw[r.err];return r.result}var bQ=sp,NQ=wQ,jQ={Inflate:bQ,inflate:NQ};const{Inflate:CQ,inflate:_Q}=jQ;var PC=CQ,AQ=_Q;const rk=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;rk[t]=e}const TC=4294967295;function SQ(t,e,r){let n=t;for(let i=0;i<r;i++)n=rk[(n^e[i])&255]^n>>>8;return n}function EQ(t,e){return(SQ(TC,t,e)^TC)>>>0}function IC(t,e,r){const n=t.readUint32(),i=EQ(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function nk(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function sk(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function ik(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function ak(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function ok(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+kQ(e[a-i],r[a],r[a-i])&255}}function kQ(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),o=Math.abs(n-r);return i<=a&&i<=o?t:a<=o?e:r}function PQ(t,e,r,n,i,a){switch(t){case 0:nk(e,r,i);break;case 1:sk(e,r,i,a);break;case 2:ik(e,r,n,i);break;case 3:ak(e,r,n,i,a);break;case 4:ok(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const TQ=new Uint16Array([255]),IQ=new Uint8Array(TQ.buffer),DQ=IQ[0]===255;function RQ(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(n*r*l);let u=0;for(let h=0;h<7;h++){const m=o[h],x=Math.ceil((r-m.x)/m.xStep),p=Math.ceil((n-m.y)/m.yStep);if(x<=0||p<=0)continue;const y=x*l,w=new Uint8Array(y);for(let j=0;j<p;j++){const C=e[u++],A=e.subarray(u,u+y);u+=y;const k=new Uint8Array(y);PQ(C,A,k,w,y,l),w.set(k);for(let P=0;P<x;P++){const M=m.x+P*m.xStep,$=m.y+j*m.yStep;if(!(M>=r||$>=n))for(let L=0;L<l;L++)c[($*r+M)*l+L]=k[P*l+L]}}}if(a===16){const h=new Uint16Array(c.buffer);if(DQ)for(let m=0;m<h.length;m++)h[m]=OQ(h[m]);return h}else return c}function OQ(t){return(t&255)<<8|t>>8&255}const LQ=new Uint16Array([255]),FQ=new Uint8Array(LQ.buffer),MQ=FQ[0]===255,BQ=new Uint8Array(0);function DC(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*r),c=new Uint8Array(n*l);let u=BQ,h=0,m,x;for(let p=0;p<n;p++){switch(m=e.subarray(h+1,h+1+l),x=c.subarray(p*l,(p+1)*l),e[h]){case 0:nk(m,x,l);break;case 1:sk(m,x,l,o);break;case 2:ik(m,x,u,l);break;case 3:ak(m,x,u,l,o);break;case 4:ok(m,x,u,l,o);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}u=x,h+=l+1}if(a===16){const p=new Uint16Array(c.buffer);if(MQ)for(let y=0;y<p.length;y++)p[y]=UQ(p[y]);return p}else return c}function UQ(t){return(t&255)<<8|t>>8&255}const Fx=Uint8Array.of(137,80,78,71,13,10,26,10);function RC(t){if(!VQ(t.readBytes(Fx.length)))throw new Error("wrong PNG signature")}function VQ(t){if(t.length<Fx.length)return!1;for(let e=0;e<Fx.length;e++)if(t[e]!==Fx[e])return!1;return!0}const $Q="tEXt",zQ=0,lk=new TextDecoder("latin1");function HQ(t){if(WQ(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const qQ=/^[\u0000-\u00FF]*$/;function WQ(t){if(!qQ.test(t))throw new Error("invalid latin1 text")}function GQ(t,e,r){const n=ck(e);t[n]=KQ(e,r-n.length-1)}function ck(t){for(t.mark();t.readByte()!==zQ;);const e=t.offset;t.reset();const r=lk.decode(t.readBytes(e-t.offset-1));return t.skip(1),HQ(r),r}function KQ(t,e){return lk.decode(t.readBytes(e))}const ao={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},A2={UNKNOWN:-1,DEFLATE:0},OC={UNKNOWN:-1,ADAPTIVE:0},S2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},vx={NONE:0,BACKGROUND:1,PREVIOUS:2},E2={SOURCE:0,OVER:1};class YQ extends Jb{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new PC,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=A2.UNKNOWN,this._filterMethod=OC.UNKNOWN,this._interlaceMethod=S2.UNKNOWN,this._colorType=ao.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(RC(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(RC(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case $Q:GQ(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?IC(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?IC(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=XQ(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case ao.GREYSCALE:n=1;break;case ao.TRUECOLOUR:n=3;break;case ao.INDEXED_COLOUR:n=1;break;case ao.GREYSCALE_ALPHA:n=2;break;case ao.TRUECOLOUR_ALPHA:n=4;break;case ao.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==A2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<r;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ao.GREYSCALE:case ao.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case ao.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case ao.UNKNOWN:case ao.GREYSCALE_ALPHA:case ao.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=ck(this),n=this.readUint8();if(n!==A2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:AQ(i)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=DC({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case vx.NONE:break;case vx.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const o=(i*e.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[o+l]=0}break;case vx.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,i=(a,o)=>{const l=((a+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,c=(a*r.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case E2.SOURCE:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=i(a,o);for(let u=0;u<this._png.channels;u++)e.data[l+u]=r.data[c+u]}break;case E2.OVER:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=i(a,o);for(let u=0;u<this._png.channels;u++){const h=r.data[c+this._png.channels-1]/n,m=u%(this._png.channels-1)===0?1:r.data[c+u],x=Math.floor(h*m+(1-h)*e.data[l+u]);e.data[l+u]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==OC.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===S2.NO_INTERLACE)this._png.data=DC({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===S2.ADAM7)this._png.data=RQ({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:vx.NONE,blendOp:E2.SOURCE,data:e}),this._inflator=new PC,this._writingDataChunks=!1}}function XQ(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var LC;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(LC||(LC={}));function ZQ(t,e){return new YQ(t,e).decode()}var Nr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function k2(){Nr.console&&typeof Nr.console.log=="function"&&Nr.console.log.apply(Nr.console,arguments)}var Rn={log:k2,warn:function(t){Nr.console&&(typeof Nr.console.warn=="function"?Nr.console.warn.apply(Nr.console,arguments):k2.call(null,arguments))},error:function(t){Nr.console&&(typeof Nr.console.error=="function"?Nr.console.error.apply(Nr.console,arguments):k2(t))}};function P2(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){eh(n.response,e,r)},n.onerror=function(){Rn.error("could not download file")},n.send()}function FC(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function yx(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var eh=Nr.saveAs||((typeof window>"u"?"undefined":Sn(window))!=="object"||window!==Nr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Nr.URL||Nr.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?FC(i.href)?P2(t,e,r):yx(i,i.target="_blank"):yx(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){yx(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(FC(t))P2(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){yx(n)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:Sn(a)!=="object"&&(Rn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return P2(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(Nr.HTMLElement)||Nr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Sn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},l.readAsDataURL(t)}else{var c=Nr.URL||Nr.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function dk(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var Mx=Nr.atob.bind(Nr),MC=Nr.btoa.bind(Nr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function T2(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=Ji(r,n,i,a,e[0],7,-680876936),a=Ji(a,r,n,i,e[1],12,-389564586),i=Ji(i,a,r,n,e[2],17,606105819),n=Ji(n,i,a,r,e[3],22,-1044525330),r=Ji(r,n,i,a,e[4],7,-176418897),a=Ji(a,r,n,i,e[5],12,1200080426),i=Ji(i,a,r,n,e[6],17,-1473231341),n=Ji(n,i,a,r,e[7],22,-45705983),r=Ji(r,n,i,a,e[8],7,1770035416),a=Ji(a,r,n,i,e[9],12,-1958414417),i=Ji(i,a,r,n,e[10],17,-42063),n=Ji(n,i,a,r,e[11],22,-1990404162),r=Ji(r,n,i,a,e[12],7,1804603682),a=Ji(a,r,n,i,e[13],12,-40341101),i=Ji(i,a,r,n,e[14],17,-1502002290),r=Qi(r,n=Ji(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Qi(a,r,n,i,e[6],9,-1069501632),i=Qi(i,a,r,n,e[11],14,643717713),n=Qi(n,i,a,r,e[0],20,-373897302),r=Qi(r,n,i,a,e[5],5,-701558691),a=Qi(a,r,n,i,e[10],9,38016083),i=Qi(i,a,r,n,e[15],14,-660478335),n=Qi(n,i,a,r,e[4],20,-405537848),r=Qi(r,n,i,a,e[9],5,568446438),a=Qi(a,r,n,i,e[14],9,-1019803690),i=Qi(i,a,r,n,e[3],14,-187363961),n=Qi(n,i,a,r,e[8],20,1163531501),r=Qi(r,n,i,a,e[13],5,-1444681467),a=Qi(a,r,n,i,e[2],9,-51403784),i=Qi(i,a,r,n,e[7],14,1735328473),r=ea(r,n=Qi(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=ea(a,r,n,i,e[8],11,-2022574463),i=ea(i,a,r,n,e[11],16,1839030562),n=ea(n,i,a,r,e[14],23,-35309556),r=ea(r,n,i,a,e[1],4,-1530992060),a=ea(a,r,n,i,e[4],11,1272893353),i=ea(i,a,r,n,e[7],16,-155497632),n=ea(n,i,a,r,e[10],23,-1094730640),r=ea(r,n,i,a,e[13],4,681279174),a=ea(a,r,n,i,e[0],11,-358537222),i=ea(i,a,r,n,e[3],16,-722521979),n=ea(n,i,a,r,e[6],23,76029189),r=ea(r,n,i,a,e[9],4,-640364487),a=ea(a,r,n,i,e[12],11,-421815835),i=ea(i,a,r,n,e[15],16,530742520),r=ta(r,n=ea(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=ta(a,r,n,i,e[7],10,1126891415),i=ta(i,a,r,n,e[14],15,-1416354905),n=ta(n,i,a,r,e[5],21,-57434055),r=ta(r,n,i,a,e[12],6,1700485571),a=ta(a,r,n,i,e[3],10,-1894986606),i=ta(i,a,r,n,e[10],15,-1051523),n=ta(n,i,a,r,e[1],21,-2054922799),r=ta(r,n,i,a,e[8],6,1873313359),a=ta(a,r,n,i,e[15],10,-30611744),i=ta(i,a,r,n,e[6],15,-1560198380),n=ta(n,i,a,r,e[13],21,1309151649),r=ta(r,n,i,a,e[4],6,-145523070),a=ta(a,r,n,i,e[11],10,-1120210379),i=ta(i,a,r,n,e[2],15,718787259),n=ta(n,i,a,r,e[9],21,-343485551),t[0]=Xd(r,t[0]),t[1]=Xd(n,t[1]),t[2]=Xd(i,t[2]),t[3]=Xd(a,t[3])}function lg(t,e,r,n,i,a){return e=Xd(Xd(e,t),Xd(n,a)),Xd(e<<i|e>>>32-i,r)}function Ji(t,e,r,n,i,a,o){return lg(e&r|~e&n,t,e,i,a,o)}function Qi(t,e,r,n,i,a,o){return lg(e&n|r&~n,t,e,i,a,o)}function ea(t,e,r,n,i,a,o){return lg(e^r^n,t,e,i,a,o)}function ta(t,e,r,n,i,a,o){return lg(r^(e|~n),t,e,i,a,o)}function uk(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)T2(n,JQ(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(T2(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,T2(n,i),n}function JQ(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var BC="0123456789abcdef".split("");function QQ(t){for(var e="",r=0;r<4;r++)e+=BC[t>>8*r+4&15]+BC[t>>8*r&15];return e}function eee(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function sw(t){return uk(t).map(eee).join("")}var tee=(function(t){for(var e=0;e<t.length;e++)t[e]=QQ(t[e]);return t.join("")})(uk("hello"))!="5d41402abc4b2a76b9719d911017c592";function Xd(t,e){if(tee){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function iw(t,e){var r,n,i,a;if(t!==r){for(var o=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var h=l[c];u=(u+h+o.charCodeAt(c))%256,l[c]=l[u],l[u]=h}r=t,n=l}else l=n;var m=e.length,x=0,p=0,y="";for(c=0;c<m;c++)p=(p+(h=l[x=(x+1)%256]))%256,l[x]=l[p],l[p]=h,o=l[(l[x]+l[p])%256],y+=String.fromCharCode(e.charCodeAt(c)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var UC={print:4,modify:8,copy:16,"annot-forms":32};function yf(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(UC.perm!==void 0)throw new Error("Invalid permission: "+l);i+=UC[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=sw(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=iw(this.encryptionKey,this.padding)}function wf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function VC(t){if(Sn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var o=e[r][a];try{o[0].apply(t,n)}catch(l){Nr.console&&Rn.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function y1(t){if(!(this instanceof y1))return new y1(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function hk(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function nh(t,e,r,n,i){if(!(this instanceof nh))return new nh(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,hk.call(this,n,i)}function kf(t,e,r,n,i){if(!(this instanceof kf))return new kf(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,hk.call(this,n,i)}function Yt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,u="S",h=null;Sn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,x={},p={internal:{},__private__:{}};p.__private__.PubSub=VC;var y="1.3",w=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(S){y=S};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return j};var C=p.__private__.getPageFormat=function(S){return j[S]};i=i||"a4";var A="compat",k="advanced",P=A;function M(){this.saveGraphicsState(),ce(new Ce(Et,0,0,-Et,0,Aa()*Et).toString()+" cm"),this.setFontSize(this.getFontSize()/Et),u="n",P=k}function $(){this.restoreGraphicsState(),u="S",P=A}var L=p.__private__.combineFontStyleAndFontWeight=function(S,K){if(S=="bold"&&K=="normal"||S=="bold"&&K==400||S=="normal"&&K=="italic"||S=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(S=K==400||K==="normal"?S==="italic"?"italic":"normal":K!=700&&K!=="bold"||S!=="normal"?(K==700?"bold":K)+""+S:"bold"),S};p.advancedAPI=function(S){var K=P===A;return K&&M.call(this),typeof S!="function"||(S(this),K&&$.call(this)),this},p.compatAPI=function(S){var K=P===k;return K&&$.call(this),typeof S!="function"||(S(this),K&&M.call(this)),this},p.isAdvancedAPI=function(){return P===k};var D,V=function(S){if(P!==k)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ne=p.roundToPrecision=p.__private__.roundToPrecision=function(S,K){var me=e||K;if(isNaN(S)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(me).replace(/0+$/,"")};D=p.hpf=p.__private__.hpf=typeof c=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(S,c)}:c==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(S,16)};var B=p.f2=p.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return ne(S,2)},F=p.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return ne(S,3)},X=p.scale=p.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return P===A?S*Et:P===k?S:void 0},ee=function(S){return X((function(K){return P===A?Aa()-K:P===k?K:void 0})(S))};p.__private__.setPrecision=p.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var xe,oe="00000000000000000000000000000000",pe=p.__private__.getFileId=function(){return oe},H=p.__private__.setFileId=function(S){return oe=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():oe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Wn=new yf(h.userPermissions,h.userPassword,h.ownerPassword,oe)),oe};p.setFileId=function(S){return H(S),this},p.getFileId=function(){return pe()};var q=p.__private__.convertDateToPDFDate=function(S){var K=S.getTimezoneOffset(),me=K<0?"+":"-",we=Math.floor(Math.abs(K/60)),ke=Math.abs(K%60),Ye=[me,U(we),"'",U(ke),"'"].join("");return["D:",S.getFullYear(),U(S.getMonth()+1),U(S.getDate()),U(S.getHours()),U(S.getMinutes()),U(S.getSeconds()),Ye].join("")},ie=p.__private__.convertPDFDateToDate=function(S){var K=parseInt(S.substr(2,4),10),me=parseInt(S.substr(6,2),10)-1,we=parseInt(S.substr(8,2),10),ke=parseInt(S.substr(10,2),10),Ye=parseInt(S.substr(12,2),10),rt=parseInt(S.substr(14,2),10);return new Date(K,me,we,ke,Ye,rt,0)},G=p.__private__.setCreationDate=function(S){var K;if(S===void 0&&(S=new Date),S instanceof Date)K=q(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=S}return xe=K},R=p.__private__.getCreationDate=function(S){var K=xe;return S==="jsDate"&&(K=ie(xe)),K};p.setCreationDate=function(S){return G(S),this},p.getCreationDate=function(S){return R(S)};var z,U=p.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},Q=p.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},J=0,re=[],le=[],ye=0,je=[],Se=[],Be=!1,Fe=le;p.__private__.setCustomOutputDestination=function(S){Be=!0,Fe=S};var Te=function(S){Be||(Fe=S)};p.__private__.resetCustomOutputDestination=function(){Be=!1,Fe=le};var ce=p.__private__.out=function(S){return S=S.toString(),ye+=S.length+1,Fe.push(S),Fe},$e=p.__private__.write=function(S){return ce(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Ee=p.__private__.getArrayBuffer=function(S){for(var K=S.length,me=new ArrayBuffer(K),we=new Uint8Array(me);K--;)we[K]=S.charCodeAt(K);return me},lt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return lt};var Pe=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(S){return Pe=P===k?S/Et:S,this};var nt,We=p.__private__.getFontSize=p.getFontSize=function(){return P===A?Pe:Pe*Et},xt=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(S){return xt=S,this},p.__private__.getR2L=p.getR2L=function(){return xt};var ct,tr=p.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))nt=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');nt=S}else nt=parseInt(S,10)};p.__private__.getZoomMode=function(){return nt};var It,St=p.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');ct=S};p.__private__.getPageMode=function(){return ct};var fr=p.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');It=S};p.__private__.getLayoutMode=function(){return It},p.__private__.setDisplayMode=p.setDisplayMode=function(S,K,me){return tr(S),fr(K),St(me),this};var Ct={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(S){if(Object.keys(Ct).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ct[S]},p.__private__.getDocumentProperties=function(){return Ct},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(S){for(var K in Ct)Ct.hasOwnProperty(K)&&S[K]&&(Ct[K]=S[K]);return this},p.__private__.setDocumentProperty=function(S,K){if(Object.keys(Ct).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ct[S]=K};var mt,Et,jt,rr,cr,vt={},Zt={},mr=[],kt={},Qt={},Dt={},Or={},Dr=null,Cr=0,Mt=[],ge=new VC(p),pt=t.hotfixes||[],bt={},yr={},Qr=[],Ce=function S(K,me,we,ke,Ye,rt){if(!(this instanceof S))return new S(K,me,we,ke,Ye,rt);isNaN(K)&&(K=1),isNaN(me)&&(me=0),isNaN(we)&&(we=0),isNaN(ke)&&(ke=1),isNaN(Ye)&&(Ye=0),isNaN(rt)&&(rt=0),this._matrix=[K,me,we,ke,Ye,rt]};Object.defineProperty(Ce.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Ce.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Ce.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Ce.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Ce.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Ce.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Ce.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Ce.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Ce.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Ce.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Ce.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Ce.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Ce.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ce.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ce.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ce.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ce.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(S)},Ce.prototype.multiply=function(S){var K=S.sx*this.sx+S.shy*this.shx,me=S.sx*this.shy+S.shy*this.sy,we=S.shx*this.sx+S.sy*this.shx,ke=S.shx*this.shy+S.sy*this.sy,Ye=S.tx*this.sx+S.ty*this.shx+this.tx,rt=S.tx*this.shy+S.ty*this.sy+this.ty;return new Ce(K,me,we,ke,Ye,rt)},Ce.prototype.decompose=function(){var S=this.sx,K=this.shy,me=this.shx,we=this.sy,ke=this.tx,Ye=this.ty,rt=Math.sqrt(S*S+K*K),Lt=(S/=rt)*me+(K/=rt)*we;me-=S*Lt,we-=K*Lt;var Ht=Math.sqrt(me*me+we*we);return Lt/=Ht,S*(we/=Ht)<K*(me/=Ht)&&(S=-S,K=-K,Lt=-Lt,rt=-rt),{scale:new Ce(rt,0,0,Ht,0,0),translate:new Ce(1,0,0,1,ke,Ye),rotate:new Ce(S,K,-K,S,0,0),skew:new Ce(1,0,Lt,1,0,0)}},Ce.prototype.toString=function(S){return this.join(" ")},Ce.prototype.inversed=function(){var S=this.sx,K=this.shy,me=this.shx,we=this.sy,ke=this.tx,Ye=this.ty,rt=1/(S*we-K*me),Lt=we*rt,Ht=-K*rt,pr=-me*rt,xr=S*rt;return new Ce(Lt,Ht,pr,xr,-Lt*ke-pr*Ye,-Ht*ke-xr*Ye)},Ce.prototype.applyToPoint=function(S){var K=S.x*this.sx+S.y*this.shx+this.tx,me=S.x*this.shy+S.y*this.sy+this.ty;return new jo(K,me)},Ce.prototype.applyToRectangle=function(S){var K=this.applyToPoint(S),me=this.applyToPoint(new jo(S.x+S.w,S.y+S.h));return new wc(K.x,K.y,me.x-K.x,me.y-K.y)},Ce.prototype.clone=function(){var S=this.sx,K=this.shy,me=this.shx,we=this.sy,ke=this.tx,Ye=this.ty;return new Ce(S,K,me,we,ke,Ye)},p.Matrix=Ce;var wt=p.matrixMult=function(S,K){return K.multiply(S)},tt=new Ce(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=tt;var Rr=function(S,K){if(!Qt[S]){var me=(K instanceof nh?"Sh":"P")+(Object.keys(kt).length+1).toString(10);K.id=me,Qt[S]=me,kt[me]=K,ge.publish("addPattern",K)}};p.ShadingPattern=nh,p.TilingPattern=kf,p.addShadingPattern=function(S,K){return V("addShadingPattern()"),Rr(S,K),this},p.beginTilingPattern=function(S){V("beginTilingPattern()"),ja(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},p.endTilingPattern=function(S,K){V("endTilingPattern()"),K.stream=Se[z].join(`
`),Rr(S,K),ge.publish("endTilingPattern",K),Qr.pop().restore()};var Yr,Lr=p.__private__.newObject=function(){var S=wr();return Ve(S,!0),S},wr=p.__private__.newObjectDeferred=function(){return J++,re[J]=function(){return ye},J},Ve=function(S,K){return K=typeof K=="boolean"&&K,re[S]=ye,K&&ce(S+" 0 obj"),S},Rt=p.__private__.newAdditionalObject=function(){var S={objId:wr(),content:""};return je.push(S),S},en=wr(),bs=wr(),mn=p.__private__.decodeColorString=function(S){var K=S.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length!==5||K[4]!=="k"&&K[4]!=="K"||(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var me=parseFloat(K[0]);K=[me,me,me,"r"]}for(var we="#",ke=0;ke<3;ke++)we+=("0"+Math.floor(255*parseFloat(K[ke])).toString(16)).slice(-2);return we},Ln=p.__private__.encodeColorString=function(S){var K;typeof S=="string"&&(S={ch1:S});var me=S.ch1,we=S.ch2,ke=S.ch3,Ye=S.ch4,rt=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var Lt=new dk(me);if(Lt.ok)me=Lt.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var Ht=parseInt(me.substr(1),16);me=Ht>>16&255,we=Ht>>8&255,ke=255&Ht}if(we===void 0||Ye===void 0&&me===we&&we===ke)K=typeof me=="string"?me+" "+rt[0]:S.precision===2?B(me/255)+" "+rt[0]:F(me/255)+" "+rt[0];else if(Ye===void 0||Sn(Ye)==="object"){if(Ye&&!isNaN(Ye.a)&&Ye.a===0)return["1.","1.","1.",rt[1]].join(" ");K=typeof me=="string"?[me,we,ke,rt[1]].join(" "):S.precision===2?[B(me/255),B(we/255),B(ke/255),rt[1]].join(" "):[F(me/255),F(we/255),F(ke/255),rt[1]].join(" ")}else K=typeof me=="string"?[me,we,ke,Ye,rt[2]].join(" "):S.precision===2?[B(me),B(we),B(ke),B(Ye),rt[2]].join(" "):[F(me),F(we),F(ke),F(Ye),rt[2]].join(" ");return K},Is=p.__private__.getFilters=function(){return o},Hn=p.__private__.putStream=function(S){var K=(S=S||{}).data||"",me=S.filters||Is(),we=S.alreadyAppliedFilters||[],ke=S.addLength1||!1,Ye=K.length,rt=S.objectId,Lt=function(Ds){return Ds};if(h!==null&&rt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Lt=Wn.encryptor(rt,0));var Ht={};me===!0&&(me=["FlateEncode"]);var pr=S.additionalKeyValues||[],xr=(Ht=Yt.API.processDataByFilters!==void 0?Yt.API.processDataByFilters(K,me):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(Ht.data.length!==0&&(pr.push({key:"Length",value:Ht.data.length}),ke===!0&&pr.push({key:"Length1",value:Ye})),xr.length!=0)if(xr.split("/").length-1==1)pr.push({key:"Filter",value:xr});else{pr.push({key:"Filter",value:"["+xr+"]"});for(var tn=0;tn<pr.length;tn+=1)if(pr[tn].key==="DecodeParms"){for(var Gn=[],Ns=0;Ns<Ht.reverseChain.split("/").length-1;Ns+=1)Gn.push("null");Gn.push(pr[tn].value),pr[tn].value="["+Gn.join(" ")+"]"}}ce("<<");for(var En=0;En<pr.length;En++)ce("/"+pr[En].key+" "+pr[En].value);ce(">>"),Ht.data.length!==0&&(ce("stream"),ce(Lt(Ht.data)),ce("endstream"))},qn=p.__private__.putPage=function(S){var K=S.number,me=S.data,we=S.objId,ke=S.contentsObjId;Ve(we,!0),ce("<</Type /Page"),ce("/Parent "+S.rootDictionaryObjId+" 0 R"),ce("/Resources "+S.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(D(S.mediaBox.bottomLeftX))+" "+parseFloat(D(S.mediaBox.bottomLeftY))+" "+D(S.mediaBox.topRightX)+" "+D(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ce("/CropBox ["+D(S.cropBox.bottomLeftX)+" "+D(S.cropBox.bottomLeftY)+" "+D(S.cropBox.topRightX)+" "+D(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ce("/BleedBox ["+D(S.bleedBox.bottomLeftX)+" "+D(S.bleedBox.bottomLeftY)+" "+D(S.bleedBox.topRightX)+" "+D(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ce("/TrimBox ["+D(S.trimBox.bottomLeftX)+" "+D(S.trimBox.bottomLeftY)+" "+D(S.trimBox.topRightX)+" "+D(S.trimBox.topRightY)+"]"),S.artBox!==null&&ce("/ArtBox ["+D(S.artBox.bottomLeftX)+" "+D(S.artBox.bottomLeftY)+" "+D(S.artBox.topRightX)+" "+D(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ce("/UserUnit "+S.userUnit),ge.publish("putPage",{objId:we,pageContext:Mt[K],pageNumber:K,page:me}),ce("/Contents "+ke+" 0 R"),ce(">>"),ce("endobj");var Ye=me.join(`
`);return P===k&&(Ye+=`
Q`),Ve(ke,!0),Hn({data:Ye,filters:Is(),objectId:ke}),ce("endobj"),we},Bi=p.__private__.putPages=function(){var S,K,me=[];for(S=1;S<=Cr;S++)Mt[S].objId=wr(),Mt[S].contentsObjId=wr();for(S=1;S<=Cr;S++)me.push(qn({number:S,data:Se[S],objId:Mt[S].objId,contentsObjId:Mt[S].contentsObjId,mediaBox:Mt[S].mediaBox,cropBox:Mt[S].cropBox,bleedBox:Mt[S].bleedBox,trimBox:Mt[S].trimBox,artBox:Mt[S].artBox,userUnit:Mt[S].userUnit,rootDictionaryObjId:en,resourceDictionaryObjId:bs}));Ve(en,!0),ce("<</Type /Pages");var we="/Kids [";for(K=0;K<Cr;K++)we+=me[K]+" 0 R ";ce(we+"]"),ce("/Count "+Cr),ce(">>"),ce("endobj"),ge.publish("postPutPages")},Ga=function(S){ge.publish("putFont",{font:S,out:ce,newObject:Lr,putStream:Hn}),S.isAlreadyPutted!==!0&&(S.objectNumber=Lr(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+wf(S.postScriptName)),ce("/Subtype /Type1"),typeof S.encoding=="string"&&ce("/Encoding /"+S.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},Ui=function(S){S.objectNumber=Lr();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[D(S.x),D(S.y),D(S.x+S.width),D(S.y+S.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var me=S.pages[1].join(`
`);Hn({data:me,additionalKeyValues:K,objectId:S.objectNumber}),ce("endobj")},go=function(S,K){K||(K=21);var me=Lr(),we=(function(rt,Lt){var Ht,pr=[],xr=1/(Lt-1);for(Ht=0;Ht<1;Ht+=xr)pr.push(Ht);if(pr.push(1),rt[0].offset!=0){var tn={offset:0,color:rt[0].color};rt.unshift(tn)}if(rt[rt.length-1].offset!=1){var Gn={offset:1,color:rt[rt.length-1].color};rt.push(Gn)}for(var Ns="",En=0,Ds=0;Ds<pr.length;Ds++){for(Ht=pr[Ds];Ht>rt[En+1].offset;)En++;var cs=rt[En].offset,si=(Ht-cs)/(rt[En+1].offset-cs),Sa=rt[En].color,$i=rt[En+1].color;Ns+=Q(Math.round((1-si)*Sa[0]+si*$i[0]).toString(16))+Q(Math.round((1-si)*Sa[1]+si*$i[1]).toString(16))+Q(Math.round((1-si)*Sa[2]+si*$i[2]).toString(16))}return Ns.trim()})(S.colors,K),ke=[];ke.push({key:"FunctionType",value:"0"}),ke.push({key:"Domain",value:"[0.0 1.0]"}),ke.push({key:"Size",value:"["+K+"]"}),ke.push({key:"BitsPerSample",value:"8"}),ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hn({data:we,additionalKeyValues:ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),ce("endobj"),S.objectNumber=Lr(),ce("<< /ShadingType "+S.type),ce("/ColorSpace /DeviceRGB");var Ye="/Coords ["+D(parseFloat(S.coords[0]))+" "+D(parseFloat(S.coords[1]))+" ";S.type===2?Ye+=D(parseFloat(S.coords[2]))+" "+D(parseFloat(S.coords[3])):Ye+=D(parseFloat(S.coords[2]))+" "+D(parseFloat(S.coords[3]))+" "+D(parseFloat(S.coords[4]))+" "+D(parseFloat(S.coords[5])),ce(Ye+="]"),S.matrix&&ce("/Matrix ["+S.matrix.toString()+"]"),ce("/Function "+me+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},Go=function(S,K){var me=wr(),we=Lr();K.push({resourcesOid:me,objectOid:we}),S.objectNumber=we;var ke=[];ke.push({key:"Type",value:"/Pattern"}),ke.push({key:"PatternType",value:"1"}),ke.push({key:"PaintType",value:"1"}),ke.push({key:"TilingType",value:"1"}),ke.push({key:"BBox",value:"["+S.boundingBox.map(D).join(" ")+"]"}),ke.push({key:"XStep",value:D(S.xStep)}),ke.push({key:"YStep",value:D(S.yStep)}),ke.push({key:"Resources",value:me+" 0 R"}),S.matrix&&ke.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Hn({data:S.stream,additionalKeyValues:ke,objectId:S.objectNumber}),ce("endobj")},td=function(S){for(var K in S.objectNumber=Lr(),ce("<<"),S)switch(K){case"opacity":ce("/ca "+B(S[K]));break;case"stroke-opacity":ce("/CA "+B(S[K]))}ce(">>"),ce("endobj")},bn=function(S){Ve(S.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var K in ce("/Font <<"),vt)vt.hasOwnProperty(K)&&(m===!1||m===!0&&x.hasOwnProperty(K))&&ce("/"+K+" "+vt[K].objectNumber+" 0 R");ce(">>")})(),(function(){if(Object.keys(kt).length>0){for(var K in ce("/Shading <<"),kt)kt.hasOwnProperty(K)&&kt[K]instanceof nh&&kt[K].objectNumber>=0&&ce("/"+K+" "+kt[K].objectNumber+" 0 R");ge.publish("putShadingPatternDict"),ce(">>")}})(),(function(K){if(Object.keys(kt).length>0){for(var me in ce("/Pattern <<"),kt)kt.hasOwnProperty(me)&&kt[me]instanceof p.TilingPattern&&kt[me].objectNumber>=0&&kt[me].objectNumber<K&&ce("/"+me+" "+kt[me].objectNumber+" 0 R");ge.publish("putTilingPatternDict"),ce(">>")}})(S.objectOid),(function(){if(Object.keys(Dt).length>0){var K;for(K in ce("/ExtGState <<"),Dt)Dt.hasOwnProperty(K)&&Dt[K].objectNumber>=0&&ce("/"+K+" "+Dt[K].objectNumber+" 0 R");ge.publish("putGStateDict"),ce(">>")}})(),(function(){for(var K in ce("/XObject <<"),bt)bt.hasOwnProperty(K)&&bt[K].objectNumber>=0&&ce("/"+K+" "+bt[K].objectNumber+" 0 R");ge.publish("putXobjectDict"),ce(">>")})(),ce(">>"),ce("endobj")},pc=function(S){Zt[S.fontName]=Zt[S.fontName]||{},Zt[S.fontName][S.fontStyle]=S.id},Il=function(S,K,me,we,ke){var Ye={id:"F"+(Object.keys(vt).length+1).toString(10),postScriptName:S,fontName:K,fontStyle:me,encoding:we,isStandardFont:ke||!1,metadata:{}};return ge.publish("addFont",{font:Ye,instance:this}),vt[Ye.id]=Ye,pc(Ye),Ye.id},Si=p.__private__.pdfEscape=p.pdfEscape=function(S,K){return(function(me,we){var ke,Ye,rt,Lt,Ht,pr,xr,tn,Gn;if(rt=(we=we||{}).sourceEncoding||"Unicode",Ht=we.outputEncoding,(we.autoencode||Ht)&&vt[mt].metadata&&vt[mt].metadata[rt]&&vt[mt].metadata[rt].encoding&&(Lt=vt[mt].metadata[rt].encoding,!Ht&&vt[mt].encoding&&(Ht=vt[mt].encoding),!Ht&&Lt.codePages&&(Ht=Lt.codePages[0]),typeof Ht=="string"&&(Ht=Lt[Ht]),Ht)){for(xr=!1,pr=[],ke=0,Ye=me.length;ke<Ye;ke++)(tn=Ht[me.charCodeAt(ke)])?pr.push(String.fromCharCode(tn)):pr.push(me[ke]),pr[ke].charCodeAt(0)>>8&&(xr=!0);me=pr.join("")}for(ke=me.length;xr===void 0&&ke!==0;)me.charCodeAt(ke-1)>>8&&(xr=!0),ke--;if(!xr)return me;for(pr=we.noBOM?[]:[254,255],ke=0,Ye=me.length;ke<Ye;ke++){if((Gn=(tn=me.charCodeAt(ke))>>8)>>8)throw new Error("Character at position "+ke+" of string '"+me+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pr.push(Gn),pr.push(tn-(Gn<<8))}return String.fromCharCode.apply(void 0,pr)})(S,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vo=p.__private__.beginPage=function(S){Se[++Cr]=[],Mt[Cr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Ko(Cr),Te(Se[z])},Dl=function(S,K){var me,we,ke;switch(r=K||r,typeof S=="string"&&(me=C(S.toLowerCase()),Array.isArray(me)&&(we=me[0],ke=me[1])),Array.isArray(S)&&(we=S[0]*Et,ke=S[1]*Et),isNaN(we)&&(we=i[0],ke=i[1]),(we>14400||ke>14400)&&(Rn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),ke=Math.min(14400,ke)),i=[we,ke],r.substr(0,1)){case"l":ke>we&&(i=[ke,we]);break;case"p":we>ke&&(i=[ke,we])}vo(i),vc(Na),ce(yc),wu!==0&&ce(wu+" J"),bu!==0&&ce(bu+" j"),ge.publish("addPage",{pageNumber:Cr})},Rl=function(S){S>0&&S<=Cr&&(Se.splice(S,1),Mt.splice(S,1),Cr--,z>Cr&&(z=Cr),this.setPage(z))},Ko=function(S){S>0&&S<=Cr&&(z=S)},Ei=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Se.length-1},rd=function(S,K,me){var we,ke=void 0;return me=me||{},S=S!==void 0?S:vt[mt].fontName,K=K!==void 0?K:vt[mt].fontStyle,we=S.toLowerCase(),Zt[we]!==void 0&&Zt[we][K]!==void 0?ke=Zt[we][K]:Zt[S]!==void 0&&Zt[S][K]!==void 0?ke=Zt[S][K]:me.disableWarning===!1&&Rn.warn("Unable to look up font label for font '"+S+"', '"+K+"'. Refer to getFontList() for available fonts."),ke||me.noFallback||(ke=Zt.times[K])==null&&(ke=Zt.times.normal),ke},Hs=p.__private__.putInfo=function(){var S=Lr(),K=function(we){return we};for(var me in h!==null&&(K=Wn.encryptor(S,0)),ce("<<"),ce("/Producer ("+Si(K("jsPDF "+Yt.version))+")"),Ct)Ct.hasOwnProperty(me)&&Ct[me]&&ce("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+Si(K(Ct[me]))+")");ce("/CreationDate ("+Si(K(xe))+")"),ce(">>"),ce("endobj")},Ke=p.__private__.putCatalog=function(S){var K=(S=S||{}).rootDictionaryObjId||en;switch(Lr(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+K+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+nt;me.substr(me.length-1)==="%"&&(nt=parseInt(nt)/100),typeof nt=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+B(nt)+"]")}switch(It||(It="continuous"),It){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}ct&&ce("/PageMode /"+ct),ge.publish("putCatalog"),ce(">>"),ce("endobj")},Xe=p.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(J+1)),ce("/Root "+J+" 0 R"),ce("/Info "+(J-1)+" 0 R"),h!==null&&ce("/Encrypt "+Wn.oid+" 0 R"),ce("/ID [ <"+oe+"> <"+oe+"> ]"),ce(">>")},er=p.__private__.putHeader=function(){ce("%PDF-"+y),ce("%")},cn=p.__private__.putXRef=function(){var S="0000000000";ce("xref"),ce("0 "+(J+1)),ce("0000000000 65535 f ");for(var K=1;K<=J;K++)typeof re[K]=="function"?ce((S+re[K]()).slice(-10)+" 00000 n "):re[K]!==void 0?ce((S+re[K]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},dn=p.__private__.buildDocument=function(){var S;J=0,ye=0,le=[],re=[],je=[],en=wr(),bs=wr(),Te(le),ge.publish("buildDocument"),er(),Bi(),(function(){ge.publish("putAdditionalObjects");for(var me=0;me<je.length;me++){var we=je[me];Ve(we.objId,!0),ce(we.content),ce("endobj")}ge.publish("postPutAdditionalObjects")})(),S=[],(function(){for(var me in vt)vt.hasOwnProperty(me)&&(m===!1||m===!0&&x.hasOwnProperty(me))&&Ga(vt[me])})(),(function(){var me;for(me in Dt)Dt.hasOwnProperty(me)&&td(Dt[me])})(),(function(){for(var me in bt)bt.hasOwnProperty(me)&&Ui(bt[me])})(),(function(me){var we;for(we in kt)kt.hasOwnProperty(we)&&(kt[we]instanceof nh?go(kt[we]):kt[we]instanceof kf&&Go(kt[we],me))})(S),ge.publish("putResources"),S.forEach(bn),bn({resourcesOid:bs,objectOid:Number.MAX_SAFE_INTEGER}),ge.publish("postPutResources"),h!==null&&(Wn.oid=Lr(),ce("<<"),ce("/Filter /Standard"),ce("/V "+Wn.v),ce("/R "+Wn.r),ce("/U <"+Wn.toHexString(Wn.U)+">"),ce("/O <"+Wn.toHexString(Wn.O)+">"),ce("/P "+Wn.P),ce(">>"),ce("endobj")),Hs(),Ke();var K=ye;return cn(),Xe(),ce("startxref"),ce(""+K),ce("%%EOF"),Te(Se[z]),le.join(`
`)},In=p.__private__.getBlob=function(S){return new Blob([Ee(S)],{type:"application/pdf"})},mi=p.output=p.__private__.output=(Yr=function(S,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",S){case void 0:return dn();case"save":p.save(K.filename);break;case"arraybuffer":return Ee(dn());case"blob":return In(dn());case"bloburi":case"bloburl":if(Nr.URL!==void 0&&typeof Nr.URL.createObjectURL=="function")return Nr.URL&&Nr.URL.createObjectURL(In(dn()))||void 0;Rn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",we=dn();try{me=MC(we)}catch{me=MC(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+K.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Nr)==="[object Window]"){var ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(ke=K.pdfObjectUrl,Ye="");var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ke+'"'+Ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",Lt=Nr.open();return Lt!==null&&Lt.document.write(rt),Lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Nr)==="[object Window]"){var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',pr=Nr.open();if(pr!==null){pr.document.write(Ht);var xr=this;pr.document.documentElement.querySelector("#pdfViewer").onload=function(){pr.document.title=K.filename,pr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xr.output("bloburl"))}}return pr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Nr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',Gn=Nr.open();if(Gn!==null&&(Gn.document.write(tn),Gn.document.title=K.filename),Gn||typeof safari>"u")return Gn;break;case"datauri":case"dataurl":return Nr.document.location.href=this.output("datauristring",K);default:return null}},Yr.foo=function(){try{return Yr.apply(this,arguments)}catch(me){var S=me.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var K="Error in function "+S.split(`
`)[0].split("<")[0]+": "+me.message;if(!Nr.console)throw new Error(K);Nr.console.error(K,me),Nr.alert&&alert(K)}},Yr.foo.bar=Yr,Yr.foo),aa=function(S){return Array.isArray(pt)===!0&&pt.indexOf(S)>-1};switch(n){case"pt":Et=1;break;case"mm":Et=72/25.4;break;case"cm":Et=72/2.54;break;case"in":Et=72;break;case"px":Et=aa("px_scaling")==1?.75:96/72;break;case"pc":case"em":Et=12;break;case"ex":Et=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Et=n}var Wn=null;G(),H();var xc=p.__private__.getPageInfo=p.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Mt[S].objId,pageNumber:S,pageContext:Mt[S]}},Ah=p.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in Mt)if(Mt[K].objId===S)break;return xc(K)},gu=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Mt[z].objId,pageNumber:z,pageContext:Mt[z]}};p.addPage=function(){return Dl.apply(this,arguments),this},p.setPage=function(){return Ko.apply(this,arguments),Te.call(this,Se[z]),this},p.insertPage=function(S){return this.addPage(),this.movePage(z,S),this},p.movePage=function(S,K){var me,we;if(S>K){me=Se[S],we=Mt[S];for(var ke=S;ke>K;ke--)Se[ke]=Se[ke-1],Mt[ke]=Mt[ke-1];Se[K]=me,Mt[K]=we,this.setPage(K)}else if(S<K){me=Se[S],we=Mt[S];for(var Ye=S;Ye<K;Ye++)Se[Ye]=Se[Ye+1],Mt[Ye]=Mt[Ye+1];Se[K]=me,Mt[K]=we,this.setPage(K)}return this},p.deletePage=function(){return Rl.apply(this,arguments),this},p.__private__.text=p.text=function(S,K,me,we,ke){var Ye,rt,Lt,Ht,pr,xr,tn,Gn,Ns,En=(we=we||{}).scope||this;if(typeof S=="number"&&typeof K=="number"&&(typeof me=="string"||Array.isArray(me))){var Ds=me;me=K,K=S,S=Ds}if(arguments[3]instanceof Ce==0?(Lt=arguments[4],Ht=arguments[5],Sn(tn=arguments[3])==="object"&&tn!==null||(typeof Lt=="string"&&(Ht=Lt,Lt=null),typeof tn=="string"&&(Ht=tn,tn=null),typeof tn=="number"&&(Lt=tn,tn=null),we={flags:tn,angle:Lt,align:Ht})):(V("The transform parameter of text() with a Matrix value"),Ns=ke),isNaN(K)||isNaN(me)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return En;var cs,si="",Sa=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:Vi,$i=En.internal.scaleFactor;function Th(rn){return rn=rn.split("	").join(Array(we.TabLen||9).join(" ")),Si(rn,tn)}function Ol(rn){for(var gn,ts=rn.concat(),js=[],Qa=ts.length;Qa--;)typeof(gn=ts.shift())=="string"?js.push(gn):Array.isArray(rn)&&(gn.length===1||gn[1]===void 0&&gn[2]===void 0)?js.push(gn[0]):js.push([gn[0],gn[1],gn[2]]);return js}function jc(rn,gn){var ts;if(typeof rn=="string")ts=gn(rn)[0];else if(Array.isArray(rn)){for(var js,Qa,Au=rn.concat(),fd=[],sl=Au.length;sl--;)typeof(js=Au.shift())=="string"?fd.push(gn(js)[0]):Array.isArray(js)&&typeof js[0]=="string"&&(Qa=gn(js[0],js[1],js[2]),fd.push([Qa[0],Qa[1],Qa[2]]));ts=fd}return ts}var Ll=!1,Cc=!0;if(typeof S=="string")Ll=!0;else if(Array.isArray(S)){var Fl=S.concat();rt=[];for(var _c,xi=Fl.length;xi--;)(typeof(_c=Fl.shift())!="string"||Array.isArray(_c)&&typeof _c[0]!="string")&&(Cc=!1);Ll=Cc}if(Ll===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Ac=Pe/En.internal.scaleFactor,Sc=Ac*(Sa-1);switch(we.baseline){case"bottom":me-=Sc;break;case"top":me+=Ac-Sc;break;case"hanging":me+=Ac-2*Sc;break;case"middle":me+=Ac/2-Sc}if((xr=we.maxWidth||0)>0&&(typeof S=="string"?S=En.splitTextToSize(S,xr):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(rn,gn){return rn.concat(En.splitTextToSize(gn,xr))},[]))),Ye={text:S,x:K,y:me,options:we,mutex:{pdfEscape:Si,activeFontKey:mt,fonts:vt,activeFontSize:Pe}},ge.publish("preProcessText",Ye),S=Ye.text,Lt=(we=Ye.options).angle,Ns instanceof Ce==0&&Lt&&typeof Lt=="number"){Lt*=Math.PI/180,we.rotationDirection===0&&(Lt=-Lt),P===k&&(Lt=-Lt);var Cu=Math.cos(Lt),_u=Math.sin(Lt);Ns=new Ce(Cu,_u,-_u,Cu,0,0)}else Lt&&Lt instanceof Ce&&(Ns=Lt);P!==k||Ns||(Ns=tt),(pr=we.charSpace||Xa)!==void 0&&(si+=D(X(pr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Gn=we.horizontalScale)!==void 0&&(si+=D(100*Gn)+` Tz
`),we.lang;var Qn=-1,Za=we.renderingMode!==void 0?we.renderingMode:we.stroke,Co=En.internal.getCurrentPageInfo().pageContext;switch(Za){case 0:case!1:case"fill":Qn=0;break;case 1:case!0:case"stroke":Qn=1;break;case 2:case"fillThenStroke":Qn=2;break;case 3:case"invisible":Qn=3;break;case 4:case"fillAndAddForClipping":Qn=4;break;case 5:case"strokeAndAddPathForClipping":Qn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qn=6;break;case 7:case"addToPathForClipping":Qn=7}var Ih=Co.usedRenderingMode!==void 0?Co.usedRenderingMode:-1;Qn!==-1?si+=Qn+` Tr
`:Ih!==-1&&(si+=`0 Tr
`),Qn!==-1&&(Co.usedRenderingMode=Qn),Ht=we.align||"left";var la,Ml=Pe*Sa,cd=En.internal.pageSize.getWidth(),dd=vt[mt];pr=we.charSpace||Xa,xr=we.maxWidth||0,tn=Object.assign({autoencode:!0,noBOM:!0},we.flags);var el=[],Ea=function(rn){return En.getStringUnitWidth(rn,{font:dd,charSpace:pr,fontSize:Pe,doKerning:!1})*Pe/$i};if(Object.prototype.toString.call(S)==="[object Array]"){var ca;rt=Ol(S),Ht!=="left"&&(la=rt.map(Ea));var da,Bl=0;if(Ht==="right"){K-=la[0],S=[],xi=rt.length;for(var _o=0;_o<xi;_o++)_o===0?(da=oa(K),ca=Zo(me)):(da=X(Bl-la[_o]),ca=-Ml),S.push([rt[_o],da,ca]),Bl=la[_o]}else if(Ht==="center"){K-=la[0]/2,S=[],xi=rt.length;for(var tl=0;tl<xi;tl++)tl===0?(da=oa(K),ca=Zo(me)):(da=X((Bl-la[tl])/2),ca=-Ml),S.push([rt[tl],da,ca]),Bl=la[tl]}else if(Ht==="left"){S=[],xi=rt.length;for(var rl=0;rl<xi;rl++)S.push(rt[rl])}else if(Ht==="justify"&&dd.encoding==="Identity-H"){S=[],xi=rt.length,xr=xr!==0?xr:cd;for(var Ao=0,ds=0;ds<xi;ds++)if(ca=ds===0?Zo(me):-Ml,da=ds===0?oa(K):Ao,ds<xi-1){var Ec=X((xr-la[ds])/(rt[ds].split(" ").length-1)),So=rt[ds].split(" ");S.push([So[0]+" ",da,ca]),Ao=0;for(var Ja=1;Ja<So.length;Ja++){var kc=(Ea(So[Ja-1]+" "+So[Ja])-Ea(So[Ja]))*$i+Ec;Ja==So.length-1?S.push([So[Ja],kc,0]):S.push([So[Ja]+" ",kc,0]),Ao-=kc}}else S.push([rt[ds],da,ca]);S.push(["",Ao,0])}else{if(Ht!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],xi=rt.length,xr=xr!==0?xr:cd,ds=0;ds<xi;ds++){ca=ds===0?Zo(me):-Ml,da=ds===0?oa(K):0;var Pc=rt[ds].split(" ").length-1,ud=Pc>0?(xr-la[ds])/Pc:0;ds<xi-1?el.push(D(X(ud))):el.push(0),S.push([rt[ds],da,ca])}}}(typeof we.R2L=="boolean"?we.R2L:xt)===!0&&(S=jc(S,function(rn,gn,ts){return[rn.split("").reverse().join(""),gn,ts]})),Ye={text:S,x:K,y:me,options:we,mutex:{pdfEscape:Si,activeFontKey:mt,fonts:vt,activeFontSize:Pe}},ge.publish("postProcessText",Ye),S=Ye.text,cs=Ye.mutex.isHex||!1;var hd=vt[mt].encoding;hd!=="WinAnsiEncoding"&&hd!=="StandardEncoding"||(S=jc(S,function(rn,gn,ts){return[Th(rn),gn,ts]})),rt=Ol(S),S=[];for(var nl,Ul,Vl,Tc=Array.isArray(rt[0])?1:0,$l="",Ic=function(rn,gn,ts){var js="";return ts instanceof Ce?(ts=typeof we.angle=="number"?wt(ts,new Ce(1,0,0,1,rn,gn)):wt(new Ce(1,0,0,1,rn,gn),ts),P===k&&(ts=wt(new Ce(1,0,0,-1,0,0),ts)),js=ts.join(" ")+` Tm
`):js=D(rn)+" "+D(gn)+` Td
`,js},es=0;es<rt.length;es++){switch($l="",Tc){case 1:Vl=(cs?"<":"(")+rt[es][0]+(cs?">":")"),nl=parseFloat(rt[es][1]),Ul=parseFloat(rt[es][2]);break;case 0:Vl=(cs?"<":"(")+rt[es]+(cs?">":")"),nl=oa(K),Ul=Zo(me)}el!==void 0&&el[es]!==void 0&&($l=el[es]+` Tw
`),es===0?S.push($l+Ic(nl,Ul,Ns)+Vl):Tc===0?S.push($l+Vl):Tc===1&&S.push($l+Ic(nl,Ul,Ns)+Vl)}S=Tc===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var zi=`BT
/`;return zi+=mt+" "+Pe+` Tf
`,zi+=D(Pe*Sa)+` TL
`,zi+=Ya+`
`,zi+=si,zi+=S,ce(zi+="ET"),x[mt]=!0,En};var gc=p.__private__.clip=p.clip=function(S){return ce(S==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return gc("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ce("n"),this};var yo=p.__private__.isValidStyle=function(S){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(K=!0),K};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(S){return yo(S)&&(u=S),this};var nd=p.__private__.getStyle=p.getStyle=function(S){var K=u;switch(S){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=S}return K},Zr=p.close=function(){return ce("h"),this};p.stroke=function(){return ce("S"),this},p.fill=function(S){return Yo("f",S),this},p.fillEvenOdd=function(S){return Yo("f*",S),this},p.fillStroke=function(S){return Yo("B",S),this},p.fillStrokeEvenOdd=function(S){return Yo("B*",S),this};var Yo=function(S,K){Sn(K)==="object"?Sh(K,S):ce(S)},sd=function(S){S===null||P===k&&S===void 0||(S=nd(S),ce(S))};function vu(S,K,me,we,ke){var Ye=new kf(K||this.boundingBox,me||this.xStep,we||this.yStep,this.gState,ke||this.matrix);Ye.stream=this.stream;var rt=S+"$$"+this.cloneIndex+++"$$";return Rr(rt,Ye),Ye}var Sh=function(S,K){var me=Qt[S.key],we=kt[me];if(we instanceof nh)ce("q"),ce(Eh(K)),we.gState&&p.setGState(we.gState),ce(S.matrix.toString()+" cm"),ce("/"+me+" sh"),ce("Q");else if(we instanceof kf){var ke=new Ce(1,0,0,-1,0,Aa());S.matrix&&(ke=ke.multiply(S.matrix||tt),me=vu.call(we,S.key,S.boundingBox,S.xStep,S.yStep,ke).id),ce("q"),ce("/Pattern cs"),ce("/"+me+" scn"),we.gState&&p.setGState(we.gState),ce(K),ce("Q")}},Eh=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},id=p.moveTo=function(S,K){return ce(D(X(S))+" "+D(ee(K))+" m"),this},Xo=p.lineTo=function(S,K){return ce(D(X(S))+" "+D(ee(K))+" l"),this},Ka=p.curveTo=function(S,K,me,we,ke,Ye){return ce([D(X(S)),D(ee(K)),D(X(me)),D(ee(we)),D(X(ke)),D(ee(Ye)),"c"].join(" ")),this};p.__private__.line=p.line=function(S,K,me,we,ke){if(isNaN(S)||isNaN(K)||isNaN(me)||isNaN(we)||!yo(ke))throw new Error("Invalid arguments passed to jsPDF.line");return P===A?this.lines([[me-S,we-K]],S,K,[1,1],ke||"S"):this.lines([[me-S,we-K]],S,K,[1,1]).stroke()},p.__private__.lines=p.lines=function(S,K,me,we,ke,Ye){var rt,Lt,Ht,pr,xr,tn,Gn,Ns,En,Ds,cs,si;if(typeof S=="number"&&(si=me,me=K,K=S,S=si),we=we||[1,1],Ye=Ye||!1,isNaN(K)||isNaN(me)||!Array.isArray(S)||!Array.isArray(we)||!yo(ke)||typeof Ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(id(K,me),rt=we[0],Lt=we[1],pr=S.length,Ds=K,cs=me,Ht=0;Ht<pr;Ht++)(xr=S[Ht]).length===2?(Ds=xr[0]*rt+Ds,cs=xr[1]*Lt+cs,Xo(Ds,cs)):(tn=xr[0]*rt+Ds,Gn=xr[1]*Lt+cs,Ns=xr[2]*rt+Ds,En=xr[3]*Lt+cs,Ds=xr[4]*rt+Ds,cs=xr[5]*Lt+cs,Ka(tn,Gn,Ns,En,Ds,cs));return Ye&&Zr(),sd(ke),this},p.path=function(S){for(var K=0;K<S.length;K++){var me=S[K],we=me.c;switch(me.op){case"m":id(we[0],we[1]);break;case"l":Xo(we[0],we[1]);break;case"c":Ka.apply(this,we);break;case"h":Zr()}}return this},p.__private__.rect=p.rect=function(S,K,me,we,ke){if(isNaN(S)||isNaN(K)||isNaN(me)||isNaN(we)||!yo(ke))throw new Error("Invalid arguments passed to jsPDF.rect");return P===A&&(we=-we),ce([D(X(S)),D(ee(K)),D(X(me)),D(X(we)),"re"].join(" ")),sd(ke),this},p.__private__.triangle=p.triangle=function(S,K,me,we,ke,Ye,rt){if(isNaN(S)||isNaN(K)||isNaN(me)||isNaN(we)||isNaN(ke)||isNaN(Ye)||!yo(rt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-S,we-K],[ke-me,Ye-we],[S-ke,K-Ye]],S,K,[1,1],rt,!0),this},p.__private__.roundedRect=p.roundedRect=function(S,K,me,we,ke,Ye,rt){if(isNaN(S)||isNaN(K)||isNaN(me)||isNaN(we)||isNaN(ke)||isNaN(Ye)||!yo(rt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Lt=4/3*(Math.SQRT2-1);return ke=Math.min(ke,.5*me),Ye=Math.min(Ye,.5*we),this.lines([[me-2*ke,0],[ke*Lt,0,ke,Ye-Ye*Lt,ke,Ye],[0,we-2*Ye],[0,Ye*Lt,-ke*Lt,Ye,-ke,Ye],[2*ke-me,0],[-ke*Lt,0,-ke,-Ye*Lt,-ke,-Ye],[0,2*Ye-we],[0,-Ye*Lt,ke*Lt,-Ye,ke,-Ye]],S+ke,K,[1,1],rt,!0),this},p.__private__.ellipse=p.ellipse=function(S,K,me,we,ke){if(isNaN(S)||isNaN(K)||isNaN(me)||isNaN(we)||!yo(ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ye=4/3*(Math.SQRT2-1)*me,rt=4/3*(Math.SQRT2-1)*we;return id(S+me,K),Ka(S+me,K-rt,S+Ye,K-we,S,K-we),Ka(S-Ye,K-we,S-me,K-rt,S-me,K),Ka(S-me,K+rt,S-Ye,K+we,S,K+we),Ka(S+Ye,K+we,S+me,K+rt,S+me,K),sd(ke),this},p.__private__.circle=p.circle=function(S,K,me,we){if(isNaN(S)||isNaN(K)||isNaN(me)||!yo(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,K,me,me,we)},p.setFont=function(S,K,me){return me&&(K=L(K,me)),mt=rd(S,K,{disableWarning:!1}),this};var wo=p.__private__.getFont=p.getFont=function(){return vt[rd.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var S,K,me={};for(S in Zt)if(Zt.hasOwnProperty(S))for(K in me[S]=[],Zt[S])Zt[S].hasOwnProperty(K)&&me[S].push(K);return me},p.addFont=function(S,K,me,we,ke){var Ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ye.indexOf(arguments[3])!==-1?ke=arguments[3]:arguments[3]&&Ye.indexOf(arguments[3])==-1&&(me=L(me,we)),Il.call(this,S,K,me,ke=ke||"Identity-H")};var Vi,Na=t.lineWidth||.200025,or=p.__private__.getLineWidth=p.getLineWidth=function(){return Na},vc=p.__private__.setLineWidth=p.setLineWidth=function(S){return Na=S,ce(D(X(S))+" w"),this};p.__private__.setLineDash=Yt.API.setLineDash=Yt.API.setLineDashPattern=function(S,K){if(S=S||[],K=K||0,isNaN(K)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(me){return D(X(me))}).join(" "),K=D(X(K)),ce("["+S+"] "+K+" d"),this};var bo=p.__private__.getLineHeight=p.getLineHeight=function(){return Pe*Vi};p.__private__.getLineHeight=p.getLineHeight=function(){return Pe*Vi};var u0=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Vi=S),this},kh=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Vi};u0(t.lineHeight);var oa=p.__private__.getHorizontalCoordinate=function(S){return X(S)},Zo=p.__private__.getVerticalCoordinate=function(S){return P===k?S:Mt[z].mediaBox.topRightY-Mt[z].mediaBox.bottomLeftY-X(S)},Ph=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(S){return D(oa(S))},ad=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(S){return D(Zo(S))},yc=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return mn(yc)},p.__private__.setStrokeColor=p.setDrawColor=function(S,K,me,we){return yc=Ln({ch1:S,ch2:K,ch3:me,ch4:we,pdfColorType:"draw",precision:2}),ce(yc),this};var yu=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return mn(yu)},p.__private__.setFillColor=p.setFillColor=function(S,K,me,we){return yu=Ln({ch1:S,ch2:K,ch3:me,ch4:we,pdfColorType:"fill",precision:2}),ce(yu),this};var Ya=t.textColor||"0 g",No=p.__private__.getTextColor=p.getTextColor=function(){return mn(Ya)};p.__private__.setTextColor=p.setTextColor=function(S,K,me,we){return Ya=Ln({ch1:S,ch2:K,ch3:me,ch4:we,pdfColorType:"text",precision:3}),this};var Xa=t.charSpace,od=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Xa||0)};p.__private__.setCharSpace=p.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xa=S,this};var wu=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(S){var K=p.CapJoinStyles[S];if(K===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wu=K,ce(K+" J"),this};var bu=0;p.__private__.setLineJoin=p.setLineJoin=function(S){var K=p.CapJoinStyles[S];if(K===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bu=K,ce(K+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(D(X(S))+" M"),this},p.GState=y1,p.setGState=function(S){(S=typeof S=="string"?Dt[Or[S]]:Jo(null,S)).equals(Dr)||(ce("/"+S.id+" gs"),Dr=S)};var Jo=function(S,K){if(!S||!Or[S]){var me=!1;for(var we in Dt)if(Dt.hasOwnProperty(we)&&Dt[we].equals(K)){me=!0;break}if(me)K=Dt[we];else{var ke="GS"+(Object.keys(Dt).length+1).toString(10);Dt[ke]=K,K.id=ke}return S&&(Or[S]=K.id),ge.publish("addGState",K),K}};p.addGState=function(S,K){return Jo(S,K),this},p.saveGraphicsState=function(){return ce("q"),mr.push({key:mt,size:Pe,color:Ya}),this},p.restoreGraphicsState=function(){ce("Q");var S=mr.pop();return mt=S.key,Pe=S.size,Ya=S.color,Dr=null,this},p.setCurrentTransformationMatrix=function(S){return ce(S.toString()+" cm"),this},p.comment=function(S){return ce("#"+S),this};var jo=function(S,K){var me=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function(Ye){isNaN(Ye)||(me=parseFloat(Ye))}});var we=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function(Ye){isNaN(Ye)||(we=parseFloat(Ye))}});var ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ke},set:function(Ye){ke=Ye.toString()}}),this},wc=function(S,K,me,we){jo.call(this,S,K),this.type="rect";var ke=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ke},set:function(rt){isNaN(rt)||(ke=parseFloat(rt))}});var Ye=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ye},set:function(rt){isNaN(rt)||(Ye=parseFloat(rt))}}),this},bc=function(){this.page=Cr,this.currentPage=z,this.pages=Se.slice(0),this.pagesContext=Mt.slice(0),this.x=jt,this.y=rr,this.matrix=cr,this.width=Nc(z),this.height=Ca(z),this.outputDestination=Fe,this.id="",this.objectNumber=-1};bc.prototype.restore=function(){Cr=this.page,z=this.currentPage,Mt=this.pagesContext,Se=this.pages,jt=this.x,rr=this.y,cr=this.matrix,Nu(z,this.width),_a(z,this.height),Fe=this.outputDestination};var ja=function(S,K,me,we,ke){Qr.push(new bc),Cr=z=0,Se=[],jt=S,rr=K,cr=ke,vo([me,we])};for(var Qo in p.beginFormObject=function(S,K,me,we,ke){return ja(S,K,me,we,ke),this},p.endFormObject=function(S){return(function(K){if(yr[K])Qr.pop().restore();else{var me=new bc,we="Xo"+(Object.keys(bt).length+1).toString(10);me.id=we,yr[K]=we,bt[we]=me,ge.publish("addFormObject",me),Qr.pop().restore()}})(S),this},p.doFormObject=function(S,K){var me=bt[yr[S]];return ce("q"),ce(K.toString()+" cm"),ce("/"+me.id+" Do"),ce("Q"),this},p.getFormObject=function(S){var K=bt[yr[S]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},p.save=function(S,K){return S=S||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(eh(In(dn()),S),typeof eh.unload=="function"&&Nr.setTimeout&&setTimeout(eh.unload,911),this):new Promise(function(me,we){try{var ke=eh(In(dn()),S);typeof eh.unload=="function"&&Nr.setTimeout&&setTimeout(eh.unload,911),me(ke)}catch(Ye){we(Ye.message)}})},Yt.API)Yt.API.hasOwnProperty(Qo)&&(Qo==="events"&&Yt.API.events.length?(function(S,K){var me,we,ke;for(ke=K.length-1;ke!==-1;ke--)me=K[ke][0],we=K[ke][1],S.subscribe.apply(S,[me].concat(typeof we=="function"?[we]:we))})(ge,Yt.API.events):p[Qo]=Yt.API[Qo]);function Nc(S){return Mt[S].mediaBox.topRightX-Mt[S].mediaBox.bottomLeftX}function Nu(S,K){Mt[S].mediaBox.topRightX=K+Mt[S].mediaBox.bottomLeftX}function Ca(S){return Mt[S].mediaBox.topRightY-Mt[S].mediaBox.bottomLeftY}function _a(S,K){Mt[S].mediaBox.topRightY=K+Mt[S].mediaBox.bottomLeftY}var ju=p.getPageWidth=function(S){return Nc(S=S||z)/Et},pi=p.setPageWidth=function(S,K){Nu(S,K*Et)},Aa=p.getPageHeight=function(S){return Ca(S=S||z)/Et},ld=p.setPageHeight=function(S,K){_a(S,K*Et)};return p.internal={pdfEscape:Si,getStyle:nd,getFont:wo,getFontSize:We,getCharSpace:od,getTextColor:No,getLineHeight:bo,getLineHeightFactor:kh,getLineWidth:or,write:$e,getHorizontalCoordinate:oa,getVerticalCoordinate:Zo,getCoordinateString:Ph,getVerticalCoordinateString:ad,collections:{},newObject:Lr,newAdditionalObject:Rt,newObjectDeferred:wr,newObjectDeferredBegin:Ve,getFilters:Is,putStream:Hn,events:ge,scaleFactor:Et,pageSize:{getWidth:function(){return ju(z)},setWidth:function(S){pi(z,S)},getHeight:function(){return Aa(z)},setHeight:function(S){ld(z,S)}},encryptionOptions:h,encryption:Wn,getEncryptor:function(S){return h!==null?Wn.encryptor(S,0):function(K){return K}},output:mi,getNumberOfPages:Ei,pages:Se,out:ce,f2:B,f3:F,getPageInfo:xc,getPageInfoByObjId:Ah,getCurrentPageInfo:gu,getPDFVersion:w,Point:jo,Rectangle:wc,Matrix:Ce,hasHotfix:aa},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ju(z)},set:function(S){pi(z,S)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Aa(z)},set:function(S){ld(z,S)},enumerable:!0,configurable:!0}),function(S){for(var K=0,me=lt.length;K<me;K++){var we=Il.call(this,S[K][0],S[K][1],S[K][2],lt[K][3],!0);m===!1&&(x[we]=!0);var ke=S[K][0].split("-");pc({id:we,fontName:ke[0],fontStyle:ke[1]||""})}ge.publish("addFonts",{fonts:vt,dictionary:Zt})}.call(p,lt),mt="F1",Dl(i,r),ge.publish("initialized"),p}yf.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},yf.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},yf.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},yf.prototype.processOwnerPassword=function(t,e){return iw(sw(e).substr(0,5),t)},yf.prototype.encryptor=function(t,e){var r=sw(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return iw(r,n)}},y1.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Sn(t)!==Sn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Yt.API={events:[]},Yt.version="3.0.3";var Es=Yt.API,Qb=1,_h=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ir=function(t){return t.toFixed(2)},Fd=function(t){return t.toFixed(5)};Es.__acroform__={};var Wa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},$C=function(t){return t*Qb},Jl=function(t){var e=new mk,r=$t.internal.getHeight(t)||0,n=$t.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ir(n)),Number(Ir(r))],e},ree=Es.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},nee=Es.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},see=Es.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Ms=Es.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return see(t,e-1)},Bs=Es.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ree(t,e-1)},Us=Es.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return nee(t,e-1)},iee=Es.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(a)||0,[Number(Ir(c.lowerLeft_X)),Number(Ir(c.lowerLeft_Y)),Number(Ir(c.upperRight_X)),Number(Ir(c.upperRight_Y))]},aee=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=aw(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Ir(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Jl(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},aw=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(B){return B.split(`
`)}):i.map(function(B){return[B]});var a=r,o=$t.internal.getHeight(t)||0;o=o<0?-o:o;var l=$t.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(B,F,X){if(B+1<i.length){var ee=F+" "+i[B+1][0];return wx(ee,t,X).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var u,h,m=wx("3",t,a).height,x=t.multiline?o-a:(o-m)/2,p=x+=2,y=0,w=0,j=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+wx(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var C="",A=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var P=!1;if(i[k].length!==1&&j!==i[k].length-1){if((m+2)*(A+2)+2>o)continue e;C+=i[k][j],P=!0,w=k,k--}else{C=(C+=i[k][j]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var M=parseInt(k),$=c(M,C,a),L=k>=i.length-1;if($&&!L){C+=" ",j=0;continue}if($||L){if(L)w=M;else if(t.multiline&&(m+2)*(A+2)+2>o)continue e}else{if(!t.multiline||(m+2)*(A+2)+2>o)continue e;w=M}}for(var D="",V=y;V<=w;V++){var ne=i[V];if(t.multiline){if(V===w){D+=ne[j]+" ",j=(j+1)%ne.length;continue}if(V===y){D+=ne[ne.length-1]+" ";continue}}D+=ne[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,h=wx(D,t,a).width,t.textAlign){case"right":u=l-h-2;break;case"center":u=(l-h)/2;break;default:u=2}e+=Ir(u)+" "+Ir(p)+` Td
`,e+="("+_h(D)+`) Tj
`,e+=-Ir(u)+` 0 Td
`,p=-(a+2),h=0,y=P?w:w+1,A++,C=""}break}return n.text=e,n.fontSize=a,n},wx=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},oee={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},lee=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},cee=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Pl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(oee)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Qb=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new pk,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&lee(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=iee(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=$t.createDefaultAppearanceStream(l),Sn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=aee(l);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var m="";for(var x in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(x)){var p=l.appearanceStreamContent[x];if(m+="/"+x+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var y=p[o];typeof y=="function"&&(y=y.call(i,l)),m+="/"+o+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(i,l)),m+="/"+o+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&(function(w,j){for(var C in w)if(w.hasOwnProperty(C)){var A=C,k=w[C];j.internal.newObjectDeferredBegin(k.objId,!0),Sn(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete w[A]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},fk=Es.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),Sn(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+_h(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},I2=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+_h(n(t))+")"},tc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};tc.prototype.toString=function(){return this.objId+" 0 R"},tc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},tc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:fk(i,this.objId,this.scope)}):i instanceof tc?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var mk=function(){tc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Wa(mk,tc);var pk=function(){tc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+_h(r(t))+")"}},set:function(r){t=r}})};Wa(pk,tc);var Pl=function t(){tc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ms(e,3)},set:function(C){C?this.F=Bs(e,3):this.F=Us(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');r=C}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(C){n=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(C){n[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(C){n[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(C){n[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(C){n[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof w1)return;a="FieldObject"+t.FieldNum++}var C=function(A){return A};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+_h(C(a))+")"},set:function(C){a=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(C){a=C}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(C){o=C}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(C){l=C}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Qb:u},set:function(C){u=C}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof w1||this instanceof hh))return I2(m,this.objId,this.scope)},set:function(C){C=C.toString(),m=C}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Ci==0?I2(x,this.objId,this.scope):x},set:function(C){C=C.toString(),x=this instanceof Ci==0?C.substr(0,1)==="("?hf(C.substr(1,C.length-2)):hf(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ci==1?hf(x.substr(1,x.length-1)):x},set:function(C){C=C.toString(),x=this instanceof Ci==1?"/"+C:C}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ci==0?I2(p,this.objId,this.scope):p},set:function(C){C=C.toString(),p=this instanceof Ci==0?C.substr(0,1)==="("?hf(C.substr(1,C.length-2)):hf(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ci==1?hf(p.substr(1,p.length-1)):p},set:function(C){C=C.toString(),p=this instanceof Ci==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(C){C=!!C,w=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(C){y=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,1)},set:function(C){C?this.Ff=Bs(this.Ff,1):this.Ff=Us(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,2)},set:function(C){C?this.Ff=Bs(this.Ff,2):this.Ff=Us(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,3)},set:function(C){C?this.Ff=Bs(this.Ff,3):this.Ff=Us(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');j=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(j){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:j=2;break;case"center":case 1:j=1;break;default:j=0}}})};Wa(Pl,tc);var Mf=function(){Pl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fk(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(a,o,l){l||(l=1);for(var c,u=[];c=o.exec(a);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,18)},set:function(r){r?this.Ff=Bs(this.Ff,18):this.Ff=Us(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Bs(this.Ff,19):this.Ff=Us(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,20)},set:function(r){r?(this.Ff=Bs(this.Ff,20),e.sort()):this.Ff=Us(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,22)},set:function(r){r?this.Ff=Bs(this.Ff,22):this.Ff=Us(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,23)},set:function(r){r?this.Ff=Bs(this.Ff,23):this.Ff=Us(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,27)},set:function(r){r?this.Ff=Bs(this.Ff,27):this.Ff=Us(this.Ff,27)}}),this.hasAppearanceStream=!1};Wa(Mf,Pl);var Bf=function(){Mf.call(this),this.fontName="helvetica",this.combo=!1};Wa(Bf,Mf);var Uf=function(){Bf.call(this),this.combo=!0};Wa(Uf,Bf);var Bx=function(){Uf.call(this),this.edit=!0};Wa(Bx,Uf);var Ci=function(){Pl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,15)},set:function(r){r?this.Ff=Bs(this.Ff,15):this.Ff=Us(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,16)},set:function(r){r?this.Ff=Bs(this.Ff,16):this.Ff=Us(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,17)},set:function(r){r?this.Ff=Bs(this.Ff,17):this.Ff=Us(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,26)},set:function(r){r?this.Ff=Bs(this.Ff,26):this.Ff=Us(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+_h(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Sn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Wa(Ci,Pl);var Ux=function(){Ci.call(this),this.pushButton=!0};Wa(Ux,Ci);var Vf=function(){Ci.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Wa(Vf,Ci);var w1=function(){var t,e;Pl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+_h(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Sn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Wa(w1,Pl),Vf.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Vf.prototype.createOption=function(t){var e=new w1;return e.Parent=this,e.optionName=t,this.Kids.push(e),dee.call(this.scope,e),e};var Vx=function(){Ci.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$t.CheckBox.createAppearanceStream()};Wa(Vx,Ci);var hh=function(){Pl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,13)},set:function(e){e?this.Ff=Bs(this.Ff,13):this.Ff=Us(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,21)},set:function(e){e?this.Ff=Bs(this.Ff,21):this.Ff=Us(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,23)},set:function(e){e?this.Ff=Bs(this.Ff,23):this.Ff=Us(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,24)},set:function(e){e?this.Ff=Bs(this.Ff,24):this.Ff=Us(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,25)},set:function(e){e?this.Ff=Bs(this.Ff,25):this.Ff=Us(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,26)},set:function(e){e?this.Ff=Bs(this.Ff,26):this.Ff=Us(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Wa(hh,Pl);var $x=function(){hh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,14)},set:function(t){t?this.Ff=Bs(this.Ff,14):this.Ff=Us(this.Ff,14)}}),this.password=!0};Wa($x,hh);var $t={CheckBox:{createAppearanceStream:function(){return{N:{On:$t.CheckBox.YesNormal},D:{On:$t.CheckBox.YesPushDown,Off:$t.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=aw(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Ir($t.internal.getWidth(t))+" "+Ir($t.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ir(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Jl(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=$t.internal.getHeight(t),o=$t.internal.getWidth(t),l=aw(t,t.caption);return i.push("1 g"),i.push("0 0 "+Ir(o)+" "+Ir(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ir(o-1)+" "+Ir(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Ir(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ir($t.internal.getWidth(t))+" "+Ir($t.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:$t.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=$t.RadioButton.Circle.YesNormal,e.D[t]=$t.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Jl(t);e.scope=t.scope;var r=[],n=$t.internal.getWidth(t)<=$t.internal.getHeight(t)?$t.internal.getWidth(t)/4:$t.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=$t.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Fd($t.internal.getWidth(t)/2)+" "+Fd($t.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=[],n=$t.internal.getWidth(t)<=$t.internal.getHeight(t)?$t.internal.getWidth(t)/4:$t.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*$t.internal.Bezier_C).toFixed(5)),o=Number((n*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Fd($t.internal.getWidth(t)/2)+" "+Fd($t.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Fd($t.internal.getWidth(t)/2)+" "+Fd($t.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=[],n=$t.internal.getWidth(t)<=$t.internal.getHeight(t)?$t.internal.getWidth(t)/4:$t.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Fd($t.internal.getWidth(t)/2)+" "+Fd($t.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:$t.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=$t.RadioButton.Cross.YesNormal,e.D[t]=$t.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Jl(t);e.scope=t.scope;var r=[],n=$t.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Ir($t.internal.getWidth(t)-2)+" "+Ir($t.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ir(n.x1.x)+" "+Ir(n.x1.y)+" m"),r.push(Ir(n.x2.x)+" "+Ir(n.x2.y)+" l"),r.push(Ir(n.x4.x)+" "+Ir(n.x4.y)+" m"),r.push(Ir(n.x3.x)+" "+Ir(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=$t.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ir($t.internal.getWidth(t))+" "+Ir($t.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ir($t.internal.getWidth(t)-2)+" "+Ir($t.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ir(r.x1.x)+" "+Ir(r.x1.y)+" m"),n.push(Ir(r.x2.x)+" "+Ir(r.x2.y)+" l"),n.push(Ir(r.x4.x)+" "+Ir(r.x4.y)+" m"),n.push(Ir(r.x3.x)+" "+Ir(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ir($t.internal.getWidth(t))+" "+Ir($t.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};$t.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=$t.internal.getWidth(t),r=$t.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},$t.internal.getWidth=function(t){var e=0;return Sn(t)==="object"&&(e=$C(t.Rect[2])),e},$t.internal.getHeight=function(t){var e=0;return Sn(t)==="object"&&(e=$C(t.Rect[3])),e};var dee=Es.addField=function(t){if(cee(this,t),!(t instanceof Pl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Es.AcroFormChoiceField=Mf,Es.AcroFormListBox=Bf,Es.AcroFormComboBox=Uf,Es.AcroFormEditBox=Bx,Es.AcroFormButton=Ci,Es.AcroFormPushButton=Ux,Es.AcroFormRadioButton=Vf,Es.AcroFormCheckBox=Vx,Es.AcroFormTextField=hh,Es.AcroFormPasswordField=$x,Es.AcroFormAppearance=$t,Es.AcroForm={ChoiceField:Mf,ListBox:Bf,ComboBox:Uf,EditBox:Bx,Button:Ci,PushButton:Ux,RadioButton:Vf,CheckBox:Vx,TextField:hh,PasswordField:$x,Appearance:$t},Yt.AcroForm={ChoiceField:Mf,ListBox:Bf,ComboBox:Uf,EditBox:Bx,Button:Ci,PushButton:Ux,RadioButton:Vf,CheckBox:Vx,TextField:hh,PasswordField:$x,Appearance:$t};Yt.AcroForm;function xk(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(B,F){var X,ee,xe,oe,pe,H=r;if((F=F||r)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if($(B))for(pe in n)for(xe=n[pe],X=0;X<xe.length;X+=1){for(oe=!0,ee=0;ee<xe[X].length;ee+=1)if(xe[X][ee]!==void 0&&xe[X][ee]!==B[ee]){oe=!1;break}if(oe===!0){H=pe;break}}else for(pe in n)for(xe=n[pe],X=0;X<xe.length;X+=1){for(oe=!0,ee=0;ee<xe[X].length;ee+=1)if(xe[X][ee]!==void 0&&xe[X][ee]!==B.charCodeAt(ee)){oe=!1;break}if(oe===!0){H=pe;break}}return H===r&&F!==r&&(H=F),H},a=function B(F){for(var X=this.internal.write,ee=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:F.width}),oe.push({key:"Height",value:F.height}),F.colorSpace===C.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===C.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&oe.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var pe="",H=0,q=F.transparency.length;H<q;H++)pe+=F.transparency[H]+" "+F.transparency[H]+" ";oe.push({key:"Mask",value:"["+pe+"]"})}F.sMask!==void 0&&oe.push({key:"SMask",value:F.objectId+1+" 0 R"});var ie=F.filter!==void 0?["/"+F.filter]:void 0;if(ee({data:F.data,additionalKeyValues:oe,alreadyAppliedFilters:ie,objectId:F.objectId}),X("endobj"),"sMask"in F&&F.sMask!==void 0){var G,R=(G=F.sMaskBitsPerComponent)!==null&&G!==void 0?G:F.bitsPerComponent,z={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:F.sMask};"filter"in F&&(z.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat(F.width),z.filter=F.filter),B.call(this,z)}if(F.colorSpace===C.INDEXED){var U=this.internal.newObject();ee({data:D(new Uint8Array(F.palette)),objectId:U}),X("endobj")}},o=function(){var B=this.internal.collections[e+"images"];for(var F in B)a.call(this,B[F])},l=function(){var B,F=this.internal.collections[e+"images"],X=this.internal.write;for(var ee in F)X("/I"+(B=F[ee]).index,B.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var B=this.internal.collections[e+"images"];return c.call(this),B},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(B){return typeof t["process"+B.toUpperCase()]=="function"},x=function(B){return Sn(B)==="object"&&B.nodeType===1},p=function(B,F){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var X=""+B.getAttribute("src");if(X.indexOf("data:image/")===0)return Mx(unescape(X).split("base64,").pop());var ee=t.loadFile(X,!0);if(ee!==void 0)return ee}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var xe;switch(F){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;default:xe="image/jpeg"}return Mx(B.toDataURL(xe,1).split("base64,").pop())}},y=function(B){var F=this.internal.collections[e+"images"];if(F){for(var X in F)if(B===F[X].alias)return F[X]}},w=function(B,F,X){return B||F||(B=-96,F=-96),B<0&&(B=-1*X.width*72/B/this.internal.scaleFactor),F<0&&(F=-1*X.height*72/F/this.internal.scaleFactor),B===0&&(B=F*X.width/X.height),F===0&&(F=B*X.height/X.width),[B,F]},j=function(B,F,X,ee,xe,oe){var pe=w.call(this,X,ee,xe),H=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,ie=u.call(this);if(X=pe[0],ee=pe[1],ie[xe.index]=xe,oe){oe*=Math.PI/180;var G=Math.cos(oe),R=Math.sin(oe),z=function(Q){return Q.toFixed(4)},U=[z(G),z(R),z(-1*R),z(G),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,H(B),q(F+ee),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([H(X),"0","0",H(ee),"0","0","cm"].join(" "))):this.internal.write([H(X),"0","0",H(ee),H(B),q(F+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},C=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=t.__addimage__.sHashCode=function(B){var F,X,ee=0;if(typeof B=="string")for(X=B.length,F=0;F<X;F++)ee=(ee<<5)-ee+B.charCodeAt(F),ee|=0;else if($(B))for(X=B.byteLength/2,F=0;F<X;F++)ee=(ee<<5)-ee+B[F],ee|=0;return ee},P=t.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var F=!0;return B.length===0&&(F=!1),B.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(F=!1),F},M=t.__addimage__.extractImageFromDataUrl=function(B){if(B==null||!(B=B.trim()).startsWith("data:"))return null;var F=B.indexOf(",");return F<0?null:B.substring(0,F).trim().endsWith("base64")?B.substring(F+1):null};t.__addimage__.isArrayBuffer=function(B){return B instanceof ArrayBuffer};var $=t.__addimage__.isArrayBufferView=function(B){return B instanceof Int8Array||B instanceof Uint8Array||B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array},L=t.__addimage__.binaryStringToUint8Array=function(B){for(var F=B.length,X=new Uint8Array(F),ee=0;ee<F;ee++)X[ee]=B.charCodeAt(ee);return X},D=t.__addimage__.arrayBufferToBinaryString=function(B){for(var F="",X=$(B)?B:new Uint8Array(B),ee=0;ee<X.length;ee+=8192)F+=String.fromCharCode.apply(null,X.subarray(ee,ee+8192));return F};t.addImage=function(){var B,F,X,ee,xe,oe,pe,H,q;if(typeof arguments[1]=="number"?(F=r,X=arguments[1],ee=arguments[2],xe=arguments[3],oe=arguments[4],pe=arguments[5],H=arguments[6],q=arguments[7]):(F=arguments[1],X=arguments[2],ee=arguments[3],xe=arguments[4],oe=arguments[5],pe=arguments[6],H=arguments[7],q=arguments[8]),Sn(B=arguments[0])==="object"&&!x(B)&&"imageData"in B){var ie=B;B=ie.imageData,F=ie.format||F||r,X=ie.x||X||0,ee=ie.y||ee||0,xe=ie.w||ie.width||xe,oe=ie.h||ie.height||oe,pe=ie.alias||pe,H=ie.compression||H,q=ie.rotation||ie.angle||q}var G=this.internal.getFilters();if(H===void 0&&G.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(X)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var R=V.call(this,B,F,pe,H);return j.call(this,X,ee,xe,oe,R,q),this};var V=function(B,F,X,ee){var xe,oe,pe;if(typeof B=="string"&&i(B)===r){B=unescape(B);var H=ne(B,!1);(H!==""||(H=t.loadFile(B,!0))!==void 0)&&(B=H)}if(x(B)&&(B=p(B,F)),F=i(B,F),!m(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((pe=X)==null||pe.length===0)&&(X=(function(q){return typeof q=="string"||$(q)?k(q):$(q.data)?k(q.data):null})(B)),(xe=y.call(this,X))||(B instanceof Uint8Array||F==="RGBA"||(oe=B,B=L(B)),xe=this["process"+F.toUpperCase()](B,h.call(this),X,(function(q){return q&&typeof q=="string"&&(q=q.toUpperCase()),q in t.image_compression?q:A.NONE})(ee),oe)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},ne=t.__addimage__.convertBase64ToBinaryString=function(B,F){F=typeof F!="boolean"||F;var X,ee="";if(typeof B=="string"){var xe;X=(xe=M(B))!==null&&xe!==void 0?xe:B;try{ee=Mx(X)}catch(oe){if(F)throw P(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};t.getImageProperties=function(B){var F,X,ee="";if(x(B)&&(B=p(B)),typeof B=="string"&&i(B)===r&&((ee=ne(B,!1))===""&&(ee=t.loadFile(B)||""),B=ee),X=i(B),!m(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(B instanceof Uint8Array||(B=L(B)),!(F=this["process"+X.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=X,F}})(Yt.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Yt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,m=0;m<u.length&&!h;m++)switch((n=u[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var x=0;x<u.length;x++){n=u[x];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(w.objId),A=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(C(n.contents))+")",a+=" /Popup "+j.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+p(C(A))+") >>",w.content=a;var k=w.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+k,n.open&&(a+=" /Open true"),a+=" >>",j.content=a,this.internal.write(w.objId,"0 R",j.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var P=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(y(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var M=this.annotations._nameMap[n.options.name];n.options.pageNumber=M.page,n.options.top=M.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var $=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+$+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+a)},options:o,type:"link"})},t.textWithLink=function(r,n,i,a){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var h=this.splitTextToSize(r,l).length;o=Math.ceil(u*h)}else l=c,o=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-u,l,o,a),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Yt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},l=t.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&a(w)&&e[w.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&i.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&a(w)&&e[w.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&a(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&a(w)&&e[w.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&a(w)&&e[w.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(w){var j=0,C=r,A="",k=0;for(j=0;j<w.length;j+=1)C[w.charCodeAt(j)]!==void 0?(k++,typeof(C=C[w.charCodeAt(j)])=="number"&&(A+=String.fromCharCode(C),C=r,k=0),j===w.length-1&&(C=r,A+=w.charAt(j-(k-1)),j-=k-1,k=0)):(C=r,A+=w.charAt(j-k),j-=k,k=0);return A};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var x=t.__arabicParser__.getCorrectForm=function(w,j,C){return o(w)?a(w)===!1?-1:!u(w)||!o(j)&&!o(C)||!o(C)&&l(j)||l(w)&&!o(j)||l(w)&&c(j)||l(w)&&l(j)?0:h(w)&&o(j)&&!l(j)&&o(C)&&u(C)?3:l(w)||!o(C)?1:2:-1},p=function(w){var j=0,C=0,A=0,k="",P="",M="",$=(w=w||"").split("\\s+"),L=[];for(j=0;j<$.length;j+=1){for(L.push(""),C=0;C<$[j].length;C+=1)k=$[j][C],P=$[j][C-1],M=$[j][C+1],o(k)?(A=x(k,P,M),L[j]+=A!==-1?String.fromCharCode(e[k.charCodeAt(0)][A]):k):L[j]+=k;L[j]=m(L[j])}return L.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var w,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(j)){var A=0;for(C=[],A=0;A<j.length;A+=1)Array.isArray(j[A])?C.push([p(j[A][0]),j[A][1],j[A][2]]):C.push([p(j[A])]);w=C}else w=p(j);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",y])})(Yt.API),Yt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Yt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(w){x=w}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(w){y=w}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),x=u.scaleFactor||this.internal.scaleFactor,p=0,y=0,w=0,j=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var C=u.maxWidth;C>0?typeof c=="string"?c=this.splitTextToSize(c,C):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(k,P){return k.concat(j.splitTextToSize(P,C))},[])):c=Array.isArray(c)?c:[c];for(var A=0;A<c.length;A++)p<(w=this.getStringUnitWidth(c[A],{font:m})*h)&&(p=w);return p!==0&&(y=c.length),{w:p/=x,h:Math.max((y*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/x,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,p&&x&&(this.printHeaderRow(c.lineNumber,!0),c.y+=x[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,h,m,x){if(n.call(this),!h)throw new Error("No data for PDF table.");var p,y,w,j,C=[],A=[],k=[],P={},M={},$=[],L=[],D=(x=x||{}).autoSize||!1,V=x.printHeaders!==!1,ne=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,B=x.margins||Object.assign({width:this.getPageWidth()},e),F=typeof x.padding=="number"?x.padding:3,X=x.headerBackgroundColor||"#c8c8c8",ee=x.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=ne,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=ee,this.setFontSize(ne),m==null)A=C=Object.keys(h[0]),k=C.map(function(){return"left"});else if(Array.isArray(m)&&Sn(m[0])==="object")for(C=m.map(function(ie){return ie.name}),A=m.map(function(ie){return ie.prompt||ie.name||""}),k=m.map(function(ie){return ie.align||"left"}),p=0;p<m.length;p+=1)M[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(A=C=m,k=C.map(function(){return"left"}));if(D||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<C.length;p+=1){for(P[j=C[p]]=h.map(function(ie){return ie[j]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(A[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=P[j],this.setFont(void 0,"normal"),w=0;w<y.length;w+=1)$.push(this.getTextDimensions(y[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[j]=Math.max.apply(null,$)+F+F,$=[]}if(V){var xe={};for(p=0;p<C.length;p+=1)xe[C[p]]={},xe[C[p]].text=A[p],xe[C[p]].align=k[p];var oe=l.call(this,xe,M);L=C.map(function(ie){return new a(c,u,M[ie],oe,xe[ie].text,void 0,xe[ie].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var pe=m.reduce(function(ie,G){return ie[G.name]=G.align,ie},{});for(p=0;p<h.length;p+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:p,data:h[p]},this);var H=l.call(this,h[p],M);for(w=0;w<C.length;w+=1){var q=h[p][C[w]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:p,col:w,data:q},this),o.call(this,new a(c,u,M[C[w]],H,q,p+2,pe[C[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(c).map(function(p){var y=c[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/x+h+h},this).reduce(function(p,y){return Math.max(p,y)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,x.push(h)),h.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(y)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),r=!1}})(Yt.API);var gk={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vk=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ow=xk(vk),yk=[100,200,300,400,500,600,700,800,900],uee=xk(yk);function D2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(a){return gk[a=a||"normal"]?a:"normal"})(t.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(t.weight),i=(function(a){return typeof ow[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function zC(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var hee={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},HC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function qC(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function WC(t){return t.trimLeft()}function fee(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function mee(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var bx,GC,KC,ff,Nx,YC,XC,ZC,R2=["times"];function JC(t,e,r,n,i){var a=4,o=e6;switch(i){case Yt.API.image_compression.FAST:a=1,o=QC;break;case Yt.API.image_compression.MEDIUM:a=6,o=t6;break;case Yt.API.image_compression.SLOW:a=9,o=r6}t=(function(c,u,h,m){for(var x,p=c.length/u,y=new Uint8Array(c.length+p),w=[pee,QC,e6,t6,r6],j=0;j<p;j+=1){var C=j*u,A=c.subarray(C,C+u);if(m)y.set(m(A,h,x),C+j);else{for(var k=w.length,P=[],M=0;M<k;M+=1)P[M]=w[M](A,h,x);var $=gee(P.concat());y.set(P[$],C+j)}x=A}return y})(t,e,Math.ceil(r*n/8),o);var l=ew(t,{level:a});return Yt.API.__addimage__.arrayBufferToBinaryString(l)}function pee(t){var e=Array.apply([],t);return e.unshift(0),e}function QC(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function e6(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=t[a]-o+256&255}return i}function t6(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=t[a-e]||0,l=r&&r[a]||0;i[a+1]=t[a]+256-(o+l>>>1)&255}return i}function r6(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=xee(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-o+256&255}return i}function xee(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function gee(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function O2(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return wk(t,i)>>a&o}function n6(t,e,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),l=(1<<n)-1,c=(e&l)<<o;(function(u,h,m){if(h+1<u.byteLength)u.setUint16(h,m,!1);else{var x=m>>8&255;u.setUint8(h,x)}})(t,a,wk(t,a)&~(l<<o)&65535|c)}function wk(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function vee(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<1+(7&i);t[e++],t[e++];var l=null,c=null;a&&(l=e,c=o,e+=3*o);var u=!0,h=[],m=0,x=null,p=0,y=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];m=t[e++]|t[e++]<<8,x=t[e++],1&w||(x=null),p=w>>2&7,e++;break;case 254:for(;;){if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var j=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,P=t[e++],M=P>>6&1,$=1<<1+(7&P),L=l,D=c,V=!1;P>>7&&(V=!0,L=e,D=$,e+=3*$);var ne=e;for(e++;;){var B;if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}h.push({x:j,y:C,width:A,height:k,has_local_palette:V,palette_offset:L,palette_size:D,data_offset:ne,data_length:e-ne,transparent_index:x,interlaced:!!M,delay:m,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return y},this.frameInfo=function(F){if(F<0||F>=h.length)throw new Error("Frame index out of range.");return h[F]},this.decodeAndBlitFrameBGRA=function(F,X){var ee=this.frameInfo(F),xe=ee.width*ee.height,oe=new Uint8Array(xe);s6(t,ee.data_offset,oe,xe);var pe=ee.palette_offset,H=ee.transparent_index;H===null&&(H=256);var q=ee.width,ie=r-q,G=q,R=4*(ee.y*r+ee.x),z=4*((ee.y+ee.height)*r+ee.x),U=R,Q=4*ie;ee.interlaced===!0&&(Q+=4*r*7);for(var J=8,re=0,le=oe.length;re<le;++re){var ye=oe[re];if(G===0&&(G=q,(U+=Q)>=z&&(Q=4*ie+4*r*(J-1),U=R+(q+ie)*(J<<1),J>>=1)),ye===H)U+=4;else{var je=t[pe+3*ye],Se=t[pe+3*ye+1],Be=t[pe+3*ye+2];X[U++]=Be,X[U++]=Se,X[U++]=je,X[U++]=255}--G}},this.decodeAndBlitFrameRGBA=function(F,X){var ee=this.frameInfo(F),xe=ee.width*ee.height,oe=new Uint8Array(xe);s6(t,ee.data_offset,oe,xe);var pe=ee.palette_offset,H=ee.transparent_index;H===null&&(H=256);var q=ee.width,ie=r-q,G=q,R=4*(ee.y*r+ee.x),z=4*((ee.y+ee.height)*r+ee.x),U=R,Q=4*ie;ee.interlaced===!0&&(Q+=4*r*7);for(var J=8,re=0,le=oe.length;re<le;++re){var ye=oe[re];if(G===0&&(G=q,(U+=Q)>=z&&(Q=4*ie+4*r*(J-1),U=R+(q+ie)*(J<<1),J>>=1)),ye===H)U+=4;else{var je=t[pe+3*ye],Se=t[pe+3*ye+1],Be=t[pe+3*ye+2];X[U++]=je,X[U++]=Se,X[U++]=Be,X[U++]=255}--G}}}function s6(t,e,r,n){for(var i=t[e++],a=1<<i,o=a+1,l=o+1,c=i+1,u=(1<<c)-1,h=0,m=0,x=0,p=t[e++],y=new Int32Array(4096),w=null;;){for(;h<16&&p!==0;)m|=t[e++]<<h,h+=8,p===1?p=t[e++]:--p;if(h<c)break;var j=m&u;if(m>>=c,h-=c,j!==a){if(j===o)break;for(var C=j<l?j:w,A=0,k=C;k>a;)k=y[k]>>8,++A;var P=k;if(x+A+(C!==j?1:0)>n)return void Rn.log("Warning, gif stream longer than expected.");r[x++]=P;var M=x+=A;for(C!==j&&(r[x++]=P),k=C;A--;)k=y[k],r[--M]=255&k,k>>=8;w!==null&&l<4096&&(y[l++]=w<<8|P,l>=u+1&&c<12&&(++c,u=u<<1|1)),w=j}else l=o+1,u=(1<<(c=i+1))-1,w=null}return x!==n&&Rn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function L2(t){var e,r,n,i,a,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(64),m=new Array(65535),x=new Array(65535),p=new Array(64),y=new Array(64),w=[],j=0,C=7,A=new Array(64),k=new Array(64),P=new Array(64),M=new Array(256),$=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe(R,z){for(var U=0,Q=0,J=new Array,re=1;re<=16;re++){for(var le=1;le<=R[re];le++)J[z[Q]]=[],J[z[Q]][0]=U,J[z[Q]][1]=re,Q++,U++;U*=2}return J}function pe(R){for(var z=R[0],U=R[1]-1;U>=0;)z&1<<U&&(j|=1<<C),U--,--C<0&&(j==255?(H(255),H(0)):H(j),C=7,j=0)}function H(R){w.push(R)}function q(R){H(R>>8&255),H(255&R)}function ie(R,z,U,Q,J){for(var re,le=J[0],ye=J[240],je=(function(Pe,nt){var We,xt,ct,tr,It,St,fr,Ct,mt,Et,jt=0;for(mt=0;mt<8;++mt){We=Pe[jt],xt=Pe[jt+1],ct=Pe[jt+2],tr=Pe[jt+3],It=Pe[jt+4],St=Pe[jt+5],fr=Pe[jt+6];var rr=We+(Ct=Pe[jt+7]),cr=We-Ct,vt=xt+fr,Zt=xt-fr,mr=ct+St,kt=ct-St,Qt=tr+It,Dt=tr-It,Or=rr+Qt,Dr=rr-Qt,Cr=vt+mr,Mt=vt-mr;Pe[jt]=Or+Cr,Pe[jt+4]=Or-Cr;var ge=.707106781*(Mt+Dr);Pe[jt+2]=Dr+ge,Pe[jt+6]=Dr-ge;var pt=.382683433*((Or=Dt+kt)-(Mt=Zt+cr)),bt=.5411961*Or+pt,yr=1.306562965*Mt+pt,Qr=.707106781*(Cr=kt+Zt),Ce=cr+Qr,wt=cr-Qr;Pe[jt+5]=wt+bt,Pe[jt+3]=wt-bt,Pe[jt+1]=Ce+yr,Pe[jt+7]=Ce-yr,jt+=8}for(jt=0,mt=0;mt<8;++mt){We=Pe[jt],xt=Pe[jt+8],ct=Pe[jt+16],tr=Pe[jt+24],It=Pe[jt+32],St=Pe[jt+40],fr=Pe[jt+48];var tt=We+(Ct=Pe[jt+56]),Rr=We-Ct,Yr=xt+fr,Lr=xt-fr,wr=ct+St,Ve=ct-St,Rt=tr+It,en=tr-It,bs=tt+Rt,mn=tt-Rt,Ln=Yr+wr,Is=Yr-wr;Pe[jt]=bs+Ln,Pe[jt+32]=bs-Ln;var Hn=.707106781*(Is+mn);Pe[jt+16]=mn+Hn,Pe[jt+48]=mn-Hn;var qn=.382683433*((bs=en+Ve)-(Is=Lr+Rr)),Bi=.5411961*bs+qn,Ga=1.306562965*Is+qn,Ui=.707106781*(Ln=Ve+Lr),go=Rr+Ui,Go=Rr-Ui;Pe[jt+40]=Go+Bi,Pe[jt+24]=Go-Bi,Pe[jt+8]=go+Ga,Pe[jt+56]=go-Ga,jt++}for(mt=0;mt<64;++mt)Et=Pe[mt]*nt[mt],p[mt]=Et>0?Et+.5|0:Et-.5|0;return p})(R,z),Se=0;Se<64;++Se)y[L[Se]]=je[Se];var Be=y[0]-U;U=y[0],Be==0?pe(Q[0]):(pe(Q[x[re=32767+Be]]),pe(m[re]));for(var Fe=63;Fe>0&&y[Fe]==0;)Fe--;if(Fe==0)return pe(le),U;for(var Te,ce=1;ce<=Fe;){for(var $e=ce;y[ce]==0&&ce<=Fe;)++ce;var Ee=ce-$e;if(Ee>=16){Te=Ee>>4;for(var lt=1;lt<=Te;++lt)pe(ye);Ee&=15}re=32767+y[ce],pe(J[(Ee<<4)+x[re]]),pe(m[re]),ce++}return Fe!=63&&pe(le),U}function G(R){R=Math.min(Math.max(R,1),100),a!=R&&((function(z){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var J=o((U[Q]*z+50)/100);J=Math.min(Math.max(J,1),255),l[L[Q]]=J}for(var re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],le=0;le<64;le++){var ye=o((re[le]*z+50)/100);ye=Math.min(Math.max(ye,1),255),c[L[le]]=ye}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,Be=0;Be<8;Be++)for(var Fe=0;Fe<8;Fe++)u[Se]=1/(l[L[Se]]*je[Be]*je[Fe]*8),h[Se]=1/(c[L[Se]]*je[Be]*je[Fe]*8),Se++})(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),a=R)}this.encode=function(R,z){z&&G(z),w=new Array,j=0,C=7,q(65496),q(65504),q(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),q(1),q(1),H(0),H(0),(function(){q(65499),q(132),H(0);for(var xt=0;xt<64;xt++)H(l[xt]);H(1);for(var ct=0;ct<64;ct++)H(c[ct])})(),(function(xt,ct){q(65472),q(17),H(8),q(ct),q(xt),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)})(R.width,R.height),(function(){q(65476),q(418),H(0);for(var xt=0;xt<16;xt++)H(D[xt+1]);for(var ct=0;ct<=11;ct++)H(V[ct]);H(16);for(var tr=0;tr<16;tr++)H(ne[tr+1]);for(var It=0;It<=161;It++)H(B[It]);H(1);for(var St=0;St<16;St++)H(F[St+1]);for(var fr=0;fr<=11;fr++)H(X[fr]);H(17);for(var Ct=0;Ct<16;Ct++)H(ee[Ct+1]);for(var mt=0;mt<=161;mt++)H(xe[mt])})(),q(65498),q(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var U=0,Q=0,J=0;j=0,C=7,this.encode.displayName="_encode_";for(var re,le,ye,je,Se,Be,Fe,Te,ce,$e=R.data,Ee=R.width,lt=R.height,Pe=4*Ee,nt=0;nt<lt;){for(re=0;re<Pe;){for(Se=Pe*nt+re,Fe=-1,Te=0,ce=0;ce<64;ce++)Be=Se+(Te=ce>>3)*Pe+(Fe=4*(7&ce)),nt+Te>=lt&&(Be-=Pe*(nt+1+Te-lt)),re+Fe>=Pe&&(Be-=re+Fe-Pe+4),le=$e[Be++],ye=$e[Be++],je=$e[Be++],A[ce]=($[le]+$[ye+256|0]+$[je+512|0]>>16)-128,k[ce]=($[le+768|0]+$[ye+1024|0]+$[je+1280|0]>>16)-128,P[ce]=($[le+1280|0]+$[ye+1536|0]+$[je+1792|0]>>16)-128;U=ie(A,u,U,e,n),Q=ie(k,h,Q,r,i),J=ie(P,h,J,r,i),re+=32}nt+=8}if(C>=0){var We=[];We[1]=C+1,We[0]=(1<<C+1)-1,pe(We)}return q(65497),new Uint8Array(w)},t=t||50,(function(){for(var R=String.fromCharCode,z=0;z<256;z++)M[z]=R(z)})(),e=oe(D,V),r=oe(F,X),n=oe(ne,B),i=oe(ee,xe),(function(){for(var R=1,z=2,U=1;U<=15;U++){for(var Q=R;Q<z;Q++)x[32767+Q]=U,m[32767+Q]=[],m[32767+Q][1]=U,m[32767+Q][0]=Q;for(var J=-(z-1);J<=-R;J++)x[32767+J]=U,m[32767+J]=[],m[32767+J][1]=U,m[32767+J][0]=z-1+J;R<<=1,z<<=1}})(),(function(){for(var R=0;R<256;R++)$[R]=19595*R,$[R+256|0]=38470*R,$[R+512|0]=7471*R+32768,$[R+768|0]=-11059*R,$[R+1024|0]=-21709*R,$[R+1280|0]=32768*R+8421375,$[R+1536|0]=-27439*R,$[R+1792|0]=-5329*R})(),G(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function pl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function i6(t){function e(V){if(!V)throw Error("assert :P")}function r(V,ne,B){for(var F=0;4>F;F++)if(V[ne+F]!=B.charCodeAt(F))return!0;return!1}function n(V,ne,B,F,X){for(var ee=0;ee<X;ee++)V[ne+ee]=B[F+ee]}function i(V,ne,B,F){for(var X=0;X<F;X++)V[ne+X]=B}function a(V){return new Int32Array(V)}function o(V,ne){for(var B=[],F=0;F<V;F++)B.push(new ne);return B}function l(V,ne){var B=[];return(function F(X,ee,xe){for(var oe=xe[ee],pe=0;pe<oe&&(X.push(xe.length>ee+1?[]:new ne),!(xe.length<ee+1));pe++)F(X[pe],ee+1,xe)})(B,0,V),B}var c=function(){var V=this;function ne(v,N){for(var T=1<<N-1>>>0;v&T;)T>>>=1;return T?(v&T-1)+T:v}function B(v,N,T,O,W){e(!(O%T));do v[N+(O-=T)]=W;while(0<O)}function F(v,N,T,O,W){if(e(2328>=W),512>=W)var Z=a(512);else if((Z=a(W))==null)return 0;return(function(te,se,ae,de,be,De){var he,_e,Ie=se,Ge=1<<ae,Oe=a(16),ze=a(16);for(e(be!=0),e(de!=null),e(te!=null),e(0<ae),_e=0;_e<be;++_e){if(15<de[_e])return 0;++Oe[de[_e]]}if(Oe[0]==be)return 0;for(ze[1]=0,he=1;15>he;++he){if(Oe[he]>1<<he)return 0;ze[he+1]=ze[he]+Oe[he]}for(_e=0;_e<be;++_e)he=de[_e],0<de[_e]&&(De[ze[he]++]=_e);if(ze[15]==1)return(de=new X).g=0,de.value=De[0],B(te,Ie,1,Ge,de),Ge;var He,Ze=-1,Qe=Ge-1,qt=0,Pt=1,Sr=1,Ft=1<<ae;for(_e=0,he=1,be=2;he<=ae;++he,be<<=1){if(Pt+=Sr<<=1,0>(Sr-=Oe[he]))return 0;for(;0<Oe[he];--Oe[he])(de=new X).g=he,de.value=De[_e++],B(te,Ie+qt,be,Ft,de),qt=ne(qt,he)}for(he=ae+1,be=2;15>=he;++he,be<<=1){if(Pt+=Sr<<=1,0>(Sr-=Oe[he]))return 0;for(;0<Oe[he];--Oe[he]){if(de=new X,(qt&Qe)!=Ze){for(Ie+=Ft,He=1<<(Ze=he)-ae;15>Ze&&!(0>=(He-=Oe[Ze]));)++Ze,He<<=1;Ge+=Ft=1<<(He=Ze-ae),te[se+(Ze=qt&Qe)].g=He+ae,te[se+Ze].value=Ie-se-Ze}de.g=he-ae,de.value=De[_e++],B(te,Ie+(qt>>ae),be,Ft,de),qt=ne(qt,he)}}return Pt!=2*ze[15]-1?0:Ge})(v,N,T,O,W,Z)}function X(){this.value=this.g=0}function ee(){this.value=this.g=0}function xe(){this.G=o(5,X),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ea,ee)}function oe(v,N,T,O){e(v!=null),e(N!=null),e(2147483648>O),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=N,v.pa=T,v.Jd=N,v.Yc=T+O,v.Zc=4<=O?T+O-4+1:T,le(v)}function pe(v,N){for(var T=0;0<N--;)T|=je(v,128)<<N;return T}function H(v,N){var T=pe(v,N);return ye(v)?-T:T}function q(v,N,T,O){var W,Z=0;for(e(v!=null),e(N!=null),e(4294967288>O),v.Sb=O,v.Ra=0,v.u=0,v.h=0,4<O&&(O=4),W=0;W<O;++W)Z+=N[T+W]<<8*W;v.Ra=Z,v.bb=O,v.oa=N,v.pa=T}function ie(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<Bl-8>>>0,++v.bb,v.u-=8;Q(v)&&(v.h=1,v.u=0)}function G(v,N){if(e(0<=N),!v.h&&N<=da){var T=U(v)&ca[N];return v.u+=N,ie(v),T}return v.h=1,v.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(v){return v.Ra>>>(v.u&Bl-1)>>>0}function Q(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>Bl}function J(v,N){v.u=N,v.h=Q(v)}function re(v){v.u>=_o&&(e(v.u>=_o),ie(v))}function le(v){e(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function ye(v){return pe(v,1)}function je(v,N){var T=v.Ca;0>v.b&&le(v);var O=v.b,W=T*N>>>8,Z=(v.I>>>O>W)+0;for(Z?(T-=W,v.I-=W+1<<O>>>0):T=W+1,O=T,W=0;256<=O;)W+=8,O>>=8;return O=7^W+tl[O],v.b-=O,v.Ca=(T<<O)-1,Z}function Se(v,N,T){v[N+0]=T>>24&255,v[N+1]=T>>16&255,v[N+2]=T>>8&255,v[N+3]=255&T}function Be(v,N){return v[N+0]|v[N+1]<<8}function Fe(v,N){return Be(v,N)|v[N+2]<<16}function Te(v,N){return Be(v,N)|Be(v,N+2)<<16}function ce(v,N){var T=1<<N;return e(v!=null),e(0<N),v.X=a(T),v.X==null?0:(v.Mb=32-N,v.Xa=N,1)}function $e(v,N){e(v!=null),e(N!=null),e(v.Xa==N.Xa),n(N.X,0,v.X,0,1<<N.Xa)}function Ee(){this.X=[],this.Xa=this.Mb=0}function lt(v,N,T,O){e(T!=null),e(O!=null);var W=T[0],Z=O[0];return W==0&&(W=(v*Z+N/2)/N),Z==0&&(Z=(N*W+v/2)/v),0>=W||0>=Z?0:(T[0]=W,O[0]=Z,1)}function Pe(v,N){return v+(1<<N)-1>>>N}function nt(v,N){return((4278255360&v)+(4278255360&N)>>>0&4278255360)+((16711935&v)+(16711935&N)>>>0&16711935)>>>0}function We(v,N){V[N]=function(T,O,W,Z,te,se,ae){var de;for(de=0;de<te;++de){var be=V[v](se[ae+de-1],W,Z+de);se[ae+de]=nt(T[O+de],be)}}}function xt(){this.ud=this.hd=this.jd=0}function ct(v,N){return((4278124286&(v^N))>>>1)+(v&N)>>>0}function tr(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function It(v,N){return tr(v+(v-N+.5>>1))}function St(v,N,T){return Math.abs(N-T)-Math.abs(v-T)}function fr(v,N,T,O,W,Z,te){for(O=Z[te-1],T=0;T<W;++T)Z[te+T]=O=nt(v[N+T],O)}function Ct(v,N,T,O,W){var Z;for(Z=0;Z<T;++Z){var te=v[N+Z],se=te>>8&255,ae=16711935&(ae=(ae=16711935&te)+((se<<16)+se));O[W+Z]=(4278255360&te)+ae>>>0}}function mt(v,N){N.jd=255&v,N.hd=v>>8&255,N.ud=v>>16&255}function Et(v,N,T,O,W,Z){var te;for(te=0;te<O;++te){var se=N[T+te],ae=se>>>8,de=se,be=255&(be=(be=se>>>16)+((v.jd<<24>>24)*(ae<<24>>24)>>>5));de=255&(de=(de+=(v.hd<<24>>24)*(ae<<24>>24)>>>5)+((v.ud<<24>>24)*(be<<24>>24)>>>5)),W[Z+te]=(4278255360&se)+(be<<16)+de}}function jt(v,N,T,O,W){V[N]=function(Z,te,se,ae,de,be,De,he,_e){for(ae=De;ae<he;++ae)for(De=0;De<_e;++De)de[be++]=W(se[O(Z[te++])])},V[v]=function(Z,te,se,ae,de,be,De){var he=8>>Z.b,_e=Z.Ea,Ie=Z.K[0],Ge=Z.w;if(8>he)for(Z=(1<<Z.b)-1,Ge=(1<<he)-1;te<se;++te){var Oe,ze=0;for(Oe=0;Oe<_e;++Oe)Oe&Z||(ze=O(ae[de++])),be[De++]=W(Ie[ze&Ge]),ze>>=he}else V["VP8LMapColor"+T](ae,de,Ie,Ge,be,De,te,se,_e)}}function rr(v,N,T,O,W){for(T=N+T;N<T;){var Z=v[N++];O[W++]=Z>>16&255,O[W++]=Z>>8&255,O[W++]=255&Z}}function cr(v,N,T,O,W){for(T=N+T;N<T;){var Z=v[N++];O[W++]=Z>>16&255,O[W++]=Z>>8&255,O[W++]=255&Z,O[W++]=Z>>24&255}}function vt(v,N,T,O,W){for(T=N+T;N<T;){var Z=(te=v[N++])>>16&240|te>>12&15,te=240&te|te>>28&15;O[W++]=Z,O[W++]=te}}function Zt(v,N,T,O,W){for(T=N+T;N<T;){var Z=(te=v[N++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;O[W++]=Z,O[W++]=te}}function mr(v,N,T,O,W){for(T=N+T;N<T;){var Z=v[N++];O[W++]=255&Z,O[W++]=Z>>8&255,O[W++]=Z>>16&255}}function kt(v,N,T,O,W,Z){if(Z==0)for(T=N+T;N<T;)Se(O,((Z=v[N++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),W+=32;else n(O,W,v,N,T)}function Qt(v,N){V[N][0]=V[v+"0"],V[N][1]=V[v+"1"],V[N][2]=V[v+"2"],V[N][3]=V[v+"3"],V[N][4]=V[v+"4"],V[N][5]=V[v+"5"],V[N][6]=V[v+"6"],V[N][7]=V[v+"7"],V[N][8]=V[v+"8"],V[N][9]=V[v+"9"],V[N][10]=V[v+"10"],V[N][11]=V[v+"11"],V[N][12]=V[v+"12"],V[N][13]=V[v+"13"],V[N][14]=V[v+"0"],V[N][15]=V[v+"0"]}function Dt(v){return v==xd||v==Oc||v==Tu||v==Iu}function Or(){this.eb=[],this.size=this.A=this.fb=0}function Dr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Cr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Or,this.f.kb=new Dr,this.sd=null}function Mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ge(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function pt(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function bt(v,N){var T=v.T,O=N.ba.f.RGBA,W=O.eb,Z=O.fb+v.ka*O.A,te=qi[N.ba.S],se=v.y,ae=v.O,de=v.f,be=v.N,De=v.ea,he=v.W,_e=N.cc,Ie=N.dc,Ge=N.Mc,Oe=N.Nc,ze=v.ka,He=v.ka+v.T,Ze=v.U,Qe=Ze+1>>1;for(ze==0?te(se,ae,null,null,de,be,De,he,de,be,De,he,W,Z,null,null,Ze):(te(N.ec,N.fc,se,ae,_e,Ie,Ge,Oe,de,be,De,he,W,Z-O.A,W,Z,Ze),++T);ze+2<He;ze+=2)_e=de,Ie=be,Ge=De,Oe=he,be+=v.Rc,he+=v.Rc,Z+=2*O.A,te(se,(ae+=2*v.fa)-v.fa,se,ae,_e,Ie,Ge,Oe,de,be,De,he,W,Z-O.A,W,Z,Ze);return ae+=v.fa,v.j+He<v.o?(n(N.ec,N.fc,se,ae,Ze),n(N.cc,N.dc,de,be,Qe),n(N.Mc,N.Nc,De,he,Qe),T--):1&He||te(se,ae,null,null,de,be,De,he,de,be,De,he,W,Z+O.A,null,null,Ze),T}function yr(v,N,T){var O=v.F,W=[v.J];if(O!=null){var Z=v.U,te=N.ba.S,se=te==Pu||te==Tu;N=N.ba.f.RGBA;var ae=[0],de=v.ka;ae[0]=v.T,v.Kb&&(de==0?--ae[0]:(--de,W[0]-=v.width),v.j+v.ka+v.T==v.o&&(ae[0]=v.o-v.j-de));var be=N.eb;de=N.fb+de*N.A,v=Eu(O,W[0],v.width,Z,ae,be,de+(se?0:3),N.A),e(T==ae),v&&Dt(te)&&Rc(be,de,se,Z,ae,N.A)}return 0}function Qr(v){var N=v.ma,T=N.ba.S,O=11>T,W=T==zl||T==ku||T==Pu||T==Nn||T==12||Dt(T);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!cd(N.Oa,v,W?11:12))return 0;if(W&&Dt(T)&&Th(),v.da)alert("todo:use_scaling");else{if(O){if(N.Ib=pt,v.Kb){if(T=v.U+1>>1,N.memory=a(v.U+2*T),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+v.U,N.Mc=N.cc,N.Nc=N.dc+T,N.Ib=bt,Th()}}else alert("todo:EmitYUV");W&&(N.Jb=yr,O&&Sa())}if(O&&!ii){for(v=0;256>v;++v)Wi[v]=89858*(v-128)+eo>>il,Gi[v]=-22014*(v-128)+eo,wd[v]=-45773*(v-128),Bc[v]=113618*(v-128)+eo>>il;for(v=pn;v<vn;++v)N=76283*(v-16)+eo>>il,Bh[v-pn]=Qn(N,255),up[v-pn]=Qn(N+8>>4,15);ii=1}return 1}function Ce(v){var N=v.ma,T=v.U,O=v.T;return e(!(1&v.ka)),0>=T||0>=O?0:(T=N.Ib(v,N),N.Jb!=null&&N.Jb(v,N,T),N.Dc+=T,1)}function wt(v){v.ma.memory=null}function tt(v,N,T,O){return G(v,8)!=47?0:(N[0]=G(v,14)+1,T[0]=G(v,14)+1,O[0]=G(v,1),G(v,3)!=0?0:!v.h)}function Rr(v,N){if(4>v)return v+1;var T=v-2>>1;return(2+(1&v)<<T)+G(N,T)+1}function Yr(v,N){return 120<N?N-120:1<=(T=((T=hg[N-1])>>4)*v+(8-(15&T)))?T:1;var T}function Lr(v,N,T){var O=U(T),W=v[N+=255&O].g-8;return 0<W&&(J(T,T.u+8),O=U(T),N+=v[N].value,N+=O&(1<<W)-1),J(T,T.u+v[N].g),v[N].value}function wr(v,N,T){return T.g+=v.g,T.value+=v.value<<N>>>0,e(8>=T.g),v.g}function Ve(v,N,T){var O=v.xc;return e((N=O==0?0:v.vc[v.md*(T>>O)+(N>>O)])<v.Wb),v.Ya[N]}function Rt(v,N,T,O){var W=v.ab,Z=v.c*N,te=v.C;N=te+N;var se=T,ae=O;for(O=v.Ta,T=v.Ua;0<W--;){var de=v.gc[W],be=te,De=N,he=se,_e=ae,Ie=(ae=O,se=T,de.Ea);switch(e(be<De),e(De<=de.nc),de.hc){case 2:ds(he,_e,(De-be)*Ie,ae,se);break;case 0:var Ge=be,Oe=De,ze=ae,He=se,Ze=(Ft=de).Ea;Ge==0&&(rl(he,_e,null,null,1,ze,He),fr(he,_e+1,0,0,Ze-1,ze,He+1),_e+=Ze,He+=Ze,++Ge);for(var Qe=1<<Ft.b,qt=Qe-1,Pt=Pe(Ze,Ft.b),Sr=Ft.K,Ft=Ft.w+(Ge>>Ft.b)*Pt;Ge<Oe;){var Vr=Sr,rs=Ft,Tr=1;for(Ao(he,_e,ze,He-Ze,1,ze,He);Tr<Ze;){var Tt=(Tr&~qt)+Qe;Tt>Ze&&(Tt=Ze),(0,Pc[Vr[rs++]>>8&15])(he,_e+ +Tr,ze,He+Tr-Ze,Tt-Tr,ze,He+Tr),Tr=Tt}_e+=Ze,He+=Ze,++Ge&qt||(Ft+=Pt)}De!=de.nc&&n(ae,se-Ie,ae,se+(De-be-1)*Ie,Ie);break;case 1:for(Ie=he,Oe=_e,Ze=(he=de.Ea)-(He=he&~(ze=(_e=1<<de.b)-1)),Ge=Pe(he,de.b),Qe=de.K,de=de.w+(be>>de.b)*Ge;be<De;){for(qt=Qe,Pt=de,Sr=new xt,Ft=Oe+He,Vr=Oe+he;Oe<Ft;)mt(qt[Pt++],Sr),ud(Sr,Ie,Oe,_e,ae,se),Oe+=_e,se+=_e;Oe<Vr&&(mt(qt[Pt++],Sr),ud(Sr,Ie,Oe,Ze,ae,se),Oe+=Ze,se+=Ze),++be&ze||(de+=Ge)}break;case 3:if(he==ae&&_e==se&&0<de.b){for(Oe=ae,he=Ie=se+(De-be)*Ie-(He=(De-be)*Pe(de.Ea,de.b)),_e=ae,ze=se,Ge=[],He=(Ze=He)-1;0<=He;--He)Ge[He]=_e[ze+He];for(He=Ze-1;0<=He;--He)Oe[he+He]=Ge[He];Ec(de,be,De,ae,Ie,ae,se)}else Ec(de,be,De,he,_e,ae,se)}se=O,ae=T}ae!=T&&n(O,T,se,ae,Z)}function en(v,N){var T=v.V,O=v.Ba+v.c*v.C,W=N-v.C;if(e(N<=v.l.o),e(16>=W),0<W){var Z=v.l,te=v.Ta,se=v.Ua,ae=Z.width;if(Rt(v,W,T,O),W=se=[se],e((T=v.C)<(O=N)),e(Z.v<Z.va),O>Z.o&&(O=Z.o),T<Z.j){var de=Z.j-T;T=Z.j,W[0]+=de*ae}if(T>=O?T=0:(W[0]+=4*Z.v,Z.ka=T-Z.j,Z.U=Z.va-Z.v,Z.T=O-T,T=1),T){if(se=se[0],11>(T=v.ca).S){var be=T.f.RGBA,De=(O=T.S,W=Z.U,Z=Z.T,de=be.eb,be.A),he=Z;for(be=be.fb+v.Ma*be.A;0<he--;){var _e=te,Ie=se,Ge=W,Oe=de,ze=be;switch(O){case Oh:hd(_e,Ie,Ge,Oe,ze);break;case zl:nl(_e,Ie,Ge,Oe,ze);break;case xd:nl(_e,Ie,Ge,Oe,ze),Rc(Oe,ze,0,Ge,1,0);break;case ap:Tc(_e,Ie,Ge,Oe,ze);break;case ku:kt(_e,Ie,Ge,Oe,ze,1);break;case Oc:kt(_e,Ie,Ge,Oe,ze,1),Rc(Oe,ze,0,Ge,1,0);break;case Pu:kt(_e,Ie,Ge,Oe,ze,0);break;case Tu:kt(_e,Ie,Ge,Oe,ze,0),Rc(Oe,ze,1,Ge,1,0);break;case Nn:Ul(_e,Ie,Ge,Oe,ze);break;case Iu:Ul(_e,Ie,Ge,Oe,ze),f0(Oe,ze,Ge,1,0);break;case Lh:Vl(_e,Ie,Ge,Oe,ze);break;default:e(0)}se+=ae,be+=De}v.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=T.height)}}v.C=N,e(v.C<=v.i)}function bs(v){var N;if(0<v.ua)return 0;for(N=0;N<v.Wb;++N){var T=v.Ya[N].G,O=v.Ya[N].H;if(0<T[1][O[1]+0].g||0<T[2][O[2]+0].g||0<T[3][O[3]+0].g)return 0}return 1}function mn(v,N,T,O,W,Z){if(v.Z!=0){var te=v.qd,se=v.rd;for(e(gi[v.Z]!=null);N<T;++N)gi[v.Z](te,se,O,W,O,W,Z),te=O,se=W,W+=Z;v.qd=te,v.rd=se}}function Ln(v,N){var T=v.l.ma,O=T.Z==0||T.Z==1?v.l.j:v.C;if(O=v.C<O?O:v.C,e(N<=v.l.o),N>O){var W=v.l.width,Z=T.ca,te=T.tb+W*O,se=v.V,ae=v.Ba+v.c*O,de=v.gc;e(v.ab==1),e(de[0].hc==3),Ja(de[0],O,N,se,ae,Z,te),mn(T,O,N,Z,te,W)}v.C=v.Ma=N}function Is(v,N,T,O,W,Z,te){var se=v.$/O,ae=v.$%O,de=v.m,be=v.s,De=T+v.$,he=De;W=T+O*W;var _e=T+O*Z,Ie=280+be.ua,Ge=v.Pb?se:16777216,Oe=0<be.ua?be.Wa:null,ze=be.wc,He=De<_e?Ve(be,ae,se):null;e(v.C<Z),e(_e<=W);var Ze=!1;e:for(;;){for(;Ze||De<_e;){var Qe=0;if(se>=Ge){var qt=De-T;e((Ge=v).Pb),Ge.wd=Ge.m,Ge.xd=qt,0<Ge.s.ua&&$e(Ge.s.Wa,Ge.s.vb),Ge=se+Mh}if(ae&ze||(He=Ve(be,ae,se)),e(He!=null),He.Qb&&(N[De]=He.qb,Ze=!0),!Ze)if(re(de),He.jc){Qe=de,qt=N;var Pt=De,Sr=He.pd[U(Qe)&Ea-1];e(He.jc),256>Sr.g?(J(Qe,Qe.u+Sr.g),qt[Pt]=Sr.value,Qe=0):(J(Qe,Qe.u+Sr.g-256),e(256<=Sr.value),Qe=Sr.value),Qe==0&&(Ze=!0)}else Qe=Lr(He.G[0],He.H[0],de);if(de.h)break;if(Ze||256>Qe){if(!Ze)if(He.nd)N[De]=(He.qb|Qe<<8)>>>0;else{if(re(de),Ze=Lr(He.G[1],He.H[1],de),re(de),qt=Lr(He.G[2],He.H[2],de),Pt=Lr(He.G[3],He.H[3],de),de.h)break;N[De]=(Pt<<24|Ze<<16|Qe<<8|qt)>>>0}if(Ze=!1,++De,++ae>=O&&(ae=0,++se,te!=null&&se<=Z&&!(se%16)&&te(v,se),Oe!=null))for(;he<De;)Qe=N[he++],Oe.X[(506832829*Qe&4294967295)>>>Oe.Mb]=Qe}else if(280>Qe){if(Qe=Rr(Qe-256,de),qt=Lr(He.G[4],He.H[4],de),re(de),qt=Yr(O,qt=Rr(qt,de)),de.h)break;if(De-T<qt||W-De<Qe)break e;for(Pt=0;Pt<Qe;++Pt)N[De+Pt]=N[De+Pt-qt];for(De+=Qe,ae+=Qe;ae>=O;)ae-=O,++se,te!=null&&se<=Z&&!(se%16)&&te(v,se);if(e(De<=W),ae&ze&&(He=Ve(be,ae,se)),Oe!=null)for(;he<De;)Qe=N[he++],Oe.X[(506832829*Qe&4294967295)>>>Oe.Mb]=Qe}else{if(!(Qe<Ie))break e;for(Ze=Qe-280,e(Oe!=null);he<De;)Qe=N[he++],Oe.X[(506832829*Qe&4294967295)>>>Oe.Mb]=Qe;Qe=De,e(!(Ze>>>(qt=Oe).Xa)),N[Qe]=qt.X[Ze],Ze=!0}Ze||e(de.h==Q(de))}if(v.Pb&&de.h&&De<W)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&$e(v.s.vb,v.s.Wa);else{if(de.h)break e;te?.(v,se>Z?Z:se),v.a=0,v.$=De-T}return 1}return v.a=3,0}function Hn(v){e(v!=null),v.vc=null,v.yc=null,v.Ya=null;var N=v.Wa;N!=null&&(N.X=null),v.vb=null,e(v!=null)}function qn(){var v=new Ht;return v==null?null:(v.a=0,v.xb=vd,Qt("Predictor","VP8LPredictors"),Qt("Predictor","VP8LPredictors_C"),Qt("PredictorAdd","VP8LPredictorsAdd"),Qt("PredictorAdd","VP8LPredictorsAdd_C"),ds=Ct,ud=Et,hd=rr,nl=cr,Ul=vt,Vl=Zt,Tc=mr,V.VP8LMapColor32b=So,V.VP8LMapColor8b=kc,v)}function Bi(v,N,T,O,W){var Z=1,te=[v],se=[N],ae=O.m,de=O.s,be=null,De=0;e:for(;;){if(T)for(;Z&&G(ae,1);){var he=te,_e=se,Ie=O,Ge=1,Oe=Ie.m,ze=Ie.gc[Ie.ab],He=G(Oe,2);if(Ie.Oc&1<<He)Z=0;else{switch(Ie.Oc|=1<<He,ze.hc=He,ze.Ea=he[0],ze.nc=_e[0],ze.K=[null],++Ie.ab,e(4>=Ie.ab),He){case 0:case 1:ze.b=G(Oe,3)+2,Ge=Bi(Pe(ze.Ea,ze.b),Pe(ze.nc,ze.b),0,Ie,ze.K),ze.K=ze.K[0];break;case 3:var Ze,Qe=G(Oe,8)+1,qt=16<Qe?0:4<Qe?1:2<Qe?2:3;if(he[0]=Pe(ze.Ea,qt),ze.b=qt,Ze=Ge=Bi(Qe,1,0,Ie,ze.K)){var Pt,Sr=Qe,Ft=ze,Vr=1<<(8>>Ft.b),rs=a(Vr);if(rs==null)Ze=0;else{var Tr=Ft.K[0],Tt=Ft.w;for(rs[0]=Ft.K[0][0],Pt=1;Pt<1*Sr;++Pt)rs[Pt]=nt(Tr[Tt+Pt],rs[Pt-1]);for(;Pt<4*Vr;++Pt)rs[Pt]=0;Ft.K[0]=null,Ft.K[0]=rs,Ze=1}}Ge=Ze;break;case 2:break;default:e(0)}Z=Ge}}if(te=te[0],se=se[0],Z&&G(ae,1)&&!(Z=1<=(De=G(ae,4))&&11>=De)){O.a=3;break e}var gt;if(gt=Z)t:{var us,dr,Fr,kn=O,qs=te,Cs=se,Kn=De,Rs=T,Ws=kn.m,Fn=kn.s,Gr=[null],nn=1,Mn=0,sn=lp[Kn];r:for(;;){if(Rs&&G(Ws,1)){var ns=G(Ws,3)+2,ss=Pe(qs,ns),jn=Pe(Cs,ns),vi=ss*jn;if(!Bi(ss,jn,0,kn,Gr))break r;for(Gr=Gr[0],Fn.xc=ns,us=0;us<vi;++us){var yn=Gr[us]>>8&65535;Gr[us]=yn,yn>=nn&&(nn=yn+1)}}if(Ws.h)break r;for(dr=0;5>dr;++dr){var Cn=Lc[dr];!dr&&0<Kn&&(Cn+=1<<Kn),Mn<Cn&&(Mn=Cn)}var _s=o(nn*sn,X),ai=nn,Ki=o(ai,xe);if(Ki==null)var hs=null;else e(65536>=ai),hs=Ki;var fs=a(Mn);if(hs==null||fs==null||_s==null){kn.a=1;break r}var yi=_s;for(us=Fr=0;us<nn;++us){var _n=hs[us],wi=_n.G,Ta=_n.H,to=0,Gs=1,ms=0;for(dr=0;5>dr;++dr){Cn=Lc[dr],wi[dr]=yi,Ta[dr]=Fr,!dr&&0<Kn&&(Cn+=1<<Kn);s:{var Wl,ol=Cn,bd=kn,Po=fs,fp=yi,_0=Fr,Dn=0,ro=bd.m,A0=G(ro,1);if(i(Po,0,0,ol),A0){var S0=G(ro,1)+1,Uh=G(ro,1),Vh=G(ro,Uh==0?1:8);Po[Vh]=1,S0==2&&(Po[Vh=G(ro,8)]=1);var To=1}else{var Bn=a(19),As=G(ro,4)+4;if(19<As){bd.a=3;var ps=0;break s}for(Wl=0;Wl<As;++Wl)Bn[ug[Wl]]=G(ro,3);var Nd=void 0,ll=void 0,jd=bd,gg=Bn,Os=ol,$h=Po,Fu=0,Io=jd.m,no=8,ua=o(128,X);n:for(;F(ua,0,7,gg,19);){if(G(Io,1)){var Mu=2+2*G(Io,3);if((Nd=2+G(Io,Mu))>Os)break n}else Nd=Os;for(ll=0;ll<Os&&Nd--;){re(Io);var zh=ua[0+(127&U(Io))];J(Io,Io.u+zh.g);var Gl=zh.value;if(16>Gl)$h[ll++]=Gl,Gl!=0&&(no=Gl);else{var mp=Gl==16,E0=Gl-16,pp=Fh[E0],k0=G(Io,Du[E0])+pp;if(ll+k0>Os)break n;for(var xp=mp?no:0;0<k0--;)$h[ll++]=xp}}Fu=1;break n}Fu||(jd.a=3),To=Fu}(To=To&&!ro.h)&&(Dn=F(fp,_0,8,Po,ol)),To&&Dn!=0?ps=Dn:(bd.a=3,ps=0)}if(ps==0)break r;if(Gs&&op[dr]==1&&(Gs=yi[Fr].g==0),to+=yi[Fr].g,Fr+=ps,3>=dr){var Cd,Hh=fs[0];for(Cd=1;Cd<Cn;++Cd)fs[Cd]>Hh&&(Hh=fs[Cd]);ms+=Hh}}if(_n.nd=Gs,_n.Qb=0,Gs&&(_n.qb=(wi[3][Ta[3]+0].value<<24|wi[1][Ta[1]+0].value<<16|wi[2][Ta[2]+0].value)>>>0,to==0&&256>wi[0][Ta[0]+0].value&&(_n.Qb=1,_n.qb+=wi[0][Ta[0]+0].value<<8)),_n.jc=!_n.Qb&&6>ms,_n.jc){var Bu,ha=_n;for(Bu=0;Bu<Ea;++Bu){var cl=Bu,so=ha.pd[cl],Vc=ha.G[0][ha.H[0]+cl];256<=Vc.value?(so.g=Vc.g+256,so.value=Vc.value):(so.g=0,so.value=0,cl>>=wr(Vc,8,so),cl>>=wr(ha.G[1][ha.H[1]+cl],16,so),cl>>=wr(ha.G[2][ha.H[2]+cl],0,so),wr(ha.G[3][ha.H[3]+cl],24,so))}}}Fn.vc=Gr,Fn.Wb=nn,Fn.Ya=hs,Fn.yc=_s,gt=1;break t}gt=0}if(!(Z=gt)){O.a=3;break e}if(0<De){if(de.ua=1<<De,!ce(de.Wa,De)){O.a=1,Z=0;break e}}else de.ua=0;var qh=O,Wh=te,gp=se,Gh=qh.s,Kh=Gh.xc;if(qh.c=Wh,qh.i=gp,Gh.md=Pe(Wh,Kh),Gh.wc=Kh==0?-1:(1<<Kh)-1,T){O.xb=ko;break e}if((be=a(te*se))==null){O.a=1,Z=0;break e}Z=(Z=Is(O,be,0,te,se,se,null))&&!ae.h;break e}return Z?(W!=null?W[0]=be:(e(be==null),e(T)),O.$=0,T||Hn(de)):Hn(de),Z}function Ga(v,N){var T=v.c*v.i,O=T+N+16*N;return e(v.c<=N),v.V=a(O),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+T+N,1)}function Ui(v,N){var T=v.C,O=N-T,W=v.V,Z=v.Ba+v.c*T;for(e(N<=v.l.o);0<O;){var te=16<O?16:O,se=v.l.ma,ae=v.l.width,de=ae*te,be=se.ca,De=se.tb+ae*T,he=v.Ta,_e=v.Ua;Rt(v,te,W,Z),m0(he,_e,be,De,de),mn(se,T,T+te,be,De,ae),O-=te,W+=te*v.c,T+=te}e(T==N),v.C=v.Ma=N}function go(){this.ub=this.yd=this.td=this.Rb=0}function Go(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function td(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function bn(){this.Yb=(function(){var v=[];return(function N(T,O,W){for(var Z=W[O],te=0;te<Z&&(T.push(W.length>O+1?[]:0),!(W.length<O+1));te++)N(T[te],O+1,W)})(v,0,[3,11]),v})()}function pc(){this.jb=a(3),this.Wc=l([4,8],bn),this.Xc=l([4,17],bn)}function Il(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Si(){this.ld=this.La=this.dd=this.tc=0}function vo(){this.Na=this.la=0}function Dl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Rl(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ko(){this.uc=this.M=this.Nb=0,this.wa=Array(new Si),this.Y=0,this.ya=Array(new Rl),this.aa=0,this.l=new Hs}function Ei(){this.y=a(16),this.f=a(8),this.ea=a(8)}function rd(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new go,this.Kc=new Go,this.ed=new Il,this.Qa=new td,this.Ic=this.$c=this.Aa=0,this.D=new Ko,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,R),this.ia=0,this.pb=o(4,Dl),this.Pa=new pc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ei),this.Hd=0,this.rb=Array(new vo),this.sb=0,this.wa=Array(new Si),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Rl),this.L=this.aa=0,this.gd=l([4,2],Si),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ke(){var v=new rd;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,Fc||(Fc=dn)),v}function Xe(v,N,T){return v.a==0&&(v.a=N,v.sc=T,v.cb=0),0}function er(v,N,T){return 3<=T&&v[N+0]==157&&v[N+1]==1&&v[N+2]==42}function cn(v,N){if(v==null)return 0;if(v.a=0,v.sc="OK",N==null)return Xe(v,2,"null VP8Io passed to VP8GetHeaders()");var T=N.data,O=N.w,W=N.ha;if(4>W)return Xe(v,7,"Truncated header.");var Z=T[O+0]|T[O+1]<<8|T[O+2]<<16,te=v.Od;if(te.Rb=!(1&Z),te.td=Z>>1&7,te.yd=Z>>4&1,te.ub=Z>>5,3<te.td)return Xe(v,3,"Incorrect keyframe parameters.");if(!te.yd)return Xe(v,4,"Frame not displayable.");O+=3,W-=3;var se=v.Kc;if(te.Rb){if(7>W)return Xe(v,7,"cannot parse picture header");if(!er(T,O,W))return Xe(v,3,"Bad code word");se.c=16383&(T[O+4]<<8|T[O+3]),se.Td=T[O+4]>>6,se.i=16383&(T[O+6]<<8|T[O+5]),se.Ud=T[O+6]>>6,O+=7,W-=7,v.za=se.c+15>>4,v.Ub=se.i+15>>4,N.width=se.c,N.height=se.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,i((Z=v.Pa).jb,0,255,Z.jb.length),e((Z=v.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,i(Z.Zb,0,0,Z.Zb.length),i(Z.Lb,0,0,Z.Lb)}if(te.ub>W)return Xe(v,7,"bad partition length");oe(Z=v.m,T,O,te.ub),O+=te.ub,W-=te.ub,te.Rb&&(se.Ld=ye(Z),se.Kd=ye(Z)),se=v.Qa;var ae,de=v.Pa;if(e(Z!=null),e(se!=null),se.Cb=ye(Z),se.Cb){if(se.Bb=ye(Z),ye(Z)){for(se.Fb=ye(Z),ae=0;4>ae;++ae)se.Zb[ae]=ye(Z)?H(Z,7):0;for(ae=0;4>ae;++ae)se.Lb[ae]=ye(Z)?H(Z,6):0}if(se.Bb)for(ae=0;3>ae;++ae)de.jb[ae]=ye(Z)?pe(Z,8):255}else se.Bb=0;if(Z.Ka)return Xe(v,3,"cannot parse segment header");if((se=v.ed).zd=ye(Z),se.Tb=pe(Z,6),se.wb=pe(Z,3),se.Pc=ye(Z),se.Pc&&ye(Z)){for(de=0;4>de;++de)ye(Z)&&(se.vd[de]=H(Z,6));for(de=0;4>de;++de)ye(Z)&&(se.od[de]=H(Z,6))}if(v.L=se.Tb==0?0:se.zd?1:2,Z.Ka)return Xe(v,3,"cannot parse filter header");var be=W;if(W=ae=O,O=ae+be,se=be,v.Xb=(1<<pe(v.m,2))-1,be<3*(de=v.Xb))T=7;else{for(ae+=3*de,se-=3*de,be=0;be<de;++be){var De=T[W+0]|T[W+1]<<8|T[W+2]<<16;De>se&&(De=se),oe(v.Jc[+be],T,ae,De),ae+=De,se-=De,W+=3}oe(v.Jc[+de],T,ae,se),T=ae<O?0:5}if(T!=0)return Xe(v,T,"cannot parse partitions");for(T=pe(ae=v.m,7),W=ye(ae)?H(ae,4):0,O=ye(ae)?H(ae,4):0,se=ye(ae)?H(ae,4):0,de=ye(ae)?H(ae,4):0,ae=ye(ae)?H(ae,4):0,be=v.Qa,De=0;4>De;++De){if(be.Cb){var he=be.Zb[De];be.Fb||(he+=T)}else{if(0<De){v.pb[De]=v.pb[0];continue}he=T}var _e=v.pb[De];_e.Sc[0]=gd[Qn(he+W,127)],_e.Sc[1]=Ru[Qn(he+0,127)],_e.Eb[0]=2*gd[Qn(he+O,127)],_e.Eb[1]=101581*Ru[Qn(he+se,127)]>>16,8>_e.Eb[1]&&(_e.Eb[1]=8),_e.Qc[0]=gd[Qn(he+de,117)],_e.Qc[1]=Ru[Qn(he+ae,127)],_e.lc=he+ae}if(!te.Rb)return Xe(v,4,"Not a key frame.");for(ye(Z),te=v.Pa,T=0;4>T;++T){for(W=0;8>W;++W)for(O=0;3>O;++O)for(se=0;11>se;++se)de=je(Z,mg[T][W][O][se])?pe(Z,8):dp[T][W][O][se],te.Wc[T][W].Yb[O][se]=de;for(W=0;17>W;++W)te.Xc[T][W]=te.Wc[T][N0[W]]}return v.kc=ye(Z),v.kc&&(v.Bd=pe(Z,8)),v.cb=1}function dn(v,N,T,O,W,Z,te){var se=N[W].Yb[T];for(T=0;16>W;++W){if(!je(v,se[T+0]))return W;for(;!je(v,se[T+1]);)if(se=N[++W].Yb[0],T=0,W==16)return 16;var ae=N[W+1].Yb;if(je(v,se[T+2])){var de=v,be=0;if(je(de,(he=se)[(De=T)+3]))if(je(de,he[De+6])){for(se=0,De=2*(be=je(de,he[De+8]))+(he=je(de,he[De+9+be])),be=0,he=w0[De];he[se];++se)be+=be+je(de,he[se]);be+=3+(8<<De)}else je(de,he[De+7])?(be=7+2*je(de,165),be+=je(de,145)):be=5+je(de,159);else be=je(de,he[De+4])?3+je(de,he[De+5]):2;se=ae[2]}else be=1,se=ae[1];ae=te+b0[W],0>(de=v).b&&le(de);var De,he=de.b,_e=(De=de.Ca>>1)-(de.I>>he)>>31;--de.b,de.Ca+=_e,de.Ca|=1,de.I-=(De+1&_e)<<he,Z[ae]=((be^_e)-_e)*O[(0<W)+0]}return 16}function In(v){var N=v.rb[v.sb-1];N.la=0,N.Na=0,i(v.zc,0,0,v.zc.length),v.ja=0}function mi(v,N,T,O,W){W=v[N+T+32*O]+(W>>3),v[N+T+32*O]=-256&W?0>W?0:255:W}function aa(v,N,T,O,W,Z){mi(v,N,0,T,O+W),mi(v,N,1,T,O+Z),mi(v,N,2,T,O-Z),mi(v,N,3,T,O-W)}function Wn(v){return(20091*v>>16)+v}function xc(v,N,T,O){var W,Z=0,te=a(16);for(W=0;4>W;++W){var se=v[N+0]+v[N+8],ae=v[N+0]-v[N+8],de=(35468*v[N+4]>>16)-Wn(v[N+12]),be=Wn(v[N+4])+(35468*v[N+12]>>16);te[Z+0]=se+be,te[Z+1]=ae+de,te[Z+2]=ae-de,te[Z+3]=se-be,Z+=4,N++}for(W=Z=0;4>W;++W)se=(v=te[Z+0]+4)+te[Z+8],ae=v-te[Z+8],de=(35468*te[Z+4]>>16)-Wn(te[Z+12]),mi(T,O,0,0,se+(be=Wn(te[Z+4])+(35468*te[Z+12]>>16))),mi(T,O,1,0,ae+de),mi(T,O,2,0,ae-de),mi(T,O,3,0,se-be),Z++,O+=32}function Ah(v,N,T,O){var W=v[N+0]+4,Z=35468*v[N+4]>>16,te=Wn(v[N+4]),se=35468*v[N+1]>>16;aa(T,O,0,W+te,v=Wn(v[N+1]),se),aa(T,O,1,W+Z,v,se),aa(T,O,2,W-Z,v,se),aa(T,O,3,W-te,v,se)}function gu(v,N,T,O,W){xc(v,N,T,O),W&&xc(v,N+16,T,O+4)}function gc(v,N,T,O){Ic(v,N+0,T,O,1),Ic(v,N+32,T,O+128,1)}function yo(v,N,T,O){var W;for(v=v[N+0]+4,W=0;4>W;++W)for(N=0;4>N;++N)mi(T,O,N,W,v)}function nd(v,N,T,O){v[N+0]&&rn(v,N+0,T,O),v[N+16]&&rn(v,N+16,T,O+4),v[N+32]&&rn(v,N+32,T,O+128),v[N+48]&&rn(v,N+48,T,O+128+4)}function Zr(v,N,T,O){var W,Z=a(16);for(W=0;4>W;++W){var te=v[N+0+W]+v[N+12+W],se=v[N+4+W]+v[N+8+W],ae=v[N+4+W]-v[N+8+W],de=v[N+0+W]-v[N+12+W];Z[0+W]=te+se,Z[8+W]=te-se,Z[4+W]=de+ae,Z[12+W]=de-ae}for(W=0;4>W;++W)te=(v=Z[0+4*W]+3)+Z[3+4*W],se=Z[1+4*W]+Z[2+4*W],ae=Z[1+4*W]-Z[2+4*W],de=v-Z[3+4*W],T[O+0]=te+se>>3,T[O+16]=de+ae>>3,T[O+32]=te-se>>3,T[O+48]=de-ae>>3,O+=64}function Yo(v,N,T){var O,W=N-32,Z=ki,te=255-v[W-1];for(O=0;O<T;++O){var se,ae=Z,de=te+v[N-1];for(se=0;se<T;++se)v[N+se]=ae[de+v[W+se]];N+=32}}function sd(v,N){Yo(v,N,4)}function vu(v,N){Yo(v,N,8)}function Sh(v,N){Yo(v,N,16)}function Eh(v,N){var T;for(T=0;16>T;++T)n(v,N+32*T,v,N-32,16)}function id(v,N){var T;for(T=16;0<T;--T)i(v,N,v[N-1],16),N+=32}function Xo(v,N,T){var O;for(O=0;16>O;++O)i(N,T+32*O,v,16)}function Ka(v,N){var T,O=16;for(T=0;16>T;++T)O+=v[N-1+32*T]+v[N+T-32];Xo(O>>5,v,N)}function wo(v,N){var T,O=8;for(T=0;16>T;++T)O+=v[N-1+32*T];Xo(O>>4,v,N)}function Vi(v,N){var T,O=8;for(T=0;16>T;++T)O+=v[N+T-32];Xo(O>>4,v,N)}function Na(v,N){Xo(128,v,N)}function or(v,N,T){return v+2*N+T+2>>2}function vc(v,N){var T,O=N-32;for(O=new Uint8Array([or(v[O-1],v[O+0],v[O+1]),or(v[O+0],v[O+1],v[O+2]),or(v[O+1],v[O+2],v[O+3]),or(v[O+2],v[O+3],v[O+4])]),T=0;4>T;++T)n(v,N+32*T,O,0,O.length)}function bo(v,N){var T=v[N-1],O=v[N-1+32],W=v[N-1+64],Z=v[N-1+96];Se(v,N+0,16843009*or(v[N-1-32],T,O)),Se(v,N+32,16843009*or(T,O,W)),Se(v,N+64,16843009*or(O,W,Z)),Se(v,N+96,16843009*or(W,Z,Z))}function u0(v,N){var T,O=4;for(T=0;4>T;++T)O+=v[N+T-32]+v[N-1+32*T];for(O>>=3,T=0;4>T;++T)i(v,N+32*T,O,4)}function kh(v,N){var T=v[N-1+0],O=v[N-1+32],W=v[N-1+64],Z=v[N-1-32],te=v[N+0-32],se=v[N+1-32],ae=v[N+2-32],de=v[N+3-32];v[N+0+96]=or(O,W,v[N-1+96]),v[N+1+96]=v[N+0+64]=or(T,O,W),v[N+2+96]=v[N+1+64]=v[N+0+32]=or(Z,T,O),v[N+3+96]=v[N+2+64]=v[N+1+32]=v[N+0+0]=or(te,Z,T),v[N+3+64]=v[N+2+32]=v[N+1+0]=or(se,te,Z),v[N+3+32]=v[N+2+0]=or(ae,se,te),v[N+3+0]=or(de,ae,se)}function oa(v,N){var T=v[N+1-32],O=v[N+2-32],W=v[N+3-32],Z=v[N+4-32],te=v[N+5-32],se=v[N+6-32],ae=v[N+7-32];v[N+0+0]=or(v[N+0-32],T,O),v[N+1+0]=v[N+0+32]=or(T,O,W),v[N+2+0]=v[N+1+32]=v[N+0+64]=or(O,W,Z),v[N+3+0]=v[N+2+32]=v[N+1+64]=v[N+0+96]=or(W,Z,te),v[N+3+32]=v[N+2+64]=v[N+1+96]=or(Z,te,se),v[N+3+64]=v[N+2+96]=or(te,se,ae),v[N+3+96]=or(se,ae,ae)}function Zo(v,N){var T=v[N-1+0],O=v[N-1+32],W=v[N-1+64],Z=v[N-1-32],te=v[N+0-32],se=v[N+1-32],ae=v[N+2-32],de=v[N+3-32];v[N+0+0]=v[N+1+64]=Z+te+1>>1,v[N+1+0]=v[N+2+64]=te+se+1>>1,v[N+2+0]=v[N+3+64]=se+ae+1>>1,v[N+3+0]=ae+de+1>>1,v[N+0+96]=or(W,O,T),v[N+0+64]=or(O,T,Z),v[N+0+32]=v[N+1+96]=or(T,Z,te),v[N+1+32]=v[N+2+96]=or(Z,te,se),v[N+2+32]=v[N+3+96]=or(te,se,ae),v[N+3+32]=or(se,ae,de)}function Ph(v,N){var T=v[N+0-32],O=v[N+1-32],W=v[N+2-32],Z=v[N+3-32],te=v[N+4-32],se=v[N+5-32],ae=v[N+6-32],de=v[N+7-32];v[N+0+0]=T+O+1>>1,v[N+1+0]=v[N+0+64]=O+W+1>>1,v[N+2+0]=v[N+1+64]=W+Z+1>>1,v[N+3+0]=v[N+2+64]=Z+te+1>>1,v[N+0+32]=or(T,O,W),v[N+1+32]=v[N+0+96]=or(O,W,Z),v[N+2+32]=v[N+1+96]=or(W,Z,te),v[N+3+32]=v[N+2+96]=or(Z,te,se),v[N+3+64]=or(te,se,ae),v[N+3+96]=or(se,ae,de)}function ad(v,N){var T=v[N-1+0],O=v[N-1+32],W=v[N-1+64],Z=v[N-1+96];v[N+0+0]=T+O+1>>1,v[N+2+0]=v[N+0+32]=O+W+1>>1,v[N+2+32]=v[N+0+64]=W+Z+1>>1,v[N+1+0]=or(T,O,W),v[N+3+0]=v[N+1+32]=or(O,W,Z),v[N+3+32]=v[N+1+64]=or(W,Z,Z),v[N+3+64]=v[N+2+64]=v[N+0+96]=v[N+1+96]=v[N+2+96]=v[N+3+96]=Z}function yc(v,N){var T=v[N-1+0],O=v[N-1+32],W=v[N-1+64],Z=v[N-1+96],te=v[N-1-32],se=v[N+0-32],ae=v[N+1-32],de=v[N+2-32];v[N+0+0]=v[N+2+32]=T+te+1>>1,v[N+0+32]=v[N+2+64]=O+T+1>>1,v[N+0+64]=v[N+2+96]=W+O+1>>1,v[N+0+96]=Z+W+1>>1,v[N+3+0]=or(se,ae,de),v[N+2+0]=or(te,se,ae),v[N+1+0]=v[N+3+32]=or(T,te,se),v[N+1+32]=v[N+3+64]=or(O,T,te),v[N+1+64]=v[N+3+96]=or(W,O,T),v[N+1+96]=or(Z,W,O)}function yu(v,N){var T;for(T=0;8>T;++T)n(v,N+32*T,v,N-32,8)}function Ya(v,N){var T;for(T=0;8>T;++T)i(v,N,v[N-1],8),N+=32}function No(v,N,T){var O;for(O=0;8>O;++O)i(N,T+32*O,v,8)}function Xa(v,N){var T,O=8;for(T=0;8>T;++T)O+=v[N+T-32]+v[N-1+32*T];No(O>>4,v,N)}function od(v,N){var T,O=4;for(T=0;8>T;++T)O+=v[N+T-32];No(O>>3,v,N)}function wu(v,N){var T,O=4;for(T=0;8>T;++T)O+=v[N-1+32*T];No(O>>3,v,N)}function bu(v,N){No(128,v,N)}function Jo(v,N,T){var O=v[N-T],W=v[N+0],Z=3*(W-O)+Eo[1020+v[N-2*T]-v[N+T]],te=pd[112+(Z+4>>3)];v[N-T]=ki[255+O+pd[112+(Z+3>>3)]],v[N+0]=ki[255+W-te]}function jo(v,N,T,O){var W=v[N+0],Z=v[N+T];return ka[255+v[N-2*T]-v[N-T]]>O||ka[255+Z-W]>O}function wc(v,N,T,O){return 4*ka[255+v[N-T]-v[N+0]]+ka[255+v[N-2*T]-v[N+T]]<=O}function bc(v,N,T,O,W){var Z=v[N-3*T],te=v[N-2*T],se=v[N-T],ae=v[N+0],de=v[N+T],be=v[N+2*T],De=v[N+3*T];return 4*ka[255+se-ae]+ka[255+te-de]>O?0:ka[255+v[N-4*T]-Z]<=W&&ka[255+Z-te]<=W&&ka[255+te-se]<=W&&ka[255+De-be]<=W&&ka[255+be-de]<=W&&ka[255+de-ae]<=W}function ja(v,N,T,O){var W=2*O+1;for(O=0;16>O;++O)wc(v,N+O,T,W)&&Jo(v,N+O,T)}function Qo(v,N,T,O){var W=2*O+1;for(O=0;16>O;++O)wc(v,N+O*T,1,W)&&Jo(v,N+O*T,1)}function Nc(v,N,T,O){var W;for(W=3;0<W;--W)ja(v,N+=4*T,T,O)}function Nu(v,N,T,O){var W;for(W=3;0<W;--W)Qo(v,N+=4,T,O)}function Ca(v,N,T,O,W,Z,te,se){for(Z=2*Z+1;0<W--;){if(bc(v,N,T,Z,te))if(jo(v,N,T,se))Jo(v,N,T);else{var ae=v,de=N,be=T,De=ae[de-2*be],he=ae[de-be],_e=ae[de+0],Ie=ae[de+be],Ge=ae[de+2*be],Oe=27*(He=Eo[1020+3*(_e-he)+Eo[1020+De-Ie]])+63>>7,ze=18*He+63>>7,He=9*He+63>>7;ae[de-3*be]=ki[255+ae[de-3*be]+He],ae[de-2*be]=ki[255+De+ze],ae[de-be]=ki[255+he+Oe],ae[de+0]=ki[255+_e-Oe],ae[de+be]=ki[255+Ie-ze],ae[de+2*be]=ki[255+Ge-He]}N+=O}}function _a(v,N,T,O,W,Z,te,se){for(Z=2*Z+1;0<W--;){if(bc(v,N,T,Z,te))if(jo(v,N,T,se))Jo(v,N,T);else{var ae=v,de=N,be=T,De=ae[de-be],he=ae[de+0],_e=ae[de+be],Ie=pd[112+(4+(Ge=3*(he-De))>>3)],Ge=pd[112+(Ge+3>>3)],Oe=Ie+1>>1;ae[de-2*be]=ki[255+ae[de-2*be]+Oe],ae[de-be]=ki[255+De+Ge],ae[de+0]=ki[255+he-Ie],ae[de+be]=ki[255+_e-Oe]}N+=O}}function ju(v,N,T,O,W,Z){Ca(v,N,T,1,16,O,W,Z)}function pi(v,N,T,O,W,Z){Ca(v,N,1,T,16,O,W,Z)}function Aa(v,N,T,O,W,Z){var te;for(te=3;0<te;--te)_a(v,N+=4*T,T,1,16,O,W,Z)}function ld(v,N,T,O,W,Z){var te;for(te=3;0<te;--te)_a(v,N+=4,1,T,16,O,W,Z)}function S(v,N,T,O,W,Z,te,se){Ca(v,N,W,1,8,Z,te,se),Ca(T,O,W,1,8,Z,te,se)}function K(v,N,T,O,W,Z,te,se){Ca(v,N,1,W,8,Z,te,se),Ca(T,O,1,W,8,Z,te,se)}function me(v,N,T,O,W,Z,te,se){_a(v,N+4*W,W,1,8,Z,te,se),_a(T,O+4*W,W,1,8,Z,te,se)}function we(v,N,T,O,W,Z,te,se){_a(v,N+4,1,W,8,Z,te,se),_a(T,O+4,1,W,8,Z,te,se)}function ke(){this.ba=new Cr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ge,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ye(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Lt(){this.ua=0,this.Wa=new Ee,this.vb=new Ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xe,this.yc=new X}function Ht(){this.xb=this.a=0,this.l=new Hs,this.ca=new Cr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Lt,this.ab=0,this.gc=o(4,rt),this.Oc=0}function pr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Hs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xr(v,N,T,O,W,Z,te){for(v=v==null?0:v[N+0],N=0;N<te;++N)W[Z+N]=v+T[O+N]&255,v=W[Z+N]}function tn(v,N,T,O,W,Z,te){var se;if(v==null)xr(null,null,T,O,W,Z,te);else for(se=0;se<te;++se)W[Z+se]=v[N+se]+T[O+se]&255}function Gn(v,N,T,O,W,Z,te){if(v==null)xr(null,null,T,O,W,Z,te);else{var se,ae=v[N+0],de=ae,be=ae;for(se=0;se<te;++se)de=be+(ae=v[N+se])-de,be=T[O+se]+(-256&de?0>de?0:255:de)&255,de=ae,W[Z+se]=be}}function Ns(v,N,T,O){var W=N.width,Z=N.o;if(e(v!=null&&N!=null),0>T||0>=O||T+O>Z)return null;if(!v.Cc){if(v.ga==null){var te;if(v.ga=new pr,(te=v.ga==null)||(te=N.width*N.o,e(v.Gb.length==0),v.Gb=a(te),v.Uc=0,v.Gb==null?te=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,te=1),te=!te),!te){te=v.ga;var se=v.Fa,ae=v.P,de=v.qc,be=v.mb,De=v.nb,he=ae+1,_e=de-1,Ie=te.l;if(e(se!=null&&be!=null&&N!=null),gi[0]=null,gi[1]=xr,gi[2]=tn,gi[3]=Gn,te.ca=be,te.tb=De,te.c=N.width,te.i=N.height,e(0<te.c&&0<te.i),1>=de)N=0;else if(te.$a=3&se[ae+0],te.Z=se[ae+0]>>2&3,te.Lc=se[ae+0]>>4&3,ae=se[ae+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||ae)N=0;else if(Ie.put=Ce,Ie.ac=Qr,Ie.bc=wt,Ie.ma=te,Ie.width=N.width,Ie.height=N.height,Ie.Da=N.Da,Ie.v=N.v,Ie.va=N.va,Ie.j=N.j,Ie.o=N.o,te.$a)e:{e(te.$a==1),N=qn();t:for(;;){if(N==null){N=0;break e}if(e(te!=null),te.mc=N,N.c=te.c,N.i=te.i,N.l=te.l,N.l.ma=te,N.l.width=te.c,N.l.height=te.i,N.a=0,q(N.m,se,he,_e),!Bi(te.c,te.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&bs(N.s)?(te.ic=1,se=N.c*N.i,N.Ta=null,N.Ua=0,N.V=a(se),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(te.ic=0,N=Ga(N,te.c)),!N))break t;N=1;break e}te.mc=null,N=0}else N=_e>=te.c*te.i;te=!N}if(te)return null;v.ga.Lc!=1?v.Ga=0:O=Z-T}e(v.ga!=null),e(T+O<=Z);e:{if(N=(se=v.ga).c,Z=se.l.o,se.$a==0){if(he=v.rc,_e=v.Vc,Ie=v.Fa,ae=v.P+1+T*N,de=v.mb,be=v.nb+T*N,e(ae<=v.P+v.qc),se.Z!=0)for(e(gi[se.Z]!=null),te=0;te<O;++te)gi[se.Z](he,_e,Ie,ae,de,be,N),he=de,_e=be,be+=N,ae+=N;else for(te=0;te<O;++te)n(de,be,Ie,ae,N),he=de,_e=be,be+=N,ae+=N;v.rc=he,v.Vc=_e}else{if(e(se.mc!=null),N=T+O,e((te=se.mc)!=null),e(N<=te.i),te.C>=N)N=1;else if(se.ic||Sa(),se.ic){se=te.V,he=te.Ba,_e=te.c;var Ge=te.i,Oe=(Ie=1,ae=te.$/_e,de=te.$%_e,be=te.m,De=te.s,te.$),ze=_e*Ge,He=_e*N,Ze=De.wc,Qe=Oe<He?Ve(De,de,ae):null;e(Oe<=ze),e(N<=Ge),e(bs(De));t:for(;;){for(;!be.h&&Oe<He;){if(de&Ze||(Qe=Ve(De,de,ae)),e(Qe!=null),re(be),256>(Ge=Lr(Qe.G[0],Qe.H[0],be)))se[he+Oe]=Ge,++Oe,++de>=_e&&(de=0,++ae<=N&&!(ae%16)&&Ln(te,ae));else{if(!(280>Ge)){Ie=0;break t}Ge=Rr(Ge-256,be);var qt,Pt=Lr(Qe.G[4],Qe.H[4],be);if(re(be),!(Oe>=(Pt=Yr(_e,Pt=Rr(Pt,be)))&&ze-Oe>=Ge)){Ie=0;break t}for(qt=0;qt<Ge;++qt)se[he+Oe+qt]=se[he+Oe+qt-Pt];for(Oe+=Ge,de+=Ge;de>=_e;)de-=_e,++ae<=N&&!(ae%16)&&Ln(te,ae);Oe<He&&de&Ze&&(Qe=Ve(De,de,ae))}e(be.h==Q(be))}Ln(te,ae>N?N:ae);break t}!Ie||be.h&&Oe<ze?(Ie=0,te.a=be.h?5:3):te.$=Oe,N=Ie}else N=Is(te,te.V,te.Ba,te.c,te.i,N,Ui);if(!N){O=0;break e}}T+O>=Z&&(v.Cc=1),O=1}if(!O)return null;if(v.Cc&&((O=v.ga)!=null&&(O.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+T*W}function En(v,N,T,O,W,Z){for(;0<W--;){var te,se=v,ae=N+(T?1:0),de=v,be=N+(T?0:3);for(te=0;te<O;++te){var De=de[be+4*te];De!=255&&(De*=32897,se[ae+4*te+0]=se[ae+4*te+0]*De>>23,se[ae+4*te+1]=se[ae+4*te+1]*De>>23,se[ae+4*te+2]=se[ae+4*te+2]*De>>23)}N+=Z}}function Ds(v,N,T,O,W){for(;0<O--;){var Z;for(Z=0;Z<T;++Z){var te=v[N+2*Z+0],se=15&(de=v[N+2*Z+1]),ae=4369*se,de=(240&de|de>>4)*ae>>16;v[N+2*Z+0]=(240&te|te>>4)*ae>>16&240|(15&te|te<<4)*ae>>16>>4&15,v[N+2*Z+1]=240&de|se}N+=W}}function cs(v,N,T,O,W,Z,te,se){var ae,de,be=255;for(de=0;de<W;++de){for(ae=0;ae<O;++ae){var De=v[N+ae];Z[te+4*ae]=De,be&=De}N+=T,te+=se}return be!=255}function si(v,N,T,O,W){var Z;for(Z=0;Z<W;++Z)T[O+Z]=v[N+Z]>>8}function Sa(){Rc=En,f0=Ds,Eu=cs,m0=si}function $i(v,N,T){V[v]=function(O,W,Z,te,se,ae,de,be,De,he,_e,Ie,Ge,Oe,ze,He,Ze){var Qe,qt=Ze-1>>1,Pt=se[ae+0]|de[be+0]<<16,Sr=De[he+0]|_e[Ie+0]<<16;e(O!=null);var Ft=3*Pt+Sr+131074>>2;for(N(O[W+0],255&Ft,Ft>>16,Ge,Oe),Z!=null&&(Ft=3*Sr+Pt+131074>>2,N(Z[te+0],255&Ft,Ft>>16,ze,He)),Qe=1;Qe<=qt;++Qe){var Vr=se[ae+Qe]|de[be+Qe]<<16,rs=De[he+Qe]|_e[Ie+Qe]<<16,Tr=Pt+Vr+Sr+rs+524296,Tt=Tr+2*(Vr+Sr)>>3;Ft=Tt+Pt>>1,Pt=(Tr=Tr+2*(Pt+rs)>>3)+Vr>>1,N(O[W+2*Qe-1],255&Ft,Ft>>16,Ge,Oe+(2*Qe-1)*T),N(O[W+2*Qe-0],255&Pt,Pt>>16,Ge,Oe+(2*Qe-0)*T),Z!=null&&(Ft=Tr+Sr>>1,Pt=Tt+rs>>1,N(Z[te+2*Qe-1],255&Ft,Ft>>16,ze,He+(2*Qe-1)*T),N(Z[te+2*Qe+0],255&Pt,Pt>>16,ze,He+(2*Qe+0)*T)),Pt=Vr,Sr=rs}1&Ze||(Ft=3*Pt+Sr+131074>>2,N(O[W+Ze-1],255&Ft,Ft>>16,Ge,Oe+(Ze-1)*T),Z!=null&&(Ft=3*Sr+Pt+131074>>2,N(Z[te+Ze-1],255&Ft,Ft>>16,ze,He+(Ze-1)*T)))}}function Th(){qi[Oh]=pg,qi[zl]=Hl,qi[ap]=xg,qi[ku]=yd,qi[Pu]=Mc,qi[Nn]=Ou,qi[Lh]=j0,qi[xd]=Hl,qi[Oc]=yd,qi[Tu]=Mc,qi[Iu]=Ou}function Ol(v){return v&-16384?0>v?0:255:v>>ql}function jc(v,N){return Ol((19077*v>>8)+(26149*N>>8)-14234)}function Ll(v,N,T){return Ol((19077*v>>8)-(6419*N>>8)-(13320*T>>8)+8708)}function Cc(v,N){return Ol((19077*v>>8)+(33050*N>>8)-17685)}function Fl(v,N,T,O,W){O[W+0]=jc(v,T),O[W+1]=Ll(v,N,T),O[W+2]=Cc(v,N)}function _c(v,N,T,O,W){O[W+0]=Cc(v,N),O[W+1]=Ll(v,N,T),O[W+2]=jc(v,T)}function xi(v,N,T,O,W){var Z=Ll(v,N,T);N=Z<<3&224|Cc(v,N)>>3,O[W+0]=248&jc(v,T)|Z>>5,O[W+1]=N}function Ac(v,N,T,O,W){var Z=240&Cc(v,N)|15;O[W+0]=240&jc(v,T)|Ll(v,N,T)>>4,O[W+1]=Z}function Sc(v,N,T,O,W){O[W+0]=255,Fl(v,N,T,O,W+1)}function Cu(v,N,T,O,W){_c(v,N,T,O,W),O[W+3]=255}function _u(v,N,T,O,W){Fl(v,N,T,O,W),O[W+3]=255}function Qn(v,N){return 0>v?0:v>N?N:v}function Za(v,N,T){V[v]=function(O,W,Z,te,se,ae,de,be,De){for(var he=be+(-2&De)*T;be!=he;)N(O[W+0],Z[te+0],se[ae+0],de,be),N(O[W+1],Z[te+0],se[ae+0],de,be+T),W+=2,++te,++ae,be+=2*T;1&De&&N(O[W+0],Z[te+0],se[ae+0],de,be)}}function Co(v,N,T){return T==0?v==0?N==0?6:5:N==0?4:0:T}function Ih(v,N,T,O,W){switch(v>>>30){case 3:Ic(N,T,O,W,0);break;case 2:es(N,T,O,W);break;case 1:rn(N,T,O,W)}}function la(v,N){var T,O,W=N.M,Z=N.Nb,te=v.oc,se=v.pc+40,ae=v.oc,de=v.pc+584,be=v.oc,De=v.pc+600;for(T=0;16>T;++T)te[se+32*T-1]=129;for(T=0;8>T;++T)ae[de+32*T-1]=129,be[De+32*T-1]=129;for(0<W?te[se-1-32]=ae[de-1-32]=be[De-1-32]=129:(i(te,se-32-1,127,21),i(ae,de-32-1,127,9),i(be,De-32-1,127,9)),O=0;O<v.za;++O){var he=N.ya[N.aa+O];if(0<O){for(T=-1;16>T;++T)n(te,se+32*T-4,te,se+32*T+12,4);for(T=-1;8>T;++T)n(ae,de+32*T-4,ae,de+32*T+4,4),n(be,De+32*T-4,be,De+32*T+4,4)}var _e=v.Gd,Ie=v.Hd+O,Ge=he.ad,Oe=he.Hc;if(0<W&&(n(te,se-32,_e[Ie].y,0,16),n(ae,de-32,_e[Ie].f,0,8),n(be,De-32,_e[Ie].ea,0,8)),he.Za){var ze=te,He=se-32+16;for(0<W&&(O>=v.za-1?i(ze,He,_e[Ie].y[15],4):n(ze,He,_e[Ie+1].y,0,4)),T=0;4>T;T++)ze[He+128+T]=ze[He+256+T]=ze[He+384+T]=ze[He+0+T];for(T=0;16>T;++T,Oe<<=2)ze=te,He=se+C0[T],Pa[he.Ob[T]](ze,He),Ih(Oe,Ge,16*+T,ze,He)}else if(ze=Co(O,W,he.Ob[0]),Pi[ze](te,se),Oe!=0)for(T=0;16>T;++T,Oe<<=2)Ih(Oe,Ge,16*+T,te,se+C0[T]);for(T=he.Gc,ze=Co(O,W,he.Dd),Hi[ze](ae,de),Hi[ze](be,De),Oe=Ge,ze=ae,He=de,255&(he=0|T)&&(170&he?zi(Oe,256,ze,He):gn(Oe,256,ze,He)),he=be,Oe=De,255&(T>>=8)&&(170&T?zi(Ge,320,he,Oe):gn(Ge,320,he,Oe)),W<v.Ub-1&&(n(_e[Ie].y,0,te,se+480,16),n(_e[Ie].f,0,ae,de+224,8),n(_e[Ie].ea,0,be,De+224,8)),T=8*Z*v.B,_e=v.sa,Ie=v.ta+16*O+16*Z*v.R,Ge=v.qa,he=v.ra+8*O+T,Oe=v.Ha,ze=v.Ia+8*O+T,T=0;16>T;++T)n(_e,Ie+T*v.R,te,se+32*T,16);for(T=0;8>T;++T)n(Ge,he+T*v.B,ae,de+32*T,8),n(Oe,ze+T*v.B,be,De+32*T,8)}}function Ml(v,N,T,O,W,Z,te,se,ae){var de=[0],be=[0],De=0,he=ae!=null?ae.kd:0,_e=ae??new Ye;if(v==null||12>T)return 7;_e.data=v,_e.w=N,_e.ha=T,N=[N],T=[T],_e.gb=[_e.gb];e:{var Ie=N,Ge=T,Oe=_e.gb;if(e(v!=null),e(Ge!=null),e(Oe!=null),Oe[0]=0,12<=Ge[0]&&!r(v,Ie[0],"RIFF")){if(r(v,Ie[0]+8,"WEBP")){Oe=3;break e}var ze=Te(v,Ie[0]+4);if(12>ze||4294967286<ze){Oe=3;break e}if(he&&ze>Ge[0]-8){Oe=7;break e}Oe[0]=ze,Ie[0]+=12,Ge[0]-=12}Oe=0}if(Oe!=0)return Oe;for(ze=0<_e.gb[0],T=T[0];;){e:{var He=v;Ge=N,Oe=T;var Ze=de,Qe=be,qt=Ie=[0];if((Ft=De=[De])[0]=0,8>Oe[0])Oe=7;else{if(!r(He,Ge[0],"VP8X")){if(Te(He,Ge[0]+4)!=10){Oe=3;break e}if(18>Oe[0]){Oe=7;break e}var Pt=Te(He,Ge[0]+8),Sr=1+Fe(He,Ge[0]+12);if(2147483648<=Sr*(He=1+Fe(He,Ge[0]+15))){Oe=3;break e}qt!=null&&(qt[0]=Pt),Ze!=null&&(Ze[0]=Sr),Qe!=null&&(Qe[0]=He),Ge[0]+=18,Oe[0]-=18,Ft[0]=1}Oe=0}}if(De=De[0],Ie=Ie[0],Oe!=0)return Oe;if(Ge=!!(2&Ie),!ze&&De)return 3;if(Z!=null&&(Z[0]=!!(16&Ie)),te!=null&&(te[0]=Ge),se!=null&&(se[0]=0),te=de[0],Ie=be[0],De&&Ge&&ae==null){Oe=0;break}if(4>T){Oe=7;break}if(ze&&De||!ze&&!De&&!r(v,N[0],"ALPH")){T=[T],_e.na=[_e.na],_e.P=[_e.P],_e.Sa=[_e.Sa];e:{Pt=v,Oe=N,ze=T;var Ft=_e.gb;Ze=_e.na,Qe=_e.P,qt=_e.Sa,Sr=22,e(Pt!=null),e(ze!=null),He=Oe[0];var Vr=ze[0];for(e(Ze!=null),e(qt!=null),Ze[0]=null,Qe[0]=null,qt[0]=0;;){if(Oe[0]=He,ze[0]=Vr,8>Vr){Oe=7;break e}var rs=Te(Pt,He+4);if(4294967286<rs){Oe=3;break e}var Tr=8+rs+1&-2;if(Sr+=Tr,0<Ft&&Sr>Ft){Oe=3;break e}if(!r(Pt,He,"VP8 ")||!r(Pt,He,"VP8L")){Oe=0;break e}if(Vr[0]<Tr){Oe=7;break e}r(Pt,He,"ALPH")||(Ze[0]=Pt,Qe[0]=He+8,qt[0]=rs),He+=Tr,Vr-=Tr}}if(T=T[0],_e.na=_e.na[0],_e.P=_e.P[0],_e.Sa=_e.Sa[0],Oe!=0)break}T=[T],_e.Ja=[_e.Ja],_e.xa=[_e.xa];e:if(Ft=v,Oe=N,ze=T,Ze=_e.gb[0],Qe=_e.Ja,qt=_e.xa,Pt=Oe[0],He=!r(Ft,Pt,"VP8 "),Sr=!r(Ft,Pt,"VP8L"),e(Ft!=null),e(ze!=null),e(Qe!=null),e(qt!=null),8>ze[0])Oe=7;else{if(He||Sr){if(Ft=Te(Ft,Pt+4),12<=Ze&&Ft>Ze-12){Oe=3;break e}if(he&&Ft>ze[0]-8){Oe=7;break e}Qe[0]=Ft,Oe[0]+=8,ze[0]-=8,qt[0]=Sr}else qt[0]=5<=ze[0]&&Ft[Pt+0]==47&&!(Ft[Pt+4]>>5),Qe[0]=ze[0];Oe=0}if(T=T[0],_e.Ja=_e.Ja[0],_e.xa=_e.xa[0],N=N[0],Oe!=0)break;if(4294967286<_e.Ja)return 3;if(se==null||Ge||(se[0]=_e.xa?2:1),te=[te],Ie=[Ie],_e.xa){if(5>T){Oe=7;break}se=te,he=Ie,Ge=Z,v==null||5>T?v=0:5<=T&&v[N+0]==47&&!(v[N+4]>>5)?(ze=[0],Ft=[0],Ze=[0],q(Qe=new z,v,N,T),tt(Qe,ze,Ft,Ze)?(se!=null&&(se[0]=ze[0]),he!=null&&(he[0]=Ft[0]),Ge!=null&&(Ge[0]=Ze[0]),v=1):v=0):v=0}else{if(10>T){Oe=7;break}se=Ie,v==null||10>T||!er(v,N+3,T-3)?v=0:(he=v[N+0]|v[N+1]<<8|v[N+2]<<16,Ge=16383&(v[N+7]<<8|v[N+6]),v=16383&(v[N+9]<<8|v[N+8]),1&he||3<(he>>1&7)||!(he>>4&1)||he>>5>=_e.Ja||!Ge||!v?v=0:(te&&(te[0]=Ge),se&&(se[0]=v),v=1))}if(!v||(te=te[0],Ie=Ie[0],De&&(de[0]!=te||be[0]!=Ie)))return 3;ae!=null&&(ae[0]=_e,ae.offset=N-ae.w,e(4294967286>N-ae.w),e(ae.offset==ae.ha-T));break}return Oe==0||Oe==7&&De&&ae==null?(Z!=null&&(Z[0]|=_e.na!=null&&0<_e.na.length),O!=null&&(O[0]=te),W!=null&&(W[0]=Ie),0):Oe}function cd(v,N,T){var O=N.width,W=N.height,Z=0,te=0,se=O,ae=W;if(N.Da=v!=null&&0<v.Da,N.Da&&(se=v.cd,ae=v.bd,Z=v.v,te=v.j,11>T||(Z&=-2,te&=-2),0>Z||0>te||0>=se||0>=ae||Z+se>O||te+ae>W))return 0;if(N.v=Z,N.j=te,N.va=Z+se,N.o=te+ae,N.U=se,N.T=ae,N.da=v!=null&&0<v.da,N.da){if(!lt(se,ae,T=[v.ib],Z=[v.hb]))return 0;N.ib=T[0],N.hb=Z[0]}return N.ob=v!=null&&v.ob,N.Kb=v==null||!v.Sd,N.da&&(N.ob=N.ib<3*O/4&&N.hb<3*W/4,N.Kb=0),1}function dd(v){if(v==null)return 2;if(11>v.S){var N=v.f.RGBA;N.fb+=(v.height-1)*N.A,N.A=-N.A}else N=v.f.kb,v=v.height,N.O+=(v-1)*N.fa,N.fa=-N.fa,N.N+=(v-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(v-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(v-1)*N.lb,N.lb=-N.lb);return 0}function el(v,N,T,O){if(O==null||0>=v||0>=N)return 2;if(T!=null){if(T.Da){var W=T.cd,Z=T.bd,te=-2&T.v,se=-2&T.j;if(0>te||0>se||0>=W||0>=Z||te+W>v||se+Z>N)return 2;v=W,N=Z}if(T.da){if(!lt(v,N,W=[T.ib],Z=[T.hb]))return 2;v=W[0],N=Z[0]}}O.width=v,O.height=N;e:{var ae=O.width,de=O.height;if(v=O.S,0>=ae||0>=de||!(v>=Oh&&13>v))v=2;else{if(0>=O.Rd&&O.sd==null){te=Z=W=N=0;var be=(se=ae*Lu[v])*de;if(11>v||(Z=(de+1)/2*(N=(ae+1)/2),v==12&&(te=(W=ae)*de)),(de=a(be+2*Z+te))==null){v=1;break e}O.sd=de,11>v?((ae=O.f.RGBA).eb=de,ae.fb=0,ae.A=se,ae.size=be):((ae=O.f.kb).y=de,ae.O=0,ae.fa=se,ae.Fd=be,ae.f=de,ae.N=0+be,ae.Ab=N,ae.Cd=Z,ae.ea=de,ae.W=0+be+Z,ae.Db=N,ae.Ed=Z,v==12&&(ae.F=de,ae.J=0+be+2*Z),ae.Tc=te,ae.lb=W)}if(N=1,W=O.S,Z=O.width,te=O.height,W>=Oh&&13>W)if(11>W)v=O.f.RGBA,N&=(se=Math.abs(v.A))*(te-1)+Z<=v.size,N&=se>=Z*Lu[W],N&=v.eb!=null;else{v=O.f.kb,se=(Z+1)/2,be=(te+1)/2,ae=Math.abs(v.fa),de=Math.abs(v.Ab);var De=Math.abs(v.Db),he=Math.abs(v.lb),_e=he*(te-1)+Z;N&=ae*(te-1)+Z<=v.Fd,N&=de*(be-1)+se<=v.Cd,N=(N&=De*(be-1)+se<=v.Ed)&ae>=Z&de>=se&De>=se,N&=v.y!=null,N&=v.f!=null,N&=v.ea!=null,W==12&&(N&=he>=Z,N&=_e<=v.Tc,N&=v.F!=null)}else N=0;v=N?0:2}}return v!=0||T!=null&&T.fd&&(v=dd(O)),v}var Ea=64,ca=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],da=24,Bl=32,_o=8,tl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),V.Predictor0=function(){return 4278190080},V.Predictor1=function(v){return v},V.Predictor2=function(v,N,T){return N[T+0]},V.Predictor3=function(v,N,T){return N[T+1]},V.Predictor4=function(v,N,T){return N[T-1]},V.Predictor5=function(v,N,T){return ct(ct(v,N[T+1]),N[T+0])},V.Predictor6=function(v,N,T){return ct(v,N[T-1])},V.Predictor7=function(v,N,T){return ct(v,N[T+0])},V.Predictor8=function(v,N,T){return ct(N[T-1],N[T+0])},V.Predictor9=function(v,N,T){return ct(N[T+0],N[T+1])},V.Predictor10=function(v,N,T){return ct(ct(v,N[T-1]),ct(N[T+0],N[T+1]))},V.Predictor11=function(v,N,T){var O=N[T+0];return 0>=St(O>>24&255,v>>24&255,(N=N[T-1])>>24&255)+St(O>>16&255,v>>16&255,N>>16&255)+St(O>>8&255,v>>8&255,N>>8&255)+St(255&O,255&v,255&N)?O:v},V.Predictor12=function(v,N,T){var O=N[T+0];return(tr((v>>24&255)+(O>>24&255)-((N=N[T-1])>>24&255))<<24|tr((v>>16&255)+(O>>16&255)-(N>>16&255))<<16|tr((v>>8&255)+(O>>8&255)-(N>>8&255))<<8|tr((255&v)+(255&O)-(255&N)))>>>0},V.Predictor13=function(v,N,T){var O=N[T-1];return(It((v=ct(v,N[T+0]))>>24&255,O>>24&255)<<24|It(v>>16&255,O>>16&255)<<16|It(v>>8&255,O>>8&255)<<8|It(255&v,255&O))>>>0};var rl=V.PredictorAdd0;V.PredictorAdd1=fr,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var Ao=V.PredictorAdd2;jt("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),jt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var ds,Ec=V.ColorIndexInverseTransform,So=V.MapARGB,Ja=V.VP8LColorIndexInverseTransformAlpha,kc=V.MapAlpha,Pc=V.VP8LPredictorsAdd=[];Pc.length=16,(V.VP8LPredictors=[]).length=16,(V.VP8LPredictorsAdd_C=[]).length=16,(V.VP8LPredictors_C=[]).length=16;var ud,hd,nl,Ul,Vl,Tc,$l,Ic,es,zi,rn,gn,ts,js,Qa,Au,fd,sl,Dh,md,Rh,h0,Su,Dc,Rc,f0,Eu,m0,p0=a(511),x0=a(2041),g0=a(225),v0=a(767),y0=0,Eo=x0,pd=g0,ki=v0,ka=p0,Oh=0,zl=1,ap=2,ku=3,Pu=4,Nn=5,Lh=6,xd=7,Oc=8,Tu=9,Iu=10,Du=[2,3,7],Fh=[3,3,11],Lc=[280,256,256,256,40],op=[0,1,1,1,0],ug=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],hg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],lp=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Mh=8,gd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ru=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Fc=null,w0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],b0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],cp=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],dp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],fg=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],mg=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],N0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Pi=[],Pa=[],Hi=[],ko=1,vd=2,gi=[],qi=[];$i("UpsampleRgbLinePair",Fl,3),$i("UpsampleBgrLinePair",_c,3),$i("UpsampleRgbaLinePair",_u,4),$i("UpsampleBgraLinePair",Cu,4),$i("UpsampleArgbLinePair",Sc,4),$i("UpsampleRgba4444LinePair",Ac,2),$i("UpsampleRgb565LinePair",xi,2);var pg=V.UpsampleRgbLinePair,xg=V.UpsampleBgrLinePair,Hl=V.UpsampleRgbaLinePair,yd=V.UpsampleBgraLinePair,Mc=V.UpsampleArgbLinePair,Ou=V.UpsampleRgba4444LinePair,j0=V.UpsampleRgb565LinePair,il=16,eo=1<<il-1,pn=-227,vn=482,ql=6,ii=0,Wi=a(256),Bc=a(256),wd=a(256),Gi=a(256),Bh=a(vn-pn),up=a(vn-pn);Za("YuvToRgbRow",Fl,3),Za("YuvToBgrRow",_c,3),Za("YuvToRgbaRow",_u,4),Za("YuvToBgraRow",Cu,4),Za("YuvToArgbRow",Sc,4),Za("YuvToRgba4444Row",Ac,2),Za("YuvToRgb565Row",xi,2);var C0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Uc=[0,2,8],hp=[8,7,6,4,4,2,2,2,1,1,1,1],al=1;this.WebPDecodeRGBA=function(v,N,T,O,W){var Z=zl,te=new ke,se=new Cr;te.ba=se,se.S=Z,se.width=[se.width],se.height=[se.height];var ae=se.width,de=se.height,be=new Mt;if(be==null||v==null)var De=2;else e(be!=null),De=Ml(v,N,T,be.width,be.height,be.Pd,be.Qd,be.format,null);if(De!=0?ae=0:(ae!=null&&(ae[0]=be.width[0]),de!=null&&(de[0]=be.height[0]),ae=1),ae){se.width=se.width[0],se.height=se.height[0],O!=null&&(O[0]=se.width),W!=null&&(W[0]=se.height);e:{if(O=new Hs,(W=new Ye).data=v,W.w=N,W.ha=T,W.kd=1,N=[0],e(W!=null),((v=Ml(W.data,W.w,W.ha,null,null,null,N,null,W))==0||v==7)&&N[0]&&(v=4),(N=v)==0){if(e(te!=null),O.data=W.data,O.w=W.w+W.offset,O.ha=W.ha-W.offset,O.put=Ce,O.ac=Qr,O.bc=wt,O.ma=te,W.xa){if((v=qn())==null){te=1;break e}if((function(he,_e){var Ie=[0],Ge=[0],Oe=[0];t:for(;;){if(he==null)return 0;if(_e==null)return he.a=2,0;if(he.l=_e,he.a=0,q(he.m,_e.data,_e.w,_e.ha),!tt(he.m,Ie,Ge,Oe)){he.a=3;break t}if(he.xb=vd,_e.width=Ie[0],_e.height=Ge[0],!Bi(Ie[0],Ge[0],1,he,null))break t;return 1}return e(he.a!=0),0})(v,O)){if(O=(N=el(O.width,O.height,te.Oa,te.ba))==0){t:{O=v;r:for(;;){if(O==null){O=0;break t}if(e(O.s.yc!=null),e(O.s.Ya!=null),e(0<O.s.Wb),e((T=O.l)!=null),e((W=T.ma)!=null),O.xb!=0){if(O.ca=W.ba,O.tb=W.tb,e(O.ca!=null),!cd(W.Oa,T,ku)){O.a=2;break r}if(!Ga(O,T.width)||T.da)break r;if((T.da||Dt(O.ca.S))&&Sa(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Sa()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!ce(O.s.vb,O.s.Wa.Xa)){O.a=1;break r}O.xb=0}if(!Is(O,O.V,O.Ba,O.c,O.i,T.o,en))break r;W.Dc=O.Ma,O=1;break t}e(O.a!=0),O=0}O=!O}O&&(N=v.a)}else N=v.a}else{if((v=new Ke)==null){te=1;break e}if(v.Fa=W.na,v.P=W.P,v.qc=W.Sa,cn(v,O)){if((N=el(O.width,O.height,te.Oa,te.ba))==0){if(v.Aa=0,T=te.Oa,e((W=v)!=null),T!=null){if(0<(ae=0>(ae=T.Md)?0:100<ae?255:255*ae/100)){for(de=be=0;4>de;++de)12>(De=W.pb[de]).lc&&(De.ia=ae*hp[0>De.lc?0:De.lc]>>3),be|=De.ia;be&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=T.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}(function(he,_e){if(he==null)return 0;if(_e==null)return Xe(he,2,"NULL VP8Io parameter in VP8Decode().");if(!he.cb&&!cn(he,_e))return 0;if(e(he.cb),_e.ac==null||_e.ac(_e)){_e.ob&&(he.L=0);var Ie=Uc[he.L];if(he.L==2?(he.yb=0,he.zb=0):(he.yb=_e.v-Ie>>4,he.zb=_e.j-Ie>>4,0>he.yb&&(he.yb=0),0>he.zb&&(he.zb=0)),he.Va=_e.o+15+Ie>>4,he.Hb=_e.va+15+Ie>>4,he.Hb>he.za&&(he.Hb=he.za),he.Va>he.Ub&&(he.Va=he.Ub),0<he.L){var Ge=he.ed;for(Ie=0;4>Ie;++Ie){var Oe;if(he.Qa.Cb){var ze=he.Qa.Lb[Ie];he.Qa.Fb||(ze+=Ge.Tb)}else ze=Ge.Tb;for(Oe=0;1>=Oe;++Oe){var He=he.gd[Ie][Oe],Ze=ze;if(Ge.Pc&&(Ze+=Ge.vd[0],Oe&&(Ze+=Ge.od[0])),0<(Ze=0>Ze?0:63<Ze?63:Ze)){var Qe=Ze;0<Ge.wb&&(Qe=4<Ge.wb?Qe>>2:Qe>>1)>9-Ge.wb&&(Qe=9-Ge.wb),1>Qe&&(Qe=1),He.dd=Qe,He.tc=2*Ze+Qe,He.ld=40<=Ze?2:15<=Ze?1:0}else He.tc=0;He.La=Oe}}}Ie=0}else Xe(he,6,"Frame setup failed"),Ie=he.a;if(Ie=Ie==0){if(Ie){he.$c=0,0<he.Aa||(he.Ic=al);t:{Ie=he.Ic,Ge=4*(Qe=he.za);var qt=32*Qe,Pt=Qe+1,Sr=0<he.L?Qe*(0<he.Aa?2:1):0,Ft=(he.Aa==2?2:1)*Qe;if((He=Ge+832+(Oe=3*(16*Ie+Uc[he.L])/2*qt)+(ze=he.Fa!=null&&0<he.Fa.length?he.Kc.c*he.Kc.i:0))!=He)Ie=0;else{if(He>he.Vb){if(he.Vb=0,he.Ec=a(He),he.Fc=0,he.Ec==null){Ie=Xe(he,1,"no memory during frame initialization.");break t}he.Vb=He}He=he.Ec,Ze=he.Fc,he.Ac=He,he.Bc=Ze,Ze+=Ge,he.Gd=o(qt,Ei),he.Hd=0,he.rb=o(Pt+1,vo),he.sb=1,he.wa=Sr?o(Sr,Si):null,he.Y=0,he.D.Nb=0,he.D.wa=he.wa,he.D.Y=he.Y,0<he.Aa&&(he.D.Y+=Qe),e(!0),he.oc=He,he.pc=Ze,Ze+=832,he.ya=o(Ft,Rl),he.aa=0,he.D.ya=he.ya,he.D.aa=he.aa,he.Aa==2&&(he.D.aa+=Qe),he.R=16*Qe,he.B=8*Qe,Qe=(qt=Uc[he.L])*he.R,qt=qt/2*he.B,he.sa=He,he.ta=Ze+Qe,he.qa=he.sa,he.ra=he.ta+16*Ie*he.R+qt,he.Ha=he.qa,he.Ia=he.ra+8*Ie*he.B+qt,he.$c=0,Ze+=Oe,he.mb=ze?He:null,he.nb=ze?Ze:null,e(Ze+ze<=he.Fc+he.Vb),In(he),i(he.Ac,he.Bc,0,Ge),Ie=1}}if(Ie){if(_e.ka=0,_e.y=he.sa,_e.O=he.ta,_e.f=he.qa,_e.N=he.ra,_e.ea=he.Ha,_e.Vd=he.Ia,_e.fa=he.R,_e.Rc=he.B,_e.F=null,_e.J=0,!y0){for(Ie=-255;255>=Ie;++Ie)p0[255+Ie]=0>Ie?-Ie:Ie;for(Ie=-1020;1020>=Ie;++Ie)x0[1020+Ie]=-128>Ie?-128:127<Ie?127:Ie;for(Ie=-112;112>=Ie;++Ie)g0[112+Ie]=-16>Ie?-16:15<Ie?15:Ie;for(Ie=-255;510>=Ie;++Ie)v0[255+Ie]=0>Ie?0:255<Ie?255:Ie;y0=1}$l=Zr,Ic=gu,zi=gc,rn=yo,gn=nd,es=Ah,ts=ju,js=pi,Qa=S,Au=K,fd=Aa,sl=ld,Dh=me,md=we,Rh=ja,h0=Qo,Su=Nc,Dc=Nu,Pa[0]=u0,Pa[1]=sd,Pa[2]=vc,Pa[3]=bo,Pa[4]=kh,Pa[5]=Zo,Pa[6]=oa,Pa[7]=Ph,Pa[8]=yc,Pa[9]=ad,Pi[0]=Ka,Pi[1]=Sh,Pi[2]=Eh,Pi[3]=id,Pi[4]=wo,Pi[5]=Vi,Pi[6]=Na,Hi[0]=Xa,Hi[1]=vu,Hi[2]=yu,Hi[3]=Ya,Hi[4]=wu,Hi[5]=od,Hi[6]=bu,Ie=1}else Ie=0}Ie&&(Ie=(function(Vr,rs){for(Vr.M=0;Vr.M<Vr.Va;++Vr.M){var Tr,Tt=Vr.Jc[Vr.M&Vr.Xb],gt=Vr.m,us=Vr;for(Tr=0;Tr<us.za;++Tr){var dr=gt,Fr=us,kn=Fr.Ac,qs=Fr.Bc+4*Tr,Cs=Fr.zc,Kn=Fr.ya[Fr.aa+Tr];if(Fr.Qa.Bb?Kn.$b=je(dr,Fr.Pa.jb[0])?2+je(dr,Fr.Pa.jb[2]):je(dr,Fr.Pa.jb[1]):Kn.$b=0,Fr.kc&&(Kn.Ad=je(dr,Fr.Bd)),Kn.Za=!je(dr,145)+0,Kn.Za){var Rs=Kn.Ob,Ws=0;for(Fr=0;4>Fr;++Fr){var Fn,Gr=Cs[0+Fr];for(Fn=0;4>Fn;++Fn){Gr=fg[kn[qs+Fn]][Gr];for(var nn=cp[je(dr,Gr[0])];0<nn;)nn=cp[2*nn+je(dr,Gr[nn])];Gr=-nn,kn[qs+Fn]=Gr}n(Rs,Ws,kn,qs,4),Ws+=4,Cs[0+Fr]=Gr}}else Gr=je(dr,156)?je(dr,128)?1:3:je(dr,163)?2:0,Kn.Ob[0]=Gr,i(kn,qs,Gr,4),i(Cs,0,Gr,4);Kn.Dd=je(dr,142)?je(dr,114)?je(dr,183)?1:3:2:0}if(us.m.Ka)return Xe(Vr,7,"Premature end-of-partition0 encountered.");for(;Vr.ja<Vr.za;++Vr.ja){if(us=Tt,dr=(gt=Vr).rb[gt.sb-1],kn=gt.rb[gt.sb+gt.ja],Tr=gt.ya[gt.aa+gt.ja],qs=gt.kc?Tr.Ad:0)dr.la=kn.la=0,Tr.Za||(dr.Na=kn.Na=0),Tr.Hc=0,Tr.Gc=0,Tr.ia=0;else{var Mn,sn;if(dr=kn,kn=us,qs=gt.Pa.Xc,Cs=gt.ya[gt.aa+gt.ja],Kn=gt.pb[Cs.$b],Fr=Cs.ad,Rs=0,Ws=gt.rb[gt.sb-1],Gr=Fn=0,i(Fr,Rs,0,384),Cs.Za)var ns=0,ss=qs[3];else{nn=a(16);var jn=dr.Na+Ws.Na;if(jn=Fc(kn,qs[1],jn,Kn.Eb,0,nn,0),dr.Na=Ws.Na=(0<jn)+0,1<jn)$l(nn,0,Fr,Rs);else{var vi=nn[0]+3>>3;for(nn=0;256>nn;nn+=16)Fr[Rs+nn]=vi}ns=1,ss=qs[0]}var yn=15&dr.la,Cn=15&Ws.la;for(nn=0;4>nn;++nn){var _s=1&Cn;for(vi=sn=0;4>vi;++vi)yn=yn>>1|(_s=(jn=Fc(kn,ss,jn=_s+(1&yn),Kn.Sc,ns,Fr,Rs))>ns)<<7,sn=sn<<2|(3<jn?3:1<jn?2:Fr[Rs+0]!=0),Rs+=16;yn>>=4,Cn=Cn>>1|_s<<7,Fn=(Fn<<8|sn)>>>0}for(ss=yn,ns=Cn>>4,Mn=0;4>Mn;Mn+=2){for(sn=0,yn=dr.la>>4+Mn,Cn=Ws.la>>4+Mn,nn=0;2>nn;++nn){for(_s=1&Cn,vi=0;2>vi;++vi)jn=_s+(1&yn),yn=yn>>1|(_s=0<(jn=Fc(kn,qs[2],jn,Kn.Qc,0,Fr,Rs)))<<3,sn=sn<<2|(3<jn?3:1<jn?2:Fr[Rs+0]!=0),Rs+=16;yn>>=2,Cn=Cn>>1|_s<<5}Gr|=sn<<4*Mn,ss|=yn<<4<<Mn,ns|=(240&Cn)<<Mn}dr.la=ss,Ws.la=ns,Cs.Hc=Fn,Cs.Gc=Gr,Cs.ia=43690&Gr?0:Kn.ia,qs=!(Fn|Gr)}if(0<gt.L&&(gt.wa[gt.Y+gt.ja]=gt.gd[Tr.$b][Tr.Za],gt.wa[gt.Y+gt.ja].La|=!qs),us.Ka)return Xe(Vr,7,"Premature end-of-file encountered.")}if(In(Vr),gt=rs,us=1,Tr=(Tt=Vr).D,dr=0<Tt.L&&Tt.M>=Tt.zb&&Tt.M<=Tt.Va,Tt.Aa==0)t:{if(Tr.M=Tt.M,Tr.uc=dr,la(Tt,Tr),us=1,Tr=(sn=Tt.D).Nb,dr=(Gr=Uc[Tt.L])*Tt.R,kn=Gr/2*Tt.B,nn=16*Tr*Tt.R,vi=8*Tr*Tt.B,qs=Tt.sa,Cs=Tt.ta-dr+nn,Kn=Tt.qa,Fr=Tt.ra-kn+vi,Rs=Tt.Ha,Ws=Tt.Ia-kn+vi,Cn=(yn=sn.M)==0,Fn=yn>=Tt.Va-1,Tt.Aa==2&&la(Tt,sn),sn.uc)for(_s=(jn=Tt).D.M,e(jn.D.uc),sn=jn.yb;sn<jn.Hb;++sn){ns=sn,ss=_s;var ai=(Ki=(ms=jn).D).Nb;Mn=ms.R;var Ki=Ki.wa[Ki.Y+ns],hs=ms.sa,fs=ms.ta+16*ai*Mn+16*ns,yi=Ki.dd,_n=Ki.tc;if(_n!=0)if(e(3<=_n),ms.L==1)0<ns&&h0(hs,fs,Mn,_n+4),Ki.La&&Dc(hs,fs,Mn,_n),0<ss&&Rh(hs,fs,Mn,_n+4),Ki.La&&Su(hs,fs,Mn,_n);else{var wi=ms.B,Ta=ms.qa,to=ms.ra+8*ai*wi+8*ns,Gs=ms.Ha,ms=ms.Ia+8*ai*wi+8*ns;ai=Ki.ld,0<ns&&(js(hs,fs,Mn,_n+4,yi,ai),Au(Ta,to,Gs,ms,wi,_n+4,yi,ai)),Ki.La&&(sl(hs,fs,Mn,_n,yi,ai),md(Ta,to,Gs,ms,wi,_n,yi,ai)),0<ss&&(ts(hs,fs,Mn,_n+4,yi,ai),Qa(Ta,to,Gs,ms,wi,_n+4,yi,ai)),Ki.La&&(fd(hs,fs,Mn,_n,yi,ai),Dh(Ta,to,Gs,ms,wi,_n,yi,ai))}}if(Tt.ia&&alert("todo:DitherRow"),gt.put!=null){if(sn=16*yn,yn=16*(yn+1),Cn?(gt.y=Tt.sa,gt.O=Tt.ta+nn,gt.f=Tt.qa,gt.N=Tt.ra+vi,gt.ea=Tt.Ha,gt.W=Tt.Ia+vi):(sn-=Gr,gt.y=qs,gt.O=Cs,gt.f=Kn,gt.N=Fr,gt.ea=Rs,gt.W=Ws),Fn||(yn-=Gr),yn>gt.o&&(yn=gt.o),gt.F=null,gt.J=null,Tt.Fa!=null&&0<Tt.Fa.length&&sn<yn&&(gt.J=Ns(Tt,gt,sn,yn-sn),gt.F=Tt.mb,gt.F==null&&gt.F.length==0)){us=Xe(Tt,3,"Could not decode alpha data.");break t}sn<gt.j&&(Gr=gt.j-sn,sn=gt.j,e(!(1&Gr)),gt.O+=Tt.R*Gr,gt.N+=Tt.B*(Gr>>1),gt.W+=Tt.B*(Gr>>1),gt.F!=null&&(gt.J+=gt.width*Gr)),sn<yn&&(gt.O+=gt.v,gt.N+=gt.v>>1,gt.W+=gt.v>>1,gt.F!=null&&(gt.J+=gt.v),gt.ka=sn-gt.j,gt.U=gt.va-gt.v,gt.T=yn-sn,us=gt.put(gt))}Tr+1!=Tt.Ic||Fn||(n(Tt.sa,Tt.ta-dr,qs,Cs+16*Tt.R,dr),n(Tt.qa,Tt.ra-kn,Kn,Fr+8*Tt.B,kn),n(Tt.Ha,Tt.Ia-kn,Rs,Ws+8*Tt.B,kn))}if(!us)return Xe(Vr,6,"Output aborted.")}return 1})(he,_e)),_e.bc!=null&&_e.bc(_e),Ie&=1}return Ie?(he.cb=0,Ie):0})(v,O)||(N=v.a)}}else N=v.a}N==0&&te.Oa!=null&&te.Oa.fd&&(N=dd(te.ba))}te=N}Z=te!=0?null:11>Z?se.f.RGBA.eb:se.f.kb.y}else Z=null;return Z};var Lu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(V,ne){for(var B="",F=0;F<4;F++)B+=String.fromCharCode(V[ne++]);return B}function h(V,ne){return V[ne+0]|V[ne+1]<<8}function m(V,ne){return(V[ne+0]|V[ne+1]<<8|V[ne+2]<<16)>>>0}function x(V,ne){return(V[ne+0]|V[ne+1]<<8|V[ne+2]<<16|V[ne+3]<<24)>>>0}new c;var p=[0],y=[0],w=[],j=new c,C=t,A=(function(V,ne){var B={},F=0,X=!1,ee=0,xe=0;if(B.frames=[],!(function(R,z){for(var U=0;U<4;U++)if(R[z+U]!="RIFF".charCodeAt(U))return!0;return!1})(V,ne)){for(x(V,ne+=4),ne+=8;ne<V.length;){var oe=u(V,ne),pe=x(V,ne+=4);ne+=4;var H=pe+(1&pe);switch(oe){case"VP8 ":case"VP8L":B.frames[F]===void 0&&(B.frames[F]={}),(G=B.frames[F]).src_off=X?xe:ne-8,G.src_size=ee+pe+8,F++,X&&(X=!1,ee=0,xe=0);break;case"VP8X":(G=B.header={}).feature_flags=V[ne];var q=ne+4;G.canvas_width=1+m(V,q),q+=3,G.canvas_height=1+m(V,q),q+=3;break;case"ALPH":X=!0,ee=H+8,xe=ne-8;break;case"ANIM":(G=B.header).bgcolor=x(V,ne),q=ne+4,G.loop_count=h(V,q),q+=2;break;case"ANMF":var ie,G;(G=B.frames[F]={}).offset_x=2*m(V,ne),ne+=3,G.offset_y=2*m(V,ne),ne+=3,G.width=1+m(V,ne),ne+=3,G.height=1+m(V,ne),ne+=3,G.duration=m(V,ne),ne+=3,ie=V[ne++],G.dispose=1&ie,G.blend=ie>>1&1}oe!="ANMF"&&(ne+=H)}return B}})(C,0);A.response=C,A.rgbaoutput=!0,A.dataurl=!1;var k=A.header?A.header:null,P=A.frames?A.frames:null;if(k){k.loop_counter=k.loop_count,p=[k.canvas_height],y=[k.canvas_width];for(var M=0;M<P.length&&P[M].blend!=0;M++);}var $=P[0],L=j.WebPDecodeRGBA(C,$.src_off,$.src_size,y,p);$.rgba=L,$.imgwidth=y[0],$.imgheight=p[0];for(var D=0;D<y[0]*p[0]*4;D++)w[D]=L[D];return this.width=y,this.height=p,this.data=w,this}(function(t){var e,r,n,i,a,o,l,c,u,h=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new c,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new h}]);var m=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=R;Object.defineProperty(this,"pdf",{get:function(){return z}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(Te){U=!!Te}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(Te){Q=!!Te}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(Te){isNaN(Te)||(J=Te)}});var re=0;Object.defineProperty(this,"posY",{get:function(){return re},set:function(Te){isNaN(Te)||(re=Te)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Te){var ce;typeof Te=="number"?ce=[Te,Te,Te,Te]:((ce=new Array(4))[0]=Te[0],ce[1]=Te.length>=2?Te[1]:ce[0],ce[2]=Te.length>=3?Te[2]:ce[0],ce[3]=Te.length>=4?Te[3]:ce[1]),u.margin=ce}});var le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return le},set:function(Te){le=Te}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(Te){ye=Te}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(Te){je=Te}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Te){Te instanceof h&&(u=Te)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Te){u.path=Te}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(Te){Se=Te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Te){var ce;ce=x(Te),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Te){var ce=x(Te);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Te){["butt","round","square"].indexOf(Te)!==-1&&(this.ctx.lineCap=Te,this.pdf.setLineCap(Te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Te){isNaN(Te)||(this.ctx.lineWidth=Te,this.pdf.setLineWidth(Te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Te){["bevel","round","miter"].indexOf(Te)!==-1&&(this.ctx.lineJoin=Te,this.pdf.setLineJoin(Te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Te){isNaN(Te)||(this.ctx.miterLimit=Te,this.pdf.setMiterLimit(Te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Te){this.ctx.textBaseline=Te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Te){["right","end","center","left","start"].indexOf(Te)!==-1&&(this.ctx.textAlign=Te)}});var Be=null,Fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Fe},set:function(Te){Be=null,Fe=Te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Te){var ce;if(this.ctx.font=Te,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Te))!==null){var $e=ce[1];ce[2];var Ee=ce[3],lt=ce[4];ce[5];var Pe=ce[6],nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(lt)[2];lt=Math.floor(nt==="px"?parseFloat(lt)*this.pdf.internal.scaleFactor:nt==="em"?parseFloat(lt)*this.pdf.getFontSize():parseFloat(lt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(lt);var We=(function(Et){var jt,rr,cr=[],vt=Et.trim();if(vt==="")return R2;if(vt in HC)return[HC[vt]];for(;vt!=="";){switch(rr=null,jt=(vt=WC(vt)).charAt(0)){case'"':case"'":rr=fee(vt.substring(1),jt);break;default:rr=mee(vt)}if(rr===null||(cr.push(rr[0]),(vt=WC(rr[1]))!==""&&vt.charAt(0)!==","))return R2;vt=vt.replace(/^,/,"")}return cr})(Pe);if(this.fontFaces){var xt=(function(Et,jt){if(Be===null){var rr=(function(cr){var vt=[];return Object.keys(cr).forEach(function(Zt){cr[Zt].forEach(function(mr){var kt=null;switch(mr){case"bold":kt={family:Zt,weight:"bold"};break;case"italic":kt={family:Zt,style:"italic"};break;case"bolditalic":kt={family:Zt,weight:"bold",style:"italic"};break;case"":case"normal":kt={family:Zt}}kt!==null&&(kt.ref={name:Zt,style:mr},vt.push(kt))})}),vt})(Et.getFontList());Be=(function(cr){for(var vt={},Zt=0;Zt<cr.length;++Zt){var mr=D2(cr[Zt]),kt=mr.family,Qt=mr.stretch,Dt=mr.style,Or=mr.weight;vt[kt]=vt[kt]||{},vt[kt][Qt]=vt[kt][Qt]||{},vt[kt][Qt][Dt]=vt[kt][Qt][Dt]||{},vt[kt][Qt][Dt][Or]=mr}return vt})(rr.concat(jt))}return Be})(this.pdf,this.fontFaces),ct=We.map(function(Et){return{family:Et,stretch:"normal",weight:Ee,style:$e}}),tr=(function(Et,jt,rr){for(var cr=(rr=rr||{}).defaultFontFamily||"times",vt=Object.assign({},hee,rr.genericFontFamilies||{}),Zt=null,mr=null,kt=0;kt<jt.length;++kt)if(vt[(Zt=D2(jt[kt])).family]&&(Zt.family=vt[Zt.family]),Et.hasOwnProperty(Zt.family)){mr=Et[Zt.family];break}if(!(mr=mr||Et[cr]))throw new Error("Could not find a font-family for the rule '"+qC(Zt)+"' and default family '"+cr+"'.");if(mr=(function(Qt,Dt){if(Dt[Qt])return Dt[Qt];var Or=ow[Qt],Dr=Or<=ow.normal?-1:1,Cr=zC(Dt,vk,Or,Dr);if(!Cr)throw new Error("Could not find a matching font-stretch value for "+Qt);return Cr})(Zt.stretch,mr),mr=(function(Qt,Dt){if(Dt[Qt])return Dt[Qt];for(var Or=gk[Qt],Dr=0;Dr<Or.length;++Dr)if(Dt[Or[Dr]])return Dt[Or[Dr]];throw new Error("Could not find a matching font-style for "+Qt)})(Zt.style,mr),!(mr=(function(Qt,Dt){if(Dt[Qt])return Dt[Qt];if(Qt===400&&Dt[500])return Dt[500];if(Qt===500&&Dt[400])return Dt[400];var Or=uee[Qt],Dr=zC(Dt,yk,Or,Qt<400?-1:1);if(!Dr)throw new Error("Could not find a matching font-weight for value "+Qt);return Dr})(Zt.weight,mr)))throw new Error("Failed to resolve a font for the rule '"+qC(Zt)+"'.");return mr})(xt,ct);this.pdf.setFont(tr.ref.name,tr.ref.style)}else{var It="";(Ee==="bold"||parseInt(Ee,10)>=700||$e==="bold")&&(It="bold"),$e==="italic"&&(It+="italic"),It.length===0&&(It="normal");for(var St="",fr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ct=0;Ct<We.length;Ct++){if(this.pdf.internal.getFont(We[Ct],It,{noFallback:!0,disableWarning:!0})!==void 0){St=We[Ct];break}if(It==="bolditalic"&&this.pdf.internal.getFont(We[Ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)St=We[Ct],It="bold";else if(this.pdf.internal.getFont(We[Ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){St=We[Ct],It="normal";break}}if(St===""){for(var mt=0;mt<We.length;mt++)if(fr[We[mt]]){St=fr[We[mt]];break}}St=St===""?"Times":St,this.pdf.setFont(St,It)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Te){this.ctx.globalCompositeOperation=Te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Te){this.ctx.globalAlpha=Te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Te){this.ctx.lineDashOffset=Te,G.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Te){this.ctx.lineDash=Te,G.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Te){this.ctx.ignoreClearRect=!!Te}})};m.prototype.setLineDash=function(R){this.lineDash=R},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){P.call(this,"fill",!1)},m.prototype.stroke=function(){P.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(R,z){if(isNaN(R)||isNaN(z))throw Rn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new o(R,z));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new o(R,z)},m.prototype.closePath=function(){var R=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Sn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){R=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},m.prototype.lineTo=function(R,z){if(isNaN(R)||isNaN(z))throw Rn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new o(R,z));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new o(U.x,U.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},m.prototype.quadraticCurveTo=function(R,z,U,Q){if(isNaN(U)||isNaN(Q)||isNaN(R)||isNaN(z))throw Rn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new o(U,Q)),re=this.ctx.transform.applyToPoint(new o(R,z));this.path.push({type:"qct",x1:re.x,y1:re.y,x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},m.prototype.bezierCurveTo=function(R,z,U,Q,J,re){if(isNaN(J)||isNaN(re)||isNaN(R)||isNaN(z)||isNaN(U)||isNaN(Q))throw Rn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var le=this.ctx.transform.applyToPoint(new o(J,re)),ye=this.ctx.transform.applyToPoint(new o(R,z)),je=this.ctx.transform.applyToPoint(new o(U,Q));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:je.x,y2:je.y,x:le.x,y:le.y}),this.ctx.lastPoint=new o(le.x,le.y)},m.prototype.arc=function(R,z,U,Q,J,re){if(isNaN(R)||isNaN(z)||isNaN(U)||isNaN(Q)||isNaN(J))throw Rn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(re=!!re,!this.ctx.transform.isIdentity){var le=this.ctx.transform.applyToPoint(new o(R,z));R=le.x,z=le.y;var ye=this.ctx.transform.applyToPoint(new o(0,U)),je=this.ctx.transform.applyToPoint(new o(0,0));U=Math.sqrt(Math.pow(ye.x-je.x,2)+Math.pow(ye.y-je.y,2))}Math.abs(J-Q)>=2*Math.PI&&(Q=0,J=2*Math.PI),this.path.push({type:"arc",x:R,y:z,radius:U,startAngle:Q,endAngle:J,counterclockwise:re})},m.prototype.arcTo=function(R,z,U,Q,J){throw new Error("arcTo not implemented.")},m.prototype.rect=function(R,z,U,Q){if(isNaN(R)||isNaN(z)||isNaN(U)||isNaN(Q))throw Rn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,z),this.lineTo(R+U,z),this.lineTo(R+U,z+Q),this.lineTo(R,z+Q),this.lineTo(R,z),this.lineTo(R+U,z),this.lineTo(R,z)},m.prototype.fillRect=function(R,z,U,Q){if(isNaN(R)||isNaN(z)||isNaN(U)||isNaN(Q))throw Rn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,z,U,Q),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},m.prototype.strokeRect=function(R,z,U,Q){if(isNaN(R)||isNaN(z)||isNaN(U)||isNaN(Q))throw Rn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(R,z,U,Q),this.stroke())},m.prototype.clearRect=function(R,z,U,Q){if(isNaN(R)||isNaN(z)||isNaN(U)||isNaN(Q))throw Rn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,z,U,Q))},m.prototype.save=function(R){R=typeof R!="boolean"||R;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},m.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(z),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(R){var z,U,Q,J;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))z=0,U=0,Q=0,J=0;else{var re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(re!==null)z=parseInt(re[1]),U=parseInt(re[2]),Q=parseInt(re[3]),J=1;else if((re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)z=parseInt(re[1]),U=parseInt(re[2]),Q=parseInt(re[3]),J=parseFloat(re[4]);else{if(J=1,typeof R=="string"&&R.charAt(0)!=="#"){var le=new dk(R);R=le.ok?le.toHex():"#000000"}R.length===4?(z=R.substring(1,2),z+=z,U=R.substring(2,3),U+=U,Q=R.substring(3,4),Q+=Q):(z=R.substring(1,3),U=R.substring(3,5),Q=R.substring(5,7)),z=parseInt(z,16),U=parseInt(U,16),Q=parseInt(Q,16)}}return{r:z,g:U,b:Q,a:J,style:R}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(R,z,U,Q){if(isNaN(z)||isNaN(U)||typeof R!="string")throw Rn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!p.call(this)){var J=H(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;F.call(this,{text:R,x:z,y:U,scale:re,angle:J,align:this.textAlign,maxWidth:Q})}},m.prototype.strokeText=function(R,z,U,Q){if(isNaN(z)||isNaN(U)||typeof R!="string")throw Rn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){Q=isNaN(Q)?void 0:Q;var J=H(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;F.call(this,{text:R,x:z,y:U,scale:re,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:Q})}},m.prototype.measureText=function(R){if(typeof R!="string")throw Rn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,U=this.pdf.internal.scaleFactor,Q=z.internal.getFontSize(),J=z.getStringUnitWidth(R)*Q/z.internal.scaleFactor;return new function(re){var le=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this}({width:J*=Math.round(96*U/72*1e4)/1e4})},m.prototype.scale=function(R,z){if(isNaN(R)||isNaN(z))throw Rn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new c(R,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},m.prototype.rotate=function(R){if(isNaN(R))throw Rn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new c(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},m.prototype.translate=function(R,z){if(isNaN(R)||isNaN(z))throw Rn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new c(1,0,0,1,R,z);this.ctx.transform=this.ctx.transform.multiply(U)},m.prototype.transform=function(R,z,U,Q,J,re){if(isNaN(R)||isNaN(z)||isNaN(U)||isNaN(Q)||isNaN(J)||isNaN(re))throw Rn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var le=new c(R,z,U,Q,J,re);this.ctx.transform=this.ctx.transform.multiply(le)},m.prototype.setTransform=function(R,z,U,Q,J,re){R=isNaN(R)?1:R,z=isNaN(z)?0:z,U=isNaN(U)?0:U,Q=isNaN(Q)?1:Q,J=isNaN(J)?0:J,re=isNaN(re)?0:re,this.ctx.transform=new c(R,z,U,Q,J,re)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(R,z,U,Q,J,re,le,ye,je){var Se=this.pdf.getImageProperties(R),Be=1,Fe=1,Te=1,ce=1;Q!==void 0&&ye!==void 0&&(Te=ye/Q,ce=je/J,Be=Se.width/Q*ye/Q,Fe=Se.height/J*je/J),re===void 0&&(re=z,le=U,z=0,U=0),Q!==void 0&&ye===void 0&&(ye=Q,je=J),Q===void 0&&ye===void 0&&(ye=Se.width,je=Se.height);for(var $e,Ee=this.ctx.transform.decompose(),lt=H(Ee.rotate.shx),Pe=new c,nt=(Pe=(Pe=(Pe=Pe.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale)).applyToRectangle(new l(re-z*Te,le-U*ce,Q*Be,J*Fe)),We=j.call(this,nt),xt=[],ct=0;ct<We.length;ct+=1)xt.indexOf(We[ct])===-1&&xt.push(We[ct]);if(k(xt),this.autoPaging)for(var tr=xt[0],It=xt[xt.length-1],St=tr;St<It+1;St++){this.pdf.setPage(St);var fr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=St===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=St===1?0:mt+(St-2)*Et;if(this.ctx.clip_path.length!==0){var rr=this.path;$e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A($e,this.posX+this.margin[3],-jt+Ct+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=rr}var cr=JSON.parse(JSON.stringify(nt));cr=A([cr],this.posX+this.margin[3],-jt+Ct+this.ctx.prevPageLastElemOffset)[0];var vt=(St>tr||St<It)&&w.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],fr,Et,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",cr.x,cr.y,cr.w,cr.h,null,null,lt),vt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,lt)};var j=function(R,z,U){var Q=[];z=z||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":Q.push(Math.floor((R.y+J)/U)+1);break;case"arc":Q.push(Math.floor((R.y+J-R.radius)/U)+1),Q.push(Math.floor((R.y+J+R.radius)/U)+1);break;case"qct":var re=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);Q.push(Math.floor((re.y+J)/U)+1),Q.push(Math.floor((re.y+re.h+J)/U)+1);break;case"bct":var le=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);Q.push(Math.floor((le.y+J)/U)+1),Q.push(Math.floor((le.y+le.h+J)/U)+1);break;case"rect":Q.push(Math.floor((R.y+J)/U)+1),Q.push(Math.floor((R.y+R.h+J)/U)+1)}for(var ye=0;ye<Q.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<Q[ye];)C.call(this);return Q},C=function(){var R=this.fillStyle,z=this.strokeStyle,U=this.font,Q=this.lineCap,J=this.lineWidth,re=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=z,this.font=U,this.lineCap=Q,this.lineWidth=J,this.lineJoin=re},A=function(R,z,U){for(var Q=0;Q<R.length;Q++)switch(R[Q].type){case"bct":R[Q].x2+=z,R[Q].y2+=U;case"qct":R[Q].x1+=z,R[Q].y1+=U;default:R[Q].x+=z,R[Q].y+=U}return R},k=function(R){return R.sort(function(z,U){return z-U})},P=function(R,z){for(var U,Q,J=this.fillStyle,re=this.strokeStyle,le=this.lineCap,ye=this.lineWidth,je=Math.abs(ye*this.ctx.transform.scaleX),Se=this.lineJoin,Be=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),Te=[],ce=0;ce<Fe.length;ce++)if(Fe[ce].x!==void 0)for(var $e=j.call(this,Fe[ce]),Ee=0;Ee<$e.length;Ee+=1)Te.indexOf($e[Ee])===-1&&Te.push($e[Ee]);for(var lt=0;lt<Te.length;lt++)for(;this.pdf.internal.getNumberOfPages()<Te[lt];)C.call(this);if(k(Te),this.autoPaging)for(var Pe=Te[0],nt=Te[Te.length-1],We=Pe;We<nt+1;We++){this.pdf.setPage(We),this.fillStyle=J,this.strokeStyle=re,this.lineCap=le,this.lineWidth=je,this.lineJoin=Se;var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=We===1?this.posY+this.margin[0]:this.margin[0],tr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=We===1?0:tr+(We-2)*It;if(this.ctx.clip_path.length!==0){var fr=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(U,this.posX+this.margin[3],-St+ct+this.ctx.prevPageLastElemOffset),M.call(this,R,!0),this.path=fr}if(Q=JSON.parse(JSON.stringify(Be)),this.path=A(Q,this.posX+this.margin[3],-St+ct+this.ctx.prevPageLastElemOffset),z===!1||We===0){var Ct=(We>Pe||We<nt)&&w.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,It,null).clip().discardPath()),M.call(this,R,z),Ct&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}else this.lineWidth=je,M.call(this,R,z),this.lineWidth=ye;this.path=Be},M=function(R,z){if((R!=="stroke"||z||!y.call(this))&&(R==="stroke"||z||!p.call(this))){for(var U,Q,J=[],re=this.path,le=0;le<re.length;le++){var ye=re[le];switch(ye.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:ye,deltas:[],abs:[]});break;case"lt":var je=J.length;if(re[le-1]&&!isNaN(re[le-1].x)&&(U=[ye.x-re[le-1].x,ye.y-re[le-1].y],je>0)){for(;je>=0;je--)if(J[je-1].close!==!0&&J[je-1].begin!==!0){J[je-1].deltas.push(U),J[je-1].abs.push(ye);break}}break;case"bct":U=[ye.x1-re[le-1].x,ye.y1-re[le-1].y,ye.x2-re[le-1].x,ye.y2-re[le-1].y,ye.x-re[le-1].x,ye.y-re[le-1].y],J[J.length-1].deltas.push(U);break;case"qct":var Se=re[le-1].x+2/3*(ye.x1-re[le-1].x),Be=re[le-1].y+2/3*(ye.y1-re[le-1].y),Fe=ye.x+2/3*(ye.x1-ye.x),Te=ye.y+2/3*(ye.y1-ye.y),ce=ye.x,$e=ye.y;U=[Se-re[le-1].x,Be-re[le-1].y,Fe-re[le-1].x,Te-re[le-1].y,ce-re[le-1].x,$e-re[le-1].y],J[J.length-1].deltas.push(U);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(ye)}}Q=z?null:R==="stroke"?"stroke":"fill";for(var Ee=!1,lt=0;lt<J.length;lt++)if(J[lt].arc)for(var Pe=J[lt].abs,nt=0;nt<Pe.length;nt++){var We=Pe[nt];We.type==="arc"?D.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,z,!Ee):X.call(this,We.x,We.y),Ee=!0}else if(J[lt].close===!0)this.pdf.internal.out("h"),Ee=!1;else if(J[lt].begin!==!0){var xt=J[lt].start.x,ct=J[lt].start.y;ee.call(this,J[lt].deltas,xt,ct),Ee=!0}Q&&V.call(this,Q),z&&ne.call(this)}},$=function(R){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-U;case"top":return R+z-U;case"hanging":return R+z-2*U;case"middle":return R+z/2-U;default:return R}},L=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(z,U){this.colorStops.push([z,U])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(R,z,U,Q,J,re,le,ye,je){for(var Se=oe.call(this,U,Q,J,re),Be=0;Be<Se.length;Be++){var Fe=Se[Be];Be===0&&(je?B.call(this,Fe.x1+R,Fe.y1+z):X.call(this,Fe.x1+R,Fe.y1+z)),xe.call(this,R,z,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}ye?ne.call(this):V.call(this,le)},V=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ne=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(R,z){this.pdf.internal.out(r(R)+" "+n(z)+" m")},F=function(R){var z;switch(R.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var U=this.pdf.getTextDimensions(R.text),Q=$.call(this,R.y),J=L.call(this,Q)-U.h,re=this.ctx.transform.applyToPoint(new o(R.x,Q)),le=this.ctx.transform.decompose(),ye=new c;ye=(ye=(ye=ye.multiply(le.translate)).multiply(le.skew)).multiply(le.scale);for(var je,Se,Be,Fe=this.ctx.transform.applyToRectangle(new l(R.x,Q,U.w,U.h)),Te=ye.applyToRectangle(new l(R.x,J,U.w,U.h)),ce=j.call(this,Te),$e=[],Ee=0;Ee<ce.length;Ee+=1)$e.indexOf(ce[Ee])===-1&&$e.push(ce[Ee]);if(k($e),this.autoPaging)for(var lt=$e[0],Pe=$e[$e.length-1],nt=lt;nt<Pe+1;nt++){this.pdf.setPage(nt);var We=nt===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[2],tr=ct-this.margin[0],It=this.pdf.internal.pageSize.width-this.margin[1],St=It-this.margin[3],fr=nt===1?0:xt+(nt-2)*tr;if(this.ctx.clip_path.length!==0){var Ct=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(je,this.posX+this.margin[3],-1*fr+We),M.call(this,"fill",!0),this.path=Ct}var mt=A([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-fr+We+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*R.scale),Be=this.lineWidth,this.lineWidth=Be*R.scale);var Et=this.autoPaging!=="text";if(Et||mt.y+mt.h<=ct){if(Et||mt.y>=We&&mt.x<=It){var jt=Et?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||It-mt.x)[0],rr=A([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-fr+We+this.ctx.prevPageLastElemOffset)[0],cr=Et&&(nt>lt||nt<Pe)&&w.call(this);cr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,tr,null).clip().discardPath()),this.pdf.text(jt,rr.x,rr.y,{angle:R.angle,align:z,renderingMode:R.renderingMode}),cr&&this.pdf.restoreGraphicsState()}}else mt.y<ct&&(this.ctx.prevPageLastElemOffset+=ct-mt.y);R.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Be)}else R.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*R.scale),Be=this.lineWidth,this.lineWidth=Be*R.scale),this.pdf.text(R.text,re.x+this.posX,re.y+this.posY,{angle:R.angle,align:z,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Be)},X=function(R,z,U,Q){U=U||0,Q=Q||0,this.pdf.internal.out(r(R+U)+" "+n(z+Q)+" l")},ee=function(R,z,U){return this.pdf.lines(R,z,U,null,null)},xe=function(R,z,U,Q,J,re,le,ye){this.pdf.internal.out([e(i(U+R)),e(a(Q+z)),e(i(J+R)),e(a(re+z)),e(i(le+R)),e(a(ye+z)),"c"].join(" "))},oe=function(R,z,U,Q){for(var J=2*Math.PI,re=Math.PI/2;z>U;)z-=J;var le=Math.abs(U-z);le<J&&Q&&(le=J-le);for(var ye=[],je=Q?-1:1,Se=z;le>1e-5;){var Be=Se+je*Math.min(le,re);ye.push(pe.call(this,R,Se,Be)),le-=Math.abs(Be-Se),Se=Be}return ye},pe=function(R,z,U){var Q=(U-z)/2,J=R*Math.cos(Q),re=R*Math.sin(Q),le=J,ye=-re,je=le*le+ye*ye,Se=je+le*J+ye*re,Be=4/3*(Math.sqrt(2*je*Se)-Se)/(le*re-ye*J),Fe=le-Be*ye,Te=ye+Be*le,ce=Fe,$e=-Te,Ee=Q+z,lt=Math.cos(Ee),Pe=Math.sin(Ee);return{x1:R*Math.cos(z),y1:R*Math.sin(z),x2:Fe*lt-Te*Pe,y2:Fe*Pe+Te*lt,x3:ce*lt-$e*Pe,y3:ce*Pe+$e*lt,x4:R*Math.cos(U),y4:R*Math.sin(U)}},H=function(R){return 180*R/Math.PI},q=function(R,z,U,Q,J,re){var le=R+.5*(U-R),ye=z+.5*(Q-z),je=J+.5*(U-J),Se=re+.5*(Q-re),Be=Math.min(R,J,le,je),Fe=Math.max(R,J,le,je),Te=Math.min(z,re,ye,Se),ce=Math.max(z,re,ye,Se);return new l(Be,Te,Fe-Be,ce-Te)},ie=function(R,z,U,Q,J,re,le,ye){var je,Se,Be,Fe,Te,ce,$e,Ee,lt,Pe,nt,We,xt,ct,tr=U-R,It=Q-z,St=J-U,fr=re-Q,Ct=le-J,mt=ye-re;for(Se=0;Se<41;Se++)lt=($e=(Be=R+(je=Se/40)*tr)+je*((Te=U+je*St)-Be))+je*(Te+je*(J+je*Ct-Te)-$e),Pe=(Ee=(Fe=z+je*It)+je*((ce=Q+je*fr)-Fe))+je*(ce+je*(re+je*mt-ce)-Ee),Se==0?(nt=lt,We=Pe,xt=lt,ct=Pe):(nt=Math.min(nt,lt),We=Math.min(We,Pe),xt=Math.max(xt,lt),ct=Math.max(ct,Pe));return new l(Math.round(nt),Math.round(We),Math.round(xt-nt),Math.round(ct-We))},G=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,z,U=(R=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:z}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(Yt.API),(function(t){var e=function(o){var l,c,u,h,m,x,p,y,w,j;for(c=[],u=0,h=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;h>u;u+=4)(m=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(x=(m=((m=((m=((m=(m-(j=m%85))/85)-(w=m%85))/85)-(y=m%85))/85)-(p=m%85))/85)%85,c.push(x+33,p+33,y+33,w+33,j+33)):c.push(122);return(function(C,A){for(var k=A;k>0;k--)C.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,h,m,x=String,p="length",y=255,w="charCodeAt",j="slice",C="replace";for(o[j](-2),o=o[j](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),u=[],h=0,m=(o+=l="uuuuu"[j](o[p]%5||5))[p];m>h;h+=5)c=52200625*(o[w](h)-33)+614125*(o[w](h+1)-33)+7225*(o[w](h+2)-33)+85*(o[w](h+3)-33)+(o[w](h+4)-33),u.push(y&c>>24,y&c>>16,y&c>>8,y&c);return(function(A,k){for(var P=k;P>0;P--)A.pop()})(u,l[p]),x.fromCharCode.apply(x,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},a=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=ew(l)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};t.processDataByFilters=function(o,l){var c=0,u=o||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}})(Yt.API),(function(t){t.loadFile=function(e,r,n){return(function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,u,h){var m=new XMLHttpRequest,x=0,p=function(y){var w=y.length,j=[],C=String.fromCharCode;for(x=0;x<w;x+=1)j.push(C(255&y.charCodeAt(x)));return j.join("")};if(m.open("GET",c,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?h(p(this.responseText)):h(void 0)}),m.send(null),u&&m.status===200)return p(m.responseText)})(i,a,o)}catch{}return l})(e,r,n)},t.loadImageFile=t.loadFile})(Yt.API),(function(t){function e(){return(Nr.html2canvas?Promise.resolve(Nr.html2canvas):p2(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Nr.DOMPurify?Promise.resolve(Nr.DOMPurify):p2(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Sn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var u=document.createElement(l);for(var h in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[h]=c.style[h];return u},a=function l(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(l(m,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),u);return(h=h.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var p=0;p<h.length;++p){var y=h[p],w=y.src.find(function(j){return j.format==="truetype"});w&&u.addFont(w.url,y.ref.name,y.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,u.context2d.save(!0),c(this.prop.container,x)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(l=l||Yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,h){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,h){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(h,m){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(x){return u.updateProgress(null,h),x}).then(h,m).then(function(x){return u.updateProgress(1),x})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var h=this;l&&(l=l.bind(h)),c&&(c=c.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),x=u.call(m,l,c);return o.convert(x,h.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Yt.getPageSize=function(l,c,u){if(Sn(l)==="object"){var h=l;l=h.orientation,c=h.unit||c,u=h.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var m,x=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}var y,w=0,j=0;if(p.hasOwnProperty(x))w=p[x][1]/m,j=p[x][0]/m;else try{w=u[1],j=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",j>w&&(y=j,j=w,w=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",w>j&&(y=j,j=w,w=y)}return{width:j,height:w,unit:c,k:m,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(D2):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}})(Yt.API),Yt.API.addJS=function(t){return KC=t,this.internal.events.subscribe("postPutResources",function(){bx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),GC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+KC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){bx!==void 0&&GC!==void 0&&this.internal.out("/Names <</JavaScript "+bx+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(a=0;a<u;a++){var m=r.internal.newObject();h.push(m);var x=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<h.length;a++)r.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])})(Yt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,o,l){var c,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(m){for(var x,p=256*m.charCodeAt(4)+m.charCodeAt(5),y=m.length,w={width:0,height:0,numcomponents:1},j=4;j<y;j+=2){if(j+=p,e.indexOf(m.charCodeAt(j+1))!==-1){x=256*m.charCodeAt(j+5)+m.charCodeAt(j+6),w={width:256*m.charCodeAt(j+7)+m.charCodeAt(j+8),height:x,numcomponents:m.charCodeAt(j+9)};break}p=256*m.charCodeAt(j+2)+m.charCodeAt(j+3)}return w})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:i}}return h}})(Yt.API),Yt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=ZQ(t,{checkCrc:!0}),o=a.width,l=a.height,c=a.channels,u=a.palette,h=a.depth;i=u&&c===1?(function(D){for(var V=D.width,ne=D.height,B=D.data,F=D.palette,X=D.depth,ee=!1,xe=[],oe=[],pe=void 0,H=!1,q=0,ie=0;ie<F.length;ie++){var G=J3(F[ie],4),R=G[0],z=G[1],U=G[2],Q=G[3];xe.push(R,z,U),Q!=null&&(Q===0?(q++,oe.length<1&&oe.push(ie)):Q<255&&(H=!0))}if(H||q>1){ee=!0,oe=void 0;var J=V*ne;pe=new Uint8Array(J);for(var re=new DataView(B.buffer),le=0;le<J;le++){var ye=O2(re,le,X),je=J3(F[ye],4)[3];pe[le]=je}}else q===0&&(oe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ee?8:void 0,colorBytes:B,alphaBytes:pe,needSMask:ee,palette:xe,mask:oe}})(a):c===2||c===4?(function(D){for(var V=D.data,ne=D.width,B=D.height,F=D.channels,X=D.depth,ee=F===2?"DeviceGray":"DeviceRGB",xe=F-1,oe=ne*B,pe=xe,H=oe*pe,q=1*oe,ie=Math.ceil(H*X/8),G=Math.ceil(q*X/8),R=new Uint8Array(ie),z=new Uint8Array(G),U=new DataView(V.buffer),Q=new DataView(R.buffer),J=new DataView(z.buffer),re=!1,le=0;le<oe;le++){for(var ye=le*F,je=0;je<pe;je++)n6(Q,O2(U,ye+je,X),le*pe+je,X);var Se=O2(U,ye+pe,X);Se<(1<<X)-1&&(re=!0),n6(J,Se,1*le,X)}return{colorSpace:ee,colorsPerPixel:xe,sMaskBitsPerComponent:re?X:void 0,colorBytes:R,alphaBytes:z,needSMask:re}})(a):(function(D){var V=D.data,ne=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ne,colorsPerPixel:ne==="DeviceGray"?1:3,colorBytes:V instanceof Uint16Array?(function(B){for(var F=B.length,X=new Uint8Array(2*F),ee=new DataView(X.buffer,X.byteOffset,X.byteLength),xe=0;xe<F;xe++)ee.setUint16(2*xe,B[xe],!1);return X})(V):V,needSMask:!1}})(a);var m,x,p,y=i,w=y.colorSpace,j=y.colorsPerPixel,C=y.sMaskBitsPerComponent,A=y.colorBytes,k=y.alphaBytes,P=y.needSMask,M=y.palette,$=y.mask,L=null;return n!==Yt.API.image_compression.NONE&&typeof ew=="function"?(L=(function(D){var V;switch(D){case Yt.API.image_compression.FAST:V=11;break;case Yt.API.image_compression.MEDIUM:V=13;break;case Yt.API.image_compression.SLOW:V=14;break;default:V=12}return V})(n),m=this.decode.FLATE_DECODE,x="/Predictor ".concat(L," /Colors ").concat(j," /BitsPerComponent ").concat(h," /Columns ").concat(o),t=JC(A,Math.ceil(o*j*h/8),j,h,n),P&&(p=JC(k,Math.ceil(o*C/8),1,C,n))):(m=void 0,x=void 0,t=A,P&&(p=k)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:t,index:e,filter:m,decodeParameters:x,transparency:$,palette:M,sMask:p,predictor:L,width:o,height:l,bitsPerComponent:h,sMaskBitsPerComponent:C,colorSpace:w}}},(function(t){t.processGIF89A=function(e,r,n,i){var a=new vee(e),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},h=new L2(100).encode(u,100);return t.processJPEG.call(this,h,r,n,i)},t.processGIF87A=t.processGIF89A})(Yt.API),pl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},pl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Rn.log("bit decode error:"+r)}},pl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},pl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=a>>4,c=15&a,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},pl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},pl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,u=a>>15?255:0,h=n*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=u}this.pos+=t}},pl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,h=i*this.width*4+4*a;this.data[h]=u,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=t}},pl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},pl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},pl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var a=new pl(e,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new L2(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)}})(Yt.API),i6.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var a=new i6(e),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new L2(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)}})(Yt.API),Yt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var h=n[u],m=n[u+1],x=n[u+2],p=n[u+3];a[l++]=h,a[l++]=m,a[l++]=x,o[c++]=p}var y=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Yt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ff=Yt.API,Nx=ff.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,m=e.doKerning!==!1,x=0,p=t.length,y=0,w=l[0]||c,j=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?j.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(x=m&&Sn(u[n])==="object"&&!isNaN(parseInt(u[n][y],10))?u[n][y]/h:0,j.push((l[n]||w)/c+x)),y=n;return j},YC=ff.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return ff.processArabic&&(t=ff.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Nx.apply(this,arguments).reduce(function(a,o){return a+o},0)},XC=function(t,e,r,n){for(var i=[],a=0,o=t.length,l=0;a!==o&&l+e[a]<r;)l+=e[a],a++;i.push(t.slice(0,a));var c=a;for(l=0;a!==o;)l+e[a]>n&&(i.push(t.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&i.push(t.slice(c,a)),i},ZC=function(t,e,r){r||(r={});var n,i,a,o,l,c,u,h=[],m=[h],x=r.textIndent||0,p=0,y=0,w=t.split(" "),j=Nx.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var C=Array(c).join(" "),A=[];w.map(function(P){(P=P.split(/\s*\n/)).length>1?A=A.concat(P.map(function(M,$){return($&&M.length?`
`:"")+M})):A.push(P[0])}),w=A,c=YC.apply(this,[C,r])}for(a=0,o=w.length;a<o;a++){var k=0;if(n=w[a],c&&n[0]==`
`&&(n=n.substr(1),k=1),x+p+(y=(i=Nx.apply(this,[n,r])).reduce(function(P,M){return P+M},0))>e||k){if(y>e){for(l=XC.apply(this,[n,i,e-(x+p),e]),h.push(l.shift()),h=[l.pop()];l.length;)m.push([l.shift()]);y=i.slice(n.length-(h[0]?h[0].length:0)).reduce(function(P,M){return P+M},0)}else h=[n];m.push(h),x=y+c,p=j}else h.push(n),x+=p+y,p=j}return u=c?function(P,M){return(M?C:"")+P.join(" ")}:function(P){return P.join(" ")},m.map(u)},ff.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),x="Unicode";return m.metadata[x]?{widths:m.metadata[x].widths||{0:1},kerning:m.metadata[x].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(ZC.apply(this,[n[l],o,a]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var o=function(x){return"0x"+parseInt(x,10).toString(16)},l=t.__fontmetrics__.compress=function(x){var p,y,w,j,C=["{"];for(var A in x){if(p=x[A],isNaN(parseInt(A,10))?y="'"+A+"'":(A=parseInt(A,10),y=(y=o(A).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof p=="number")p<0?(w=o(p).slice(3),j="-"):(w=o(p).slice(2),j=""),w=j+w.slice(0,-1)+i[w.slice(-1)];else{if(Sn(p)!=="object")throw new Error("Don't know what to do with value type "+Sn(p)+".");w=l(p)}C.push(y+w)}return C.push("}"),C.join("")},c=t.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,y,w,j,C={},A=1,k=C,P=[],M="",$="",L=x.length-1,D=1;D<L;D+=1)(j=x[D])=="'"?p?(w=p.join(""),p=void 0):p=[]:p?p.push(j):j=="{"?(P.push([k,w]),k={},w=void 0):j=="}"?((y=P.pop())[0][y[1]]=k,w=void 0,k=y[0]):j=="-"?A=-1:w===void 0?n.hasOwnProperty(j)?(M+=n[j],w=parseInt(M,16)*A,A=1,M=""):M+=j:n.hasOwnProperty(j)?($+=n[j],k[w]=parseInt($,16)*A,A=1,w=void 0,$=""):$+=j;return C},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(x){var p=x.font,y=m.Unicode[p.postScriptName];y&&(p.metadata.Unicode={},p.metadata.Unicode.widths=y.widths,p.metadata.Unicode.kerning=y.kerning);var w=h.Unicode[p.postScriptName];w&&(p.metadata.Unicode.encoding=w,p.encoding=w.codePages[0])}])})(Yt.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Mx(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])})(Yt),Yt.API.addSvgAsImage=function(t,e,r,n,i,a,o,l){if(isNaN(e)||isNaN(r))throw Rn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Rn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Nr.canvg?Promise.resolve(Nr.canvg):p2(()=>import("./index.es-CKJeubCe.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(u,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(h)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),e,r,n,i,o,l)})},Yt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Yt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,h=0,m=0;function x(y,w){var j,C=!1;for(j=0;j<y.length;j+=1)y[j]===w&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=l.length;for(m=0;m<p;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(Sn(t)==="object"){for(i in t)if(a=t[i],x(l,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&x(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(h=0;h<a[u].length;h+=1)typeof a[u][h]!="number"&&(n=!1);n===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,w=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?w.push("/"+y+" /"+r[y].value):w.push("/"+y+" "+r[y].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Yt.API),(function(t){var e=t.API,r=e.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],m=0,x=a.length;m<x;++m){if(l=o.metadata.characterToGlyph(a.charCodeAt(m)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(m),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(u[4-l.length],l)}return h.join("")},n=function(a){var o,l,c,u,h,m,x;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,x=(l=Object.keys(a).sort(function(p,y){return p-y})).length;m<x;m++)o=l[m],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,x=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",y=0;y<x.length;y++)p+=String.fromCharCode(x[y]);var w=u();h({data:p,addLength1:!0,objectId:w}),c("endobj");var j=u();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:j}),c("endobj");var C=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+wf(l.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var A=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+wf(l.fontName)),c("/FontDescriptor "+C+" 0 R"),c("/W "+t.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+j+" 0 R"),c("/BaseFont /"+wf(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+A+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,x="",p=0;p<m.length;p++)x+=String.fromCharCode(m[p]);var y=u();h({data:x,addLength1:!0,objectId:y}),c("endobj");var w=u();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var j=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+wf(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var C=0;C<l.metadata.hmtx.widths.length;C++)l.metadata.hmtx.widths[C]=parseInt(l.metadata.hmtx.widths[C]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+wf(l.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,u=a.y,h=a.options||{},m=a.mutex||{},x=m.pdfEscape,p=m.activeFontKey,y=m.fonts,w=p,j="",C=0,A="",k=y[w].encoding;if(y[w].encoding!=="Identity-H")return{text:l,x:c,y:u,options:h,mutex:m};for(A=l,w=p,Array.isArray(l)&&(A=l[0]),C=0;C<A.length;C+=1)y[w].metadata.hasOwnProperty("cmap")&&(o=y[w].metadata.cmap.unicode.codeMap[A[C].charCodeAt(0)]),o||A[C].charCodeAt(0)<256&&y[w].metadata.hasOwnProperty("Unicode")?j+=A[C]:j+="";var P="";return parseInt(w.slice(1))<14||k==="WinAnsiEncoding"?P=x(j,w).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(P=r(j,y[w])),m.isHex=!0,{text:P,x:c,y:u,options:h,mutex:m}};e.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},c,{text:o[u]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])})(Yt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Yt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,o,l,c,u,h,m=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,k=0;this.__bidiEngine__={};var P=function(B){var F=B.charCodeAt(),X=F>>8,ee=w[X];return ee!==void 0?m[256*ee+(255&F)]:X===252||X===253?"AL":C.test(X)?"L":X===8?"R":"N"},M=function(B){for(var F,X=0;X<B.length;X++){if((F=P(B.charAt(X)))==="L")return!1;if(F==="R")return!0}return!1},$=function(B,F,X,ee){var xe,oe,pe,H,q=F[ee];switch(q){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"N":case"AN":break;case"EN":A&&(q="AN");break;case"AL":A=!0,q="R";break;case"WS":case"BN":q="N";break;case"CS":ee<1||ee+1>=F.length||(xe=X[ee-1])!=="EN"&&xe!=="AN"||(oe=F[ee+1])!=="EN"&&oe!=="AN"?q="N":A&&(oe="AN"),q=oe===xe?oe:"N";break;case"ES":q=(xe=ee>0?X[ee-1]:"B")==="EN"&&ee+1<F.length&&F[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&X[ee-1]==="EN"){q="EN";break}if(A){q="N";break}for(pe=ee+1,H=F.length;pe<H&&F[pe]==="ET";)pe++;q=pe<H&&F[pe]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(H=F.length,pe=ee+1;pe<H&&F[pe]==="NSM";)pe++;if(pe<H){var ie=B[ee],G=ie>=1425&&ie<=2303||ie===64286;if(xe=F[pe],G&&(xe==="R"||xe==="AL")){q="R";break}}}q=ee<1||(xe=F[ee-1])==="B"?"N":X[ee-1];break;case"B":A=!1,i=!0,q=k;break;case"S":a=!0,q="N"}return q},L=function(B,F,X){var ee=B.split("");return X&&D(ee,X,{hiLevel:k}),ee.reverse(),F&&F.reverse(),ee.join("")},D=function(B,F,X){var ee,xe,oe,pe,H,q=-1,ie=B.length,G=0,R=[],z=k?p:x,U=[];for(A=!1,i=!1,a=!1,xe=0;xe<ie;xe++)U[xe]=P(B[xe]);for(oe=0;oe<ie;oe++){if(H=G,R[oe]=$(B,U,R,oe),ee=240&(G=z[H][y[R[oe]]]),G&=15,F[oe]=pe=z[G][5],ee>0)if(ee===16){for(xe=q;xe<oe;xe++)F[xe]=1;q=-1}else q=-1;if(z[G][6])q===-1&&(q=oe);else if(q>-1){for(xe=q;xe<oe;xe++)F[xe]=pe;q=-1}U[oe]==="B"&&(F[oe]=0),X.hiLevel|=pe}a&&(function(Q,J,re){for(var le=0;le<re;le++)if(Q[le]==="S"){J[le]=k;for(var ye=le-1;ye>=0&&Q[ye]==="WS";ye--)J[ye]=k}})(U,F,ie)},V=function(B,F,X,ee,xe){if(!(xe.hiLevel<B)){if(B===1&&k===1&&!i)return F.reverse(),void(X&&X.reverse());for(var oe,pe,H,q,ie=F.length,G=0;G<ie;){if(ee[G]>=B){for(H=G+1;H<ie&&ee[H]>=B;)H++;for(q=G,pe=H-1;q<pe;q++,pe--)oe=F[q],F[q]=F[pe],F[pe]=oe,X&&(oe=X[q],X[q]=X[pe],X[pe]=oe);G=H}G++}}},ne=function(B,F,X){var ee=B.split(""),xe={hiLevel:k};return X||(X=[]),D(ee,X,xe),(function(oe,pe,H){if(H.hiLevel!==0&&h)for(var q,ie=0;ie<oe.length;ie++)pe[ie]===1&&(q=j.indexOf(oe[ie]))>=0&&(oe[ie]=j[q+1])})(ee,X,xe),V(2,ee,F,X,xe),V(1,ee,F,X,xe),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(B,F,X){if((function(xe,oe){if(oe)for(var pe=0;pe<xe.length;pe++)oe[pe]=pe;l===void 0&&(l=M(xe)),u===void 0&&(u=M(xe))})(B,F),o||!c||u)if(o&&c&&l^u)k=l?1:0,B=L(B,F,X);else if(!o&&c&&u)k=l?1:0,B=ne(B,F,X),B=L(B,F);else if(!o||l||c||u){if(o&&!c&&l^u)B=L(B,F),l?(k=0,B=ne(B,F,X)):(k=1,B=ne(B,F,X),B=L(B,F));else if(o&&l&&!c&&u)k=1,B=ne(B,F,X),B=L(B,F);else if(!o&&!c&&l^u){var ee=h;l?(k=1,B=ne(B,F,X),k=0,h=!1,B=ne(B,F,X),h=ee):(k=0,B=ne(B,F,X),B=L(B,F),k=1,h=!1,B=ne(B,F,X),h=ee,B=L(B,F))}}else k=0,B=ne(B,F,X);else k=l?1:0,B=ne(B,F,X);return B},this.__bidiEngine__.setOptions=function(B){B&&(o=B.isInputVisual,c=B.isOutputVisual,l=B.isInputRtl,u=B.isOutputRtl,h=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(Yt),Yt.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new cu(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Dee(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new yee(this.contents),this.head=new bee(this),this.name=new Aee(this),this.cmap=new bk(this),this.toUnicode={},this.hhea=new Nee(this),this.maxp=new See(this),this.hmtx=new Eee(this),this.post=new Cee(this),this.os2=new jee(this),this.loca=new Iee(this),this.glyf=new kee(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}.call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,o,l;for(o=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var Tl,cu=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t})(),yee=(function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,o,l,c,u,h,m,x,p,y,w;for(w in p=Object.keys(r).length,c=Math.log(2),m=16*Math.floor(Math.log(p)/c),o=Math.floor(m/c),h=16*p-m,(i=new cu).writeInt(this.scalarType),i.writeShort(p),i.writeShort(m),i.writeShort(o),i.writeShort(h),a=16*p,u=i.pos+a,l=null,y=[],r)for(x=r[w],i.writeString(w),i.writeInt(t(x)),i.writeInt(u),i.writeInt(x.length),y=y.concat(x),w==="head"&&(l=u),u+=x.length;u%4;)y.push(0),u++;return i.write(y),n=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,o;for(r=Nk.call(r);r.length%4;)r.push(0);for(a=new cu(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},e})(),wee={}.hasOwnProperty,mc=function(t,e){for(var r in e)wee.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Tl=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var bee=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mc(t,Tl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new cu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),a6=(function(){function t(e,r){var n,i,a,o,l,c,u,h,m,x,p,y,w,j,C,A,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),x=p/2,e.pos+=6,a=(function(){var P,M;for(M=[],c=P=0;0<=x?P<x:P>x;c=0<=x?++P:--P)M.push(e.readUInt16());return M})(),e.pos+=2,w=(function(){var P,M;for(M=[],c=P=0;0<=x?P<x:P>x;c=0<=x?++P:--P)M.push(e.readUInt16());return M})(),u=(function(){var P,M;for(M=[],c=P=0;0<=x?P<x:P>x;c=0<=x?++P:--P)M.push(e.readUInt16());return M})(),h=(function(){var P,M;for(M=[],c=P=0;0<=x?P<x:P>x;c=0<=x?++P:--P)M.push(e.readUInt16());return M})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var P,M;for(M=[],c=P=0;0<=i?P<i:P>i;c=0<=i?++P:--P)M.push(e.readUInt16());return M})(),c=C=0,k=a.length;C<k;c=++C)for(j=a[c],n=A=y=w[c];y<=j?A<=j:A>=j;n=y<=j?++A:--A)h[c]===0?o=n+u[c]:(o=l[h[c]/2+(n-y)-(x-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}e.pos=m}return t.encode=function(e,r){var n,i,a,o,l,c,u,h,m,x,p,y,w,j,C,A,k,P,M,$,L,D,V,ne,B,F,X,ee,xe,oe,pe,H,q,ie,G,R,z,U,Q,J,re,le,ye,je,Se,Be;switch(ee=new cu,o=Object.keys(e).sort(function(Fe,Te){return Fe-Te}),r){case"macroman":for(w=0,j=(function(){var Fe=[];for(y=0;y<256;++y)Fe.push(0);return Fe})(),A={0:0},a={},xe=0,q=o.length;xe<q;xe++)A[ye=e[i=o[xe]]]==null&&(A[ye]=++w),a[i]={old:e[i],new:A[e[i]]},j[i]=A[e[i]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(j),{charMap:a,subtable:ee.data,maxGlyphID:w+1};case"unicode":for(F=[],m=[],k=0,A={},n={},C=u=null,oe=0,ie=o.length;oe<ie;oe++)A[M=e[i=o[oe]]]==null&&(A[M]=++k),n[i]={old:M,new:A[M]},l=A[M]-i,C!=null&&l===u||(C&&m.push(C),F.push(i),u=l),C=i;for(C&&m.push(C),m.push(65535),F.push(65535),ne=2*(V=F.length),D=2*Math.pow(Math.log(V)/Math.LN2,2),x=Math.log(D/2)/Math.LN2,L=2*V-D,c=[],$=[],p=[],y=pe=0,G=F.length;pe<G;y=++pe){if(B=F[y],h=m[y],B===65535){c.push(0),$.push(0);break}if(B-(X=n[B].new)>=32768)for(c.push(0),$.push(2*(p.length+V-y)),i=H=B;B<=h?H<=h:H>=h;i=B<=h?++H:--H)p.push(n[i].new);else c.push(X-B),$.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*V+2*p.length),ee.writeUInt16(0),ee.writeUInt16(ne),ee.writeUInt16(D),ee.writeUInt16(x),ee.writeUInt16(L),re=0,R=m.length;re<R;re++)i=m[re],ee.writeUInt16(i);for(ee.writeUInt16(0),le=0,z=F.length;le<z;le++)i=F[le],ee.writeUInt16(i);for(je=0,U=c.length;je<U;je++)l=c[je],ee.writeUInt16(l);for(Se=0,Q=$.length;Se<Q;Se++)P=$[Se],ee.writeUInt16(P);for(Be=0,J=p.length;Be<J;Be++)w=p[Be],ee.writeUInt16(w);return{charMap:n,subtable:ee.data,maxGlyphID:k+1}}},t})(),bk=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mc(t,Tl),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new a6(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=a6.encode(e,r),(i=new cu).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),Nee=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mc(t,Tl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),jee=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mc(t,Tl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),Cee=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mc(t,Tl),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(e.readUInt32());return c}.call(this)}},t})(),_ee=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Aee=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mc(t,Tl),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,o,l,c,u,h,m,x;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},a=h=0,m=n.length;h<m;a=++h)i=n[a],e.pos=i.offset,u=e.readString(i.length),o=new _ee(u,i),c[x=i.nameID]==null&&(c[x]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),See=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mc(t,Tl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),Eee=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mc(t,Tl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,o,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,h;for(h=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)h.push(e.readInt16());return h})(),this.widths=function(){var u,h,m,x;for(x=[],u=0,h=(m=this.metrics).length;u<h;u++)a=m[u],x.push(a.advance);return x}.call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),Nk=[].slice,kee=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mc(t,Tl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,o,l,c,u,h,m;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(l=new cu(r.read(i))).readShort(),u=l.readShort(),m=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[e]=o===-1?new Tee(l,u,m,c,h):new Pee(l,o,u,m,c,h),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)i=e[r[l]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},t})(),Pee=(function(){function t(e,r,n,i,a,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Tee=(function(){function t(e,r,n,i,a){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new cu(Nk.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),Iee=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return mc(t,Tl),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}.call(this):function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*n.length),h=0;h<n.length;++h)u[4*h+3]=255&n[h],u[4*h+2]=(65280&n[h])>>8,u[4*h+1]=(16711680&n[h])>>16,u[4*h]=(4278190080&n[h])>>24;return u},t})(),Dee=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,o,l,c;for(i={},o=0,l=e.length;o<l;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,o,l,c,u,h,m,x,p,y,w,j,C;for(i in n=bk.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},C=n.charMap)p[(c=C[i]).old]=c.new;for(y in x=n.maxGlyphID,o)y in p||(p[y]=x++);return h=(function(A){var k,P;for(k in P={},A)P[A[k]]=k;return P})(p),m=Object.keys(h).sort(function(A,k){return A-k}),w=(function(){var A,k,P;for(P=[],A=0,k=m.length;A<k;A++)l=m[A],P.push(h[l]);return P})(),a=this.font.glyf.encode(o,w,p),u=this.font.loca.encode(a.offsets,w),j={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},t})();Yt.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+(function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+r},e})();function Ree({navigation:t,route:e}){const{patientId:r,chartId:n,medications:i}=e.params,{user:a}=po(),o=e.params.patient||{},l=o.first_name||o.last_name?`${o.first_name||""} ${o.last_name||""}`.trim():o.name||"Unknown Patient",c=o.dob||o.date_of_birth||"",[u,h]=_.useState({pdf:!1,fax:!1,email:!1,print:!1}),[m,x]=_.useState(!1),[p,y]=_.useState(!1),[w,j]=_.useState(!1),[C,A]=_.useState(""),[k,P]=_.useState(""),[M,$]=_.useState(""),[L,D]=_.useState(""),[V,ne]=_.useState({pdf:!1,fax:!1,email:!1,print:!1}),B=()=>{t.goBack()},F=()=>{t.navigate("ClinicianDashboard")},X=J=>{h(re=>({...re,[J]:!re[J]}))},ee=()=>{u.fax&&x(!0)},xe=()=>{u.email&&y(!0)},oe=async()=>{const J=new Yt({unit:"pt",format:"letter"}),re=48,le=J.internal.pageSize.getWidth(),ye=J.internal.pageSize.getHeight(),je=le-re*2;let Se=re;const Be=Pe=>{Se+Pe>ye-re&&(J.addPage(),Se=re)};J.setFillColor(9,102,204),J.rect(0,0,le,56,"F"),J.setFont("helvetica","bold"),J.setTextColor(255,255,255),J.setFontSize(16),J.text("Luminous Rehab - Patient Chart",re,36),J.setTextColor(0,0,0),Se=72,J.setFont("helvetica","bold"),J.setFontSize(14),J.text("Patient Information",re,Se),Se+=16,J.setFont("helvetica","normal"),J.setFontSize(12);const Fe=c?new Date(c).toLocaleDateString():"";J.text(`Name: ${l}`,re,Se),Se+=16,J.text(`DOB: ${Fe}`,re,Se),Se+=16,n&&(J.text(`Chart ID: ${n}`,re,Se),Se+=16);const Te=new Date().toLocaleString();J.text(`Generated: ${Te}`,re,Se),Se+=24,J.setFont("helvetica","bold"),J.setFontSize(13),Be(24),J.text("Medications",re,Se),Se+=12;const ce=[{key:"drug",label:"Drug",w:180},{key:"strength",label:"Strength",w:60},{key:"route",label:"Route",w:50},{key:"frequency",label:"Frequency",w:60},{key:"prescriber",label:"Prescriber",w:90},{key:"scanned",label:"Scanned",w:56},{key:"verified",label:"",w:20}];Be(28),J.setFillColor(241,245,249),J.rect(re,Se,je,24,"F"),J.setFont("helvetica","bold"),J.setFontSize(11);let $e=re;ce.forEach(Pe=>{J.text(Pe.label,$e+4,Se+16),$e+=Pe.w}),Se+=28,J.setFont("helvetica","normal"),J.setFontSize(10);const Ee=14;return(Array.isArray(i)?i:[]).forEach(Pe=>{const We=[String(Pe.drugName||""),String(Pe.strength||""),String(Pe.route||""),String(Pe.frequency||""),String(Pe.prescriber||""),String(Pe.scannedDate||""),typeof Pe.isVerified=="boolean"?Pe.isVerified?"Yes":"No":"Yes"].map((It,St)=>J.splitTextToSize(It,ce[St].w-6)),xt=Math.max(...We.map(It=>It.length||1)),ct=Math.max(Ee,xt*Ee);Be(ct+4),J.setFillColor(252,252,253),J.rect(re,Se-2,je,ct+4,"F");let tr=re;We.forEach((It,St)=>{const fr=Se+Ee;It.forEach((Ct,mt)=>{J.text(Ct,tr+3,fr+mt*Ee-Ee)}),tr+=ce[St].w}),Se+=ct+6}),J.output("blob")},pe=async()=>{if(!u.pdf)return;const J=await oe(),re=URL.createObjectURL(J),le=document.createElement("a");le.href=re,le.download=`chart-${n||"export"}.pdf`,le.click(),URL.revokeObjectURL(re),ne(ye=>({...ye,pdf:!0}))},H=async()=>{if(!u.print)return;const J=await oe(),re=URL.createObjectURL(J),le=document.createElement("iframe");le.style.position="fixed",le.style.right="0",le.style.bottom="0",le.style.width="0",le.style.height="0",le.style.border="0",le.src=re,document.body.appendChild(le);let ye=!1;le.onload=()=>{try{le.contentWindow?.focus(),le.contentWindow?.print(),ye=!0}catch(je){console.error("Print failed",je)}finally{setTimeout(()=>{document.body.removeChild(le),URL.revokeObjectURL(re)},1e3)}},setTimeout(()=>{if(!ye)try{window.open(re,"_blank")?.focus()}catch(je){console.error("Fallback print open failed",je)}},1800),ne(je=>({...je,print:!0}))},q=async J=>{if(!a?.tenant_id||!n)throw new Error("Missing tenant or chart");const re=`${a.tenant_id}/${n}/exports/chart-${Date.now()}.pdf`,{error:le}=await $n.storage.from("chart-documents").upload(re,J,{contentType:"application/pdf"});if(le)throw le;const{data:ye}=$n.storage.from("chart-documents").getPublicUrl(re);return ye.publicUrl},ie=async()=>{if(!C){alert("Please enter a fax number");return}try{const J=await oe(),re=await q(J);alert(`Fax queued to ${C}. PDF: ${re}`),ne(le=>({...le,fax:!0}))}catch(J){console.error("Fax failed",J),alert(J.message||"Failed to prepare fax");return}finally{x(!1)}},G=async()=>{if(!k){alert("Please enter an email address");return}try{const J=await oe(),re=await q(J),le=encodeURIComponent(`Patient Chart - ${l}`),ye=encodeURIComponent(`Please find the chart PDF here:
${re}${L?`

${L}`:""}`);window.location.href=`mailto:${encodeURIComponent(k)}?subject=${le}&body=${ye}`,ne(je=>({...je,email:!0}))}catch(J){console.error("Email failed",J),alert(J.message||"Failed to prepare email");return}finally{y(!1)}},R=()=>{if(!(u.pdf||u.fax||u.email)){alert("Please select at least one delivery method");return}if(!((!u.pdf||V.pdf)&&(!u.fax||V.fax)&&(!u.email||V.email))){alert("Please complete all selected delivery methods before finalizing");return}j(!0)},z=async()=>{if(j(!1),!a?.id||!a?.tenant_id||!n){alert("Missing chart or user context");return}try{let J=null;u.pdf?J="pdf":u.email?J="email":u.fax?J="fax":u.print&&(J="print");const re={status:"delivered_locked",finalized_at:new Date().toISOString(),finalized_by:a.id,delivered_by:a.id,delivered_via:J,first_delivered_at:new Date().toISOString()},{error:le}=await $n.from("charts").update(re).eq("id",n);if(le){console.error("Error finalizing chart:",le),alert(`Failed to finalize chart: ${le.message||"Unknown error"}`);return}alert("Chart has been sent for agency admin approval"),t.navigate("ClinicianDashboard")}catch(J){console.error("Unexpected error finalizing chart:",J),alert("Unexpected error while finalizing chart")}},U=u.pdf||u.fax||u.email||u.print,Q=(!u.pdf||V.pdf)&&(!u.fax||V.fax)&&(!u.email||V.email)&&(!u.print||V.print);return s.jsxs("div",{className:"h-screen flex flex-col bg-[#f8fafc]",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#0966CC] to-[#0C4A6E] p-5 shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:B,className:"w-10 h-10 rounded-xl bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors","aria-label":"Back",children:s.jsx(ln,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-lg text-white",children:"Chart Delivery"}),s.jsxs(fe,{onClick:F,variant:"ghost",size:"sm",className:"h-9 px-3 rounded-xl bg-white/10 hover:bg-white/20 text-white text-sm font-medium flex items-center gap-1",children:[s.jsx(zs,{className:"w-4 h-4"}),"Exit"]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto pb-24",children:s.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"bg-white rounded-2xl border border-sky-200 p-5 shadow-sm",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-sky-100 flex items-center justify-center flex-shrink-0",children:s.jsx(On,{className:"w-5 h-5 text-sky-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-slate-900 mb-1",children:"Select Delivery Methods"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Choose one or more ways to deliver this chart. After delivery, the chart will be sent to your agency admin for approval."})]})]})}),s.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-600 flex items-center justify-center shadow-sm",children:s.jsx("span",{className:"text-white font-semibold",children:""})}),s.jsx("span",{className:"text-xs text-slate-700 font-medium text-center",children:"Verify All"})]}),s.jsx(Xr,{className:"w-5 h-5 text-slate-300 flex-shrink-0 -mt-6"}),s.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-600 flex items-center justify-center shadow-sm",children:s.jsx("span",{className:"text-white font-semibold",children:""})}),s.jsx("span",{className:"text-xs text-slate-700 font-medium text-center",children:"Review"})]}),s.jsx(Xr,{className:"w-5 h-5 text-slate-300 flex-shrink-0 -mt-6"}),s.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-sky-600 flex items-center justify-center shadow-sm",children:s.jsx("span",{className:"text-white font-semibold",children:"3"})}),s.jsx("span",{className:"text-xs text-slate-700 font-medium text-center",children:"Delivery"})]}),s.jsx(Xr,{className:"w-5 h-5 text-slate-300 flex-shrink-0 -mt-6"}),s.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center",children:s.jsx("span",{className:"text-slate-500 font-semibold",children:"4"})}),s.jsx("span",{className:"text-xs text-slate-500 text-center",children:"Admin Approval"})]})]})}),s.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Patient"}),s.jsx("p",{className:"text-slate-900 font-semibold",children:l}),s.jsxs("p",{className:"text-sm text-slate-600",children:["DOB: ",c]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Medications"}),s.jsxs("p",{className:"text-slate-900 font-semibold",children:[i?.length||0," Items"]}),s.jsx("p",{className:"text-sm text-slate-600",children:"All verified"})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-5 border-b border-slate-200",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Delivery Methods"}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select one or multiple delivery options"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:`border-2 rounded-xl p-5 transition-all ${u.print?"border-slate-500 bg-slate-50":"border-slate-200 bg-white"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(sa,{id:"print",checked:u.print,onCheckedChange:()=>X("print"),className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("label",{htmlFor:"print",className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center flex-shrink-0",children:s.jsx(vf,{className:"w-5 h-5 text-slate-700"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium",children:"Print"}),s.jsx("p",{className:"text-sm text-slate-600 mt-0.5",children:"Open print dialog with chart PDF"})]}),V.print&&s.jsx(ur,{className:"w-5 h-5 text-green-600"})]}),u.print&&!V.print&&s.jsxs(fe,{onClick:H,className:"mt-3 ml-14 bg-[#0966CC] hover:bg-[#0C4A6E] text-white",size:"sm","aria-label":"Open print dialog",children:[s.jsx(vf,{className:"w-4 h-4 mr-2"}),"Open Print Dialog"]})]})]})}),s.jsx("div",{className:`border-2 rounded-xl p-5 transition-all ${u.pdf?"border-sky-500 bg-sky-50":"border-slate-200 bg-white"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(sa,{id:"pdf",checked:u.pdf,onCheckedChange:()=>X("pdf"),className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("label",{htmlFor:"pdf",className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-sky-100 flex items-center justify-center flex-shrink-0",children:s.jsx(ga,{className:"w-5 h-5 text-sky-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium",children:"Save as PDF"}),s.jsx("p",{className:"text-sm text-slate-600 mt-0.5",children:"Download chart as PDF document"})]}),V.pdf&&s.jsx(ur,{className:"w-5 h-5 text-green-600"})]}),u.pdf&&!V.pdf&&s.jsxs(fe,{onClick:pe,className:"mt-3 ml-14 bg-sky-600 hover:bg-sky-700 text-white",size:"sm",children:[s.jsx(ga,{className:"w-4 h-4 mr-2"}),"Generate PDF"]})]})]})}),s.jsx("div",{className:`border-2 rounded-xl p-5 transition-all ${u.fax?"border-green-500 bg-green-50":"border-slate-200 bg-white"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(sa,{id:"fax",checked:u.fax,onCheckedChange:()=>X("fax"),className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("label",{htmlFor:"fax",className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center flex-shrink-0",children:s.jsx(vf,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium",children:"Send via Fax"}),s.jsx("p",{className:"text-sm text-slate-600 mt-0.5",children:"Fax chart to a recipient"})]}),V.fax&&s.jsx(ur,{className:"w-5 h-5 text-green-600"})]}),u.fax&&!V.fax&&s.jsxs(fe,{onClick:ee,className:"mt-3 ml-14 bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[s.jsx(vf,{className:"w-4 h-4 mr-2"}),"Configure Fax"]})]})]})}),s.jsx("div",{className:`border-2 rounded-xl p-5 transition-all ${u.email?"border-amber-500 bg-amber-50":"border-slate-200 bg-white"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(sa,{id:"email",checked:u.email,onCheckedChange:()=>X("email"),className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("label",{htmlFor:"email",className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center flex-shrink-0",children:s.jsx(On,{className:"w-5 h-5 text-amber-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-slate-900 font-medium",children:"Send via Email"}),s.jsx("p",{className:"text-sm text-slate-600 mt-0.5",children:"Email chart to a recipient"})]}),V.email&&s.jsx(ur,{className:"w-5 h-5 text-green-600"})]}),u.email&&!V.email&&s.jsxs(fe,{onClick:xe,className:"mt-3 ml-14 bg-amber-600 hover:bg-amber-700 text-white",size:"sm",children:[s.jsx(On,{className:"w-4 h-4 mr-2"}),"Configure Email"]})]})]})})]})]}),s.jsx("div",{className:"bg-sky-50 border border-sky-200 rounded-2xl p-5",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(_i,{className:"w-5 h-5 text-sky-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-slate-900 font-medium mb-1",children:"Requires Admin Approval"}),s.jsx("p",{className:"text-sm text-slate-600",children:"After finalizing delivery, this chart will be sent to your agency admin for final approval. Make sure all information is correct and all selected delivery methods are completed."})]})]})})]})}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 shadow-lg z-50",children:s.jsx("div",{className:"max-w-2xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(fe,{onClick:B,variant:"outline",className:"flex-1 h-12 rounded-xl border-2 border-slate-300 hover:bg-slate-50 text-slate-700 font-medium",children:[s.jsx(ln,{className:"w-4 h-4 mr-2"}),"Back to Summary"]}),s.jsxs(fe,{onClick:R,disabled:!U||!Q,className:"flex-1 h-12 rounded-xl bg-green-600 hover:bg-green-700 text-white font-medium shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ur,{className:"w-4 h-4 mr-2"}),"Submit for Approval"]})]})})}),s.jsx(_r,{open:m,onOpenChange:x,children:s.jsxs(jr,{className:"sm:max-w-[500px]",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Send via Fax"}),s.jsx(Pr,{children:"Enter the fax number to send this chart"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"faxNumber",children:"Fax Number *"}),s.jsx(it,{id:"faxNumber",type:"tel",placeholder:"(555) 123-4567",value:C,onChange:J=>A(J.target.value),className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"faxNote",children:"Note (Optional)"}),s.jsx(it,{id:"faxNote",placeholder:"Add a note for the recipient",value:M,onChange:J=>$(J.target.value),className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(fe,{onClick:()=>x(!1),variant:"outline",className:"flex-1 h-12 rounded-xl",children:"Cancel"}),s.jsxs(fe,{onClick:ie,className:"flex-1 h-12 rounded-xl bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(vf,{className:"w-4 h-4 mr-2"}),"Send Fax"]})]})]})}),s.jsx(_r,{open:p,onOpenChange:y,children:s.jsxs(jr,{className:"sm:max-w-[500px]",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Send via Email"}),s.jsx(Pr,{children:"Enter the email address to send this chart"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"emailAddress",children:"Email Address *"}),s.jsx(it,{id:"emailAddress",type:"email",placeholder:"recipient@example.com",value:k,onChange:J=>P(J.target.value),className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"emailSubject",children:"Subject"}),s.jsx(it,{id:"emailSubject",defaultValue:`Patient Chart - ${l}`,className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"emailMessage",children:"Message (Optional)"}),s.jsx(it,{id:"emailMessage",placeholder:"Add a message",value:L,onChange:J=>D(J.target.value),className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-[#f8fafc]"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(fe,{onClick:()=>y(!1),variant:"outline",className:"flex-1 h-12 rounded-xl",children:"Cancel"}),s.jsxs(fe,{onClick:G,className:"flex-1 h-12 rounded-xl bg-amber-600 hover:bg-amber-700 text-white",children:[s.jsx(On,{className:"w-4 h-4 mr-2"}),"Send Email"]})]})]})}),s.jsx($d,{open:w,onOpenChange:j,children:s.jsxs(zd,{children:[s.jsxs(Hd,{children:[s.jsx(Wd,{children:"Finalize & Send for Approval"}),s.jsx(Gd,{asChild:!0,children:s.jsxs("div",{children:[s.jsx("p",{children:"Are you sure you want to finalize this chart?"}),s.jsx("p",{className:"mt-4",children:s.jsx("strong",{className:"text-amber-700",children:" This chart will be sent for agency admin approval."})}),s.jsx("p",{className:"mt-4",children:"Delivery methods completed:"}),s.jsxs("ul",{className:"mt-2 space-y-1 list-disc list-inside",children:[V.pdf&&s.jsx("li",{children:"PDF saved"}),V.fax&&s.jsxs("li",{children:["Fax sent to ",C]}),V.email&&s.jsxs("li",{children:["Email sent to ",k]}),V.print&&s.jsx("li",{children:"Printed"})]})]})})]}),s.jsxs(qd,{children:[s.jsx(Yd,{className:"h-12 rounded-xl",children:"Cancel"}),s.jsxs(Kd,{onClick:z,className:"h-12 rounded-xl bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(ur,{className:"w-4 h-4 mr-2"}),"Submit for Approval"]})]})]})})]})}function Oee({navigation:t}){const[e,r]=_.useState(!1),[n,i]=_.useState(""),[a,o]=_.useState(""),l={name:"Dr. Sarah Johnson",firstName:"Sarah",lastName:"Johnson",credentials:"RN, BSN",role:"Registered Nurse",pronouns:"she/her",email:"sarah.johnson@healthcare.com",phone:"(555) 123-4567",address:"123 Medical Plaza, Healthcare City, HC 12345",department:"Home Health Services",facility:"Memorial Healthcare Network",specialization:"Geriatric Medicine",certifications:["WOCN Certified","Geriatrics Specialist"],licenseNumber:"RN-123456",npiNumber:"1234567890",yearsOfPractice:8,joinDate:"January 15, 2024",accountCreated:"January 2025",lastUpdated:"Today at 2:03 PM",totalPatients:24,totalCharts:67,verificationRate:98},c=()=>{i(l.email),o(l.phone),r(!0)},u=()=>{et.success("Profile updated successfully"),r(!1)};return s.jsxs("div",{className:"h-full flex flex-col bg-[#f8fafc]",children:[s.jsxs("div",{className:"bg-gradient-to-r from-[#0966CC] to-[#0C4A6E] p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("button",{onClick:()=>t.goBack(),className:"w-10 h-10 rounded-xl bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors",children:s.jsx(ln,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-lg text-white",children:"My Profile"}),s.jsx("div",{className:"w-10 h-10"})]}),s.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-5 border border-white/20",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ys,{className:"w-20 h-20 border-4 border-white/30",children:s.jsxs(ws,{className:"bg-white text-[#0966CC] text-2xl",children:[l.firstName[0],l.lastName[0]]})}),s.jsx("button",{className:"absolute bottom-0 right-0 w-7 h-7 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-slate-50 transition-colors",children:s.jsx(Va,{className:"w-3.5 h-3.5 text-slate-600"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl text-white mb-0.5",children:[l.name,s.jsx("span",{className:"text-white/80 ml-2",children:l.credentials})]}),s.jsx("p",{className:"text-sm text-white/70 mb-2",children:l.pronouns})]}),s.jsxs(fe,{onClick:c,size:"sm",className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 shadow-none",children:[s.jsx(bh,{className:"w-3.5 h-3.5 mr-1.5"}),"Edit Profile"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[s.jsx(ft,{className:"bg-white/90 text-[#0966CC] border-0 font-medium",children:l.role}),s.jsxs(ft,{className:"bg-emerald-500/90 text-white border-0 flex items-center gap-1",children:[s.jsx(a_,{className:"w-3 h-3"}),"Verified Clinician"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-sm text-white/90 flex items-center gap-2",children:[s.jsx(ya,{className:"w-3.5 h-3.5"}),l.department,"  ",l.facility]}),s.jsx("p",{className:"text-sm text-white/80",children:l.specialization})]})]})]})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-[#e2e8f0] shadow-sm text-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0F2FE] flex items-center justify-center mb-2 mx-auto",children:s.jsx(as,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsx("p",{className:"text-2xl text-[#0f172a] mb-1",children:l.totalPatients}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Patients"})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-[#e2e8f0] shadow-sm text-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#DBEAFE] flex items-center justify-center mb-2 mx-auto",children:s.jsx(ir,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsx("p",{className:"text-2xl text-[#0f172a] mb-1",children:l.totalCharts}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Charts"})]}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-[#e2e8f0] shadow-sm text-center cursor-help",children:[s.jsxs("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center mb-2 mx-auto relative",children:[s.jsx(ur,{className:"w-5 h-5 text-[#10B981]"}),s.jsxs("svg",{className:"absolute inset-0 w-10 h-10 -rotate-90",children:[s.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:"#D1FAE5",strokeWidth:"2"}),s.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:"#10B981",strokeWidth:"2",strokeDasharray:`${l.verificationRate/100*113} 113`})]})]}),s.jsxs("p",{className:"text-2xl text-[#0f172a] mb-1",children:[l.verificationRate,"%"]}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Accuracy"})]})}),s.jsx(Wr,{side:"bottom",className:"max-w-xs",children:s.jsx("p",{className:"text-sm",children:"% of medication scans verified correctly on first attempt"})})]})})]}),s.jsx(Ur,{className:"bg-slate-200"}),s.jsxs("div",{className:"bg-white rounded-2xl border border-[#e2e8f0] shadow-sm overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-slate-100",children:s.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Quick Actions"})}),s.jsxs("div",{className:"divide-y divide-slate-100",children:[s.jsxs("button",{onClick:()=>t.navigate("PatientChartList"),className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 transition-colors text-left",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-sky-100 flex items-center justify-center",children:s.jsx(ir,{className:"w-5 h-5 text-sky-600"})}),s.jsx("span",{className:"text-sm text-slate-900",children:"View My Charts"})]}),s.jsx(Xr,{className:"w-4 h-4 text-slate-400"})]}),s.jsxs("button",{onClick:()=>t.navigate("PatientChartList"),className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 transition-colors text-left",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-sky-100 flex items-center justify-center",children:s.jsx(as,{className:"w-5 h-5 text-sky-600"})}),s.jsx("span",{className:"text-sm text-slate-900",children:"View My Patients"})]}),s.jsx(Xr,{className:"w-4 h-4 text-slate-400"})]}),s.jsxs("button",{onClick:()=>t.navigate("ClinicianSettings"),className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 transition-colors text-left",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center",children:s.jsx(rc,{className:"w-5 h-5 text-slate-600"})}),s.jsx("span",{className:"text-sm text-slate-900",children:"Preferences"})]}),s.jsx(Xr,{className:"w-4 h-4 text-slate-400"})]}),s.jsxs("button",{onClick:()=>t.navigate("ClinicianSettings"),className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 transition-colors text-left",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center",children:s.jsx(os,{className:"w-5 h-5 text-slate-600"})}),s.jsx("span",{className:"text-sm text-slate-900",children:"Security Settings"})]}),s.jsx(Xr,{className:"w-4 h-4 text-slate-400"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 px-2",children:[s.jsx(On,{className:"w-4 h-4 text-[#0966CC]"}),s.jsx("h3",{className:"text-sm font-semibold text-[#0f172a]",children:"Contact Information"})]}),s.jsx("div",{className:"bg-white rounded-2xl p-5 border border-[#e2e8f0] shadow-sm",children:s.jsxs("div",{className:"space-y-4 pl-1",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0F2FE] flex items-center justify-center flex-shrink-0",children:s.jsx(On,{className:"w-4 h-4 text-[#0966CC]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Email"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:l.email})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0F2FE] flex items-center justify-center flex-shrink-0",children:s.jsx(Ba,{className:"w-4 h-4 text-[#0966CC]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Phone"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:l.phone})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0F2FE] flex items-center justify-center flex-shrink-0",children:s.jsx(qo,{className:"w-4 h-4 text-[#0966CC]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Address"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:l.address})]})]})]})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 px-2",children:[s.jsx(na,{className:"w-4 h-4 text-[#10B981]"}),s.jsx("h3",{className:"text-sm font-semibold text-[#0f172a]",children:"Professional Information"})]}),s.jsx("div",{className:"bg-white rounded-2xl p-5 border border-[#e2e8f0] shadow-sm",children:s.jsxs("div",{className:"space-y-4 pl-1",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(na,{className:"w-4 h-4 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"License Number"}),s.jsxs("p",{className:"text-sm text-[#0f172a] flex items-center gap-2",children:[l.licenseNumber,s.jsxs(ft,{className:"bg-emerald-100 text-emerald-700 border-emerald-200 text-xs py-0 px-1.5",children:[s.jsx(ur,{className:"w-3 h-3 mr-0.5"}),"Verified"]})]})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(na,{className:"w-4 h-4 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"NPI Number"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:l.npiNumber})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(yw,{className:"w-4 h-4 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Specialization"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:l.specialization})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(u_,{className:"w-4 h-4 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1",children:l.certifications.map((h,m)=>s.jsx(ft,{variant:"outline",className:"text-xs bg-emerald-50 text-emerald-700 border-emerald-200",children:h},m))})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(Qs,{className:"w-4 h-4 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Years of Practice"}),s.jsxs("p",{className:"text-sm text-[#0f172a]",children:[l.yearsOfPractice," years"]})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(Ho,{className:"w-4 h-4 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Joined"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:l.joinDate})]})]})]})})]}),s.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 rounded-2xl p-4 border border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-600",children:[s.jsx(na,{className:"w-4 h-4 text-emerald-600"}),s.jsx("span",{className:"font-medium text-emerald-700",children:"HIPAA-Compliant"}),s.jsx("span",{className:"text-slate-400",children:""}),s.jsx("span",{children:"Encrypted"}),s.jsx("span",{className:"text-slate-400",children:""}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"Secure Session"]})]})}),s.jsx("div",{className:"px-2 pb-2",children:s.jsxs("div",{className:"text-xs text-slate-500 space-y-1",children:[s.jsxs("p",{children:["Account created: ",l.accountCreated]}),s.jsxs("p",{children:["Last updated: ",l.lastUpdated]})]})})]}),s.jsx(_r,{open:e,onOpenChange:r,children:s.jsxs(jr,{className:"sm:max-w-md",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Edit Profile"}),s.jsx(Pr,{children:"Update your contact information and preferences."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"edit-email",children:"Email"}),s.jsx(it,{id:"edit-email",type:"email",value:n,onChange:h=>i(h.target.value),className:"h-11 rounded-xl"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"edit-phone",children:"Phone"}),s.jsx(it,{id:"edit-phone",type:"tel",value:a,onChange:h=>o(h.target.value),className:"h-11 rounded-xl"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),s.jsx(fe,{onClick:u,className:"bg-sky-600 hover:bg-sky-700",children:"Save Changes"})]})]})})]})}function Lee({navigation:t}){const[e,r]=_.useState(!0),[n,i]=_.useState(!0),[a,o]=_.useState(!1),[l,c]=_.useState(!1),[u,h]=_.useState(!1),[m,x]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),p={lastPasswordChange:"30 days ago",lastLogin:"Phoenix, AZ",lastLoginTime:"Today at 9:42 AM"},y=[{id:"1",device:"Chrome on Windows",location:"Phoenix, AZ",ip:"192.168.1.1",lastActive:"Active now",current:!0},{id:"2",device:"Safari on iPhone",location:"Phoenix, AZ",ip:"192.168.1.45",lastActive:"2 hours ago",current:!1},{id:"3",device:"Chrome on MacBook",location:"Scottsdale, AZ",ip:"10.0.0.23",lastActive:"Yesterday",current:!1}],w=()=>{if(!m.currentPassword||!m.newPassword||!m.confirmPassword){et.error("Please fill in all fields");return}if(m.newPassword!==m.confirmPassword){et.error("New passwords do not match");return}if(m.newPassword.length<8){et.error("Password must be at least 8 characters");return}et.success("Password changed successfully!"),o(!1),x({currentPassword:"",newPassword:"",confirmPassword:""})},j=A=>{i(A),A?c(!0):et.info("Two-factor authentication disabled")},C=A=>{et.success("Session revoked successfully")};return s.jsxs("div",{className:"h-full flex flex-col bg-[#f8fafc]",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#0966CC] to-[#0C4A6E] p-5",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>t.goBack(),className:"w-10 h-10 rounded-xl bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors",children:s.jsx(ln,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-lg text-white",children:"Settings"}),s.jsx("div",{className:"w-10"})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-5",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"ACCOUNT"}),s.jsx("div",{className:"bg-white rounded-2xl border border-[#e2e8f0] overflow-hidden",children:s.jsxs("button",{onClick:()=>t.navigate("ClinicianProfile"),className:"w-full flex items-center justify-between p-4 hover:bg-[#f8fafc] transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0F2FE] flex items-center justify-center",children:s.jsx(Ts,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Profile"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"View your profile"})]})]}),s.jsx(Xr,{className:"w-5 h-5 text-[#cbd5e1]"})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"QUICK ACTIONS"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs(fe,{onClick:()=>t.navigate("ClinicianDashboard"),variant:"outline",className:"h-auto p-4 flex items-center justify-start gap-3 hover:border-[#0966CC] hover:bg-[#E0F2FE] transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#E0F2FE"},children:s.jsx(as,{className:"w-5 h-5",style:{color:"#0966CC"}})}),s.jsx("span",{className:"text-sm text-[#0f172a]",children:"My Patients"}),s.jsx(Xr,{className:"w-4 h-4 text-[#cbd5e1] ml-auto"})]}),s.jsxs(fe,{onClick:()=>t.navigate("NewPatientChart"),variant:"outline",className:"h-auto p-4 flex items-center justify-start gap-3 hover:border-[#10B981] hover:bg-[#D1FAE5] transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#D1FAE5"},children:s.jsx(F9,{className:"w-5 h-5",style:{color:"#10B981"}})}),s.jsx("span",{className:"text-sm text-[#0f172a]",children:"Start New Chart"}),s.jsx(Xr,{className:"w-4 h-4 text-[#cbd5e1] ml-auto"})]}),s.jsxs(fe,{onClick:()=>t.navigate("PatientChartList"),variant:"outline",className:"h-auto p-4 flex items-center justify-start gap-3 hover:border-[#F59E0B] hover:bg-[#FEF3C7] transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#FEF3C7"},children:s.jsx(ir,{className:"w-5 h-5",style:{color:"#F59E0B"}})}),s.jsx("span",{className:"text-sm text-[#0f172a]",children:"View All Charts"}),s.jsx(Xr,{className:"w-4 h-4 text-[#cbd5e1] ml-auto"})]}),s.jsxs(fe,{onClick:()=>t.navigate("CaptureSourceSelection"),variant:"outline",className:"h-auto p-4 flex items-center justify-start gap-3 hover:border-[#8B5CF6] hover:bg-[#F3E8FF] transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#F3E8FF"},children:s.jsx(MD,{className:"w-5 h-5",style:{color:"#8B5CF6"}})}),s.jsx("span",{className:"text-sm text-[#0f172a]",children:"Scan Medications"}),s.jsx(Xr,{className:"w-4 h-4 text-[#cbd5e1] ml-auto"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"SECURITY"}),s.jsx(lr,{className:"p-5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#DBEAFE] flex items-center justify-center flex-shrink-0",children:s.jsx(os,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Password"}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:["Last changed ",p.lastPasswordChange]})]})]}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>o(!0),className:"text-[#0966CC] hover:text-[#075985] hover:bg-[#DBEAFE]",children:"Change"})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(Jf,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Two-Factor Authentication"}),n&&s.jsx(ft,{variant:"outline",className:"border-[#10B981] text-[#10B981] text-xs h-5",children:" Enabled"})]}),s.jsx("p",{className:"text-xs text-[#64748b]",children:n?"Extra security for your account":"Add extra layer of security"})]})]}),s.jsx(Mi,{checked:n,onCheckedChange:j,className:"data-[state=checked]:bg-[#10B981]"})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center flex-shrink-0",children:s.jsx(Mm,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Last Login"}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[" ",p.lastLogin]}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[" ",p.lastLoginTime]})]})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0E7FF] flex items-center justify-center flex-shrink-0",children:s.jsx(fo,{className:"w-5 h-5 text-[#4F46E5]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Active Sessions"}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[y.length," devices signed in"]})]})]}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>h(!0),className:"text-[#4F46E5] hover:text-[#4338CA] hover:bg-[#E0E7FF]",children:"View"})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"NOTIFICATIONS"}),s.jsxs("div",{className:"bg-white rounded-2xl border border-[#e2e8f0] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#e2e8f0]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center",children:s.jsx(On,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Email Notifications"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Receive email updates"})]})]}),s.jsx(Mi,{className:"data-[state=checked]:bg-[#10B981]",defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#e2e8f0]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center",children:s.jsx(fh,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Push Notifications"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Receive app notifications"})]})]}),s.jsx(Mi,{checked:e,onCheckedChange:r,className:"data-[state=checked]:bg-[#10B981]"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0F2FE] flex items-center justify-center",children:s.jsx(ir,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Chart Alerts"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Updates on your charts"})]})]}),s.jsx(Mi,{className:"data-[state=checked]:bg-[#10B981]",defaultChecked:!0})]})]})]})]}),s.jsx(_r,{open:a,onOpenChange:o,children:s.jsxs(jr,{children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Change Password"}),s.jsx(Pr,{children:"Choose a strong password to keep your account secure"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"current-password",children:"Current Password"}),s.jsx(it,{id:"current-password",type:"password",value:m.currentPassword,onChange:A=>x({...m,currentPassword:A.target.value}),placeholder:"Enter current password",className:"h-11 rounded-xl"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"new-password",children:"New Password"}),s.jsx(it,{id:"new-password",type:"password",value:m.newPassword,onChange:A=>x({...m,newPassword:A.target.value}),placeholder:"Enter new password",className:"h-11 rounded-xl"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Must be at least 8 characters"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"confirm-password",children:"Confirm New Password"}),s.jsx(it,{id:"confirm-password",type:"password",value:m.confirmPassword,onChange:A=>x({...m,confirmPassword:A.target.value}),placeholder:"Confirm new password",className:"h-11 rounded-xl"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(fe,{className:"bg-[#0966CC] hover:bg-[#075985]",onClick:w,children:"Update Password"})]})]})}),s.jsx(_r,{open:l,onOpenChange:c,children:s.jsxs(jr,{children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Enable Two-Factor Authentication"}),s.jsx(Pr,{children:"Scan the QR code with your authenticator app"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("div",{className:"w-48 h-48 bg-slate-100 rounded-lg mx-auto flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-slate-500",children:"QR Code Here"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"verification-code",children:"Verification Code"}),s.jsx(it,{id:"verification-code",type:"text",placeholder:"Enter 6-digit code",className:"h-11 rounded-xl"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(fe,{className:"bg-[#10B981] hover:bg-[#059669]",onClick:()=>{c(!1),et.success("Two-factor authentication enabled")},children:"Verify & Enable"})]})]})}),s.jsx(_r,{open:u,onOpenChange:h,children:s.jsxs(jr,{className:"max-w-2xl",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Active Sessions"}),s.jsx(Pr,{children:"Manage devices where you're currently signed in"})]}),s.jsx("div",{className:"space-y-3 py-4 max-h-96 overflow-y-auto",children:y.map(A=>s.jsx(lr,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#DBEAFE] flex items-center justify-center flex-shrink-0",children:s.jsx(fo,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[#0f172a]",children:A.device}),A.current&&s.jsx(ft,{variant:"outline",className:"border-[#10B981] text-[#10B981] text-xs h-5",children:"Current"})]}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[" ",A.location]}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:["IP: ",A.ip]}),s.jsx("p",{className:"text-xs text-[#64748b]",children:A.lastActive})]})]}),!A.current&&s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>C(A.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Revoke"})]})},A.id))}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>h(!1),children:"Close"}),s.jsxs(fe,{variant:"destructive",onClick:()=>{et.success("All other sessions revoked"),h(!1)},children:[s.jsx(Zs,{className:"w-4 h-4 mr-2"}),"Revoke All Others"]})]})]})})]})}const q0=[{id:"p1",name:"Jane Test",dob:"1969-12-31",address:"123 Main St, Demo City, CA",phone:"555-1001",chartCount:2,lastChart:"2025-01-17",status:"active"}],mf=[{id:"c1",patientName:"Jane Test",status:"Pending Review",type:"Bottle Scan",createdDate:"2025-01-17",medicationCount:3},{id:"c2",patientName:"Jane Test",status:"Verified",type:"Manual Entry",createdDate:"2025-01-15",medicationCount:2}];function Fee({clinician:t,onBack:e,navigation:r}){const[n,i]=_.useState("patients"),a=mf.filter(c=>c.status==="Pending Review").length,o=mf.filter(c=>c.status==="Verified").length,l=q0.filter(c=>c.status==="active").length;return s.jsxs("div",{className:"space-y-6 pb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(fe,{variant:"outline",size:"icon",onClick:e,className:"rounded-xl border-2 border-[#e2e8f0] hover:bg-[#D1FAE5] hover:border-[#10B981]",children:s.jsx(ln,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl text-[#0f172a] font-semibold",children:"Clinician Profile"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"View details and assigned patients"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-[#10B981] to-[#059669] rounded-2xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ys,{className:"w-20 h-20 border-4 border-white/30",children:s.jsx(ws,{className:"bg-white text-[#10B981] text-xl font-semibold",children:t.name.split(" ").map(c=>c[0]).join("")})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-semibold mb-2",children:t.name}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/90",children:[s.jsx(On,{className:"w-4 h-4"}),s.jsx("span",{children:t.email})]}),t.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/90",children:[s.jsx(Ba,{className:"w-4 h-4"}),s.jsx("span",{children:t.phone})]})]})]})]}),s.jsx(ft,{className:"bg-white/20 text-white border-0",children:"Active"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6 pt-6 border-t border-white/20",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-white/70 mb-1",children:"Patients"}),s.jsx("p",{className:"text-2xl font-semibold",children:t.patientCount})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-white/70 mb-1",children:"Total Charts"}),s.jsx("p",{className:"text-2xl font-semibold",children:t.chartCount})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-white/70 mb-1",children:"Pending Review"}),s.jsx("p",{className:"text-2xl font-semibold",children:a})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(lr,{className:"p-5 border-l-4 border-l-[#10B981]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs text-[#64748b]",children:"Active Patients"}),s.jsx(ur,{className:"w-5 h-5 text-[#10B981]"})]}),s.jsx("p",{className:"text-2xl text-[#0f172a] font-semibold",children:l}),s.jsx("p",{className:"text-xs text-[#10B981] mt-1",children:"Currently assigned"})]}),s.jsxs(lr,{className:"p-5 border-l-4 border-l-[#F59E0B]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs text-[#64748b]",children:"Pending Charts"}),s.jsx(Qs,{className:"w-5 h-5 text-[#F59E0B]"})]}),s.jsx("p",{className:"text-2xl text-[#0f172a] font-semibold",children:a}),s.jsx("p",{className:"text-xs text-[#64748b] mt-1",children:"Awaiting review"})]}),s.jsxs(lr,{className:"p-5 border-l-4 border-l-[#0966CC]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs text-[#64748b]",children:"Verified Charts"}),s.jsx(Nm,{className:"w-5 h-5 text-[#0966CC]"})]}),s.jsx("p",{className:"text-2xl text-[#0f172a] font-semibold",children:o}),s.jsx("p",{className:"text-xs text-[#10B981] mt-1",children:"Ready to deliver"})]})]}),s.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[s.jsx("button",{onClick:()=>i("patients"),className:`px-4 py-2 font-medium text-sm border-b-2 transition-colors ${n==="patients"?"border-[#10B981] text-[#10B981]":"border-transparent text-[#64748b] hover:text-[#0f172a]"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"w-4 h-4"}),"Assigned Patients (",q0.length,")"]})}),s.jsx("button",{onClick:()=>i("charts"),className:`px-4 py-2 font-medium text-sm border-b-2 transition-colors ${n==="charts"?"border-[#10B981] text-[#10B981]":"border-transparent text-[#64748b] hover:text-[#0f172a]"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"w-4 h-4"}),"Recent Charts (",mf.length,")"]})})]}),n==="patients"?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#0f172a]",children:"Assigned Patients"}),s.jsxs(ft,{variant:"outline",className:"text-xs",children:[q0.length," total"]})]}),q0.map(c=>s.jsx(lr,{className:"p-5 hover:shadow-lg transition-all cursor-pointer",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(ys,{className:"w-12 h-12",children:s.jsx(ws,{className:"bg-[#D1FAE5] text-[#10B981]",children:c.name.split(" ").map(u=>u[0]).join("")})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg text-[#0f172a] font-medium",children:c.name}),s.jsx(ft,{variant:"outline",className:c.status==="active"?"border-[#10B981] text-[#10B981] text-xs":"border-[#64748b] text-[#64748b] text-xs",children:c.status==="active"?"Active":"Inactive"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm text-[#64748b]",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ho,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-xs",children:["DOB: ",new Date(c.dob).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ba,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs",children:c.phone})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-xs",children:[c.chartCount," chart",c.chartCount!==1?"s":""]})]}),c.lastChart&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qs,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-xs",children:["Last: ",new Date(c.lastChart).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-slate-100",children:s.jsxs("p",{className:"text-xs text-[#64748b] flex items-center gap-1",children:[s.jsx(qo,{className:"w-3 h-3"}),c.address]})})]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>et.info("Patient detail view coming soon"),className:"border-[#10B981] text-[#10B981] hover:bg-[#D1FAE5]",children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"View"]})]})},c.id)),q0.length===0&&s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-dashed border-slate-200 p-12 text-center",children:[s.jsx(as,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-600 mb-1",children:"No patients assigned"}),s.jsx("p",{className:"text-sm text-slate-400",children:"This clinician has no assigned patients yet"})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#0f172a]",children:"Recent Charts"}),s.jsxs(ft,{variant:"outline",className:"text-xs",children:[mf.length," total"]})]}),mf.map(c=>s.jsx(lr,{className:"p-5 hover:shadow-lg transition-all cursor-pointer",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h4",{className:"text-lg text-[#0f172a] font-medium",children:c.patientName}),s.jsxs(ft,{className:c.status==="Verified"?"bg-[#D1FAE5] text-[#10B981] border-[#A7F3D0]":c.status==="Pending Review"?"bg-[#FEF3C7] text-[#F59E0B] border-[#FDE68A]":"bg-[#DBEAFE] text-[#0966CC] border-[#BFDBFE]",children:[c.status==="Verified"&&s.jsx(ur,{className:"w-3 h-3 mr-1"}),c.status==="Pending Review"&&s.jsx(Qs,{className:"w-3 h-3 mr-1"}),c.status==="Active"&&s.jsx(Cl,{className:"w-3 h-3 mr-1"}),c.status]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-[#64748b]",children:[s.jsx("span",{children:c.type}),s.jsx("span",{children:""}),s.jsxs("span",{children:[c.medicationCount," medication",c.medicationCount!==1?"s":""]}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Created ",new Date(c.createdDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>r.navigate("ChartDetailView",{chartId:c.id,patientName:c.patientName,mode:"review"}),className:"border-[#10B981] text-[#10B981] hover:bg-[#D1FAE5]",children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Review"]})]})},c.id)),mf.length===0&&s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-dashed border-slate-200 p-12 text-center",children:[s.jsx(ir,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-600 mb-1",children:"No charts found"}),s.jsx("p",{className:"text-sm text-slate-400",children:"This clinician hasn't created any charts yet"})]})]})]})}const Mee=[{id:"1",name:"Anna Clinician",assignedCharts:5},{id:"2",name:"Bob Clinician",assignedCharts:3},{id:"3",name:"Carol Clinician",assignedCharts:7}],jx=[{id:"1",name:"Jane Test",dob:"1969-12-31",address:"101 Test Ave, Test City, CA 90210",phone:"555-1001",email:"jane.test@email.com",chartCount:2,assignedClinician:"Anna Clinician",documents:[{id:"d1",name:"Insurance Card Front.pdf",type:"PDF",uploadedDate:"2025-01-10",size:"1.2 MB"},{id:"d2",name:"Medical History.pdf",type:"PDF",uploadedDate:"2025-01-11",size:"850 KB"}]},{id:"2",name:"John Sample",dob:"1972-02-01",address:"202 Sample St, Sample Town, CA 90211",phone:"555-1002",email:"john.sample@email.com",chartCount:1,assignedClinician:"Bob Clinician",documents:[]},{id:"3",name:"Sarah Martinez",dob:"1955-07-12",address:"303 Demo Rd, Demo City, CA 90212",phone:"555-1003",chartCount:0,documents:[{id:"d3",name:"Consent Form.pdf",type:"PDF",uploadedDate:"2025-01-05",size:"520 KB"}]}];function jk({}){const[t,e]=_.useState(""),[r,n]=_.useState(!1),[i,a]=_.useState(!1),[o,l]=_.useState(null),[c,u]=_.useState({name:"",dob:"",address:"",phone:"",email:"",assignedClinician:""}),h=jx.filter(p=>p.name.toLowerCase().includes(t.toLowerCase())||p.phone.includes(t)),m=()=>{if(!c.name||!c.dob){et.error("Please fill in required fields");return}et.success(`Patient "${c.name}" added successfully`),n(!1),u({name:"",dob:"",address:"",phone:"",email:"",assignedClinician:""})},x=()=>{et.success("Document uploaded successfully"),a(!1),l(null)};return s.jsxs("div",{className:"space-y-6 pb-24",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl text-[#0f172a]",children:"Patients"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Manage patient records and assignments"})]}),s.jsxs(fe,{onClick:()=>n(!0),className:"bg-[#10B981] hover:bg-[#059669] text-white",children:[s.jsx($s,{className:"w-4 h-4 mr-2"}),"Add Patient"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(lr,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#64748b]",children:"Total Patients"}),s.jsx("p",{className:"text-2xl text-[#0f172a] mt-1",children:jx.length})]}),s.jsx(as,{className:"w-8 h-8 text-[#10B981]"})]})}),s.jsx(lr,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#64748b]",children:"With Assigned Clinician"}),s.jsx("p",{className:"text-2xl text-[#0f172a] mt-1",children:jx.filter(p=>p.assignedClinician).length})]}),s.jsx(Ts,{className:"w-8 h-8 text-[#0966CC]"})]})}),s.jsx(lr,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#64748b]",children:"With Documents"}),s.jsx("p",{className:"text-2xl text-[#0f172a] mt-1",children:jx.filter(p=>p.documents.length>0).length})]}),s.jsx(ir,{className:"w-8 h-8 text-[#F59E0B]"})]})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(wa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#94a3b8]"}),s.jsx(it,{placeholder:"Search patients by name or phone...",value:t,onChange:p=>e(p.target.value),className:"pl-12 h-12 rounded-xl border-2 border-[#e2e8f0] bg-white"})]}),h.length>0?s.jsx("div",{className:"space-y-3",children:h.map(p=>s.jsx(lr,{className:"p-5 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(ys,{className:"h-12 w-12 bg-gradient-to-br from-[#10B981] to-[#059669]",children:s.jsx(ws,{className:"text-white",children:p.name.split(" ").map(y=>y[0]).join("")})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-[#0f172a]",children:p.name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[p.assignedClinician&&s.jsx(ft,{className:"bg-[#DBEAFE] text-[#0966CC] border-[#BFDBFE]",children:p.assignedClinician}),p.chartCount>0&&s.jsxs(ft,{variant:"outline",className:"border-[#10B981] text-[#10B981]",children:[p.chartCount," chart",p.chartCount!==1?"s":""]}),p.documents.length>0&&s.jsxs(ft,{variant:"outline",className:"border-[#F59E0B] text-[#F59E0B]",children:[s.jsx(Bm,{className:"w-3 h-3 mr-1"}),p.documents.length," doc",p.documents.length!==1?"s":""]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-[#64748b]",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ho,{className:"w-4 h-4"}),s.jsxs("span",{children:["DOB: ",new Date(p.dob).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ba,{className:"w-4 h-4"}),s.jsx("span",{children:p.phone})]}),p.email&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"w-4 h-4"}),s.jsx("span",{children:p.email})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qo,{className:"w-4 h-4"}),s.jsx("span",{children:p.address})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[!p.assignedClinician&&s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>{et.info("Assign clinician feature")},className:"border-[#0966CC] text-[#0966CC] hover:bg-[#DBEAFE]",children:[s.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Assign Clinician"]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>{l(p),a(!0)},className:"border-[#F59E0B] text-[#F59E0B] hover:bg-[#FEF3C7]",children:[s.jsx(Va,{className:"w-4 h-4 mr-2"}),"Upload Document"]}),p.documents.length>0&&s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>{et.info("View documents")},className:"border-[#10B981] text-[#10B981] hover:bg-[#D1FAE5]",children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"View Docs"]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>{et.info("Edit patient")},className:"border-[#64748b] text-[#64748b] hover:bg-[#f8fafc]",children:[s.jsx(bh,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})},p.id))}):s.jsxs(lr,{className:"p-12 text-center",children:[s.jsx(as,{className:"w-12 h-12 text-[#cbd5e1] mx-auto mb-3"}),s.jsx("p",{className:"text-[#64748b]",children:t?"No patients found matching your search.":"No patients yet. Add a patient to get started."})]}),s.jsx(_r,{open:r,onOpenChange:n,children:s.jsxs(jr,{className:"max-w-2xl",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Add New Patient"}),s.jsx(Pr,{children:"Enter patient information and optionally assign to a clinician"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"patient-name",children:"Patient Name *"}),s.jsx(it,{id:"patient-name",value:c.name,onChange:p=>u({...c,name:p.target.value}),placeholder:"Full name",className:"h-11 rounded-xl"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"patient-dob",children:"Date of Birth *"}),s.jsx(it,{id:"patient-dob",type:"date",value:c.dob,onChange:p=>u({...c,dob:p.target.value}),className:"h-11 rounded-xl"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"patient-phone",children:"Phone Number"}),s.jsx(it,{id:"patient-phone",value:c.phone,onChange:p=>u({...c,phone:p.target.value}),placeholder:"555-1234",className:"h-11 rounded-xl"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"patient-email",children:"Email"}),s.jsx(it,{id:"patient-email",type:"email",value:c.email,onChange:p=>u({...c,email:p.target.value}),placeholder:"patient@email.com",className:"h-11 rounded-xl"})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(qe,{htmlFor:"patient-address",children:"Address"}),s.jsx(it,{id:"patient-address",value:c.address,onChange:p=>u({...c,address:p.target.value}),placeholder:"Street, City, State, ZIP",className:"h-11 rounded-xl"})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(qe,{htmlFor:"assigned-clinician",children:"Assign to Clinician (Optional)"}),s.jsxs(ei,{value:c.assignedClinician,onValueChange:p=>u({...c,assignedClinician:p}),children:[s.jsx(ri,{className:"h-11 rounded-xl",children:s.jsx(ti,{placeholder:"Select clinician"})}),s.jsx(ni,{children:Mee.map(p=>s.jsxs(At,{value:p.name,children:[p.name," (",p.assignedCharts," charts)"]},p.id))})]})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsxs(fe,{className:"bg-[#10B981] hover:bg-[#059669]",onClick:m,children:[s.jsx(lc,{className:"w-4 h-4 mr-2"}),"Add Patient"]})]})]})}),s.jsx(_r,{open:i,onOpenChange:a,children:s.jsxs(jr,{children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Upload Document"}),s.jsxs(Pr,{children:["Upload a document for ",o?.name]})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"border-2 border-dashed border-[#e2e8f0] rounded-xl p-8 text-center hover:border-[#10B981] hover:bg-[#F0FDF4] transition-colors cursor-pointer",children:[s.jsx(Va,{className:"w-12 h-12 text-[#94a3b8] mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-[#64748b] mb-1",children:"Click to upload or drag and drop"}),s.jsx("p",{className:"text-xs text-[#94a3b8]",children:"PDF, PNG, JPG up to 10MB"})]})}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>{a(!1),l(null)},children:"Cancel"}),s.jsxs(fe,{className:"bg-[#10B981] hover:bg-[#059669]",onClick:x,children:[s.jsx(Va,{className:"w-4 h-4 mr-2"}),"Upload"]})]})]})})]})}var cg="Tabs",[Bee]=xo(cg,[ng]),Ck=ng(),[Uee,e5]=Bee(cg),_k=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,h=O1(l),[m,x]=cc({prop:n,onChange:i,defaultProp:a??"",caller:cg});return s.jsx(Uee,{scope:r,baseId:Vo(),value:m,onValueChange:x,orientation:o,dir:h,activationMode:c,children:s.jsx(Ar.div,{dir:h,"data-orientation":o,...u,ref:e})})});_k.displayName=cg;var Ak="TabsList",Sk=_.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=e5(Ak,r),o=Ck(r);return s.jsx(ZE,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(Ar.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});Sk.displayName=Ak;var Ek="TabsTrigger",kk=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=e5(Ek,r),l=Ck(r),c=Tk(o.baseId,n),u=Ik(o.baseId,n),h=n===o.value;return s.jsx(JE,{asChild:!0,...l,focusable:!i,active:h,children:s.jsx(Ar.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:Nt(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:Nt(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:Nt(t.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!i&&m&&o.onValueChange(n)})})})});kk.displayName=Ek;var Pk="TabsContent",Vee=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,l=e5(Pk,r),c=Tk(l.baseId,n),u=Ik(l.baseId,n),h=n===l.value,m=_.useRef(h);return _.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),s.jsx(za,{present:i||h,children:({present:x})=>s.jsx(Ar.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!x,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:x&&a})})});Vee.displayName=Pk;function Tk(t,e){return`${t}-trigger-${e}`}function Ik(t,e){return`${t}-content-${e}`}var $ee=_k,zee=Sk,Hee=kk;function qee({className:t,...e}){return s.jsx($ee,{"data-slot":"tabs",className:hr("flex flex-col gap-2",t),...e})}function Wee({className:t,...e}){return s.jsx(zee,{"data-slot":"tabs-list",className:hr("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function o6({className:t,...e}){return s.jsx(Hee,{"data-slot":"tabs-trigger",className:hr("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}const W0=[{id:"1",name:"Anna Clinician",email:"anna.clinician@hha.test",phone:"555-2001",occupation:"Registered Nurse",role:"clinician",activationCode:"ACTV-2025-1001",isActivated:!0,createdDate:"2025-01-05",activatedDate:"2025-01-05",assignedCharts:5},{id:"2",name:"Bob Clinician",email:"bob.clinician@hha.test",phone:"555-2002",occupation:"Licensed Practical Nurse",role:"clinician",activationCode:"ACTV-2025-1002",isActivated:!0,createdDate:"2025-01-08",activatedDate:"2025-01-09",assignedCharts:3},{id:"3",name:"Carol Scheduler",email:"carol.scheduler@hha.test",phone:"555-3001",role:"scheduler",activationCode:"ACTV-2025-2001",isActivated:!0,createdDate:"2025-01-10",activatedDate:"2025-01-10"},{id:"4",name:"David Clinician",email:"david.clinician@hha.test",occupation:"Physician Assistant",role:"clinician",activationCode:"ACTV-2025-1003",isActivated:!1,createdDate:"2025-01-15",assignedCharts:0}];function Dk({}){const[t,e]=_.useState(""),[r,n]=_.useState("all"),[i,a]=_.useState(!1),[o,l]=_.useState("clinician"),[c,u]=_.useState(""),[h,m]=_.useState(!1),[x,p]=_.useState({name:"",email:"",phone:"",occupation:""}),y=W0.filter(D=>{const V=D.name.toLowerCase().includes(t.toLowerCase())||D.email.toLowerCase().includes(t.toLowerCase()),ne=r==="all"||D.role===r;return V&&ne}),w=W0.filter(D=>D.role==="clinician").length,j=W0.filter(D=>D.role==="scheduler").length,C=W0.filter(D=>D.isActivated).length,A=W0.filter(D=>!D.isActivated).length,k=()=>{const D=Date.now().toString(36).toUpperCase(),V=Math.random().toString(36).substring(2,6).toUpperCase();return`ACTV-2025-${D}-${V}`},P=()=>{if(!x.name||!x.email){et.error("Please fill in required fields");return}const D=k();u(D),m(!0),et.success(`${o==="clinician"?"Clinician":"Scheduler"} "${x.name}" added successfully`)},M=async D=>{try{await navigator.clipboard.writeText(D),et.success("Activation code copied to clipboard")}catch{try{const ne=document.createElement("textarea");ne.value=D,ne.style.position="fixed",ne.style.left="-999999px",ne.style.top="-999999px",document.body.appendChild(ne),ne.focus(),ne.select();const B=document.execCommand("copy");ne.remove(),B?et.success("Activation code copied to clipboard"):et.info(`Activation Code: ${D}`,{duration:1e4})}catch{et.info(`Activation Code: ${D}`,{duration:1e4})}}},$=(D,V)=>{k(),et.success(`New activation code generated for ${V}`)},L=()=>{a(!1),m(!1),u(""),p({name:"",email:"",phone:"",occupation:""})};return s.jsxs("div",{className:"space-y-6 pb-24",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl text-[#0f172a]",children:"Users & Onboarding"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Manage clinicians and schedulers"})]}),s.jsxs(fe,{onClick:()=>a(!0),className:"bg-[#10B981] hover:bg-[#059669] text-white",children:[s.jsx($s,{className:"w-4 h-4 mr-2"}),"Add User"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(lr,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#64748b]",children:"Clinicians"}),s.jsx("p",{className:"text-2xl text-[#0f172a] mt-1",children:w})]}),s.jsx(Ts,{className:"w-8 h-8 text-[#0966CC]"})]})}),s.jsx(lr,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#64748b]",children:"Schedulers"}),s.jsx("p",{className:"text-2xl text-[#0f172a] mt-1",children:j})]}),s.jsx(Ho,{className:"w-8 h-8 text-[#F59E0B]"})]})}),s.jsx(lr,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#64748b]",children:"Activated"}),s.jsx("p",{className:"text-2xl text-[#0f172a] mt-1",children:C})]}),s.jsx(ur,{className:"w-8 h-8 text-[#10B981]"})]})}),s.jsx(lr,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#64748b]",children:"Pending"}),s.jsx("p",{className:"text-2xl text-[#0f172a] mt-1",children:A})]}),s.jsx(ym,{className:"w-8 h-8 text-[#DC2626]"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(wa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#94a3b8]"}),s.jsx(it,{placeholder:"Search users by name or email...",value:t,onChange:D=>e(D.target.value),className:"pl-12 h-12 rounded-xl border-2 border-[#e2e8f0] bg-white"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(fe,{variant:r==="all"?"default":"outline",onClick:()=>n("all"),className:r==="all"?"bg-[#10B981] hover:bg-[#059669]":"",children:"All"}),s.jsx(fe,{variant:r==="clinician"?"default":"outline",onClick:()=>n("clinician"),className:r==="clinician"?"bg-[#0966CC] hover:bg-[#075985]":"border-[#0966CC] text-[#0966CC]",children:"Clinicians"}),s.jsx(fe,{variant:r==="scheduler"?"default":"outline",onClick:()=>n("scheduler"),className:r==="scheduler"?"bg-[#F59E0B] hover:bg-[#D97706]":"border-[#F59E0B] text-[#F59E0B]",children:"Schedulers"})]})]}),y.length>0?s.jsx("div",{className:"space-y-3",children:y.map(D=>s.jsx(lr,{className:"p-5 hover:shadow-md transition-shadow",children:s.jsx("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(ys,{className:`h-12 w-12 ${D.role==="clinician"?"bg-gradient-to-br from-[#0966CC] to-[#075985]":"bg-gradient-to-br from-[#F59E0B] to-[#D97706]"}`,children:s.jsx(ws,{className:"text-white",children:D.name.split(" ").map(V=>V[0]).join("")})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"text-lg text-[#0f172a]",children:D.name}),s.jsx(ft,{className:D.role==="clinician"?"bg-[#DBEAFE] text-[#0966CC] border-[#BFDBFE]":"bg-[#FEF3C7] text-[#F59E0B] border-[#FDE68A]",children:D.role==="clinician"?"Clinician":"Scheduler"}),D.isActivated?s.jsxs(ft,{className:"bg-[#D1FAE5] text-[#10B981] border-[#A7F3D0]",children:[s.jsx(ur,{className:"w-3 h-3 mr-1"}),"Activated"]}):s.jsxs(ft,{className:"bg-[#FEE2E2] text-[#DC2626] border-[#FECACA]",children:[s.jsx(ww,{className:"w-3 h-3 mr-1"}),"Pending Activation"]})]}),D.occupation&&s.jsx("p",{className:"text-sm text-[#64748b] mt-1",children:D.occupation})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-[#64748b]",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"w-4 h-4"}),s.jsx("span",{children:D.email})]}),D.phone&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ba,{className:"w-4 h-4"}),s.jsx("span",{children:D.phone})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ho,{className:"w-4 h-4"}),s.jsxs("span",{children:["Added: ",new Date(D.createdDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),D.isActivated&&D.activatedDate&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ur,{className:"w-4 h-4"}),s.jsxs("span",{children:["Activated: ",new Date(D.activatedDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),D.role==="clinician"&&D.assignedCharts!==void 0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yw,{className:"w-4 h-4"}),s.jsxs("span",{children:[D.assignedCharts," assigned chart",D.assignedCharts!==1?"s":""]})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-[#f8fafc] rounded-lg border border-[#e2e8f0]",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx(ym,{className:"w-4 h-4 text-[#64748b]"}),s.jsx("span",{className:"text-sm text-[#64748b]",children:"Activation Code:"}),s.jsx("code",{className:"text-sm bg-white px-2 py-1 rounded border border-[#e2e8f0]",children:D.activationCode})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>M(D.activationCode),className:"h-8",children:s.jsx(qN,{className:"w-4 h-4"})}),!D.isActivated&&s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>$(D.id,D.name),className:"h-8 text-[#0966CC] hover:text-[#075985] hover:bg-[#DBEAFE]",children:s.jsx(wm,{className:"w-4 h-4"})})]})]})})]})})},D.id))}):s.jsxs(lr,{className:"p-12 text-center",children:[s.jsx(as,{className:"w-12 h-12 text-[#cbd5e1] mx-auto mb-3"}),s.jsx("p",{className:"text-[#64748b]",children:t?"No users found matching your search.":"No users yet. Add a user to get started."})]}),s.jsx(_r,{open:i,onOpenChange:a,children:s.jsxs(jr,{className:"max-w-2xl",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Add New User"}),s.jsx(Pr,{children:"Onboard a new clinician or scheduler to your organization"})]}),h?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"py-6 text-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 bg-[#D1FAE5] rounded-full flex items-center justify-center mx-auto",children:s.jsx(ur,{className:"w-8 h-8 text-[#10B981]"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-[#0f172a] mb-2",children:"User Added Successfully!"}),s.jsxs("p",{className:"text-sm text-[#64748b]",children:[x.name," has been added as a ",o,". Share the activation code below."]})]}),s.jsxs("div",{className:"bg-[#f8fafc] border-2 border-[#e2e8f0] rounded-xl p-6",children:[s.jsx("p",{className:"text-sm text-[#64748b] mb-3",children:"Activation Code"}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("code",{className:"text-2xl bg-white px-4 py-3 rounded-lg border-2 border-[#10B981] text-[#0f172a]",children:c}),s.jsxs(fe,{variant:"outline",onClick:()=>M(c),className:"border-[#10B981] text-[#10B981] hover:bg-[#D1FAE5]",children:[s.jsx(qN,{className:"w-4 h-4 mr-2"}),"Copy"]})]}),s.jsx("p",{className:"text-xs text-[#64748b] mt-3",children:"The user will need this code to activate their account"})]})]}),s.jsx(Br,{children:s.jsx(fe,{className:"bg-[#10B981] hover:bg-[#059669]",onClick:L,children:"Done"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(qee,{value:o,onValueChange:D=>l(D),className:"w-full",children:s.jsxs(Wee,{className:"grid w-full grid-cols-2",children:[s.jsx(o6,{value:"clinician",children:"Clinician"}),s.jsx(o6,{value:"scheduler",children:"Scheduler"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"user-name",children:"Full Name *"}),s.jsx(it,{id:"user-name",value:x.name,onChange:D=>p({...x,name:D.target.value}),placeholder:"John Doe",className:"h-11 rounded-xl"})]}),o==="clinician"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"user-occupation",children:"Occupation *"}),s.jsx(it,{id:"user-occupation",value:x.occupation,onChange:D=>p({...x,occupation:D.target.value}),placeholder:"e.g., Registered Nurse",className:"h-11 rounded-xl"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"user-email",children:"Email Address *"}),s.jsx(it,{id:"user-email",type:"email",value:x.email,onChange:D=>p({...x,email:D.target.value}),placeholder:"user@example.com",className:"h-11 rounded-xl"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"user-phone",children:"Phone Number"}),s.jsx(it,{id:"user-phone",value:x.phone,onChange:D=>p({...x,phone:D.target.value}),placeholder:"555-1234",className:"h-11 rounded-xl"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:L,children:"Cancel"}),s.jsxs(fe,{className:"bg-[#10B981] hover:bg-[#059669]",onClick:P,children:[s.jsx($s,{className:"w-4 h-4 mr-2"}),"Add ",o==="clinician"?"Clinician":"Scheduler"]})]})]})]})})]})}const Zl=[{id:"c1",patientName:"Jane Test",patientDob:"1969-12-31",status:"Pending Review",type:"Bottle Scan",medicationCount:3,createdDate:"2025-01-17",createdBy:"Anna Clinician",finalizedDate:"2025-01-17",lowestConfidence:72,verifiedBy:"Anna Clinician",daysOld:3,hasLowConfidence:!0},{id:"c2",patientName:"Jane Test",patientDob:"1969-12-31",status:"Verified",type:"Manual Entry",medicationCount:2,createdDate:"2025-01-15",createdBy:"Anna Clinician",finalizedDate:"2025-01-16",lowestConfidence:95,verifiedBy:"Anna Clinician",reviewedBy:"John Jones",daysOld:1,hasLowConfidence:!1},{id:"c3",patientName:"John Sample",patientDob:"1972-02-01",status:"Active",type:"PDF Import",medicationCount:1,createdDate:"2025-01-18",createdBy:"Bob Clinician",daysOld:0,lowestConfidence:88,hasLowConfidence:!1},{id:"c4",patientName:"Sarah Martinez",patientDob:"1955-07-12",status:"Delivered",type:"Bottle Scan",medicationCount:5,createdDate:"2025-01-10",createdBy:"Anna Clinician",finalizedDate:"2025-01-12",deliveryTimestamp:"2025-01-12T16:23:00",verifiedBy:"Anna Clinician",reviewedBy:"John Jones",lowestConfidence:91,daysOld:8,hasLowConfidence:!1},{id:"c5",patientName:"Jane Test",patientDob:"1969-12-31",status:"Archived",type:"Bottle Scan",medicationCount:4,createdDate:"2024-12-15",createdBy:"Anna Clinician",finalizedDate:"2024-12-16",deliveryTimestamp:"2024-12-20T10:00:00",archivedDate:"2025-01-10",verifiedBy:"Anna Clinician",reviewedBy:"John Jones",lowestConfidence:94,daysOld:34,hasLowConfidence:!1},{id:"c6",patientName:"John Sample",patientDob:"1972-02-01",status:"Archived",type:"Manual Entry",medicationCount:2,createdDate:"2024-11-20",createdBy:"Bob Clinician",finalizedDate:"2024-11-21",deliveryTimestamp:"2024-11-22T14:30:00",archivedDate:"2024-12-22",verifiedBy:"Bob Clinician",reviewedBy:"John Jones",lowestConfidence:89,daysOld:59,hasLowConfidence:!1},{id:"c7",patientName:"Robert Davis",patientDob:"1980-06-15",status:"Needs Reverification",type:"Bottle Scan",medicationCount:4,createdDate:"2025-01-16",createdBy:"Anna Clinician",finalizedDate:"2025-01-17",verifiedBy:"Anna Clinician",lowestConfidence:68,daysOld:2,hasLowConfidence:!0}],pf=[{id:"1",name:"Anna Clinician",email:"clin.anna@hha.test",phone:"555-2001",patientCount:1,chartCount:2,assignedPatients:[{name:"Jane Test",dob:"1969-12-31",chartCount:2}]},{id:"2",name:"Bob Clinician",email:"clin.bob@hha.test",phone:"555-2002",patientCount:1,chartCount:1,assignedPatients:[{name:"John Sample",dob:"1972-02-01",chartCount:1}]}];function Gee({navigation:t}){const{logout:e}=po(),[r,n]=_.useState(!1),[i,a]=_.useState("charts"),[o,l]=_.useState(""),[c,u]=_.useState("all"),[h,m]=_.useState(!1),[x,p]=_.useState(!0),[y,w]=_.useState(!1),[j,C]=_.useState(!1),[A,k]=_.useState(!1),[P,M]=_.useState(!1),[$,L]=_.useState(null),[D,V]=_.useState([]),[ne,B]=_.useState(""),[F,X]=_.useState(""),[ee,xe]=_.useState(""),[oe,pe]=_.useState("7d"),[H,q]=_.useState(new Date),[ie,G]=_.useState(null),[R,z]=_.useState(!0),[U,Q]=_.useState(!1),[J,re]=_.useState(!1),[le,ye]=_.useState(!1),[je,Se]=_.useState(!1),[Be,Fe]=_.useState({patientName:"",clinicianName:"",dateFrom:"",dateTo:"",scanSource:"",confidenceIssues:!1}),[Te,ce]=_.useState({name:"",dob:"",address:"",phone:""}),$e=Zl.length,Ee=Zl.filter(Ce=>Ce.status==="Pending Review").length,lt=Zl.filter(Ce=>Ce.status==="Verified").length,Pe=Zl.filter(Ce=>Ce.status==="Active").length,nt=Zl.filter(Ce=>Ce.status==="Delivered").length,We=Zl.filter(Ce=>Ce.status==="Archived").length,xt=Zl.filter(Ce=>Ce.status==="Needs Reverification").length,ct=Zl.filter(Ce=>Ce.status==="Pending Review"&&Ce.daysOld&&Ce.daysOld>2).length;Zl.filter(Ce=>Ce.createdDate==="2025-01-18").length;const tr=2.3,It=()=>{e(),t.navigate("Landing")},St=Ce=>{a(Ce),n(!1)},fr=()=>{if(!Te.name||!Te.dob){et.error("Please fill in required fields");return}et.success(`Patient "${Te.name}" added successfully`),m(!1),ce({name:"",dob:"",address:"",phone:""})},Ct=(Ce,wt)=>{t.navigate("ChartDetailView",{chartId:Ce,patientName:wt,mode:"review"})},mt=Ce=>{V(wt=>wt.includes(Ce)?wt.filter(tt=>tt!==Ce):[...wt,Ce])},Et=()=>{const Ce=Dt();D.length===Ce.length?V([]):V(Ce.map(wt=>wt.id))},jt=()=>{et.success(`${D.length} chart(s) approved and finalized`),V([])},rr=()=>{k(!0)},cr=()=>{if(!F.trim()){et.error("Please provide a reason for returning");return}et.success("Chart returned to clinician with note"),k(!1),X(""),L(null)},vt=()=>{if(!ee){et.error("Please select a clinician");return}et.success(`Chart reassigned to ${ee}`),M(!1),xe(""),L(null)},Zt=Ce=>{L(Ce),C(!0)},mr=()=>{if(!ne.trim()){et.error("Please provide a reason for reopening");return}et.success("Chart reopened for editing"),C(!1),B(""),L(null)},kt=Ce=>{et.success("PDF download started")},Qt=Ce=>{et.info("Audit log view coming soon")},Dt=()=>Zl.filter(Ce=>{const wt=Ce.patientName.toLowerCase().includes(o.toLowerCase())||Ce.createdBy.toLowerCase().includes(o.toLowerCase()),tt=c==="all"||Ce.status===c;return wt&&tt}),Or=Ce=>pf.find(wt=>wt.name===Ce),Dr=()=>s.jsxs("nav",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>St("charts"),className:`w-full flex items-center justify-between px-3 py-3 rounded-lg transition-colors ${i==="charts"?"bg-[#D1FAE5] text-[#10B981]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ir,{className:"w-5 h-5"}),s.jsx("span",{children:"Charts"})]}),Ee>0&&s.jsx(ft,{className:"bg-[#F59E0B] text-white border-0 h-5 min-w-5 px-1.5 flex items-center justify-center",children:Ee})]}),s.jsxs("button",{onClick:()=>St("patients"),className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors ${i==="patients"?"bg-[#D1FAE5] text-[#10B981]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsx(as,{className:"w-5 h-5"}),s.jsx("span",{children:"Patients"})]}),s.jsxs("button",{onClick:()=>St("clinicians"),className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors ${i==="clinicians"?"bg-[#D1FAE5] text-[#10B981]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsx(Ts,{className:"w-5 h-5"}),s.jsx("span",{children:"Clinicians"})]}),s.jsxs("button",{onClick:()=>St("users"),className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors ${i==="users"?"bg-[#D1FAE5] text-[#10B981]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsx(Tf,{className:"w-5 h-5"}),s.jsx("span",{children:"Users"})]}),s.jsxs("button",{onClick:()=>St("profile"),className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors ${i==="profile"?"bg-[#D1FAE5] text-[#10B981]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsx(Ts,{className:"w-5 h-5"}),s.jsx("span",{children:"Profile"})]}),s.jsxs("button",{onClick:()=>St("settings"),className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors ${i==="settings"?"bg-[#D1FAE5] text-[#10B981]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsx(rc,{className:"w-5 h-5"}),s.jsx("span",{children:"Settings"})]})]}),Cr=()=>{const Ce=Dt(),wt=c!=="all";return s.jsxs("div",{className:"space-y-6 pb-24",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Chart Performance Metrics"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Real-time overview of chart activity"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-white rounded-lg p-1 border border-slate-200",children:[s.jsx("button",{onClick:()=>pe("7d"),className:`px-3 py-1 rounded text-xs font-medium transition-colors ${oe==="7d"?"bg-[#10B981] text-white":"text-slate-600 hover:bg-slate-100"}`,children:"7d"}),s.jsx("button",{onClick:()=>pe("30d"),className:`px-3 py-1 rounded text-xs font-medium transition-colors ${oe==="30d"?"bg-[#10B981] text-white":"text-slate-600 hover:bg-slate-100"}`,children:"30d"}),s.jsx("button",{onClick:()=>pe("ytd"),className:`px-3 py-1 rounded text-xs font-medium transition-colors ${oe==="ytd"?"bg-[#10B981] text-white":"text-slate-600 hover:bg-slate-100"}`,children:"YTD"})]}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white rounded-lg border border-slate-200",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),s.jsx("span",{className:"text-xs text-slate-600",children:"Live data"})]})}),s.jsx(Wr,{children:s.jsxs("p",{className:"text-xs",children:["Updated ",Math.floor((new Date().getTime()-H.getTime())/6e4)," min ago"]})})]})})]})]}),s.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-white rounded-2xl p-4 border border-slate-200 shadow-sm",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border-l-4 border-[#10B981] cursor-help hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-xs text-[#64748b]",children:"Avg Turnaround"}),s.jsx(Qs,{className:"w-4 h-4 text-[#10B981]"})]}),s.jsxs("p",{className:"text-2xl text-[#0f172a] font-semibold",children:[tr," days"]}),s.jsx("p",{className:"text-xs text-[#10B981] mt-1",children:" 12% from last week"})]})}),s.jsxs(Wr,{children:[s.jsx("p",{className:"font-semibold",children:"Average chart verification time"}),s.jsxs("p",{className:"text-xs text-[#94a3b8]",children:["Past ",oe==="7d"?"7":oe==="30d"?"30":"year-to-date"," days"]})]})]})}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border-l-4 border-[#0966CC] cursor-help hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-xs text-[#64748b]",children:"Total Charts"}),s.jsx(Nm,{className:"w-4 h-4 text-[#0966CC]"})]}),s.jsx("p",{className:"text-2xl text-[#0f172a] font-semibold",children:$e}),s.jsx("p",{className:"text-xs text-[#64748b] mt-1",children:"Entire organization"})]})}),s.jsxs(Wr,{children:[s.jsx("p",{className:"font-semibold",children:"Total number of charts"}),s.jsx("p",{className:"text-xs text-[#94a3b8]",children:"All charts in the system"})]})]})}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border-l-4 border-[#DC2626] cursor-help hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-xs text-[#64748b]",children:"Pending >48h"}),s.jsx(Zs,{className:"w-4 h-4 text-[#DC2626]"})]}),s.jsx("p",{className:"text-2xl text-[#0f172a] font-semibold",children:ct}),s.jsx("p",{className:"text-xs text-[#DC2626] mt-1",children:"Needs urgent review"})]})}),s.jsxs(Wr,{children:[s.jsx("p",{className:"font-semibold",children:"Charts waiting more than 48 hours"}),s.jsx("p",{className:"text-xs text-[#94a3b8]",children:"Escalated priority  action required"})]})]})}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border-l-4 border-[#F59E0B] cursor-help hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-xs text-[#64748b]",children:"Medications Scanned"}),s.jsx(Nm,{className:"w-4 h-4 text-[#F59E0B]"})]}),s.jsx("p",{className:"text-2xl text-[#0f172a] font-semibold",children:"243"}),s.jsx("p",{className:"text-xs text-[#64748b] mt-1",children:"Organization total"})]})}),s.jsxs(Wr,{children:[s.jsx("p",{className:"font-semibold",children:"Total medications scanned"}),s.jsx("p",{className:"text-xs text-[#94a3b8]",children:"All medications scanned across organization"})]})]})})]})})]}),s.jsx("div",{className:"sticky top-0 z-10 bg-[#F0FDF4] rounded-xl shadow-sm p-4 border border-[#10B981]/20",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-[#F59E0B] animate-pulse"}),s.jsxs("span",{className:"text-sm",children:[s.jsx("span",{className:"font-semibold text-[#0f172a]",children:Ee}),s.jsx("span",{className:"text-[#64748b]",children:" Pending"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-[#10B981]"}),s.jsxs("span",{className:"text-sm",children:[s.jsx("span",{className:"font-semibold text-[#0f172a]",children:lt}),s.jsx("span",{className:"text-[#64748b]",children:" Verified"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-[#DC2626]"}),s.jsxs("span",{className:"text-sm",children:[s.jsx("span",{className:"font-semibold text-[#0f172a]",children:xt}),s.jsx("span",{className:"text-[#64748b]",children:" Needs Reverification"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-[#0966CC]"}),s.jsxs("span",{className:"text-sm",children:[s.jsx("span",{className:"font-semibold text-[#0f172a]",children:Pe}),s.jsx("span",{className:"text-[#64748b]",children:" Active"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-[#4F46E5]"}),s.jsxs("span",{className:"text-sm",children:[s.jsx("span",{className:"font-semibold text-[#0f172a]",children:nt}),s.jsx("span",{className:"text-[#64748b]",children:" Delivered"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-[#64748b]"}),s.jsxs("span",{className:"text-sm",children:[s.jsx("span",{className:"font-semibold text-[#0f172a]",children:We}),s.jsx("span",{className:"text-[#64748b]",children:" Archived"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[D.length>0&&s.jsxs(ft,{className:"bg-[#10B981] text-white border-0",children:[D.length," selected"]}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-white border border-[#10B981]/30 hover:bg-[#D1FAE5] transition-colors",children:s.jsx(mh,{className:"w-3.5 h-3.5 text-[#10B981]"})}),s.jsx(Wr,{className:"max-w-xs",side:"left",children:s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("p",{className:"font-semibold mb-2",children:"Status Key"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(Qs,{className:"w-3 h-3 text-[#F59E0B]"}),s.jsx("span",{children:"Pending Review"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(Zs,{className:"w-3 h-3 text-[#DC2626]"}),s.jsx("span",{children:"Pending >48h (Overdue)"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(Zs,{className:"w-3 h-3 text-[#F59E0B]"}),s.jsx("span",{children:"Low Confidence (<75%)"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(wm,{className:"w-3 h-3 text-[#64748b]"}),s.jsx("span",{children:"Reopened"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(os,{className:"w-3 h-3 text-[#4F46E5]"}),s.jsx("span",{children:"Delivered (Locked)"})]})]})})]})})]})]})}),wt&&s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"bg-[#0EA5E9]/10 border border-[#0EA5E9]/30 rounded-lg px-3 py-1.5 flex items-center gap-2",children:[s.jsx(Zx,{className:"w-3.5 h-3.5 text-[#0EA5E9]"}),s.jsxs("span",{className:"text-xs font-medium text-[#0EA5E9]",children:["Filtering: ",c," (",Ce.length,")"]}),s.jsx("button",{onClick:()=>u("all"),className:"ml-1 text-[#0EA5E9] hover:text-[#0284C7]",children:s.jsx(zs,{className:"w-3 h-3"})})]})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(xs.div,{whileTap:{scale:.95},children:s.jsx(fe,{variant:c==="all"?"default":"outline",size:"sm",onClick:()=>u("all"),className:c==="all"?"bg-[#10B981] hover:bg-[#059669]":"",children:"All Charts"})}),s.jsx(xs.div,{whileTap:{scale:.95},children:s.jsxs(fe,{variant:c==="Pending Review"?"default":"outline",size:"sm",onClick:()=>u("Pending Review"),className:c==="Pending Review"?"bg-[#F59E0B] hover:bg-[#D97706]":"border-[#F59E0B] text-[#F59E0B]",children:[s.jsx(Qs,{className:"w-3 h-3 mr-1"}),"Pending Review",Ee>0&&s.jsx(ft,{className:"ml-2 bg-white text-[#F59E0B] border-0 h-5 px-1.5",children:Ee})]})}),s.jsx(xs.div,{whileTap:{scale:.95},children:s.jsxs(fe,{variant:c==="Verified"?"default":"outline",size:"sm",onClick:()=>u("Verified"),className:c==="Verified"?"bg-[#10B981] hover:bg-[#059669]":"border-[#10B981] text-[#10B981]",children:[s.jsx(ur,{className:"w-3 h-3 mr-1"}),"Ready to Deliver"]})}),s.jsx(xs.div,{whileTap:{scale:.95},children:s.jsxs(fe,{variant:c==="Needs Reverification"?"default":"outline",size:"sm",onClick:()=>u("Needs Reverification"),className:c==="Needs Reverification"?"bg-[#DC2626] hover:bg-[#B91C1C]":"border-[#DC2626] text-[#DC2626]",children:[s.jsx(X0,{className:"w-3 h-3 mr-1"}),"Needs Reverification"]})}),s.jsx(xs.div,{whileTap:{scale:.95},children:s.jsxs(fe,{variant:c==="Delivered"?"default":"outline",size:"sm",onClick:()=>u("Delivered"),className:c==="Delivered"?"bg-[#4F46E5] hover:bg-[#4338CA]":"border-[#4F46E5] text-[#4F46E5]",children:[s.jsx(os,{className:"w-3 h-3 mr-1"}),"Delivered"]})}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{className:"inline-flex",children:s.jsx(xs.div,{whileTap:{scale:.95},children:s.jsxs(fe,{variant:c==="Active"?"default":"outline",size:"sm",onClick:()=>u("Active"),className:c==="Active"?"bg-[#0966CC] hover:bg-[#075985]":"border-[#0966CC] text-[#0966CC]",children:[s.jsx(Cl,{className:"w-3 h-3 mr-1"}),"Active"]})})}),s.jsxs(Wr,{children:[s.jsx("p",{children:"Chart is in progress"}),s.jsx("p",{className:"text-xs text-[#94a3b8]",children:"Requires clinician completion"})]})]})}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{className:"inline-flex",children:s.jsx(xs.div,{whileTap:{scale:.95},children:s.jsxs(fe,{variant:c==="Archived"?"default":"outline",size:"sm",onClick:()=>u("Archived"),className:c==="Archived"?"bg-[#64748b] hover:bg-[#475569]":"border-[#64748b] text-[#64748b]",children:[s.jsx(uo,{className:"w-3 h-3 mr-1"}),"Archived"]})})}),s.jsxs(Wr,{children:[s.jsx("p",{children:"View archived charts"}),s.jsx("p",{className:"text-xs text-[#94a3b8]",children:"Historical records"})]})]})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"w-4 h-4 text-emerald-600"}),s.jsxs("h3",{className:"text-sm font-semibold text-slate-700",children:["All Charts (",Ce.length,")"]})]})}),s.jsx("div",{className:"flex flex-col gap-3 mb-5",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[Ce.length>0&&s.jsxs("div",{className:"flex items-center gap-2 px-4 h-12 rounded-xl border-2 border-[#e2e8f0] bg-white",children:[s.jsx(sa,{checked:D.length===Ce.length,onCheckedChange:Et,className:"border-[#10B981] data-[state=checked]:bg-[#10B981]"}),s.jsx("span",{className:"text-sm text-[#64748b] whitespace-nowrap",children:"Select All"})]}),s.jsxs("div",{className:"relative flex-1",children:[s.jsx(wa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#94a3b8]"}),s.jsx(it,{placeholder:"Search by patient or clinician name...",value:o,onChange:tt=>l(tt.target.value),className:"pl-12 h-12 rounded-xl border-2 border-[#e2e8f0] bg-white"})]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>w(!0),className:"h-12 border-[#10B981] text-[#10B981] hover:bg-[#D1FAE5]",children:[s.jsx(h_,{className:"w-4 h-4 mr-2"}),"Advanced Search"]})]})}),s.jsx("div",{className:"space-y-3",children:Ce.length===0?s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-dashed border-slate-200 p-12 text-center",children:[s.jsx(ir,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-600 mb-1",children:"No charts found"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Try adjusting your search or filters"})]}):Ce.map(tt=>{const Rr=Or(tt.createdBy),Yr=tt.status==="Pending Review"&&tt.daysOld&&tt.daysOld>2,Lr=D.includes(tt.id),wr=Yr||tt.hasLowConfidence&&tt.lowestConfidence&&tt.lowestConfidence<75;return s.jsxs(xs.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},className:`bg-white rounded-xl border-2 transition-all duration-200 group relative hover:shadow-lg ${Lr?"border-[#10B981] shadow-lg ring-2 ring-[#10B981]/20":"border-[#e2e8f0] hover:border-[#10B981]/30"} ${wr?"border-l-4 border-l-rose-200":""}`,children:[Yr&&s.jsx("div",{className:"absolute -top-2 -right-2 z-10",children:s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{className:"rounded-full",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-[#DC2626] flex items-center justify-center animate-pulse shadow-lg",children:s.jsx(Zs,{className:"w-4 h-4 text-white"})})}),s.jsxs(Wr,{side:"left",children:[s.jsx("p",{className:"font-semibold",children:"Overdue"}),s.jsx("p",{className:"text-xs",children:"Pending >48h - needs urgent review"})]})]})})}),s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"pt-1",children:s.jsx(sa,{checked:Lr,onCheckedChange:()=>mt(tt.id),className:"border-[#10B981] data-[state=checked]:bg-[#10B981]"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[s.jsx("h3",{className:"text-lg text-[#0f172a]",children:tt.patientName}),s.jsx(ft,{className:tt.status==="Delivered"?"bg-[#E0E7FF] text-[#4F46E5] border-[#C7D2FE]":tt.status==="Verified"?"bg-[#D1FAE5] text-[#10B981] border-[#A7F3D0]":tt.status==="Active"?"bg-[#DBEAFE] text-[#0966CC] border-[#BFDBFE]":tt.status==="Archived"?"bg-[#F1F5F9] text-[#64748b] border-[#CBD5E1]":"bg-[#FEF3C7] text-[#F59E0B] border-[#FDE68A]",children:tt.status==="Delivered"?s.jsxs(s.Fragment,{children:[s.jsx(os,{className:"w-3 h-3 mr-1"})," Delivered (Locked)"]}):tt.status==="Verified"?s.jsxs(s.Fragment,{children:[s.jsx(ur,{className:"w-3 h-3 mr-1"})," Verified (Ready to Deliver)"]}):tt.status==="Active"?s.jsxs(s.Fragment,{children:[s.jsx(Cl,{className:"w-3 h-3 mr-1"})," ",tt.status]}):tt.status==="Archived"?s.jsxs(s.Fragment,{children:[s.jsx(uo,{className:"w-3 h-3 mr-1"})," Archived"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qs,{className:"w-3 h-3 mr-1"})," ",tt.status]})}),tt.daysOld!==void 0&&tt.daysOld>0&&s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{children:s.jsxs(ft,{variant:"outline",className:`text-xs ${tt.daysOld>2?"border-[#DC2626] text-[#DC2626] bg-[#DC2626]/5":tt.daysOld>1?"border-[#F59E0B] text-[#F59E0B] bg-[#F59E0B]/5":"border-[#64748b] text-[#64748b]"}`,children:[s.jsx(Qs,{className:"w-3 h-3 mr-1"}),tt.daysOld," day",tt.daysOld!==1?"s":""," old"]})}),s.jsx(Wr,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-semibold",children:"Chart Age"}),s.jsx("div",{className:"w-32 h-1.5 bg-slate-200 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${tt.daysOld>2?"bg-[#DC2626]":tt.daysOld>1?"bg-[#F59E0B]":"bg-[#10B981]"}`,style:{width:`${Math.min(tt.daysOld/3*100,100)}%`}})}),s.jsx("p",{className:"text-xs text-slate-500",children:tt.daysOld>2?"Urgent - Review required":tt.daysOld>1?"Needs attention":"Normal timeline"})]})})]})}),tt.hasLowConfidence&&s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{className:"inline-flex",children:s.jsxs(ft,{variant:"outline",className:"border-[#F59E0B] text-[#F59E0B] text-xs",children:[s.jsx(Zs,{className:"w-3 h-3 mr-1"}),"Low Confidence"]})}),s.jsxs(Wr,{children:[s.jsxs("p",{children:["Lowest confidence: ",tt.lowestConfidence,"%"]}),s.jsx("p",{className:"text-xs text-[#94a3b8]",children:"May need manual review"})]})]})})]}),s.jsxs("p",{className:"text-sm text-[#64748b] mb-2",children:["DOB: ",new Date(tt.patientDob).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),s.jsxs(tp,{children:[s.jsx(rp,{className:"inline-flex items-center justify-center h-8 w-8 p-0 rounded-md hover:bg-accent hover:text-accent-foreground",children:s.jsx(Fm,{className:"w-4 h-4"})}),s.jsxs(np,{align:"end",className:"w-56",children:[s.jsx(Kb,{children:"Chart Actions"}),s.jsx(oc,{}),s.jsxs(fn,{onClick:()=>Ct(tt.id,tt.patientName),children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"View Chart"]}),tt.status!=="Delivered"&&s.jsxs(s.Fragment,{children:[s.jsxs(fn,{onClick:()=>{L(tt.id),M(!0)},children:[s.jsx(_x,{className:"w-4 h-4 mr-2"}),"Reassign Clinician"]}),s.jsxs(fn,{onClick:()=>{L(tt.id),k(!0)},children:[s.jsx(ln,{className:"w-4 h-4 mr-2"}),"Return for Edits"]})]}),s.jsxs(fn,{onClick:()=>et.info("Add note feature coming soon"),children:[s.jsx(Qx,{className:"w-4 h-4 mr-2"}),"Add Admin Note"]}),s.jsx(oc,{}),s.jsxs(fn,{onClick:()=>kt(tt.id),children:[s.jsx(ga,{className:"w-4 h-4 mr-2"}),"Download PDF"]}),s.jsxs(fn,{onClick:()=>Qt(tt.id),children:[s.jsx(lh,{className:"w-4 h-4 mr-2"}),"View Audit Trail"]}),tt.status==="Delivered"&&s.jsxs(s.Fragment,{children:[s.jsx(oc,{}),s.jsxs(fn,{onClick:()=>Zt(tt.id),className:"text-[#DC2626]",children:[s.jsx(X0,{className:"w-4 h-4 mr-2"}),"Reopen Chart"]})]})]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-[#64748b] mb-3",children:[s.jsx("span",{children:tt.type}),tt.medicationCount>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[tt.medicationCount," medication",tt.medicationCount!==1?"s":""]})]}),tt.lowestConfidence&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{className:tt.hasLowConfidence?"text-[#F59E0B] font-medium":"",children:["Confidence: ",tt.lowestConfidence,"%"]})]})]}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{className:"inline-flex text-xs text-[#94a3b8] mb-3 cursor-help",children:s.jsxs("span",{children:["Created ",new Date(tt.createdDate).toLocaleDateString("en-US",{month:"short",day:"numeric"}),tt.finalizedDate&&s.jsxs(s.Fragment,{children:["  Finalized ",new Date(tt.finalizedDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),"  ",s.jsx("span",{className:"font-semibold text-[#0f172a]",children:tt.createdBy})]})}),s.jsx(Wr,{side:"top",className:"max-w-xs",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-[#94a3b8]",children:"Created"}),s.jsx("p",{children:new Date(tt.createdDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),Rr&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-[#94a3b8]",children:"Clinician"}),s.jsx("p",{className:"font-semibold",children:Rr.name}),s.jsxs("p",{className:"text-xs flex items-center gap-1",children:[s.jsx(On,{className:"w-3 h-3"}),Rr.email]}),Rr.phone&&s.jsxs("p",{className:"text-xs flex items-center gap-1",children:[s.jsx(Ba,{className:"w-3 h-3"}),Rr.phone]})]}),tt.finalizedDate&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-[#94a3b8]",children:"Finalized"}),s.jsx("p",{children:new Date(tt.finalizedDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})})]})}),(tt.verifiedBy||tt.reviewedBy||tt.deliveryTimestamp)&&s.jsxs("div",{className:"bg-[#f8fafc] rounded-lg p-3 space-y-1 text-xs opacity-70 hover:opacity-100 transition-opacity",children:[tt.verifiedBy&&s.jsxs("div",{className:"flex items-center gap-2 text-[#64748b]",children:[s.jsx(ur,{className:"w-3 h-3 text-[#10B981]"}),s.jsxs("span",{children:["Verified by: ",s.jsx("span",{className:"text-[#0f172a] font-medium",children:tt.verifiedBy})]})]}),tt.reviewedBy&&s.jsxs("div",{className:"flex items-center gap-2 text-[#64748b]",children:[s.jsx(Ps,{className:"w-3 h-3 text-[#0966CC]"}),s.jsxs("span",{children:["Admin Reviewed: ",s.jsx("span",{className:"text-[#0f172a] font-medium",children:tt.reviewedBy})]})]}),tt.deliveryTimestamp&&s.jsxs("div",{className:"flex items-center gap-2 text-[#64748b]",children:[s.jsx(Js,{className:"w-3 h-3 text-[#4F46E5]"}),s.jsxs("span",{children:["Delivery: ",s.jsx("span",{className:"text-[#0f172a] font-medium",children:new Date(tt.deliveryTimestamp).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]})]}),s.jsxs("button",{onClick:()=>Qt(tt.id),className:"text-[#10B981] hover:text-[#059669] flex items-center gap-1 font-medium mt-1",children:[s.jsx(lh,{className:"w-3 h-3"}),"View Audit Trail"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[(tt.status==="Verified"||tt.status==="Pending Review")&&s.jsxs(fe,{size:"sm",onClick:()=>Ct(tt.id,tt.patientName),className:"bg-[#10B981] hover:bg-[#059669] text-white",children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Review Chart"]}),(tt.status==="Active"||tt.status==="Delivered")&&s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>Ct(tt.id,tt.patientName),className:"border-[#64748b] text-[#64748b] hover:bg-[#f8fafc]",children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"View Chart"]}),tt.status==="Delivered"&&s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{className:"inline-flex",children:s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>Zt(tt.id),className:"border-[#DC2626] text-[#DC2626] hover:bg-[#FEE2E2]",children:[s.jsx(X0,{className:"w-4 h-4 mr-2"}),"Reopen"]})}),s.jsxs(Wr,{children:[s.jsx("p",{children:"Delivered charts are locked."}),s.jsx("p",{className:"text-xs text-[#94a3b8]",children:"Admins may reopen with audit reason."})]})]})})]})]})]})})]},tt.id)})})]}),D.length>0&&s.jsx(xs.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:"fixed bottom-0 left-0 right-0 md:left-64 bg-white border-t-2 border-[#10B981] shadow-2xl p-4 z-20",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ft,{className:"bg-[#10B981] text-white border-0 px-3 py-1",children:[D.length," Chart",D.length!==1?"s":""," Selected"]}),s.jsxs(fe,{variant:"ghost",size:"sm",onClick:()=>V([]),className:"text-[#64748b]",children:[s.jsx(zs,{className:"w-4 h-4 mr-1"}),"Clear"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(xs.div,{whileTap:{scale:.95},children:s.jsxs(fe,{size:"sm",onClick:jt,className:"bg-[#10B981] hover:bg-[#059669] text-white",children:[s.jsx(lc,{className:"w-4 h-4 mr-2"}),"Approve & Finalize"]})}),s.jsx(xs.div,{whileTap:{scale:.95},children:s.jsxs(fe,{variant:"outline",size:"sm",onClick:rr,className:"border-[#F59E0B] text-[#F59E0B] hover:bg-[#FEF3C7]",children:[s.jsx(ln,{className:"w-4 h-4 mr-2"}),"Return to Clinician"]})}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>et.info("Bulk attach feature coming soon"),className:"border-[#64748b] text-[#64748b] hover:bg-[#f8fafc]",children:[s.jsx(Bm,{className:"w-4 h-4 mr-2"}),"Attach Docs"]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>M(!0),className:"border-[#0966CC] text-[#0966CC] hover:bg-[#DBEAFE]",children:[s.jsx(Tf,{className:"w-4 h-4 mr-2"}),"Reassign"]})]})]})})]})},Mt=()=>ie?s.jsx(Fee,{clinician:ie,onBack:()=>G(null),navigation:t}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-11 h-11 rounded-xl bg-[#D1FAE5] flex items-center justify-center",children:s.jsx(Ts,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl text-[#0f172a] font-semibold",children:pf.length}),s.jsx("p",{className:"text-xs font-semibold text-[#64748b]",children:"Total Clinicians"})]})]})}),s.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-11 h-11 rounded-xl bg-[#DBEAFE] flex items-center justify-center",children:s.jsx(ur,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl text-[#0f172a] font-semibold",children:pf.length}),s.jsx("p",{className:"text-xs font-semibold text-[#64748b]",children:"Active"})]})]})}),s.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-11 h-11 rounded-xl bg-[#FEF3C7] flex items-center justify-center",children:s.jsx(ir,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl text-[#0f172a] font-semibold",children:pf.reduce((Ce,wt)=>Ce+wt.chartCount,0)}),s.jsx("p",{className:"text-xs font-semibold text-[#64748b]",children:"Total Charts"})]})]})})]}),s.jsx("div",{className:"space-y-3",children:pf.map(Ce=>s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-5 hover:shadow-md transition-all",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(ys,{className:"w-12 h-12",children:s.jsx(ws,{className:"bg-[#D1FAE5] text-[#10B981]",children:Ce.name.split(" ").map(wt=>wt[0]).join("")})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-[#0f172a]",children:Ce.name}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#64748b]",children:[s.jsx(On,{className:"w-4 h-4"}),s.jsx("span",{children:Ce.email})]}),Ce.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#64748b]",children:[s.jsx(Ba,{className:"w-4 h-4"}),s.jsx("span",{children:Ce.phone})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-[#64748b]",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"w-4 h-4"}),s.jsxs("span",{children:[Ce.patientCount," patient",Ce.patientCount!==1?"s":""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"w-4 h-4"}),s.jsxs("span",{children:[Ce.chartCount," chart",Ce.chartCount!==1?"s":""]})]})]})]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>G(Ce),className:"border-[#10B981] text-[#10B981] hover:bg-[#D1FAE5]",children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"View Profile"]})]}),Ce.assignedPatients.length>0&&s.jsxs("div",{className:"pt-3 border-t border-[#e2e8f0]",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-2",children:"Assigned Patients:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Ce.assignedPatients.map((wt,tt)=>s.jsx(ft,{variant:"outline",className:"text-xs",children:wt.name},tt))})]})]},Ce.id))})]}),ge=[{id:"1",device:"Chrome on Windows",location:"Phoenix, AZ",ip:"192.168.1.1",lastActive:"Active now",current:!0},{id:"2",device:"Safari on iPhone",location:"Phoenix, AZ",ip:"192.168.1.45",lastActive:"2 hours ago",current:!1},{id:"3",device:"Chrome on MacBook",location:"Scottsdale, AZ",ip:"10.0.0.23",lastActive:"Yesterday",current:!1}],pt=Ce=>{z(Ce),Ce?re(!0):et.info("Two-factor authentication disabled")},bt=Ce=>{et.success("Session revoked successfully")},yr=()=>{const Ce={name:"Jennifer Martinez",role:"Agency Administrator",email:"admin@qa-hha.test",phone:"+1 (555) 123-4567",address:"456 Admin Building, Healthcare City, HC 12345",agency:"Luminous QA  Test HHA",agencyLicense:"HHA-789456",agencyNPI:"1234567890",agencyAddress:"123 Healthcare Blvd, Medical City, HC 12345",agencyPhone:"(555) 123-4567",supportEmail:"support@healthcarepartners.com",accountCreated:"Jan 07, 2025",lastUpdated:"Feb 01, 2025",totalUsers:24,totalClinicians:18,totalPatients:156,chartsThisMonth:37,avgTurnaround:"2.1 days"},wt=()=>{et.success("Avatar upload feature coming soon")},tt=()=>{et.info("Avatar removed")};return s.jsxs("div",{className:"max-w-4xl space-y-5",children:[s.jsx(lr,{className:"p-6 bg-gradient-to-r from-[#10B981] to-[#059669] border-0 text-white",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ys,{className:"w-24 h-24 border-4 border-white/30",children:s.jsx(ws,{className:"bg-white text-[#10B981] text-2xl",children:"JM"})}),s.jsxs("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 flex gap-2",children:[s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsx("button",{onClick:wt,className:"w-8 h-8 rounded-full bg-white text-[#10B981] flex items-center justify-center shadow-lg hover:bg-slate-50 transition-colors",children:s.jsx(Vs,{className:"w-4 h-4"})})}),s.jsx(Wr,{children:s.jsx("p",{children:"Upload photo"})})]})}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsx("button",{onClick:tt,className:"w-8 h-8 rounded-full bg-white text-red-600 flex items-center justify-center shadow-lg hover:bg-slate-50 transition-colors",children:s.jsx(Hf,{className:"w-4 h-4"})})}),s.jsx(Wr,{children:s.jsx("p",{children:"Remove photo"})})]})})]})]}),s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsx("h2",{className:"text-2xl mb-1",children:Ce.name}),s.jsx(ft,{className:"bg-white/20 text-white border-white/30 mb-2",children:Ce.role}),s.jsxs("button",{onClick:()=>Se(!0),className:"text-sm text-white/90 hover:text-white flex items-center gap-1 transition-colors mx-auto md:mx-0",children:[Ce.agency,s.jsx(_1,{className:"w-3 h-3"})]})]})]})}),s.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-white rounded-2xl p-4 border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(l_,{className:"w-4 h-4 text-[#10B981]"}),s.jsx("h3",{className:"text-sm font-semibold text-[#0f172a]",children:"Agency Overview"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl text-[#10B981] font-semibold",children:Ce.totalUsers}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Agency Users"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl text-[#0966CC] font-semibold",children:Ce.totalClinicians}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Clinicians"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl text-[#F59E0B] font-semibold",children:Ce.chartsThisMonth}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Charts this month"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl text-[#10B981] font-semibold",children:Ce.avgTurnaround}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Avg turnaround"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"w-4 h-4 text-[#10B981]"}),s.jsx("h3",{className:"text-sm font-semibold text-[#0f172a]",children:"User Details"})]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>et.info("Edit profile coming soon"),className:"border-[#10B981] text-[#10B981] hover:bg-[#D1FAE5]",children:[s.jsx(bh,{className:"w-3 h-3 mr-2"}),"Edit"]})]}),s.jsx(lr,{className:"p-5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(On,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Email Address"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:Ce.email})]})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(Ba,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Phone Number"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:Ce.phone})]})]})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ya,{className:"w-4 h-4 text-[#10B981]"}),s.jsx("h3",{className:"text-sm font-semibold text-[#0f172a]",children:"Agency Information"})]}),s.jsxs(fe,{variant:"ghost",size:"sm",onClick:()=>Se(!0),className:"text-[#10B981] hover:text-[#059669] hover:bg-[#D1FAE5]",children:["View Details",s.jsx(Xr,{className:"w-4 h-4 ml-1"})]})]}),s.jsx(lr,{className:"p-5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(ya,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Agency Name"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:Ce.agency})]})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(na,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"License Number"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:Ce.agencyLicense})]})]})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ba,{className:"w-4 h-4 text-[#10B981]"}),s.jsx("h3",{className:"text-sm font-semibold text-[#0f172a]",children:"Contact Information"})]}),s.jsx(lr,{className:"p-5",children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(qo,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Address"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:Ce.address})]})]})})})]}),s.jsx(lr,{className:"p-4 bg-slate-50 border-slate-200",children:s.jsxs("div",{className:"flex items-start gap-2 text-xs text-[#64748b]",children:[s.jsx(Qs,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{children:[" Account created: ",Ce.accountCreated]}),s.jsxs("p",{children:[" Last updated: ",Ce.lastUpdated]})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(fe,{variant:"outline",className:"flex-1 border-[#0966CC] text-[#0966CC] hover:bg-[#DBEAFE]",onClick:()=>et.info("Support contact coming soon"),children:[s.jsx(Qx,{className:"w-4 h-4 mr-2"}),"Contact Support"]}),s.jsxs(fe,{variant:"outline",className:"flex-1 border-[#64748b] text-[#64748b] hover:bg-slate-100",onClick:()=>et.info("Documentation coming soon"),children:[s.jsx(c_,{className:"w-4 h-4 mr-2"}),"View Docs"]})]}),s.jsx(_r,{open:je,onOpenChange:Se,children:s.jsxs(jr,{className:"max-w-2xl",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Agency Details"}),s.jsx(Pr,{children:"Complete information about your healthcare agency"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Agency Name"}),s.jsx("p",{className:"text-sm text-[#0f172a] font-medium",children:Ce.agency})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"License Number"}),s.jsx("p",{className:"text-sm text-[#0f172a] font-medium",children:Ce.agencyLicense})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"NPI Number"}),s.jsx("p",{className:"text-sm text-[#0f172a] font-medium",children:Ce.agencyNPI})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Support Email"}),s.jsx("p",{className:"text-sm text-[#0f172a] font-medium",children:Ce.supportEmail})]})]}),s.jsx(Ur,{}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Agency Address"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:Ce.agencyAddress})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Agency Phone"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:Ce.agencyPhone})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[s.jsx(as,{className:"w-4 h-4 text-[#10B981] mt-0.5"}),s.jsx("p",{className:"text-sm font-medium text-[#0f172a]",children:"Facility Users"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xl text-[#10B981] font-semibold",children:Ce.totalUsers}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Total Users"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xl text-[#0966CC] font-semibold",children:Ce.totalClinicians}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Clinicians"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xl text-[#F59E0B] font-semibold",children:Ce.totalPatients}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Patients"})]})]})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>Se(!1),children:"Close"}),s.jsx(fe,{className:"bg-[#10B981] hover:bg-[#059669]",onClick:()=>t.navigate("AgencyAdminSettings"),children:"Manage Agency"})]})]})})]})},Qr=()=>{const Ce=[{name:"Manage Clinicians",icon:as,action:()=>a("clinicians"),color:"#0966CC"},{name:"Approve Charts",icon:ir,action:()=>a("charts"),color:"#10B981"},{name:"Manage Agency Settings",icon:ya,action:()=>et.info("Agency settings coming soon"),color:"#F59E0B"},{name:"Export Data",icon:ga,action:()=>et.success("Data export initiated"),color:"#06B6D4"}];return s.jsxs("div",{className:"max-w-4xl space-y-5",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"ACCOUNT"}),s.jsx("div",{className:"bg-white rounded-2xl border border-[#e2e8f0] overflow-hidden",children:s.jsxs("button",{onClick:()=>a("profile"),className:"w-full flex items-center justify-between p-4 hover:bg-[#f8fafc] transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center",children:s.jsx(Ts,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Profile"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"View your profile"})]})]}),s.jsx(Xr,{className:"w-5 h-5 text-[#cbd5e1]"})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"SECURITY"}),s.jsx(lr,{className:"p-5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#DBEAFE] flex items-center justify-center flex-shrink-0",children:s.jsx(os,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Password"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Last changed 30 days ago"})]})]}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>Q(!0),className:"text-[#0966CC] hover:text-[#075985] hover:bg-[#DBEAFE]",children:"Change"})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(Jf,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Two-Factor Authentication"}),R&&s.jsx(ft,{variant:"outline",className:"border-[#10B981] text-[#10B981] text-xs h-5",children:" Enabled"})]}),s.jsx("p",{className:"text-xs text-[#64748b]",children:R?"Extra security for your account":"Add extra layer of security"})]})]}),s.jsx(Mi,{checked:R,onCheckedChange:pt,className:"data-[state=checked]:bg-[#10B981]"})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center flex-shrink-0",children:s.jsx(Mm,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Last Login"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:" Phoenix, AZ"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:" Today at 9:42 AM"})]})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0E7FF] flex items-center justify-center flex-shrink-0",children:s.jsx(fo,{className:"w-5 h-5 text-[#4F46E5]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Active Sessions"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"3 devices signed in"})]})]}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>ye(!0),className:"text-[#4F46E5] hover:text-[#4338CA] hover:bg-[#E0E7FF]",children:"View"})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"QUICK ACTIONS"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Ce.map((wt,tt)=>{const Rr=wt.icon;return s.jsxs(fe,{onClick:wt.action,variant:"outline",className:"h-auto p-4 flex items-center justify-start gap-3 hover:border-[#10B981] hover:bg-[#D1FAE5] transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${wt.color}20`},children:s.jsx(Rr,{className:"w-5 h-5",style:{color:wt.color}})}),s.jsx("span",{className:"text-sm text-[#0f172a]",children:wt.name}),s.jsx(Xr,{className:"w-4 h-4 text-[#cbd5e1] ml-auto"})]},tt)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"NOTIFICATIONS"}),s.jsxs("div",{className:"bg-white rounded-2xl border border-[#e2e8f0] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#e2e8f0]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center",children:s.jsx(On,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Email Notifications"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Receive email updates"})]})]}),s.jsx(Mi,{className:"data-[state=checked]:bg-[#10B981]",defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center",children:s.jsx(ir,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Chart Alerts"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Pending review notifications"})]})]}),s.jsx(Mi,{className:"data-[state=checked]:bg-[#10B981]",defaultChecked:!0})]})]})]}),s.jsx(_r,{open:J,onOpenChange:re,children:s.jsxs(jr,{children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Enable Two-Factor Authentication"}),s.jsx(Pr,{children:"Scan the QR code with your authenticator app"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("div",{className:"w-48 h-48 bg-slate-100 rounded-lg mx-auto flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-slate-500",children:"QR Code Here"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-[#0f172a]",children:"Verification Code"}),s.jsx("input",{type:"text",className:"w-full h-10 px-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-[#10B981]",placeholder:"Enter 6-digit code"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>re(!1),children:"Cancel"}),s.jsx(fe,{className:"bg-[#10B981] hover:bg-[#059669]",onClick:()=>{re(!1),et.success("Two-factor authentication enabled")},children:"Verify & Enable"})]})]})}),s.jsx(_r,{open:le,onOpenChange:ye,children:s.jsxs(jr,{className:"max-w-2xl",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Active Sessions"}),s.jsx(Pr,{children:"Manage devices where you're currently signed in"})]}),s.jsx("div",{className:"space-y-3 py-4 max-h-96 overflow-y-auto",children:ge.map(wt=>s.jsx(lr,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#DBEAFE] flex items-center justify-center flex-shrink-0",children:s.jsx(fo,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[#0f172a]",children:wt.device}),wt.current&&s.jsx(ft,{variant:"outline",className:"border-[#10B981] text-[#10B981] text-xs h-5",children:"Current"})]}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[" ",wt.location]}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:["IP: ",wt.ip]}),s.jsx("p",{className:"text-xs text-[#64748b]",children:wt.lastActive})]})]}),!wt.current&&s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>bt(wt.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Revoke"})]})},wt.id))}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>ye(!1),children:"Close"}),s.jsxs(fe,{variant:"destructive",onClick:()=>{et.success("All other sessions revoked"),ye(!1)},children:[s.jsx(Zs,{className:"w-4 h-4 mr-2"}),"Revoke All Others"]})]})]})}),s.jsx(_r,{open:U,onOpenChange:Q,children:s.jsxs(jr,{children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Change Password"}),s.jsx(Pr,{children:"Choose a strong password to keep your account secure"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-[#0f172a]",children:"Current Password"}),s.jsx("input",{type:"password",className:"w-full h-10 px-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-[#10B981]",placeholder:"Enter current password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-[#0f172a]",children:"New Password"}),s.jsx("input",{type:"password",className:"w-full h-10 px-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-[#10B981]",placeholder:"Enter new password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-[#0f172a]",children:"Confirm New Password"}),s.jsx("input",{type:"password",className:"w-full h-10 px-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-[#10B981]",placeholder:"Confirm new password"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>Q(!1),children:"Cancel"}),s.jsx(fe,{className:"bg-[#10B981] hover:bg-[#059669]",onClick:()=>{Q(!1),et.success("Password changed successfully")},children:"Update Password"})]})]})})]})};return s.jsxs("div",{className:"h-screen flex bg-[#f8fafc] overflow-hidden",children:[s.jsxs("aside",{className:"hidden md:flex md:flex-col w-64 bg-white border-r border-[#e2e8f0]",children:[s.jsxs("div",{className:"border-b border-[#e2e8f0] p-6",children:[s.jsx("div",{className:"mb-1 text-sm text-[#64748b]",children:"Luminous Home Health"}),s.jsx("div",{className:"text-lg text-[#0f172a]",children:"Agency Admin"})]}),s.jsx("div",{className:"flex-1 py-4 px-3 overflow-y-auto",children:Dr()}),s.jsx("div",{className:"border-t border-[#e2e8f0] p-4",children:s.jsxs(fe,{onClick:It,variant:"outline",className:"w-full border-[#DC2626] text-[#DC2626] hover:bg-[#FEE2E2]",children:[s.jsx(Yc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})})]}),s.jsx(Jd,{open:r,onOpenChange:n,children:s.jsxs(Qd,{side:"left",className:"w-[280px] sm:w-[320px] p-0 flex flex-col",children:[s.jsxs(eu,{className:"border-b border-[#e2e8f0] p-6",children:[s.jsxs(tu,{className:"text-left",children:[s.jsx("div",{className:"mb-1 text-sm text-[#64748b]",children:"Luminous Home Health"}),s.jsx("div",{className:"text-lg text-[#0f172a]",children:"Agency Admin"})]}),s.jsx(Rf,{className:"sr-only",children:"Navigation menu for Agency Admin Portal"})]}),s.jsx("div",{className:"flex-1 py-4 px-3 overflow-y-auto",children:Dr()}),s.jsx("div",{className:"border-t border-[#e2e8f0] p-4",children:s.jsxs(fe,{onClick:It,variant:"outline",className:"w-full border-[#DC2626] text-[#DC2626] hover:bg-[#FEE2E2]",children:[s.jsx(Yc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})})]})}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"bg-white border-b border-[#e2e8f0] px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n(!0),className:"md:hidden w-10 h-10 rounded-xl bg-[#f8fafc] hover:bg-[#f1f5f9] flex items-center justify-center transition-colors",children:s.jsx(A1,{className:"w-5 h-5 text-[#64748b]"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-xl text-[#0f172a]",children:[i==="charts"&&"Charts",i==="patients"&&"Patients",i==="clinicians"&&"Clinicians",i==="users"&&"Users & Onboarding",i==="profile"&&"My Profile",i==="settings"&&"Settings"]}),s.jsxs("p",{className:"text-sm text-[#64748b]",children:[i==="charts"&&"Review and manage patient charts",i==="patients"&&"Manage patient information",i==="clinicians"&&"Manage clinician accounts",i==="users"&&"Onboard and manage users",i==="profile"&&"View and manage your profile",i==="settings"&&"Manage your account settings"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1.5 rounded-lg bg-[#f8fafc]",children:x?s.jsxs(s.Fragment,{children:[s.jsx(f_,{className:"w-4 h-4 text-[#10B981]"}),s.jsx("span",{className:"text-xs text-[#10B981]",children:"Online"})]}):s.jsxs(s.Fragment,{children:[s.jsx(If,{className:"w-4 h-4 text-[#DC2626]"}),s.jsx("span",{className:"text-xs text-[#DC2626]",children:"Offline"})]})}),s.jsxs("button",{className:"w-10 h-10 rounded-xl bg-[#f8fafc] hover:bg-[#f1f5f9] flex items-center justify-center relative transition-colors",children:[s.jsx(fh,{className:"w-5 h-5 text-[#64748b]"}),Ee>0&&s.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-[#F59E0B] border-2 border-white"})]})]})]})}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[i==="charts"&&Cr(),i==="patients"&&s.jsx(jk,{}),i==="clinicians"&&Mt(),i==="users"&&s.jsx(Dk,{}),i==="profile"&&yr(),i==="settings"&&Qr()]})]}),s.jsx(K1,{position:"top-right"}),s.jsx(_r,{open:h,onOpenChange:m,children:s.jsxs(jr,{className:"sm:max-w-[500px]",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Add New Patient"}),s.jsx(Pr,{children:"Enter patient information to create a new record"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"name",children:"Full Name *"}),s.jsx(it,{id:"name",value:Te.name,onChange:Ce=>ce({...Te,name:Ce.target.value}),placeholder:"Jane Doe",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-white"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"dob",children:"Date of Birth *"}),s.jsx(it,{id:"dob",type:"date",value:Te.dob,onChange:Ce=>ce({...Te,dob:Ce.target.value}),className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-white"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"address",children:"Address"}),s.jsx(it,{id:"address",value:Te.address,onChange:Ce=>ce({...Te,address:Ce.target.value}),placeholder:"123 Main St, City, State",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-white"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"phone",children:"Phone"}),s.jsx(it,{id:"phone",value:Te.phone,onChange:Ce=>ce({...Te,phone:Ce.target.value}),placeholder:"(555) 123-4567",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0] bg-white"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>m(!1),className:"h-12 rounded-xl",children:"Cancel"}),s.jsxs(fe,{onClick:fr,className:"h-12 rounded-xl bg-[#10B981] hover:bg-[#059669] text-white",children:[s.jsx($s,{className:"w-4 h-4 mr-2"}),"Add Patient"]})]})]})}),s.jsx(_r,{open:y,onOpenChange:w,children:s.jsxs(jr,{className:"sm:max-w-[600px]",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Advanced Search"}),s.jsx(Pr,{children:"Search charts with multiple filters"})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"adv-patient",children:"Patient Name"}),s.jsx(it,{id:"adv-patient",value:Be.patientName,onChange:Ce=>Fe({...Be,patientName:Ce.target.value}),placeholder:"Search...",className:"mt-2"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"adv-clinician",children:"Clinician Name"}),s.jsx(it,{id:"adv-clinician",value:Be.clinicianName,onChange:Ce=>Fe({...Be,clinicianName:Ce.target.value}),placeholder:"Search...",className:"mt-2"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"adv-date-from",children:"Date From"}),s.jsx(it,{id:"adv-date-from",type:"date",value:Be.dateFrom,onChange:Ce=>Fe({...Be,dateFrom:Ce.target.value}),className:"mt-2"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"adv-date-to",children:"Date To"}),s.jsx(it,{id:"adv-date-to",type:"date",value:Be.dateTo,onChange:Ce=>Fe({...Be,dateTo:Ce.target.value}),className:"mt-2"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"adv-source",children:"Scan Source"}),s.jsxs(ei,{value:Be.scanSource,onValueChange:Ce=>Fe({...Be,scanSource:Ce}),children:[s.jsx(ri,{className:"mt-2",children:s.jsx(ti,{placeholder:"All sources"})}),s.jsxs(ni,{children:[s.jsx(At,{value:"all",children:"All Sources"}),s.jsx(At,{value:"bottle",children:"Bottle Scan"}),s.jsx(At,{value:"pdf",children:"PDF Import"}),s.jsx(At,{value:"manual",children:"Manual Entry"})]})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("div",{className:"flex items-center space-x-2 pb-2",children:[s.jsx(sa,{id:"adv-confidence",checked:Be.confidenceIssues,onCheckedChange:Ce=>Fe({...Be,confidenceIssues:Ce})}),s.jsx(qe,{htmlFor:"adv-confidence",className:"text-sm cursor-pointer",children:"Low confidence only"})]})})]})}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>{Fe({patientName:"",clinicianName:"",dateFrom:"",dateTo:"",scanSource:"",confidenceIssues:!1})},children:"Clear Filters"}),s.jsxs(fe,{onClick:()=>{et.info("Advanced search applied"),w(!1)},className:"bg-[#10B981] hover:bg-[#059669] text-white",children:[s.jsx(wa,{className:"w-4 h-4 mr-2"}),"Apply Filters"]})]})]})}),s.jsx(_r,{open:j,onOpenChange:C,children:s.jsxs(jr,{className:"sm:max-w-[500px]",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Reopen Delivered Chart"}),s.jsx(Pr,{children:"This chart is locked. Please provide a reason for reopening for audit purposes."})]}),s.jsxs("div",{className:"py-4",children:[s.jsx(qe,{htmlFor:"reopen-reason",children:"Audit Reason *"}),s.jsx(lu,{id:"reopen-reason",value:ne,onChange:Ce=>B(Ce.target.value),placeholder:"e.g., Medication dosage correction needed, patient request...",className:"mt-2 min-h-[100px]"})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>{C(!1),B(""),L(null)},children:"Cancel"}),s.jsxs(fe,{onClick:mr,className:"bg-[#DC2626] hover:bg-[#B91C1C] text-white",children:[s.jsx(X0,{className:"w-4 h-4 mr-2"}),"Reopen Chart"]})]})]})}),s.jsx(_r,{open:A,onOpenChange:k,children:s.jsxs(jr,{className:"sm:max-w-[500px]",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Return Chart to Clinician"}),s.jsx(Pr,{children:"Provide feedback for the clinician about what needs to be corrected."})]}),s.jsxs("div",{className:"py-4",children:[s.jsx(qe,{htmlFor:"return-note",children:"Feedback for Clinician *"}),s.jsx(lu,{id:"return-note",value:F,onChange:Ce=>X(Ce.target.value),placeholder:"e.g., Please verify medication dosages, missing prescription details...",className:"mt-2 min-h-[100px]"})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>{k(!1),X(""),L(null)},children:"Cancel"}),s.jsxs(fe,{onClick:cr,className:"bg-[#F59E0B] hover:bg-[#D97706] text-white",children:[s.jsx(ln,{className:"w-4 h-4 mr-2"}),"Return for Edits"]})]})]})}),s.jsx(_r,{open:P,onOpenChange:M,children:s.jsxs(jr,{className:"sm:max-w-[500px]",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Reassign Chart"}),s.jsx(Pr,{children:"Select a clinician to reassign this chart to."})]}),s.jsxs("div",{className:"py-4",children:[s.jsx(qe,{htmlFor:"reassign-clinician",children:"Clinician *"}),s.jsxs(ei,{value:ee,onValueChange:xe,children:[s.jsx(ri,{className:"mt-2",children:s.jsx(ti,{placeholder:"Select clinician..."})}),s.jsx(ni,{children:pf.map(Ce=>s.jsx(At,{value:Ce.name,children:Ce.name},Ce.id))})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>{M(!1),xe(""),L(null)},children:"Cancel"}),s.jsxs(fe,{onClick:vt,className:"bg-[#0966CC] hover:bg-[#075985] text-white",children:[s.jsx(_x,{className:"w-4 h-4 mr-2"}),"Reassign Chart"]})]})]})}),s.jsx(xs.div,{initial:{y:100,opacity:0},animate:{y:D.length>0?0:100,opacity:D.length>0?1:0},transition:{duration:.3,ease:"easeOut"},className:`fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 ${D.length===0?"pointer-events-none":""}`,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border-2 border-[#10B981] px-6 py-4 flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 pr-4 border-r border-slate-200",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#10B981] flex items-center justify-center",children:s.jsx(Js,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[D.length," selected"]}),s.jsx("p",{className:"text-xs text-slate-500",children:"Bulk actions"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{children:s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>rr(),className:"border-[#F59E0B] text-[#F59E0B] hover:bg-[#F59E0B]/10",children:[s.jsx(ln,{className:"w-4 h-4 mr-2"}),"Return to Clinician"]})}),s.jsx(Wr,{children:s.jsx("p",{children:"Send selected charts back for corrections"})})]})}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{children:s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>jt(),className:"border-[#10B981] text-[#10B981] hover:bg-[#10B981]/10",children:[s.jsx(Js,{className:"w-4 h-4 mr-2"}),"Approve & Lock"]})}),s.jsx(Wr,{children:s.jsx("p",{children:"Approve and finalize selected charts"})})]})}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{children:s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>M(!0),className:"border-[#0966CC] text-[#0966CC] hover:bg-[#0966CC]/10",children:[s.jsx(_x,{className:"w-4 h-4 mr-2"}),"Bulk Assign"]})}),s.jsx(Wr,{children:s.jsx("p",{children:"Assign selected charts to a clinician"})})]})}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{children:s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>et.info("Downloading PDFs..."),className:"border-slate-300 text-slate-700 hover:bg-slate-100",children:[s.jsx(ga,{className:"w-4 h-4 mr-2"}),"Download PDFs"]})}),s.jsx(Wr,{children:s.jsx("p",{children:"Download PDFs for all selected charts"})})]})}),s.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>V([]),className:"ml-2 text-slate-400 hover:text-slate-600",children:s.jsx(zs,{className:"w-4 h-4"})})]})]})}),!x&&s.jsx(xs.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50",children:s.jsxs("div",{className:"bg-[#DC2626] text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2",children:[s.jsx(If,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Offline  some actions unavailable"})]})})]})}const G0=[{id:"c1",patientName:"Jane Test",patientDob:"1969-12-31",status:"Pending Review",type:"Bottle Scan",medicationCount:3,createdDate:"2025-01-17",createdBy:"Anna Clinician",finalizedDate:"2025-01-17",lowestConfidence:72,verifiedBy:"Anna Clinician",daysOld:3,hasLowConfidence:!0},{id:"c2",patientName:"Jane Test",patientDob:"1969-12-31",status:"Verified",type:"Manual Entry",medicationCount:2,createdDate:"2025-01-15",createdBy:"Anna Clinician",finalizedDate:"2025-01-16",lowestConfidence:95,verifiedBy:"Anna Clinician",reviewedBy:"John Jones",daysOld:1,hasLowConfidence:!1},{id:"c3",patientName:"John Sample",patientDob:"1972-02-01",status:"Active",type:"PDF Import",medicationCount:1,createdDate:"2025-01-16",createdBy:"Anna Clinician",daysOld:1,hasLowConfidence:!1},{id:"c4",patientName:"Sarah Martinez",patientDob:"1955-07-12",status:"Delivered",type:"Bottle Scan",medicationCount:5,createdDate:"2025-01-10",createdBy:"Bob Clinician",finalizedDate:"2025-01-11",lowestConfidence:88,verifiedBy:"Bob Clinician",reviewedBy:"Admin User",deliveryTimestamp:"2025-01-11T14:30:00",daysOld:7,hasLowConfidence:!1}];function Kee({navigation:t}){const{logout:e}=po(),[r,n]=_.useState(""),[i,a]=_.useState("all"),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[h,m]=_.useState(null),[x,p]=_.useState(!1),[y,w]=_.useState(!1),[j,C]=_.useState(""),A=()=>{e(),t.navigate("Landing")},k=(F,X)=>{et.success(`Opening chart for ${X}`),t.navigate("ChartDetailView",{chartId:F,patientName:X})},P=F=>{et.success("Chart approved and locked successfully")},M=()=>{if(!j.trim()){et.error("Please provide notes for returning the chart");return}et.success("Chart returned to clinician with notes"),w(!1),C("")},$=F=>{et.info("Downloading chart PDF...")},L=F=>{et.info("Opening audit trail...")},D=F=>{et.warning("Chart reopened - status changed to Active")},V=G0.filter(F=>{const X=F.patientName.toLowerCase().includes(r.toLowerCase())||F.patientDob.includes(r)||F.createdBy.toLowerCase().includes(r.toLowerCase()),ee=i==="all"||i==="needs-review"&&(F.status==="Verified"||F.status==="Pending Review")||F.status.toLowerCase().replace(" ","-")===i;return X&&ee}),ne={all:G0.length,needsReview:G0.filter(F=>F.status==="Verified"||F.status==="Pending Review").length,active:G0.filter(F=>F.status==="Active").length,delivered:G0.filter(F=>F.status==="Delivered").length},B=F=>{const ee={Active:{color:"bg-[#0EA5E9] text-white border-[#0EA5E9]",icon:s.jsx(Cl,{className:"w-3 h-3"})},Verified:{color:"bg-[#8B5CF6] text-white border-[#8B5CF6]",icon:s.jsx(ur,{className:"w-3 h-3"})},"Pending Review":{color:"bg-[#F59E0B] text-white border-[#F59E0B]",icon:s.jsx(tD,{className:"w-3 h-3"})},Delivered:{color:"bg-[#10B981] text-white border-[#10B981]",icon:s.jsx(os,{className:"w-3 h-3"})}}[F];return s.jsxs(ft,{variant:"outline",className:`${ee.color} flex items-center gap-1 text-xs`,children:[ee.icon,F]})};return s.jsxs("div",{className:"min-h-screen bg-[#f8fafc] flex flex-col",children:[s.jsx(K1,{}),s.jsxs(xs.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-[#10B981] to-[#059669] p-5 shadow-lg sticky top-0 z-40",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(fe,{onClick:()=>t.goBack(),variant:"ghost",size:"icon",className:"h-10 w-10 rounded-xl bg-white/15 hover:bg-white/25 text-white",children:s.jsx(ln,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-white text-xl font-semibold",children:"All Charts"}),s.jsxs("p",{className:"text-white/80 text-sm",children:[V.length," chart",V.length!==1?"s":""]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(fe,{onClick:()=>l(!0),variant:"ghost",size:"icon",className:"h-10 w-10 rounded-xl bg-white/15 hover:bg-white/25 text-white",children:s.jsx(Ts,{className:"w-5 h-5"})})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsx(it,{value:r,onChange:F=>n(F.target.value),placeholder:"Search by patient, DOB, or clinician...",className:"pl-10 h-12 rounded-xl border-2 border-white/20 bg-white/95 text-slate-900 placeholder:text-slate-500"})]}),s.jsx(fe,{onClick:()=>u(!c),variant:"outline",className:"h-12 px-4 rounded-xl border-2 border-white/20 bg-white/95 hover:bg-white text-slate-700",children:s.jsx(h_,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"bg-white border-b border-slate-200 px-5 py-3 overflow-x-auto",children:s.jsxs("div",{className:"flex gap-2 min-w-max",children:[s.jsxs(xs.button,{whileTap:{scale:.95},onClick:()=>a("all"),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${i==="all"?"bg-[#10B981] text-white shadow-sm":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:["All Charts (",ne.all,")"]}),s.jsxs(xs.button,{whileTap:{scale:.95},onClick:()=>a("needs-review"),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${i==="needs-review"?"bg-[#F59E0B] text-white shadow-sm":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[s.jsx(_i,{className:"w-4 h-4 inline mr-1"}),"Needs Review (",ne.needsReview,")"]}),s.jsxs(xs.button,{whileTap:{scale:.95},onClick:()=>a("active"),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${i==="active"?"bg-[#0EA5E9] text-white shadow-sm":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:["Active (",ne.active,")"]}),s.jsxs(xs.button,{whileTap:{scale:.95},onClick:()=>a("delivered"),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${i==="delivered"?"bg-[#10B981] text-white shadow-sm":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[s.jsx(os,{className:"w-4 h-4 inline mr-1"}),"Delivered (",ne.delivered,")"]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:s.jsx("div",{className:"max-w-4xl mx-auto space-y-4",children:s.jsx(z$,{mode:"popLayout",children:V.length===0?s.jsxs(xs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"bg-white rounded-2xl border border-slate-200 p-12 text-center",children:[s.jsx(ir,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-slate-900 font-semibold mb-2",children:"No charts found"}),s.jsx("p",{className:"text-slate-600",children:"Try adjusting your search or filters"})]}):V.map((F,X)=>s.jsx(xs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:X*.05},whileHover:{scale:1.01},className:`bg-white rounded-2xl shadow-sm hover:shadow-md transition-all ${F.hasLowConfidence||F.daysOld&&F.daysOld>2?"border-2 border-[#DC2626]/20":"border border-slate-200"}`,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[B(F.status),F.daysOld&&F.daysOld>2&&s.jsxs(ft,{variant:"outline",className:"text-xs border-[#DC2626] text-[#DC2626]",children:[s.jsx(Qs,{className:"w-3 h-3 mr-1"}),F.daysOld," day",F.daysOld!==1?"s":""," old"]}),F.hasLowConfidence&&s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{className:"inline-flex",children:s.jsxs(ft,{variant:"outline",className:"border-[#F59E0B] text-[#F59E0B] text-xs",children:[s.jsx(Zs,{className:"w-3 h-3 mr-1"}),"Low Confidence"]})}),s.jsxs(Wr,{children:[s.jsxs("p",{children:["Lowest confidence: ",F.lowestConfidence,"%"]}),s.jsx("p",{className:"text-xs text-[#94a3b8]",children:"May need manual review"})]})]})})]}),s.jsx("h3",{className:"text-slate-900 font-semibold text-lg",children:F.patientName}),s.jsxs("p",{className:"text-sm text-slate-600",children:["DOB: ",new Date(F.patientDob).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),s.jsxs(tp,{children:[s.jsx(rp,{asChild:!0,children:s.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg hover:bg-slate-100",children:s.jsx(Fm,{className:"w-4 h-4"})})}),s.jsxs(np,{align:"end",className:"w-56",children:[s.jsx(Kb,{children:"Chart Actions"}),s.jsx(oc,{}),s.jsxs(fn,{onClick:()=>k(F.id,F.patientName),children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"View Chart"]}),F.status!=="Delivered"&&s.jsxs(s.Fragment,{children:[s.jsxs(fn,{onClick:()=>{m(F.id),p(!0)},children:[s.jsx(_x,{className:"w-4 h-4 mr-2"}),"Reassign Clinician"]}),s.jsxs(fn,{onClick:()=>{m(F.id),w(!0)},children:[s.jsx(ln,{className:"w-4 h-4 mr-2"}),"Return for Edits"]})]}),s.jsxs(fn,{onClick:()=>et.info("Add note feature coming soon"),children:[s.jsx(Qx,{className:"w-4 h-4 mr-2"}),"Add Admin Note"]}),s.jsx(oc,{}),s.jsxs(fn,{onClick:()=>$(F.id),children:[s.jsx(ga,{className:"w-4 h-4 mr-2"}),"Download PDF"]}),s.jsxs(fn,{onClick:()=>L(F.id),children:[s.jsx(lh,{className:"w-4 h-4 mr-2"}),"View Audit Trail"]}),F.status==="Delivered"&&s.jsxs(s.Fragment,{children:[s.jsx(oc,{}),s.jsxs(fn,{onClick:()=>D(F.id),className:"text-[#DC2626]",children:[s.jsx(X0,{className:"w-4 h-4 mr-2"}),"Reopen Chart"]})]})]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-600 mb-3",children:[s.jsx("span",{className:"font-medium",children:F.type}),F.medicationCount>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[F.medicationCount," medication",F.medicationCount!==1?"s":""]})]}),F.lowestConfidence&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{className:F.hasLowConfidence?"text-[#F59E0B] font-medium":"",children:["Confidence: ",F.lowestConfidence,"%"]})]})]}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{className:"inline-flex text-xs text-slate-500 mb-3 cursor-help",children:s.jsxs("span",{children:[new Date(F.createdDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),"  ",s.jsx("span",{className:"font-semibold text-slate-900",children:F.createdBy}),F.finalizedDate&&"  Finalized"]})}),s.jsx(Wr,{side:"top",className:"max-w-xs",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-slate-400",children:"Created"}),s.jsx("p",{children:new Date(F.createdDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-slate-400",children:"Clinician"}),s.jsx("p",{className:"font-semibold",children:F.createdBy})]}),F.finalizedDate&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-slate-400",children:"Finalized"}),s.jsx("p",{children:new Date(F.finalizedDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})})]})}),(F.verifiedBy||F.reviewedBy||F.deliveryTimestamp)&&s.jsxs(xs.div,{initial:{opacity:.7},whileHover:{opacity:1},className:"bg-slate-50 rounded-lg p-3 space-y-1 text-xs transition-opacity",children:[F.verifiedBy&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(ur,{className:"w-3 h-3 text-[#10B981]"}),s.jsxs("span",{children:["Verified by: ",s.jsx("span",{className:"text-slate-900 font-medium",children:F.verifiedBy})]})]}),F.reviewedBy&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(Ps,{className:"w-3 h-3 text-[#0966CC]"}),s.jsxs("span",{children:["Admin Reviewed: ",s.jsx("span",{className:"text-slate-900 font-medium",children:F.reviewedBy})]})]}),F.deliveryTimestamp&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(Js,{className:"w-3 h-3 text-[#4F46E5]"}),s.jsxs("span",{children:["Delivery: ",s.jsx("span",{className:"text-slate-900 font-medium",children:new Date(F.deliveryTimestamp).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]})]}),s.jsxs("button",{onClick:()=>L(F.id),className:"text-[#10B981] hover:text-[#059669] flex items-center gap-1 font-medium mt-1 transition-colors",children:[s.jsx(lh,{className:"w-3 h-3"}),"View Audit Trail"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[(F.status==="Verified"||F.status==="Pending Review")&&s.jsxs(s.Fragment,{children:[s.jsxs(fe,{size:"sm",onClick:()=>k(F.id,F.patientName),className:"bg-[#10B981] hover:bg-[#059669] text-white rounded-xl",children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Review Chart"]}),s.jsxs(fe,{size:"sm",variant:"outline",onClick:()=>P(F.id),className:"border-[#10B981] text-[#10B981] hover:bg-[#10B981]/10 rounded-xl",children:[s.jsx(lc,{className:"w-4 h-4 mr-2"}),"Approve & Lock"]})]}),F.status==="Active"&&s.jsxs(fe,{size:"sm",variant:"outline",onClick:()=>k(F.id,F.patientName),className:"rounded-xl",children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"View Details"]}),F.status==="Delivered"&&s.jsxs(fe,{size:"sm",variant:"outline",onClick:()=>$(F.id),className:"rounded-xl",children:[s.jsx(ga,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})},F.id))})})}),s.jsx(Jd,{open:o,onOpenChange:l,children:s.jsxs(Qd,{side:"right",className:"w-full sm:max-w-md",children:[s.jsx(eu,{children:s.jsx(tu,{children:"Admin Profile"})}),s.jsxs("div",{className:"py-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ys,{className:"h-16 w-16 bg-gradient-to-br from-[#10B981] to-[#059669]",children:s.jsx(ws,{className:"text-white text-xl",children:"JJ"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-slate-900",children:"John Jones"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Agency Admin"}),s.jsx(ft,{variant:"outline",className:"mt-1 text-xs",children:"Healthcare Plus Agency"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(fe,{variant:"outline",className:"w-full justify-start h-12 rounded-xl",onClick:()=>{l(!1),t.navigate("AgencyAdminProfile")},children:[s.jsx(Ts,{className:"w-5 h-5 mr-3"}),"View Profile"]}),s.jsxs(fe,{variant:"outline",className:"w-full justify-start h-12 rounded-xl",onClick:()=>{l(!1),t.navigate("AgencyAdminSettings")},children:[s.jsx(rc,{className:"w-5 h-5 mr-3"}),"Settings"]}),s.jsxs(fe,{variant:"outline",className:"w-full justify-start h-12 rounded-xl text-[#DC2626] border-[#DC2626]/20 hover:bg-[#DC2626]/10",onClick:A,children:[s.jsx(Yc,{className:"w-5 h-5 mr-3"}),"Logout"]})]})]})]})}),s.jsx(_r,{open:y,onOpenChange:w,children:s.jsxs(jr,{className:"sm:max-w-md",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Return Chart for Edits"}),s.jsx(Pr,{children:"Provide notes for the clinician about what needs to be corrected"})]}),s.jsx("div",{className:"py-4",children:s.jsx(lu,{value:j,onChange:F=>C(F.target.value),placeholder:"Enter your notes here...",className:"min-h-32 rounded-xl"})}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>w(!1),className:"rounded-xl",children:"Cancel"}),s.jsxs(fe,{onClick:M,className:"bg-[#F59E0B] hover:bg-[#D97706] text-white rounded-xl",children:[s.jsx(ln,{className:"w-4 h-4 mr-2"}),"Return Chart"]})]})]})})]})}function Yee({navigation:t,route:e}){const{chartId:r,patientName:n,mode:i}=e.params,[a,o]=_.useState(!1),[l,c]=_.useState(!1),[u,h]=_.useState(""),[m,x]=_.useState("Verified"),[p,y]=_.useState(!1),[w,j]=_.useState(!1),[C,A]=_.useState(!1),k={name:n||"Jane Test",dob:"12/31/1969"},P={type:"Bottle Scan",createdBy:"Anna Clinician",createdDate:"1/17/2025",finalizedDate:"1/17/2025"},M=[{id:"1",drugName:"Metformin",strength:"500 mg",route:"PO",frequency:"BID",prescriber:"Dr. Gamma",scannedDate:"1/17/2025",confidence:92,isVerified:!0},{id:"2",drugName:"Lisinopril",strength:"10 mg",route:"PO",frequency:"Daily",prescriber:"Dr. Smith",scannedDate:"1/17/2025",confidence:78,isVerified:!0}],$=[{id:"1",name:"Medication Bottle - Metformin.jpg",uploadedDate:"1/17/2025"},{id:"2",name:"Discharge Summary.pdf",uploadedDate:"1/17/2025"}],L=i==="review",D=m==="Delivered",V=m==="Verified"||m==="Pending Review",ne=()=>{console.log("Approving chart:",r,"Notes:",u),o(!1),h(""),alert("Chart approved successfully!"),t.goBack()},B=()=>{if(!u.trim()){alert("Please provide feedback notes for the clinician.");return}console.log("Requesting changes for chart:",r,"Notes:",u),c(!1),h(""),alert("Reverification request sent to clinician!"),t.goBack()},F=()=>{y(!0)},X=()=>{x("Archived"),y(!1),alert("Chart archived successfully")},ee=()=>{j(!0)},xe=()=>{x("Active"),j(!1),alert("Chart restored to Active status")},oe=()=>{A(!0)},pe=()=>{x("Active"),A(!1),alert("Chart unlocked successfully")},H=q=>q>=85?s.jsxs(ft,{className:"bg-[#D1FAE5] text-[#10B981] border-[#A7F3D0]",children:["High: ",q,"%"]}):q>=70?s.jsxs(ft,{className:"bg-[#FEF3C7] text-[#F59E0B] border-[#FDE68A]",children:["Medium: ",q,"%"]}):s.jsxs(ft,{className:"bg-[#FEE2E2] text-[#DC2626] border-[#FECACA]",children:["Low: ",q,"%"]});return s.jsxs("div",{className:"h-screen flex flex-col bg-[#f8fafc]",children:[s.jsxs("div",{className:"bg-gradient-to-r from-[#10B981] to-[#059669] p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{onClick:()=>t.goBack(),className:"w-10 h-10 rounded-xl bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors",children:s.jsx(ln,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h1",{className:"text-lg text-white",children:k.name}),s.jsxs("p",{className:"text-sm text-white/80",children:["DOB: ",k.dob]})]}),s.jsxs(tp,{children:[s.jsx(rp,{asChild:!0,children:s.jsx("button",{className:"w-10 h-10 rounded-xl bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors",children:s.jsx(Fm,{className:"w-5 h-5 text-white"})})}),s.jsxs(np,{align:"end",className:"w-56",children:[m==="Delivered"&&s.jsxs(s.Fragment,{children:[s.jsxs(fn,{onClick:oe,className:"cursor-pointer",children:[s.jsx(Jx,{className:"w-4 h-4 mr-2"}),"Unlock Chart"]}),s.jsx(oc,{}),s.jsxs(fn,{onClick:F,className:"cursor-pointer text-amber-600",children:[s.jsx(uo,{className:"w-4 h-4 mr-2"}),"Archive Chart"]})]}),(m==="Active"||m==="Verified"||m==="Pending Review")&&s.jsxs(fn,{onClick:F,className:"cursor-pointer text-amber-600",children:[s.jsx(uo,{className:"w-4 h-4 mr-2"}),"Archive Chart"]}),m==="Archived"&&s.jsxs(fn,{onClick:ee,className:"cursor-pointer text-green-600",children:[s.jsx(bf,{className:"w-4 h-4 mr-2"}),"Restore to Active"]})]})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(ft,{className:m==="Delivered"?"bg-[#E0E7FF] text-[#4F46E5] border-[#C7D2FE]":m==="Verified"?"bg-[#D1FAE5] text-[#10B981] border-[#A7F3D0]":m==="Pending Review"?"bg-[#FEF3C7] text-[#F59E0B] border-[#FDE68A]":m==="Archived"?"bg-[#F3F4F6] text-[#6B7280] border-[#D1D5DB]":"bg-[#DBEAFE] text-[#0966CC] border-[#BFDBFE]",children:m==="Delivered"?"Delivered (Locked)":m==="Verified"?"Verified (Ready to Deliver)":m==="Archived"?" Archived":m})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[L&&V&&s.jsx("div",{className:"bg-[#E0F2FE] border-2 border-[#BFDBFE] rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ps,{className:"w-5 h-5 text-[#0966CC] flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-[#0C4A6E] mb-1",children:"Review Mode"}),s.jsx("p",{className:"text-sm text-[#0C4A6E]",children:"Review all medications and their verification details. You can approve this chart or request changes from the clinician."})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6",children:[s.jsx("h2",{className:"text-lg text-[#0f172a] mb-4",children:"Chart Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-[#64748b]",children:"Chart Type:"})," ",s.jsx("span",{className:"text-[#0f172a]",children:P.type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[#64748b]",children:"Created By:"})," ",s.jsx("span",{className:"text-[#0f172a]",children:P.createdBy})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[#64748b]",children:"Created Date:"})," ",s.jsx("span",{className:"text-[#0f172a]",children:P.createdDate})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[#64748b]",children:"Finalized Date:"})," ",s.jsx("span",{className:"text-[#0f172a]",children:P.finalizedDate})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h2",{className:"text-lg text-[#0f172a]",children:["Medications (",M.length,")"]})}),s.jsx("div",{className:"space-y-4",children:M.map(q=>s.jsxs("div",{className:"bg-[#f8fafc] rounded-xl border border-[#e2e8f0] p-5",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg text-[#0f172a] mb-2",children:q.drugName}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-[#64748b]",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-[#94a3b8]",children:"Strength:"})," ",s.jsx("span",{className:"text-[#0f172a]",children:q.strength})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-[#94a3b8]",children:"Route:"})," ",s.jsx("span",{className:"text-[#0f172a]",children:q.route})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-[#94a3b8]",children:"Frequency:"})," ",s.jsx("span",{className:"text-[#0f172a]",children:q.frequency})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-[#94a3b8]",children:"Prescriber:"})," ",s.jsx("span",{className:"text-[#0f172a]",children:q.prescriber})]})]})]}),s.jsx("div",{className:"flex flex-col gap-2 items-end",children:q.isVerified&&s.jsxs(ft,{className:"bg-[#D1FAE5] text-[#10B981] border-[#A7F3D0]",children:[s.jsx(ur,{className:"w-3 h-3 mr-1"}),"Verified"]})})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-3 border-t border-[#e2e8f0]",children:[s.jsx("span",{className:"text-sm text-[#64748b]",children:"OCR Confidence:"}),H(q.confidence),s.jsxs("span",{className:"text-xs text-[#94a3b8] ml-auto",children:["Scanned: ",q.scannedDate]})]}),q.notes&&s.jsx("div",{className:"mt-3 pt-3 border-t border-[#e2e8f0]",children:s.jsxs("p",{className:"text-sm text-[#64748b]",children:[s.jsx("span",{className:"text-xs text-[#94a3b8]",children:"Notes:"})," ",q.notes]})})]},q.id))})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("h2",{className:"text-lg text-[#0f172a]",children:"Attached Documents"})}),$.length>0?s.jsx("div",{className:"space-y-2",children:$.map(q=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[#f8fafc] rounded-lg border border-[#e2e8f0]",children:[s.jsx(Bm,{className:"w-4 h-4 text-[#64748b]"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-[#0f172a] truncate",children:q.name}),s.jsxs("p",{className:"text-xs text-[#94a3b8]",children:["Uploaded: ",q.uploadedDate]})]}),s.jsxs(fe,{variant:"outline",size:"sm",children:[s.jsx(Ps,{className:"w-4 h-4 mr-1"}),"View"]})]},q.id))}):s.jsx("p",{className:"text-sm text-[#64748b]",children:"No documents attached"})]}),L&&V&&!D&&s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6 space-y-4",children:[s.jsx("h3",{className:"text-lg text-[#0f172a]",children:"Review Actions"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(fe,{onClick:()=>c(!0),variant:"outline",className:"flex-1 h-12 border-[#F59E0B] text-[#F59E0B] hover:bg-[#FEF3C7]",children:[s.jsx(bf,{className:"w-4 h-4 mr-2"}),"Request Changes"]}),s.jsxs(fe,{onClick:()=>o(!0),className:"flex-1 h-12 bg-[#10B981] hover:bg-[#059669] text-white",children:[s.jsx(Js,{className:"w-4 h-4 mr-2"}),"Approve Chart"]})]})]}),s.jsx(fe,{onClick:()=>t.goBack(),variant:"outline",className:"w-full h-12 rounded-xl border-2 border-[#e2e8f0]",children:L?"Back to Dashboard":"Close"})]})}),s.jsx(_r,{open:a,onOpenChange:o,children:s.jsxs(jr,{className:"sm:max-w-[500px]",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Approve Chart"}),s.jsx(Pr,{children:"Confirm that you have reviewed all medications and want to approve this chart."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"bg-[#f8fafc] rounded-xl p-4",children:[s.jsxs("p",{className:"text-sm text-[#0f172a] mb-2",children:[s.jsx("strong",{children:"Patient:"})," ",k.name]}),s.jsxs("p",{className:"text-sm text-[#0f172a] mb-2",children:[s.jsx("strong",{children:"Medications:"})," ",M.length]}),s.jsxs("p",{className:"text-sm text-[#0f172a]",children:[s.jsx("strong",{children:"Created by:"})," ",P.createdBy]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"approval-notes",children:"Approval Notes (optional)"}),s.jsx(lu,{id:"approval-notes",value:u,onChange:q=>h(q.target.value),placeholder:"Add any notes about this approval...",className:"mt-2 rounded-xl border-2 border-[#e2e8f0] min-h-[100px]"})]})]}),s.jsxs(Br,{className:"flex-col sm:flex-row gap-2",children:[s.jsx(fe,{variant:"outline",onClick:()=>o(!1),className:"w-full sm:w-auto",children:"Cancel"}),s.jsxs(fe,{onClick:ne,className:"w-full sm:w-auto bg-[#10B981] hover:bg-[#059669] text-white",children:[s.jsx(Js,{className:"w-4 h-4 mr-2"}),"Confirm Approval"]})]})]})}),s.jsx(_r,{open:l,onOpenChange:c,children:s.jsxs(jr,{className:"sm:max-w-[500px]",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Request Changes"}),s.jsx(Pr,{children:"Send this chart back to the clinician with feedback for reverification."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("div",{className:"bg-[#FEF3C7] border border-[#FDE68A] rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(_i,{className:"w-5 h-5 text-[#F59E0B] flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-[#92400E]",children:"The clinician will receive your feedback and must reverify the chart before it can be approved."})]})}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"reverification-notes",children:"Feedback for Clinician *"}),s.jsx(lu,{id:"reverification-notes",value:u,onChange:q=>h(q.target.value),placeholder:"Describe what needs to be corrected or verified...",className:"mt-2 rounded-xl border-2 border-[#e2e8f0] min-h-[120px]"}),s.jsx("p",{className:"text-xs text-[#64748b] mt-2",children:"Be specific about which medications or fields need attention."})]})]}),s.jsxs(Br,{className:"flex-col sm:flex-row gap-2",children:[s.jsx(fe,{variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:"Cancel"}),s.jsxs(fe,{onClick:B,className:"w-full sm:w-auto bg-[#F59E0B] hover:bg-[#D97706] text-white",children:[s.jsx(bf,{className:"w-4 h-4 mr-2"}),"Send for Reverification"]})]})]})}),s.jsx($d,{open:p,onOpenChange:y,children:s.jsxs(zd,{children:[s.jsxs(Hd,{children:[s.jsx(Wd,{children:"Archive Chart"}),s.jsxs(Gd,{children:["Are you sure you want to archive this chart?",s.jsx("br",{}),s.jsx("br",{}),"Archived charts can be restored to Active status at any time."]})]}),s.jsxs(qd,{children:[s.jsx(Yd,{className:"h-12 rounded-xl",children:"Cancel"}),s.jsxs(Kd,{onClick:X,className:"h-12 rounded-xl bg-amber-600 hover:bg-amber-700 text-white",children:[s.jsx(uo,{className:"w-4 h-4 mr-2"}),"Archive Chart"]})]})]})}),s.jsx($d,{open:w,onOpenChange:j,children:s.jsxs(zd,{children:[s.jsxs(Hd,{children:[s.jsx(Wd,{children:"Restore Chart"}),s.jsxs(Gd,{children:["Are you sure you want to restore this chart to Active status?",s.jsx("br",{}),s.jsx("br",{}),"The chart will be moved from Archived to Active and can be edited again."]})]}),s.jsxs(qd,{children:[s.jsx(Yd,{className:"h-12 rounded-xl",children:"Cancel"}),s.jsxs(Kd,{onClick:xe,className:"h-12 rounded-xl bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(bf,{className:"w-4 h-4 mr-2"}),"Restore to Active"]})]})]})}),s.jsx($d,{open:C,onOpenChange:A,children:s.jsxs(zd,{children:[s.jsxs(Hd,{children:[s.jsx(Wd,{children:"Unlock Chart"}),s.jsxs(Gd,{children:["Are you sure you want to unlock this chart?",s.jsx("br",{}),s.jsx("br",{}),s.jsx("strong",{className:"text-amber-700",children:" Warning:"})," Unlocking will allow the chart to be edited again. This should only be done if corrections are needed."]})]}),s.jsxs(qd,{children:[s.jsx(Yd,{className:"h-12 rounded-xl",children:"Cancel"}),s.jsxs(Kd,{onClick:pe,className:"h-12 rounded-xl bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(Jx,{className:"w-4 h-4 mr-2"}),"Unlock Chart"]})]})]})})]})}function Rk(t,e="#0966CC",r="#0C4A6E"){return function({navigation:i}){return s.jsxs("div",{className:"h-full flex flex-col bg-white",children:[s.jsxs("div",{className:"p-5 flex items-center justify-between",style:{background:`linear-gradient(135deg, ${e}, ${r})`},children:[s.jsx("button",{onClick:()=>i.goBack(),className:"w-10 h-10 rounded-xl bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors",children:s.jsx(ln,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"flex-1 text-center text-lg text-white",children:t}),s.jsx("div",{className:"w-10"})]}),s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center",children:[s.jsx("h2",{className:"text-2xl text-[#0f172a] mb-2",children:t}),s.jsx("p",{className:"text-[#64748b]",children:"This screen is under development"})]})]})}}const Xee=Rk("Patient Details","#10B981","#059669"),Zee=Rk("User Details","#10B981","#059669");function Jee({navigation:t}){const[e,r]=_.useState(!0),[n,i]=_.useState(!1),[a,o]=_.useState(!1),[l,c]=_.useState(!1),[u,h]=_.useState(!1),m={name:"Jennifer Martinez",role:"Agency Administrator",email:"jennifer.martinez@healthcarepartners.com",phone:"(555) 234-5678",address:"456 Admin Building, Healthcare City, HC 12345",agency:"HealthCare Partners LLC",agencyLicense:"HHA-789456",agencyNPI:"1234567890",agencyAddress:"123 Healthcare Blvd, Medical City, HC 12345",agencyPhone:"(555) 123-4567",supportEmail:"support@healthcarepartners.com",joinDate:"March 10, 2024",accountCreated:"Jan 07, 2025",lastUpdated:"Feb 01, 2025",lastPasswordChange:"30 days ago",lastLogin:"Phoenix, AZ",lastLoginTime:"Today at 9:42 AM",totalUsers:24,totalClinicians:18,totalPatients:156,chartsThisMonth:37,avgTurnaround:"2.1 days"},x=[{name:"Manage clinicians",granted:!0},{name:"Approve charts",granted:!0},{name:"Manage agency settings",granted:!0},{name:"View financial reports",granted:!0},{name:"Export data",granted:!0},{name:"Super Admin features",granted:!1},{name:"System configuration",granted:!1}],p=[{id:"1",device:"Chrome on Windows",location:"Phoenix, AZ",ip:"192.168.1.1",lastActive:"Active now",current:!0},{id:"2",device:"Safari on iPhone",location:"Phoenix, AZ",ip:"192.168.1.45",lastActive:"2 hours ago",current:!1},{id:"3",device:"Chrome on MacBook",location:"Scottsdale, AZ",ip:"10.0.0.23",lastActive:"Yesterday",current:!1}],y=()=>{et.success("Avatar upload feature coming soon")},w=()=>{et.info("Avatar removed")},j=()=>{i(!0)},C=k=>{r(k),k?o(!0):et.info("Two-factor authentication disabled")},A=k=>{et.success("Session revoked successfully")};return s.jsxs("div",{className:"h-full flex flex-col bg-[#f8fafc]",children:[s.jsxs("div",{className:"bg-gradient-to-r from-[#10B981] to-[#059669] px-5 pt-5 pb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("button",{onClick:()=>t.goBack(),className:"w-10 h-10 rounded-xl bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors",children:s.jsx(ln,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-lg text-white",children:"Admin Profile"}),s.jsx("div",{className:"w-10 h-10"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"relative mb-3",children:[s.jsx(ys,{className:"w-24 h-24 border-4 border-white/30",children:s.jsx(ws,{className:"bg-white text-[#10B981] text-2xl",children:"JM"})}),s.jsxs("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 flex gap-2",children:[s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsx("button",{onClick:y,className:"w-8 h-8 rounded-full bg-white text-[#10B981] flex items-center justify-center shadow-lg hover:bg-slate-50 transition-colors",children:s.jsx(Vs,{className:"w-4 h-4"})})}),s.jsx(Wr,{children:s.jsx("p",{children:"Upload photo"})})]})}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsx("button",{onClick:w,className:"w-8 h-8 rounded-full bg-white text-red-600 flex items-center justify-center shadow-lg hover:bg-slate-50 transition-colors",children:s.jsx(Hf,{className:"w-4 h-4"})})}),s.jsx(Wr,{children:s.jsx("p",{children:"Remove photo"})})]})})]})]}),s.jsx("h2",{className:"text-xl text-white mb-1",children:m.name}),s.jsx(ft,{className:"bg-white/20 text-white border-white/30 mb-2",children:m.role}),s.jsxs("button",{onClick:()=>h(!0),className:"text-sm text-white/90 hover:text-white flex items-center gap-1 transition-colors",children:[m.agency,s.jsx(_1,{className:"w-3 h-3"})]})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-5",children:[s.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-white rounded-2xl p-4 border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(l_,{className:"w-4 h-4 text-[#10B981]"}),s.jsx("h3",{className:"text-sm font-semibold text-[#0f172a]",children:"Agency Overview"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl text-[#10B981] font-semibold",children:m.totalUsers}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Agency Users"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl text-[#0966CC] font-semibold",children:m.totalClinicians}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Clinicians"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl text-[#F59E0B] font-semibold",children:m.chartsThisMonth}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Charts this month"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl text-[#10B981] font-semibold",children:m.avgTurnaround}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Avg turnaround"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"w-4 h-4 text-[#10B981]"}),s.jsx("h3",{className:"text-sm font-semibold text-[#0f172a]",children:"User Details"})]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>et.info("Edit profile coming soon"),className:"border-[#10B981] text-[#10B981] hover:bg-[#D1FAE5]",children:[s.jsx(bh,{className:"w-3 h-3 mr-2"}),"Edit"]})]}),s.jsx(lr,{className:"p-5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(On,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Email Address"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:m.email})]})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(Ba,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Phone Number"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:m.phone})]})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(qo,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Address"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:m.address})]})]})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(na,{className:"w-4 h-4 text-[#10B981]"}),s.jsx("h3",{className:"text-sm font-semibold text-[#0f172a]",children:"Account Security"})]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>et.info("Manage security settings"),className:"border-[#10B981] text-[#10B981] hover:bg-[#D1FAE5]",children:[s.jsx(rc,{className:"w-3 h-3 mr-2"}),"Manage"]})]}),s.jsx(lr,{className:"p-5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#DBEAFE] flex items-center justify-center flex-shrink-0",children:s.jsx(os,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Password"}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:["Last changed ",m.lastPasswordChange]})]})]}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:j,className:"text-[#0966CC] hover:text-[#075985] hover:bg-[#DBEAFE]",children:"Change"})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(Jf,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Two-Factor Authentication"}),e&&s.jsx(ft,{variant:"outline",className:"border-[#10B981] text-[#10B981] text-xs h-5",children:" Enabled"})]}),s.jsx("p",{className:"text-xs text-[#64748b]",children:e?"Extra security for your account":"Add extra layer of security"})]})]}),s.jsx(Mi,{checked:e,onCheckedChange:C,className:"data-[state=checked]:bg-[#10B981]"})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center flex-shrink-0",children:s.jsx(Mm,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Last Login"}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[" ",m.lastLogin]}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[" ",m.lastLoginTime]})]})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0E7FF] flex items-center justify-center flex-shrink-0",children:s.jsx(fo,{className:"w-5 h-5 text-[#4F46E5]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Active Sessions"}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[p.length," devices signed in"]})]})]}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>c(!0),className:"text-[#4F46E5] hover:text-[#4338CA] hover:bg-[#E0E7FF]",children:"View"})]})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ym,{className:"w-4 h-4 text-[#10B981]"}),s.jsx("h3",{className:"text-sm font-semibold text-[#0f172a]",children:"Permissions"})]}),s.jsxs(lr,{className:"p-5",children:[s.jsx("div",{className:"space-y-2",children:x.map((k,P)=>s.jsxs("div",{className:`flex items-center justify-between py-2 ${P<x.length-1?"border-b border-slate-100":""}`,children:[s.jsx("span",{className:"text-sm text-[#0f172a]",children:k.name}),k.granted?s.jsx(Js,{className:"w-4 h-4 text-[#10B981]"}):s.jsx(ww,{className:"w-4 h-4 text-[#94a3b8]"})]},P))}),s.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:s.jsxs("p",{className:"text-xs text-[#64748b] flex items-center gap-1",children:[s.jsx(mh,{className:"w-3 h-3"}),"For Super Admin access, contact system administrator"]})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ya,{className:"w-4 h-4 text-[#10B981]"}),s.jsx("h3",{className:"text-sm font-semibold text-[#0f172a]",children:"Agency Information"})]}),s.jsxs(fe,{variant:"ghost",size:"sm",onClick:()=>h(!0),className:"text-[#10B981] hover:text-[#059669] hover:bg-[#D1FAE5]",children:["View Details",s.jsx(Xr,{className:"w-4 h-4 ml-1"})]})]}),s.jsx(lr,{className:"p-5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(ya,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Agency Name"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:m.agency})]})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(na,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"License Number"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:m.agencyLicense})]})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(Ho,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Admin Since"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:m.joinDate})]})]})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rc,{className:"w-4 h-4 text-[#10B981]"}),s.jsx("h3",{className:"text-sm font-semibold text-[#0f172a]",children:"Preferences"})]}),s.jsx(lr,{className:"p-5",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>et.info("Notifications settings coming soon"),className:"w-full flex items-center justify-between py-2 px-3 rounded-lg hover:bg-slate-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(fh,{className:"w-4 h-4 text-[#64748b]"}),s.jsx("span",{className:"text-sm text-[#0f172a]",children:"Notifications"})]}),s.jsx(Xr,{className:"w-4 h-4 text-[#94a3b8]"})]}),s.jsxs("button",{onClick:()=>et.info("Appearance settings coming soon"),className:"w-full flex items-center justify-between py-2 px-3 rounded-lg hover:bg-slate-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(_D,{className:"w-4 h-4 text-[#64748b]"}),s.jsx("span",{className:"text-sm text-[#0f172a]",children:"Appearance"})]}),s.jsx(Xr,{className:"w-4 h-4 text-[#94a3b8]"})]})]})})]}),s.jsx(lr,{className:"p-4 bg-slate-50 border-slate-200",children:s.jsxs("div",{className:"flex items-start gap-2 text-xs text-[#64748b]",children:[s.jsx(Qs,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{children:[" Account created: ",m.accountCreated]}),s.jsxs("p",{children:[" Last updated: ",m.lastUpdated]})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(fe,{variant:"outline",className:"flex-1 border-[#0966CC] text-[#0966CC] hover:bg-[#DBEAFE]",onClick:()=>et.info("Support contact coming soon"),children:[s.jsx(Qx,{className:"w-4 h-4 mr-2"}),"Contact Support"]}),s.jsxs(fe,{variant:"outline",className:"flex-1 border-[#64748b] text-[#64748b] hover:bg-slate-100",onClick:()=>et.info("Documentation coming soon"),children:[s.jsx(c_,{className:"w-4 h-4 mr-2"}),"View Docs"]})]})]}),s.jsx(_r,{open:n,onOpenChange:i,children:s.jsxs(jr,{children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Change Password"}),s.jsx(Pr,{children:"Choose a strong password to keep your account secure"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-[#0f172a]",children:"Current Password"}),s.jsx("input",{type:"password",className:"w-full h-10 px-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-[#10B981]",placeholder:"Enter current password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-[#0f172a]",children:"New Password"}),s.jsx("input",{type:"password",className:"w-full h-10 px-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-[#10B981]",placeholder:"Enter new password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-[#0f172a]",children:"Confirm New Password"}),s.jsx("input",{type:"password",className:"w-full h-10 px-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-[#10B981]",placeholder:"Confirm new password"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(fe,{className:"bg-[#10B981] hover:bg-[#059669]",onClick:()=>{i(!1),et.success("Password changed successfully")},children:"Update Password"})]})]})}),s.jsx(_r,{open:a,onOpenChange:o,children:s.jsxs(jr,{children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Enable Two-Factor Authentication"}),s.jsx(Pr,{children:"Scan the QR code with your authenticator app"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("div",{className:"w-48 h-48 bg-slate-100 rounded-lg mx-auto flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-slate-500",children:"QR Code Here"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-[#0f172a]",children:"Verification Code"}),s.jsx("input",{type:"text",className:"w-full h-10 px-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-[#10B981]",placeholder:"Enter 6-digit code"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(fe,{className:"bg-[#10B981] hover:bg-[#059669]",onClick:()=>{o(!1),et.success("Two-factor authentication enabled")},children:"Verify & Enable"})]})]})}),s.jsx(_r,{open:l,onOpenChange:c,children:s.jsxs(jr,{className:"max-w-2xl",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Active Sessions"}),s.jsx(Pr,{children:"Manage devices where you're currently signed in"})]}),s.jsx("div",{className:"space-y-3 py-4 max-h-96 overflow-y-auto",children:p.map(k=>s.jsx(lr,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#DBEAFE] flex items-center justify-center flex-shrink-0",children:s.jsx(fo,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[#0f172a]",children:k.device}),k.current&&s.jsx(ft,{variant:"outline",className:"border-[#10B981] text-[#10B981] text-xs h-5",children:"Current"})]}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[" ",k.location]}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:["IP: ",k.ip]}),s.jsx("p",{className:"text-xs text-[#64748b]",children:k.lastActive})]})]}),!k.current&&s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>A(k.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Revoke"})]})},k.id))}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>c(!1),children:"Close"}),s.jsxs(fe,{variant:"destructive",onClick:()=>{et.success("All other sessions revoked"),c(!1)},children:[s.jsx(Zs,{className:"w-4 h-4 mr-2"}),"Revoke All Others"]})]})]})}),s.jsx(_r,{open:u,onOpenChange:h,children:s.jsxs(jr,{className:"max-w-2xl",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Agency Details"}),s.jsx(Pr,{children:"Complete information about your healthcare agency"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Agency Name"}),s.jsx("p",{className:"text-sm text-[#0f172a] font-medium",children:m.agency})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"License Number"}),s.jsx("p",{className:"text-sm text-[#0f172a] font-medium",children:m.agencyLicense})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"NPI Number"}),s.jsx("p",{className:"text-sm text-[#0f172a] font-medium",children:m.agencyNPI})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Support Email"}),s.jsx("p",{className:"text-sm text-[#0f172a] font-medium",children:m.supportEmail})]})]}),s.jsx(Ur,{}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Agency Address"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:m.agencyAddress})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Agency Phone"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:m.agencyPhone})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[s.jsx(as,{className:"w-4 h-4 text-[#10B981] mt-0.5"}),s.jsx("p",{className:"text-sm font-medium text-[#0f172a]",children:"Facility Users"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xl text-[#10B981] font-semibold",children:m.totalUsers}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Total Users"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xl text-[#0966CC] font-semibold",children:m.totalClinicians}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Clinicians"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xl text-[#F59E0B] font-semibold",children:m.totalPatients}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Patients"})]})]})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>h(!1),children:"Close"}),s.jsx(fe,{className:"bg-[#10B981] hover:bg-[#059669]",onClick:()=>t.navigate("AgencyAdminSettings"),children:"Manage Agency"})]})]})})]})}function Qee({navigation:t}){const[e,r]=_.useState(!0),[n,i]=_.useState(!0),[a,o]=_.useState(!1),[l,c]=_.useState(!0),[u,h]=_.useState(!1),[m,x]=_.useState(!1),[p,y]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),w={lastPasswordChange:"30 days ago",lastLogin:"Phoenix, AZ",lastLoginTime:"Today at 9:42 AM"},j=[{name:"Manage clinicians",granted:!0,action:()=>t.navigate("AgencyUsersView")},{name:"Approve charts",granted:!0,action:()=>t.navigate("AgencyChartsView")},{name:"Manage agency settings",granted:!0,action:()=>et.info("Agency settings coming soon")},{name:"View financial reports",granted:!0,action:()=>et.info("Financial reports coming soon")},{name:"Export data",granted:!0,action:()=>et.success("Data export initiated")},{name:"Super Admin features",granted:!1,action:null},{name:"System configuration",granted:!1,action:null}],C=[{id:"1",device:"Chrome on Windows",location:"Phoenix, AZ",ip:"192.168.1.1",lastActive:"Active now",current:!0},{id:"2",device:"Safari on iPhone",location:"Phoenix, AZ",ip:"192.168.1.45",lastActive:"2 hours ago",current:!1},{id:"3",device:"Chrome on MacBook",location:"Scottsdale, AZ",ip:"10.0.0.23",lastActive:"Yesterday",current:!1}],A=()=>{if(!p.currentPassword||!p.newPassword||!p.confirmPassword){et.error("Please fill in all fields");return}if(p.newPassword!==p.confirmPassword){et.error("New passwords do not match");return}if(p.newPassword.length<8){et.error("Password must be at least 8 characters");return}et.success("Password changed successfully!"),o(!1),y({currentPassword:"",newPassword:"",confirmPassword:""})},k=$=>{c($),$?h(!0):et.info("Two-factor authentication disabled")},P=$=>{et.success("Session revoked successfully")},M=({enabled:$,onToggle:L})=>s.jsx("button",{onClick:L,className:`relative w-12 h-7 rounded-full transition-colors ${$?"bg-[#10B981]":"bg-[#cbd5e1]"}`,children:s.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full shadow-md transition-transform ${$?"translate-x-6":"translate-x-1"}`})});return s.jsxs("div",{className:"h-full flex flex-col bg-[#f8fafc]",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#10B981] to-[#059669] p-5",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>t.goBack(),className:"w-10 h-10 rounded-xl bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors",children:s.jsx(ln,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-lg text-white",children:"Settings"}),s.jsx("div",{className:"w-10"})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-5",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"ACCOUNT"}),s.jsx("div",{className:"bg-white rounded-2xl border border-[#e2e8f0] overflow-hidden",children:s.jsxs("button",{onClick:()=>t.navigate("AgencyAdminProfile"),className:"w-full flex items-center justify-between p-4 hover:bg-[#f8fafc] transition-colors border-b border-[#e2e8f0]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center",children:s.jsx(Ts,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Profile"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"View your profile"})]})]}),s.jsx(Xr,{className:"w-5 h-5 text-[#cbd5e1]"})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"SECURITY"}),s.jsx(lr,{className:"p-5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#DBEAFE] flex items-center justify-center flex-shrink-0",children:s.jsx(os,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Password"}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:["Last changed ",w.lastPasswordChange]})]})]}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>o(!0),className:"text-[#0966CC] hover:text-[#075985] hover:bg-[#DBEAFE]",children:"Change"})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(Jf,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Two-Factor Authentication"}),l&&s.jsx(ft,{variant:"outline",className:"border-[#10B981] text-[#10B981] text-xs h-5",children:" Enabled"})]}),s.jsx("p",{className:"text-xs text-[#64748b]",children:l?"Extra security for your account":"Add extra layer of security"})]})]}),s.jsx(Mi,{checked:l,onCheckedChange:k,className:"data-[state=checked]:bg-[#10B981]"})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center flex-shrink-0",children:s.jsx(Mm,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Last Login"}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[" ",w.lastLogin]}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[" ",w.lastLoginTime]})]})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0E7FF] flex items-center justify-center flex-shrink-0",children:s.jsx(fo,{className:"w-5 h-5 text-[#4F46E5]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Active Sessions"}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[C.length," devices signed in"]})]})]}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>x(!0),className:"text-[#4F46E5] hover:text-[#4338CA] hover:bg-[#E0E7FF]",children:"View"})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"PERMISSIONS & ACTIONS"}),s.jsxs(lr,{className:"p-5",children:[s.jsx("div",{className:"space-y-3",children:j.map(($,L)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[$.granted?s.jsx(Js,{className:"w-4 h-4 text-[#10B981] flex-shrink-0"}):s.jsx(ww,{className:"w-4 h-4 text-[#94a3b8] flex-shrink-0"}),s.jsx("span",{className:"text-sm text-[#0f172a]",children:$.name})]}),$.granted&&$.action&&s.jsx(fe,{variant:"ghost",size:"sm",onClick:$.action,className:"text-[#10B981] hover:text-[#059669] hover:bg-[#D1FAE5]",children:"Open"})]}),L<j.length-1&&s.jsx(Ur,{})]},L))}),s.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:s.jsxs("p",{className:"text-xs text-[#64748b] flex items-center gap-1",children:[s.jsx(mh,{className:"w-3 h-3"}),"For Super Admin access, contact system administrator"]})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"NOTIFICATIONS"}),s.jsxs("div",{className:"bg-white rounded-2xl border border-[#e2e8f0] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#e2e8f0]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center",children:s.jsx(On,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Email Notifications"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Receive email updates"})]})]}),s.jsx(M,{enabled:e,onToggle:()=>r(!e)})]}),s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center",children:s.jsx(ir,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Chart Alerts"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Pending review notifications"})]})]}),s.jsx(M,{enabled:n,onToggle:()=>i(!n)})]})]})]})]}),s.jsx(_r,{open:a,onOpenChange:o,children:s.jsxs(jr,{className:"sm:max-w-[500px]",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Change Password"}),s.jsx(Pr,{children:"Enter your current password and choose a new one."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"current-password",children:"Current Password"}),s.jsx(it,{id:"current-password",type:"password",value:p.currentPassword,onChange:$=>y({...p,currentPassword:$.target.value}),placeholder:"Enter current password",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0]"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"new-password",children:"New Password"}),s.jsx(it,{id:"new-password",type:"password",value:p.newPassword,onChange:$=>y({...p,newPassword:$.target.value}),placeholder:"Enter new password",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0]"}),s.jsx("p",{className:"text-xs text-[#64748b] mt-1",children:"Must be at least 8 characters"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"confirm-password",children:"Confirm New Password"}),s.jsx(it,{id:"confirm-password",type:"password",value:p.confirmPassword,onChange:$=>y({...p,confirmPassword:$.target.value}),placeholder:"Confirm new password",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0]"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>{o(!1),y({currentPassword:"",newPassword:"",confirmPassword:""})},children:"Cancel"}),s.jsxs(fe,{onClick:A,className:"bg-[#10B981] hover:bg-[#059669] text-white",children:[s.jsx(os,{className:"w-4 h-4 mr-2"}),"Change Password"]})]})]})}),s.jsx(_r,{open:u,onOpenChange:h,children:s.jsxs(jr,{children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Enable Two-Factor Authentication"}),s.jsx(Pr,{children:"Scan the QR code with your authenticator app"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("div",{className:"w-48 h-48 bg-slate-100 rounded-lg mx-auto flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-slate-500",children:"QR Code Here"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-[#0f172a]",children:"Verification Code"}),s.jsx("input",{type:"text",className:"w-full h-10 px-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-[#10B981]",placeholder:"Enter 6-digit code"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),s.jsx(fe,{className:"bg-[#10B981] hover:bg-[#059669]",onClick:()=>{h(!1),et.success("Two-factor authentication enabled")},children:"Verify & Enable"})]})]})}),s.jsx(_r,{open:m,onOpenChange:x,children:s.jsxs(jr,{className:"max-w-2xl",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Active Sessions"}),s.jsx(Pr,{children:"Manage devices where you're currently signed in"})]}),s.jsx("div",{className:"space-y-3 py-4 max-h-96 overflow-y-auto",children:C.map($=>s.jsx(lr,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#DBEAFE] flex items-center justify-center flex-shrink-0",children:s.jsx(fo,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[#0f172a]",children:$.device}),$.current&&s.jsx(ft,{variant:"outline",className:"border-[#10B981] text-[#10B981] text-xs h-5",children:"Current"})]}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[" ",$.location]}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:["IP: ",$.ip]}),s.jsx("p",{className:"text-xs text-[#64748b]",children:$.lastActive})]})]}),!$.current&&s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>P($.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Revoke"})]})},$.id))}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>x(!1),children:"Close"}),s.jsxs(fe,{variant:"destructive",onClick:()=>{et.success("All other sessions revoked"),x(!1)},children:[s.jsx(Zs,{className:"w-4 h-4 mr-2"}),"Revoke All Others"]})]})]})})]})}function ete(t){const e=tte(t),r=_.forwardRef((n,i)=>{const{children:a,...o}=n,l=_.Children.toArray(a),c=l.find(nte);if(c){const u=c.props.children,h=l.map(m=>m===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:m);return s.jsx(e,{...o,ref:i,children:_.isValidElement(u)?_.cloneElement(u,void 0,h):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function tte(t){const e=_.forwardRef((r,n)=>{const{children:i,...a}=r;if(_.isValidElement(i)){const o=ite(i),l=ste(a,i.props);return i.type!==_.Fragment&&(l.ref=n?hc(n,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rte=Symbol("radix.slottable");function nte(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rte}function ste(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function ite(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var dg="Popover",[Ok]=xo(dg,[hu]),ip=hu(),[ate,xu]=Ok(dg),Lk=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,l=ip(e),c=_.useRef(null),[u,h]=_.useState(!1),[m,x]=cc({prop:n,defaultProp:i??!1,onChange:a,caller:dg});return s.jsx(U1,{...l,children:s.jsx(ate,{scope:e,contentId:Vo(),triggerRef:c,open:m,onOpenChange:x,onOpenToggle:_.useCallback(()=>x(p=>!p),[x]),hasCustomAnchor:u,onCustomAnchorAdd:_.useCallback(()=>h(!0),[]),onCustomAnchorRemove:_.useCallback(()=>h(!1),[]),modal:o,children:r})})};Lk.displayName=dg;var Fk="PopoverAnchor",ote=_.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=xu(Fk,r),a=ip(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return _.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(qm,{...a,...n,ref:e})});ote.displayName=Fk;var Mk="PopoverTrigger",Bk=_.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=xu(Mk,r),a=ip(r),o=Kr(e,i.triggerRef),l=s.jsx(Ar.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Hk(i.open),...n,ref:o,onClick:Nt(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx(qm,{asChild:!0,...a,children:l})});Bk.displayName=Mk;var t5="PopoverPortal",[lte,cte]=Ok(t5,{forceMount:void 0}),Uk=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=xu(t5,e);return s.jsx(lte,{scope:e,forceMount:r,children:s.jsx(za,{present:r||a.open,children:s.jsx(r0,{asChild:!0,container:i,children:n})})})};Uk.displayName=t5;var Xf="PopoverContent",Vk=_.forwardRef((t,e)=>{const r=cte(Xf,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=xu(Xf,t.__scopePopover);return s.jsx(za,{present:n||a.open,children:a.modal?s.jsx(ute,{...i,ref:e}):s.jsx(hte,{...i,ref:e})})});Vk.displayName=Xf;var dte=ete("PopoverContent.RemoveScroll"),ute=_.forwardRef((t,e)=>{const r=xu(Xf,t.__scopePopover),n=_.useRef(null),i=Kr(e,n),a=_.useRef(!1);return _.useEffect(()=>{const o=n.current;if(o)return P1(o)},[]),s.jsx(zm,{as:dte,allowPinchZoom:!0,children:s.jsx($k,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nt(t.onCloseAutoFocus,o=>{o.preventDefault(),a.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Nt(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Nt(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),hte=_.forwardRef((t,e)=>{const r=xu(Xf,t.__scopePopover),n=_.useRef(!1),i=_.useRef(!1);return s.jsx($k,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;r.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),$k=_.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:h,...m}=t,x=xu(Xf,r),p=ip(r);return E1(),s.jsx($m,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(t0,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>x.onOpenChange(!1),children:s.jsx(V1,{"data-state":Hk(x.open),role:"dialog",id:x.contentId,...p,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),zk="PopoverClose",fte=_.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=xu(zk,r);return s.jsx(Ar.button,{type:"button",...n,ref:e,onClick:Nt(t.onClick,()=>i.onOpenChange(!1))})});fte.displayName=zk;var mte="PopoverArrow",pte=_.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=ip(r);return s.jsx($1,{...i,...n,ref:e})});pte.displayName=mte;function Hk(t){return t?"open":"closed"}var xte=Lk,gte=Bk,vte=Uk,yte=Vk;function l6({...t}){return s.jsx(xte,{"data-slot":"popover",...t})}function c6({...t}){return s.jsx(gte,{"data-slot":"popover-trigger",...t})}function d6({className:t,align:e="center",sideOffset:r=4,...n}){return s.jsx(vte,{children:s.jsx(yte,{"data-slot":"popover-content",align:e,sideOffset:r,className:hr("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...n})})}function qk({navigation:t}){const e={name:"Jessica Martinez",role:"Scheduler",email:"jessica.martinez@healthcarepartners.com",phone:"(555) 345-6789",address:"789 Scheduling Center, Healthcare City, HC 12345",agency:"HealthCare Partners LLC",agencyLicense:"HHA-789456",accountCreated:"Jan 07, 2025",lastUpdated:"Feb 01, 2025",totalAssignments:2,totalCharts:2,pendingReview:0,thisWeekScheduled:18},r=()=>{et.success("Avatar upload feature coming soon")},n=()=>{et.info("Avatar removed")};return s.jsxs("div",{className:"h-full flex flex-col bg-[#f8fafc]",children:[s.jsxs("div",{className:"bg-white border-b border-[#e2e8f0] p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h1",{className:"text-lg text-[#0f172a]",children:"My Profile"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-[#D1FAE5] rounded-full",children:[s.jsx("div",{className:"w-2 h-2 bg-[#10B981] rounded-full"}),s.jsx("span",{className:"text-xs text-[#10B981]",children:"Online"})]})})]}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"View and manage your profile"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-5",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#F59E0B] to-[#D97706] rounded-2xl p-6 shadow-lg",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ys,{className:"w-20 h-20 border-4 border-white/30",children:s.jsx(ws,{className:"bg-white text-[#F59E0B] text-2xl",children:"JM"})}),s.jsxs("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 flex gap-2",children:[s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsx("button",{onClick:r,className:"w-8 h-8 rounded-full bg-white text-[#F59E0B] flex items-center justify-center shadow-lg hover:bg-slate-50 transition-colors",children:s.jsx(Vs,{className:"w-4 h-4"})})}),s.jsx(Wr,{children:s.jsx("p",{children:"Upload photo"})})]})}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsx("button",{onClick:n,className:"w-8 h-8 rounded-full bg-white text-red-600 flex items-center justify-center shadow-lg hover:bg-slate-50 transition-colors",children:s.jsx(Hf,{className:"w-4 h-4"})})}),s.jsx(Wr,{children:s.jsx("p",{children:"Remove photo"})})]})})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-xl text-white mb-1",children:e.name}),s.jsx(ft,{className:"bg-white/20 text-white border-white/30 mb-2",children:e.role}),s.jsxs("button",{onClick:()=>et.info("Agency details coming soon"),className:"text-sm text-white/90 hover:text-white flex items-center gap-1 transition-colors",children:[e.agency,s.jsx(_1,{className:"w-3 h-3"})]})]})]})}),s.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-white rounded-2xl p-4 border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(ir,{className:"w-4 h-4 text-[#F59E0B]"}),s.jsx("h3",{className:"text-sm font-semibold text-[#0f172a]",children:"Assignment Overview"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl text-[#F59E0B] font-semibold",children:e.totalAssignments}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Total Patients"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl text-[#0966CC] font-semibold",children:e.totalCharts}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Total Charts"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl text-[#10B981] font-semibold",children:e.pendingReview}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Pending Review"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl text-[#F59E0B] font-semibold",children:e.thisWeekScheduled}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"This Week"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"w-4 h-4 text-[#F59E0B]"}),s.jsx("h3",{className:"text-sm font-semibold text-[#0f172a]",children:"User Details"})]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>et.info("Edit profile coming soon"),className:"border-[#F59E0B] text-[#F59E0B] hover:bg-[#FEF3C7]",children:[s.jsx(bh,{className:"w-3 h-3 mr-2"}),"Edit"]})]}),s.jsx(lr,{className:"p-5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center flex-shrink-0",children:s.jsx(On,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Email Address"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:e.email})]})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center flex-shrink-0",children:s.jsx(Ba,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Phone Number"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:e.phone})]})]})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ya,{className:"w-4 h-4 text-[#F59E0B]"}),s.jsx("h3",{className:"text-sm font-semibold text-[#0f172a]",children:"Agency Information"})]}),s.jsxs(fe,{variant:"ghost",size:"sm",onClick:()=>et.info("Agency details coming soon"),className:"text-[#F59E0B] hover:text-[#D97706] hover:bg-[#FEF3C7]",children:["View Details",s.jsx(Xr,{className:"w-4 h-4 ml-1"})]})]}),s.jsx(lr,{className:"p-5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center flex-shrink-0",children:s.jsx(ya,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Agency Name"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:e.agency})]})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center flex-shrink-0",children:s.jsx(Js,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"License Number"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:e.agencyLicense})]})]})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qo,{className:"w-4 h-4 text-[#F59E0B]"}),s.jsx("h3",{className:"text-sm font-semibold text-[#0f172a]",children:"Contact Information"})]}),s.jsx(lr,{className:"p-5",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center flex-shrink-0",children:s.jsx(qo,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-[#64748b] mb-1",children:"Address"}),s.jsx("p",{className:"text-sm text-[#0f172a]",children:e.address})]})]})})]}),s.jsx(lr,{className:"p-4 bg-slate-50 border-slate-200",children:s.jsxs("div",{className:"flex items-start gap-2 text-xs text-[#64748b]",children:[s.jsx(Qs,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{children:[" Account created: ",e.accountCreated]}),s.jsxs("p",{children:[" Last updated: ",e.lastUpdated]})]})]})})]})]})}function Wk({navigation:t,onNavigateToProfile:e}){const[r,n]=_.useState(!0),[i,a]=_.useState(!0),[o,l]=_.useState(!0),[c,u]=_.useState(!1),[h,m]=_.useState(!1),[x,p]=_.useState(!1),[y,w]=_.useState(!1),[j,C]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),A={lastPasswordChange:"45 days ago",lastLogin:"Phoenix, AZ",lastLoginTime:"Today at 8:15 AM"},k=[{id:"1",device:"Chrome on Windows",location:"Phoenix, AZ",ip:"192.168.1.1",lastActive:"Active now",current:!0},{id:"2",device:"Safari on iPhone",location:"Phoenix, AZ",ip:"192.168.1.45",lastActive:"3 hours ago",current:!1}],P=()=>{if(!j.currentPassword||!j.newPassword||!j.confirmPassword){et.error("Please fill in all fields");return}if(j.newPassword!==j.confirmPassword){et.error("New passwords do not match");return}if(j.newPassword.length<8){et.error("Password must be at least 8 characters");return}et.success("Password changed successfully!"),m(!1),C({currentPassword:"",newPassword:"",confirmPassword:""})},M=L=>{u(L),L?p(!0):et.info("Two-factor authentication disabled")},$=L=>{et.success("Session revoked successfully")};return s.jsxs("div",{className:"h-full flex flex-col bg-[#f8fafc]",children:[s.jsxs("div",{className:"bg-white border-b border-[#e2e8f0] p-5",children:[s.jsx("h1",{className:"text-lg text-[#0f172a] mb-2",children:"Settings"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Manage your account and preferences"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-5",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"ACCOUNT"}),s.jsx("div",{className:"bg-white rounded-2xl border border-[#e2e8f0] overflow-hidden",children:s.jsxs("button",{onClick:()=>e?.(),className:"w-full flex items-center justify-between p-4 hover:bg-[#f8fafc] transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center",children:s.jsx(Ts,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Profile"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"View and edit your profile"})]})]}),s.jsx(Xr,{className:"w-5 h-5 text-[#cbd5e1]"})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"SECURITY"}),s.jsx(lr,{className:"p-5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#DBEAFE] flex items-center justify-center flex-shrink-0",children:s.jsx(os,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Password"}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:["Last changed ",A.lastPasswordChange]})]})]}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>m(!0),className:"text-[#0966CC] hover:text-[#075985] hover:bg-[#DBEAFE]",children:"Change"})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(Jf,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Two-Factor Authentication"}),c&&s.jsx(ft,{variant:"outline",className:"border-[#10B981] text-[#10B981] text-xs h-5",children:" Enabled"})]}),s.jsx("p",{className:"text-xs text-[#64748b]",children:c?"Extra security for your account":"Add extra layer of security"})]})]}),s.jsx(Mi,{checked:c,onCheckedChange:M,className:"data-[state=checked]:bg-[#10B981]"})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center flex-shrink-0",children:s.jsx(Mm,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Last Login"}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[" ",A.lastLogin]}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[" ",A.lastLoginTime]})]})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0E7FF] flex items-center justify-center flex-shrink-0",children:s.jsx(fo,{className:"w-5 h-5 text-[#4F46E5]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Active Sessions"}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[k.length," devices signed in"]})]})]}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>w(!0),className:"text-[#4F46E5] hover:text-[#4338CA] hover:bg-[#E0E7FF]",children:"View"})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm text-[#64748b] mb-3 px-2",children:"NOTIFICATIONS"}),s.jsxs("div",{className:"bg-white rounded-2xl border border-[#e2e8f0] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#e2e8f0]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center",children:s.jsx(On,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Email Notifications"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Receive email updates"})]})]}),s.jsx(Mi,{checked:o,onCheckedChange:l,className:"data-[state=checked]:bg-[#F59E0B]"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#e2e8f0]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center",children:s.jsx(ir,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Chart Notifications"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Chart status updates"})]})]}),s.jsx(Mi,{checked:r,onCheckedChange:n,className:"data-[state=checked]:bg-[#F59E0B]"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0F2FE] flex items-center justify-center",children:s.jsx(fh,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Assignment Alerts"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"New chart assignments"})]})]}),s.jsx(Mi,{checked:i,onCheckedChange:a,className:"data-[state=checked]:bg-[#0966CC]"})]})]})]}),s.jsx(lr,{className:"p-4 bg-amber-50 border-amber-200",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(mh,{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-xs text-amber-800",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Need help with settings?"}),s.jsx("p",{children:"Contact your agency administrator or visit our help center for assistance."})]})]})})]}),s.jsx(_r,{open:h,onOpenChange:m,children:s.jsxs(jr,{className:"sm:max-w-[500px]",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Change Password"}),s.jsx(Pr,{children:"Enter your current password and choose a new one."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"current-password",children:"Current Password"}),s.jsx(it,{id:"current-password",type:"password",value:j.currentPassword,onChange:L=>C({...j,currentPassword:L.target.value}),placeholder:"Enter current password",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0]"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"new-password",children:"New Password"}),s.jsx(it,{id:"new-password",type:"password",value:j.newPassword,onChange:L=>C({...j,newPassword:L.target.value}),placeholder:"Enter new password",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0]"}),s.jsx("p",{className:"text-xs text-[#64748b] mt-1",children:"Must be at least 8 characters"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"confirm-password",children:"Confirm New Password"}),s.jsx(it,{id:"confirm-password",type:"password",value:j.confirmPassword,onChange:L=>C({...j,confirmPassword:L.target.value}),placeholder:"Confirm new password",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0]"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>{m(!1),C({currentPassword:"",newPassword:"",confirmPassword:""})},children:"Cancel"}),s.jsxs(fe,{onClick:P,className:"bg-[#F59E0B] hover:bg-[#D97706] text-white",children:[s.jsx(os,{className:"w-4 h-4 mr-2"}),"Change Password"]})]})]})}),s.jsx(_r,{open:x,onOpenChange:p,children:s.jsxs(jr,{children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Enable Two-Factor Authentication"}),s.jsx(Pr,{children:"Scan the QR code with your authenticator app"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("div",{className:"w-48 h-48 bg-slate-100 rounded-lg mx-auto flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-slate-500",children:"QR Code Here"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-[#0f172a]",children:"Verification Code"}),s.jsx("input",{type:"text",className:"w-full h-10 px-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-[#F59E0B]",placeholder:"Enter 6-digit code"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),s.jsx(fe,{className:"bg-[#F59E0B] hover:bg-[#D97706]",onClick:()=>{p(!1),et.success("Two-factor authentication enabled")},children:"Verify & Enable"})]})]})}),s.jsx(_r,{open:y,onOpenChange:w,children:s.jsxs(jr,{className:"max-w-2xl",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Active Sessions"}),s.jsx(Pr,{children:"Manage devices where you're currently signed in"})]}),s.jsx("div",{className:"space-y-3 py-4 max-h-96 overflow-y-auto",children:k.map(L=>s.jsx(lr,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#DBEAFE] flex items-center justify-center flex-shrink-0",children:s.jsx(fo,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-[#0f172a]",children:L.device}),L.current&&s.jsx(ft,{variant:"outline",className:"border-[#F59E0B] text-[#F59E0B] text-xs h-5",children:"Current"})]}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[" ",L.location]}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:["IP: ",L.ip]}),s.jsx("p",{className:"text-xs text-[#64748b]",children:L.lastActive})]})]}),!L.current&&s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>$(L.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Revoke"})]})},L.id))}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>w(!1),children:"Close"}),s.jsxs(fe,{variant:"destructive",onClick:()=>{et.success("All other sessions revoked"),w(!1)},children:[s.jsx(Zs,{className:"w-4 h-4 mr-2"}),"Revoke All Others"]})]})]})})]})}const K0=[{id:"c1",patientId:"PT-1001",patientName:"Jane Test",patientDob:"1969-12-31",status:"Assigned",createdDate:"2025-01-15",assignedTo:"Anna Clinician",documentCount:2,isNew:!1,waitingDays:0},{id:"c2",patientId:"PT-1002",patientName:"John Sample",patientDob:"1972-02-01",status:"Needs Assignment",createdDate:"2025-11-03",documentCount:0,isNew:!0,waitingDays:2},{id:"c3",patientId:"PT-1003",patientName:"Mary Johnson",patientDob:"1985-05-12",status:"Docs Available",createdDate:"2025-11-04",documentCount:3,isNew:!1,waitingDays:1},{id:"c4",patientId:"PT-1004",patientName:"Robert Williams",patientDob:"1978-09-20",status:"Completed",createdDate:"2025-10-28",assignedTo:"Bob Clinician",documentCount:4,isNew:!1,waitingDays:0},{id:"c5",patientId:"PT-1005",patientName:"Lisa Anderson",patientDob:"1992-03-15",status:"Needs Assignment",createdDate:"2025-11-02",documentCount:2,isNew:!1,waitingDays:3}],wte=[{id:"1",name:"Jane Test",dob:"1969-12-31",address:"101 Test Ave, Test City, CA",phone:"555-1001"},{id:"2",name:"John Sample",dob:"1972-02-01",address:"202 Sample St, Sample Town, CA",phone:"555-1002"}],Cx=[{id:"1",name:"Anna Clinician",assignedCharts:5},{id:"2",name:"Bob Clinician",assignedCharts:3},{id:"3",name:"Carol Clinician",assignedCharts:7}];function bte({navigation:t}){const{logout:e}=po(),[r,n]=_.useState(!1),[i,a]=_.useState("charts"),[o,l]=_.useState(""),[c,u]=_.useState("all"),[h,m]=_.useState(!1),[x,p]=_.useState(!1),[y,w]=_.useState(""),[j,C]=_.useState(null),[A,k]=_.useState(""),[P,M]=_.useState({patientName:"",patientDob:"",patientAddress:"",patientPhone:""}),[$,L]=_.useState(!0),[D,V]=_.useState(!0),[ne,B]=_.useState(!1),[F,X]=_.useState(""),[ee,xe]=_.useState(""),[oe,pe]=_.useState(""),[H,q]=_.useState(!1),[ie,G]=_.useState(!1),[R,z]=_.useState(!1),U=wte.length,Q=K0.filter($e=>$e.status==="Needs Assignment"||$e.status==="Docs Available").length,J=K0.filter($e=>{const Ee=new Date("2025-11-05");return new Date($e.createdDate).toDateString()===Ee.toDateString()}).length,re=1.2;K0.filter($e=>!$e.assignedTo).length;const le=()=>{e(),t.navigate("Landing")},ye=$e=>{a($e),n(!1)},je=()=>{if(!P.patientName||!P.patientDob){alert("Please fill in patient name and date of birth");return}console.log("Creating empty chart:",P),alert("Empty chart created successfully!"),m(!1),M({patientName:"",patientDob:"",patientAddress:"",patientPhone:""})},Se=()=>{if(!A){alert("Please select a clinician");return}console.log("Assigning chart",j?.id,"to",A),alert(`Chart assigned to ${A}!`),p(!1),C(null),k("")},Be=()=>s.jsxs("nav",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>ye("charts"),className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors ${i==="charts"?"bg-[#FEF3C7] text-[#F59E0B]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsx(ir,{className:"w-5 h-5"}),s.jsx("span",{children:"Patient Charts"})]}),s.jsxs("button",{onClick:()=>ye("scan"),className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors ${i==="scan"?"bg-[#FEF3C7] text-[#F59E0B]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsx(Vs,{className:"w-5 h-5"}),s.jsx("span",{children:"Scan Documents"})]}),s.jsxs("button",{onClick:()=>ye("assign"),className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors ${i==="assign"?"bg-[#FEF3C7] text-[#F59E0B]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsx(Tf,{className:"w-5 h-5"}),s.jsx("span",{children:"Assign Charts"})]}),s.jsxs("button",{onClick:()=>ye("profile"),className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors ${i==="profile"?"bg-[#FEF3C7] text-[#F59E0B]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsx(Ts,{className:"w-5 h-5"}),s.jsx("span",{children:"Profile"})]}),s.jsxs("button",{onClick:()=>ye("settings"),className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors ${i==="settings"?"bg-[#FEF3C7] text-[#F59E0B]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsx(rc,{className:"w-5 h-5"}),s.jsx("span",{children:"Settings"})]})]}),Fe=()=>{const $e=K0.filter(Ee=>{const lt=Ee.patientName.toLowerCase().includes(o.toLowerCase()),Pe=c==="all"?!0:c==="needs-assignment"?Ee.status==="Needs Assignment"||Ee.status==="Docs Available":c==="assigned"?Ee.status==="Assigned":c==="completed"?Ee.status==="Completed":!0;return lt&&Pe});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl text-[#0f172a]",children:"Patient Charts"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Create charts and manage patient records"})]}),s.jsxs(fe,{onClick:()=>m(!0),className:"bg-[#F59E0B] hover:bg-[#D97706] text-white",children:[s.jsx($s,{className:"w-4 h-4 mr-2"}),"Create New Chart"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(wa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#94a3b8]"}),s.jsx(it,{placeholder:"Search charts by patient name...",value:o,onChange:Ee=>l(Ee.target.value),className:"pl-12 h-12 rounded-xl border-2 border-[#e2e8f0] bg-white"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(fe,{onClick:()=>u("all"),variant:c==="all"?"default":"outline",className:c==="all"?"bg-[#F59E0B] hover:bg-[#D97706] text-white":"border-[#e2e8f0] text-[#64748b] hover:bg-[#f8fafc]",children:"All Charts"}),s.jsxs(fe,{onClick:()=>u("needs-assignment"),variant:c==="needs-assignment"?"default":"outline",className:c==="needs-assignment"?"bg-[#F59E0B] hover:bg-[#D97706] text-white":"border-[#e2e8f0] text-[#64748b] hover:bg-[#f8fafc]",children:[s.jsx(_i,{className:"w-4 h-4 mr-2"}),"Needs Assignment"]}),s.jsx(fe,{onClick:()=>u("assigned"),variant:c==="assigned"?"default":"outline",className:c==="assigned"?"bg-[#F59E0B] hover:bg-[#D97706] text-white":"border-[#e2e8f0] text-[#64748b] hover:bg-[#f8fafc]",children:"Assigned"}),s.jsx(fe,{onClick:()=>u("completed"),variant:c==="completed"?"default":"outline",className:c==="completed"?"bg-[#F59E0B] hover:bg-[#D97706] text-white":"border-[#e2e8f0] text-[#64748b] hover:bg-[#f8fafc]",children:"Completed"})]}),$e.length>0?s.jsx("div",{className:"space-y-3",children:$e.map(Ee=>{const lt=Pe=>{switch(Pe){case"Needs Assignment":return"bg-[#FEF3C7] text-[#F59E0B] border-[#FDE68A]";case"Assigned":return"bg-[#DBEAFE] text-[#0966CC] border-[#BFDBFE]";case"Docs Available":return"bg-[#E0E7FF] text-[#4F46E5] border-[#C7D2FE]";case"Completed":return"bg-[#D1FAE5] text-[#10B981] border-[#A7F3D0]";default:return"bg-[#f1f5f9] text-[#64748b] border-[#e2e8f0]"}};return s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-5 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"flex items-start justify-between gap-4 mb-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[s.jsx("h3",{className:"text-lg text-[#0f172a]",children:Ee.patientName}),s.jsx(ft,{className:lt(Ee.status),children:Ee.status==="Assigned"&&Ee.assignedTo?`Assigned (${Ee.assignedTo})`:Ee.status}),Ee.isNew&&s.jsxs(ft,{className:"bg-[#FEE2E2] text-[#DC2626] border-[#FECACA]",children:[s.jsx(KN,{className:"w-3 h-3 mr-1"}),"New"]}),Ee.documentCount>0&&Ee.status!=="Completed"&&s.jsxs(ft,{variant:"outline",className:"border-[#E0E7FF] text-[#4F46E5] bg-[#F5F3FF]",children:[s.jsx(ir,{className:"w-3 h-3 mr-1"}),Ee.documentCount," Doc",Ee.documentCount!==1?"s":""," Pending"]}),Ee.waitingDays&&Ee.waitingDays>0&&s.jsxs(ft,{variant:"outline",className:"border-[#FDE68A] text-[#D97706] bg-[#FFFBEB]",children:[s.jsx(Qs,{className:"w-3 h-3 mr-1"}),"Waiting ",Ee.waitingDays,"d"]})]}),s.jsxs("div",{className:"space-y-1 mb-3",children:[s.jsxs("p",{className:"text-sm text-[#64748b]",children:["ID: ",Ee.patientId]}),s.jsxs("p",{className:"text-sm text-[#64748b]",children:["DOB: ",new Date(Ee.patientDob).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-[#64748b]",children:[s.jsxs("span",{children:[Ee.documentCount," document",Ee.documentCount!==1?"s":""]}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Created ",new Date(Ee.createdDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),Ee.assignedTo&&s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsx(ys,{className:"w-6 h-6",children:s.jsx(ws,{className:"bg-gradient-to-br from-[#E0F2FE] to-[#BFDBFE] text-[#0966CC] text-xs",children:Ee.assignedTo.split(" ").map(Pe=>Pe[0]).join("")})}),s.jsxs(l6,{children:[s.jsx(c6,{asChild:!0,children:s.jsxs(fe,{variant:"ghost",size:"sm",className:"text-sm text-[#0966CC] hover:underline h-auto p-0 hover:bg-transparent flex items-center gap-1",children:["Assigned to: ",Ee.assignedTo,s.jsx(Xx,{className:"w-3 h-3"})]})}),s.jsx(d6,{className:"w-64 p-3",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-[#64748b] mb-2",children:"Reassign to:"}),Cx.map(Pe=>s.jsx("button",{onClick:()=>{console.log(`Reassigning chart ${Ee.id} to ${Pe.name}`),alert(`Chart reassigned to ${Pe.name}!`)},className:"w-full text-left px-3 py-2 rounded-lg hover:bg-[#f8fafc] transition-colors text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ys,{className:"w-6 h-6",children:s.jsx(ws,{className:"bg-gradient-to-br from-[#E0F2FE] to-[#BFDBFE] text-[#0966CC] text-xs",children:Pe.name.split(" ").map(nt=>nt[0]).join("")})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#0f172a]",children:Pe.name}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[Pe.assignedCharts," charts"]})]})]})},Pe.id))]})})]})]})]})}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[Ee.documentCount>0&&s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>{console.log("Viewing documents for chart:",Ee.id),alert("Document viewer would open here")},className:"border-[#E0E7FF] text-[#4F46E5] hover:bg-[#F5F3FF]",children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"View Docs"]}),!Ee.assignedTo&&s.jsxs(l6,{children:[s.jsx(c6,{asChild:!0,children:s.jsxs(fe,{variant:"outline",size:"sm",className:"border-[#F59E0B] text-[#F59E0B] hover:bg-[#FEF3C7]",children:[s.jsx(Tf,{className:"w-4 h-4 mr-2"}),"Assign to Clinician",s.jsx(Xx,{className:"w-4 h-4 ml-1"})]})}),s.jsx(d6,{className:"w-64 p-3",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-[#64748b] mb-2",children:"Select clinician:"}),Cx.map(Pe=>s.jsx("button",{onClick:()=>{console.log(`Assigning chart ${Ee.id} to ${Pe.name}`),alert(`Chart assigned to ${Pe.name}!`)},className:"w-full text-left px-3 py-2 rounded-lg hover:bg-[#f8fafc] transition-colors text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ys,{className:"w-6 h-6",children:s.jsx(ws,{className:"bg-gradient-to-br from-[#E0F2FE] to-[#BFDBFE] text-[#0966CC] text-xs",children:Pe.name.split(" ").map(nt=>nt[0]).join("")})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#0f172a]",children:Pe.name}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[Pe.assignedCharts," charts"]})]})]})},Pe.id))]})})]})]}),!Ee.assignedTo&&Ee.status==="Needs Assignment"&&s.jsx("div",{className:"mt-3 pt-3 border-t border-[#f1f5f9]",children:s.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#64748b]",children:[s.jsx(Nm,{className:"w-3 h-3"}),s.jsx("span",{children:"Suggested: Anna Clinician (5 charts, closest location)"}),s.jsx(ft,{variant:"outline",className:"text-xs border-[#E0E7FF] text-[#4F46E5]",children:"Coming Soon"})]})})]},Ee.id)})}):s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-12 text-center",children:[s.jsx(ir,{className:"w-12 h-12 text-[#cbd5e1] mx-auto mb-3"}),s.jsx("p",{className:"text-[#64748b]",children:o?"No charts found matching your search.":c==="needs-assignment"?"No charts need assignment at this time.":"No charts found. Create a new chart to get started."})]})]})},Te=()=>{const $e=new Date("2025-11-05T14:14:00"),Ee=8,lt=2,Pe=1;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl text-[#0f172a]",children:"Scan Documents"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Scan and attach documents to patient charts"})]}),s.jsxs(fe,{onClick:()=>{console.log("Opening quick scan"),alert("Camera scan would open here")},className:"bg-[#F59E0B] hover:bg-[#D97706] text-white",children:[s.jsx(Vs,{className:"w-4 h-4 mr-2"}),"New Scan"]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4",children:[s.jsx("p",{className:"text-sm text-[#64748b] mb-3",children:"Document Status"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(ft,{className:"bg-[#FEF3C7] text-[#F59E0B] border-[#FDE68A]",children:[s.jsx(_i,{className:"w-3 h-3 mr-1"}),Ee," Pending Assignment"]}),s.jsxs(ft,{className:"bg-[#E0F2FE] text-[#0966CC] border-[#BFDBFE]",children:[s.jsx(bm,{className:"w-3 h-3 mr-1"}),lt," OCR Processing"]}),s.jsxs(ft,{className:"bg-[#FEE2E2] text-[#DC2626] border-[#FECACA]",children:[s.jsx(_i,{className:"w-3 h-3 mr-1"}),Pe," Upload Issue"]}),Ee===0]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>{console.log("Opening camera scan"),alert("Camera scan would open here")},className:"w-full bg-white rounded-xl border-2 border-[#e2e8f0] p-6 hover:border-[#F59E0B] hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-[#FEF3C7] flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:s.jsx(Vs,{className:"w-7 h-7 text-[#F59E0B]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-lg text-[#0f172a] mb-1",children:"Camera Scan"}),s.jsx("p",{className:"text-sm text-[#64748b] mb-2",children:"Scan paper docs using device camera"}),s.jsxs("p",{className:"text-xs text-[#94a3b8]",children:["Last scan: ",$e.toLocaleDateString("en-US",{month:"short",day:"numeric"})," ",$e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]}),s.jsx(Xr,{className:"w-5 h-5 text-[#cbd5e1] flex-shrink-0"})]})}),s.jsx("button",{onClick:()=>{console.log("Opening file import"),alert("File import would open here")},className:"w-full bg-white rounded-xl border-2 border-dashed border-[#e2e8f0] p-6 hover:border-[#F59E0B] hover:bg-[#FFFBEB] hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-[#E0F2FE] flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:s.jsx(ga,{className:"w-7 h-7 text-[#0966CC]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-lg text-[#0f172a] mb-1",children:"Import File"}),s.jsx("p",{className:"text-sm text-[#64748b] mb-2",children:"Upload a PDF or photo from computer"}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("p",{className:"text-xs text-[#94a3b8]",children:"Supports: PDF, JPG, PNG, HEIC"}),s.jsx("p",{className:"text-xs text-[#0966CC] italic",children:"Drop files here or click to browse"})]})]}),s.jsx(Xr,{className:"w-5 h-5 text-[#cbd5e1] flex-shrink-0"})]})}),s.jsx("button",{onClick:()=>{console.log("Opening document library"),alert("Document library would open here")},className:"w-full bg-white rounded-xl border-2 border-[#e2e8f0] p-6 hover:border-[#F59E0B] hover:shadow-md transition-all text-left group",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-[#D1FAE5] flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:s.jsx(ir,{className:"w-7 h-7 text-[#10B981]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-lg text-[#0f172a] mb-1",children:"Document Library"}),s.jsx("p",{className:"text-sm text-[#64748b] mb-2",children:"See all scanned files & match to patients"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[s.jsxs("span",{className:"text-[#F59E0B]",children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-[#F59E0B] mr-1"}),Ee," unassigned docs waiting"]}),s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-[#cbd5e1]",children:""}),s.jsxs("span",{className:"text-[#0966CC]",children:[lt," awaiting OCR"]})]}),s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-[#cbd5e1]",children:""}),s.jsxs("span",{className:"text-[#DC2626]",children:[Pe," failed upload"]})]})]})]}),s.jsx(Xr,{className:"w-5 h-5 text-[#cbd5e1] flex-shrink-0"})]})})]}),s.jsx("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4",children:s.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#E0F2FE] flex items-center justify-center flex-shrink-0",children:s.jsx(ir,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:"Need help scanning?"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Tips for better quality scans"})]})]}),s.jsx(fe,{variant:"outline",size:"sm",onClick:()=>{console.log("Opening scan guide"),alert("Scan quality guide would open here with tips about lighting, angle, blur, etc.")},className:"border-[#E0F2FE] text-[#0966CC] hover:bg-[#F0F9FF] flex-shrink-0",children:"View Guide"})]})}),s.jsxs("div",{className:"bg-[#FEF3C7] border border-[#FDE68A] rounded-xl p-4 space-y-2",children:[s.jsxs("p",{className:"text-sm text-[#92400E]",children:[s.jsx("strong",{children:"HIPAA Compliant:"})," All scanned documents are securely encrypted and stored. Documents can be attached to patient charts for clinician review."]}),s.jsxs("p",{className:"text-xs text-[#92400E] flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-[#10B981]"}),"Offline scans will sync automatically once reconnected"]})]})]})},ce=()=>{const $e=K0.filter(Ee=>!Ee.assignedTo);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl text-[#0f172a]",children:"Assign Charts"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Assign charts to clinicians for review"})]}),$e.length>0?s.jsx("div",{className:"space-y-3",children:$e.map(Ee=>s.jsx("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-5",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"text-lg text-[#0f172a]",children:Ee.patientName}),Ee.isNew&&s.jsxs(ft,{className:"bg-[#FEE2E2] text-[#DC2626] border-[#FECACA]",children:[s.jsx(KN,{className:"w-3 h-3 mr-1"}),"New"]})]}),s.jsxs("div",{className:"space-y-1 mb-3",children:[s.jsxs("p",{className:"text-sm text-[#64748b]",children:["ID: ",Ee.patientId]}),s.jsxs("p",{className:"text-sm text-[#64748b]",children:["DOB: ",new Date(Ee.patientDob).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(ft,{className:"bg-[#FEF3C7] text-[#F59E0B] border-[#FDE68A]",children:Ee.status}),Ee.documentCount>0&&s.jsxs(ft,{variant:"outline",className:"border-[#E0E7FF] text-[#4F46E5] bg-[#F5F3FF]",children:[s.jsx(ir,{className:"w-3 h-3 mr-1"}),Ee.documentCount," Doc",Ee.documentCount!==1?"s":""]}),Ee.waitingDays&&Ee.waitingDays>0&&s.jsxs(ft,{variant:"outline",className:"border-[#FDE68A] text-[#D97706] bg-[#FFFBEB]",children:[s.jsx(Qs,{className:"w-3 h-3 mr-1"}),"Waiting ",Ee.waitingDays,"d"]})]})]}),s.jsxs(fe,{onClick:()=>{C(Ee),p(!0)},className:"bg-[#F59E0B] hover:bg-[#D97706] text-white",children:[s.jsx(Tf,{className:"w-4 h-4 mr-2"}),"Assign"]})]})},Ee.id))}):s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-12 text-center",children:[s.jsx(ur,{className:"w-12 h-12 text-[#10B981] mx-auto mb-3"}),s.jsx("p",{className:"text-[#0f172a] mb-1",children:"All charts are assigned!"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"All patient charts have been assigned to clinicians."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-[#0f172a] mb-3",children:"Available Clinicians"}),s.jsx("div",{className:"space-y-2",children:Cx.map(Ee=>s.jsx("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4 flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ys,{children:s.jsx(ws,{className:"bg-gradient-to-br from-[#E0F2FE] to-[#BFDBFE] text-[#0966CC]",children:Ee.name.split(" ").map(lt=>lt[0]).join("")})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a]",children:Ee.name}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[Ee.assignedCharts," assigned chart",Ee.assignedCharts!==1?"s":""]})]})]})},Ee.id))})]})]})};return s.jsxs("div",{className:"h-screen flex bg-[#f8fafc] overflow-hidden",children:[s.jsxs("aside",{className:"hidden md:flex md:flex-col w-64 bg-white border-r border-[#e2e8f0]",children:[s.jsx("div",{className:"border-b border-[#e2e8f0] p-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center",children:s.jsx(Ho,{className:"w-6 h-6 text-[#F59E0B]"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#64748b]",children:"Scheduler Portal"}),s.jsx("div",{className:"text-[#0f172a]",children:"Jessica Martinez"})]})]})}),s.jsx("div",{className:"flex-1 py-4 px-3 overflow-y-auto",children:Be()}),s.jsx("div",{className:"border-t border-[#e2e8f0] p-4",children:s.jsxs(fe,{onClick:le,variant:"outline",className:"w-full border-[#DC2626] text-[#DC2626] hover:bg-[#FEE2E2]",children:[s.jsx(Yc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})})]}),s.jsx(Jd,{open:r,onOpenChange:n,children:s.jsxs(Qd,{side:"left",className:"w-[280px] sm:w-[320px] p-0 flex flex-col",children:[s.jsxs(eu,{className:"border-b border-[#e2e8f0] p-6",children:[s.jsx(tu,{className:"text-left",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center",children:s.jsx(Ho,{className:"w-6 h-6 text-[#F59E0B]"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#64748b]",children:"Scheduler Portal"}),s.jsx("div",{className:"text-[#0f172a]",children:"Jessica Martinez"})]})]})}),s.jsx(Rf,{className:"sr-only",children:"Navigation menu for Scheduler Portal"})]}),s.jsx("div",{className:"flex-1 py-4 px-3 overflow-y-auto",children:Be()}),s.jsx("div",{className:"border-t border-[#e2e8f0] p-4",children:s.jsxs(fe,{onClick:le,variant:"outline",className:"w-full border-[#DC2626] text-[#DC2626] hover:bg-[#FEE2E2]",children:[s.jsx(Yc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})})]})}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"bg-white border-b border-[#e2e8f0] px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n(!0),className:"md:hidden w-10 h-10 rounded-xl bg-[#f8fafc] hover:bg-[#f1f5f9] flex items-center justify-center transition-colors",children:s.jsx(A1,{className:"w-5 h-5 text-[#64748b]"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-xl text-[#0f172a]",children:[i==="charts"&&"Patient Charts",i==="scan"&&"Scan Documents",i==="assign"&&"Assign Charts",i==="profile"&&"My Profile",i==="settings"&&"Settings"]}),s.jsxs("p",{className:"text-sm text-[#64748b]",children:[i==="charts"&&"Create and manage patient charts",i==="scan"&&"Scan and upload documents",i==="assign"&&"Assign charts to clinicians",i==="profile"&&"View your profile information",i==="settings"&&"Manage your account settings"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("button",{className:"w-10 h-10 rounded-xl bg-[#f8fafc] hover:bg-[#f1f5f9] flex items-center justify-center relative transition-colors",children:[s.jsx(fh,{className:"w-5 h-5 text-[#64748b]"}),s.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-[#F59E0B] border-2 border-white"})]})})]})}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[i==="charts"&&s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mb-6",children:[s.jsx("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-[#FEF3C7] flex items-center justify-center",children:s.jsx(as,{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#F59E0B]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xl sm:text-2xl text-[#0f172a]",children:U}),s.jsx("p",{className:"text-xs sm:text-sm text-[#64748b]",children:"Total Patients"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-[#FEE2E2] flex items-center justify-center",children:s.jsx(_i,{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#DC2626]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xl sm:text-2xl text-[#0f172a]",children:Q}),s.jsx("p",{className:"text-xs sm:text-sm text-[#64748b]",children:"Needs Assignment"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-[#E0F2FE] flex items-center justify-center",children:s.jsx(ir,{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xl sm:text-2xl text-[#0f172a]",children:J}),s.jsx("p",{className:"text-xs sm:text-sm text-[#64748b]",children:"New Docs Today"})]})]})}),s.jsx("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-[#D1FAE5] flex items-center justify-center",children:s.jsx(Qs,{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#10B981]"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xl sm:text-2xl text-[#0f172a]",children:[re,"h"]}),s.jsx("p",{className:"text-xs sm:text-sm text-[#64748b]",children:"Avg Assignment"})]})]})})]}),i==="charts"&&Fe(),i==="scan"&&Te(),i==="assign"&&ce(),i==="profile"&&s.jsx(qk,{navigation:t}),i==="settings"&&s.jsx(Wk,{navigation:t,onNavigateToProfile:()=>ye("profile")})]})]}),s.jsx(K1,{position:"top-right"}),s.jsx(_r,{open:h,onOpenChange:m,children:s.jsxs(jr,{className:"sm:max-w-[500px]",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Create Empty Chart"}),s.jsx(Pr,{children:"Create a new chart for a patient. Clinicians will add medications later."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"patient-name",children:"Patient Name *"}),s.jsx(it,{id:"patient-name",value:P.patientName,onChange:$e=>M({...P,patientName:$e.target.value}),placeholder:"John Doe",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0]"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"patient-dob",children:"Date of Birth *"}),s.jsx(it,{id:"patient-dob",type:"date",value:P.patientDob,onChange:$e=>M({...P,patientDob:$e.target.value}),className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0]"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"patient-address",children:"Address (Optional)"}),s.jsx(it,{id:"patient-address",value:P.patientAddress,onChange:$e=>M({...P,patientAddress:$e.target.value}),placeholder:"123 Main St, City, State",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0]"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"patient-phone",children:"Phone Number (Optional)"}),s.jsx(it,{id:"patient-phone",value:P.patientPhone,onChange:$e=>M({...P,patientPhone:$e.target.value}),placeholder:"555-1234",className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0]"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsxs(fe,{onClick:je,className:"bg-[#F59E0B] hover:bg-[#D97706] text-white",children:[s.jsx($s,{className:"w-4 h-4 mr-2"}),"Create Chart"]})]})]})}),s.jsx(_r,{open:x,onOpenChange:p,children:s.jsxs(jr,{className:"sm:max-w-[500px]",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Assign Chart to Clinician"}),s.jsx(Pr,{children:"Select a clinician to assign this chart for medication review."})]}),j&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"bg-[#f8fafc] rounded-xl p-4",children:[s.jsxs("p",{className:"text-sm text-[#0f172a] mb-1",children:[s.jsx("strong",{children:"Patient:"})," ",j.patientName]}),s.jsxs("p",{className:"text-sm text-[#0f172a]",children:[s.jsx("strong",{children:"DOB:"})," ",new Date(j.patientDob).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"clinician",children:"Select Clinician *"}),s.jsxs(ei,{value:A,onValueChange:k,children:[s.jsx(ri,{className:"mt-2 h-12 rounded-xl border-2 border-[#e2e8f0]",children:s.jsx(ti,{placeholder:"Choose a clinician"})}),s.jsx(ni,{children:Cx.map($e=>s.jsxs(At,{value:$e.name,children:[$e.name," (",$e.assignedCharts," charts)"]},$e.id))})]})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>{p(!1),C(null),k("")},children:"Cancel"}),s.jsxs(fe,{onClick:Se,className:"bg-[#F59E0B] hover:bg-[#D97706] text-white",children:[s.jsx($D,{className:"w-4 h-4 mr-2"}),"Assign Chart"]})]})]})})]})}function Nte({isOpen:t,onClose:e,agencies:r,onSelectAgency:n}){const[i,a]=_.useState(""),[o,l]=_.useState([]);_.useEffect(()=>{if(i.length===0){l([]);return}const h=i.toLowerCase(),m=r.filter(x=>x.name.toLowerCase().includes(h)||x.subdomain.toLowerCase().includes(h)||x.ein?.toLowerCase().includes(h)||x.contact.toLowerCase().includes(h));l(m)},[i,r]);const c=h=>{n&&n(h.id),e(),a("")},u=h=>{const m={Test:{icon:"",color:"bg-[#DBEAFE] text-[#1E40AF] border-[#93C5FD]"},Production:{icon:"",color:"bg-[#D1FAE5] text-[#047857] border-[#A7F3D0]"},Trial:{icon:"",color:"bg-[#FEF3C7] text-[#B45309] border-[#FDE68A]"},Onboarding:{icon:"",color:"bg-[#FEE2E2] text-[#B91C1C] border-[#FECACA]"}},x=m[h]||m.Production;return s.jsxs(ft,{className:`${x.color} text-xs`,children:[s.jsx("span",{className:"mr-1",children:x.icon}),h]})};return s.jsx(_r,{open:t,onOpenChange:e,children:s.jsxs(jr,{className:"p-0 gap-0 max-w-2xl",children:[s.jsxs("div",{className:"border-b border-[#e2e8f0] px-4 py-3 flex items-center gap-3",children:[s.jsx(wa,{className:"w-5 h-5 text-[#64748b]"}),s.jsx("input",{type:"text",placeholder:"Search agencies, users, domains, EINs...",value:i,onChange:h=>a(h.target.value),className:"flex-1 bg-transparent border-0 outline-none text-[#0f172a] placeholder:text-[#94a3b8]",autoFocus:!0}),s.jsx("kbd",{className:"hidden sm:inline-flex items-center gap-1 px-2 py-1 text-xs text-[#64748b] bg-[#f8fafc] border border-[#e2e8f0] rounded",children:"ESC"})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:i.length===0?s.jsxs("div",{className:"p-8 text-center text-[#64748b]",children:[s.jsx("p",{className:"text-sm",children:"Start typing to search agencies, users, domains, or EINs"}),s.jsxs("p",{className:"text-xs mt-2",children:[s.jsx("kbd",{className:"px-2 py-1 text-xs bg-[#f8fafc] border border-[#e2e8f0] rounded",children:"Cmd"})," + ",s.jsx("kbd",{className:"px-2 py-1 text-xs bg-[#f8fafc] border border-[#e2e8f0] rounded",children:"K"})," to open"]})]}):o.length===0?s.jsx("div",{className:"p-8 text-center text-[#64748b]",children:s.jsxs("p",{className:"text-sm",children:['No results found for "',i,'"']})}):s.jsxs("div",{children:[s.jsxs("div",{className:"px-3 py-2 text-xs text-[#64748b] bg-[#f8fafc] border-b border-[#e2e8f0]",children:["Agencies (",o.length,")"]}),o.map(h=>s.jsx("button",{onClick:()=>c(h),className:"w-full px-4 py-3 hover:bg-[#f8fafc] transition-colors border-b border-[#e2e8f0] last:border-b-0 text-left",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0F2FE] flex items-center justify-center flex-shrink-0",children:s.jsx(ya,{className:"w-5 h-5 text-[#0966CC]"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-sm text-[#0f172a] truncate",children:h.name}),u(h.environment)]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#64748b]",children:[s.jsx("span",{className:"truncate",children:h.subdomain}),h.ein&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["EIN: ",h.ein]})]})]})]})]})},h.id))]})})]})})}function jte({navigation:t}){const{logout:e}=po(),[r,n]=_.useState(!1),[i,a]=_.useState("agencies"),[o,l]=_.useState(!1),[c,u]=_.useState(""),[h,m]=_.useState("all"),[x,p]=_.useState("all"),[y,w]=_.useState("7d"),[j,C]=_.useState(null),[A,k]=_.useState(!1),[P,M]=_.useState(!1),[$,L]=_.useState(null),[D,V]=_.useState(""),[ne,B]=_.useState(!1),[F,X]=_.useState(null),[ee,xe]=_.useState(!1),[oe,pe]=_.useState(null),[H,q]=_.useState(""),[ie,G]=_.useState(!1),[R,z]=_.useState([]),[U,Q]=_.useState(!1),[J,re]=_.useState("created"),[le,ye]=_.useState("7d"),[je,Se]=_.useState("daily"),[Be]=_.useState([{id:"1",device:"Chrome on MacOS",location:"San Francisco, CA",lastActive:"Active now",current:!0},{id:"2",device:"Safari on iPhone",location:"San Francisco, CA",lastActive:"2 hours ago",current:!1}]),[Fe,Te]=_.useState({agencyName:"",subdomain:"",domainSuffix:".app",ein:"",contactEmail:"",contactPhone:"",paymentToken:"",baaSigned:!1,testMode:!1}),[ce]=_.useState([{id:"1",name:"Luminous QA  Test HHA",status:"Active",environment:"Test",subdomain:"qa.app",contact:"admin@qa-hha.test",ein:"12-3456789",created:"12/31/2024",baaStatus:"BAA Signed",baaSignedDate:"Jan 15, 2025",baaSignedBy:"Admin User",billingPlan:"Professional",seats:25,seatsUsed:18,renewal:"Dec 2025",lastActive:"2 hours ago",systemHealth:"Healthy",lastImport:"32 docs today",lastImportSuccess:!0,clinicianCount:8,unverifiedUsers:1,mfaPercentage:87,onboardingComplete:100,region:"US-West",featureFlags:["New OCR","Background sync v2"]},{id:"2",name:"Sample Home Health Agency",status:"Active",environment:"Production",subdomain:"sample.app",contact:"admin@samplehha.com",ein:"98-7654321",created:"1/31/2025",baaStatus:"BAA Signed",baaSignedDate:"Feb 1, 2025",baaSignedBy:"Agency Admin",billingPlan:"Enterprise",seats:50,seatsUsed:48,renewal:"Jan 2026",lastActive:"15 mins ago",systemHealth:"Healthy",lastImport:"128 docs today",lastImportSuccess:!0,clinicianCount:24,unverifiedUsers:0,mfaPercentage:100,onboardingComplete:100,region:"US-East",featureFlags:["New OCR","Background sync v2","RN mobile beta"]},{id:"3",name:"New Agency Without BAA",status:"At-Risk",environment:"Onboarding",subdomain:"newagency.app",contact:"contact@newagency.com",ein:"",created:"10/7/2025",baaStatus:"BAA Not Signed",billingPlan:"Trial",seats:10,seatsUsed:7,renewal:"Nov 15, 2025",lastActive:"3 days ago",systemHealth:"Warning",lastImport:"No activity",lastImportSuccess:!1,clinicianCount:2,unverifiedUsers:5,mfaPercentage:40,onboardingComplete:45,region:"US-West",featureFlags:[]},{id:"4",name:"Sunrise Healthcare",status:"Active",environment:"Production",subdomain:"sunrise.app",contact:"admin@sunrisehc.com",ein:"45-6789012",created:"3/12/2025",baaStatus:"BAA Expiring Soon",baaSignedDate:"Mar 15, 2025",baaSignedBy:"System Admin",billingPlan:"Enterprise",seats:75,seatsUsed:62,renewal:"Mar 2026",lastActive:"1 hour ago",systemHealth:"Healthy",lastImport:"89 docs today",lastImportSuccess:!0,clinicianCount:34,unverifiedUsers:2,mfaPercentage:94,onboardingComplete:100,region:"US-Central",featureFlags:["New OCR"]}]),[$e]=_.useState([{id:"1",timestamp:"2025-11-06 14:32",actor:"super-admin@luminous.com",action:"Agency Created",entity:"Sample Home Health Agency",details:"Created new production agency"},{id:"2",timestamp:"2025-11-06 13:15",actor:"super-admin@luminous.com",action:"User Added",entity:"Luminous QA",details:"Added clinician John Doe"},{id:"3",timestamp:"2025-11-06 12:00",actor:"super-admin@luminous.com",action:"Settings Changed",entity:"Sunrise Healthcare",details:"Updated BAA document"},{id:"4",timestamp:"2025-11-06 10:45",actor:"super-admin@luminous.com",action:"Impersonation Started",entity:"Sample Home Health Agency",details:"Reason: Support request #1234"},{id:"5",timestamp:"2025-11-06 10:30",actor:"super-admin@luminous.com",action:"Agency Suspended",entity:"Old Agency",details:"Reason: Payment failure"}]);_.useEffect(()=>{const ge=pt=>{(pt.metaKey||pt.ctrlKey)&&pt.key==="k"&&(pt.preventDefault(),G(!0))};return window.addEventListener("keydown",ge),()=>window.removeEventListener("keydown",ge)},[]);const Ee=ce.length,lt=ce.filter(ge=>ge.status==="Active").length,Pe=ce.filter(ge=>ge.baaStatus==="BAA Not Signed").length,nt=ce.filter(ge=>ge.baaStatus==="BAA Expiring Soon").length,We=ce.filter(ge=>ge.status==="Suspended"||ge.status==="At-Risk").length,xt=ce.reduce((ge,pt)=>ge+pt.clinicianCount,0),ct=ce.reduce((ge,pt)=>ge+pt.unverifiedUsers,0),tr=()=>{const ge=y==="7d"?1:y==="30d"?4:48;return ce.reduce((pt,bt)=>{const yr=bt.lastImport?.match(/(\d+) docs/);return pt+(yr?parseInt(yr[1])*ge:0)},0)},It=Pe+nt+We+(ct>5?1:0),St=ce.filter(ge=>{const pt=ge.name.toLowerCase().includes(c.toLowerCase())||ge.subdomain.toLowerCase().includes(c.toLowerCase())||ge.contact.toLowerCase().includes(c.toLowerCase())||ge.ein?.toLowerCase().includes(c.toLowerCase()),bt=h==="all"||ge.status===h,yr=x==="all"||ge.environment===x,Qr=R.length===0||R.every(Ce=>Ce==="Active"||Ce==="Test"||Ce==="Production"||Ce==="At-Risk"||Ce==="Onboarding"?ge.status===Ce||ge.environment===Ce:!0);return pt&&bt&&yr&&Qr}),fr=()=>{e(),t.navigate("Landing")},Ct=(ge,pt)=>{Te(bt=>({...bt,[ge]:pt}))},mt=()=>{if(!Fe.agencyName||!Fe.subdomain||!Fe.contactEmail){et.error("Please fill in all required fields");return}et.success("Agency created successfully!"),l(!1),Te({agencyName:"",subdomain:"",domainSuffix:".app",ein:"",contactEmail:"",contactPhone:"",paymentToken:"",baaSigned:!1,testMode:!1})},Et=()=>{if(!D.trim()){et.error("Please provide a reason for impersonation");return}et.success(`Impersonating ${$?.name} for 15 minutes`),console.log("Audit: Impersonation started",{agency:$?.id,reason:D}),M(!1),V("")},jt=()=>{if(!H.trim()){et.error("Please provide a reason for suspension");return}et.success(`${oe?.name} has been suspended`),xe(!1),q("")},rr=()=>{et.success("Exporting agencies to CSV...")},cr=ge=>{z(pt=>pt.includes(ge)?pt.filter(bt=>bt!==ge):[...pt,ge])},vt=ge=>{z(pt=>pt.filter(bt=>bt!==ge))},Zt=ge=>{et.success("Session revoked successfully")},mr=(ge,pt=!1)=>{const yr={Test:{icon:"",color:"bg-[#DBEAFE] text-[#1E40AF] border-[#93C5FD]",label:"Test"},Production:{icon:"",color:"bg-[#D1FAE5] text-[#047857] border-[#A7F3D0]",label:"Production"},Trial:{icon:"",color:"bg-[#FEF3C7] text-[#B45309] border-[#FDE68A]",label:"Trial"},Onboarding:{icon:"",color:"bg-[#FEE2E2] text-[#B91C1C] border-[#FECACA]",label:"Onboarding"}}[ge];return s.jsxs(ft,{className:`${yr.color} ${pt?"cursor-pointer hover:opacity-80":""}`,onClick:pt?()=>cr(ge):void 0,children:[s.jsx("span",{className:"mr-1",children:yr.icon}),yr.label]})},kt=(ge,pt=!1)=>{const bt={Active:{color:"bg-[#D1FAE5] text-[#047857] border-[#A7F3D0]"},Inactive:{color:"bg-[#E5E7EB] text-[#4B5563] border-[#D1D5DB]"},Suspended:{color:"bg-[#FEE2E2] text-[#B91C1C] border-[#FECACA]"},"At-Risk":{color:"bg-[#FED7AA] text-[#C2410C] border-[#FDBA74]"}};return s.jsx(ft,{className:`${bt[ge].color} ${pt?"cursor-pointer hover:opacity-80":""}`,onClick:pt?()=>cr(ge):void 0,children:ge})},Qt=ge=>{const bt={Healthy:{icon:ur,color:"text-[#10B981]",bg:"bg-[#D1FAE5]"},Warning:{icon:Zs,color:"text-[#F59E0B]",bg:"bg-[#FEF3C7]"},Critical:{icon:Zs,color:"text-[#DC2626]",bg:"bg-[#FEE2E2]"}}[ge],yr=bt.icon;return s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{children:s.jsx("div",{className:`w-8 h-8 rounded-lg ${bt.bg} flex items-center justify-center`,children:s.jsx(yr,{className:`w-4 h-4 ${bt.color}`})})}),s.jsx(Wr,{children:s.jsxs("p",{children:["System Health: ",ge]})})]})})},Dt=ge=>{let pt=0;ge.baaStatus==="BAA Signed"&&(pt+=25),ge.mfaPercentage>=90?pt+=25:ge.mfaPercentage>=70&&(pt+=15),ge.unverifiedUsers===0?pt+=25:ge.unverifiedUsers<=2&&(pt+=15),ge.systemHealth==="Healthy"?pt+=25:ge.systemHealth==="Warning"&&(pt+=15);const bt=pt>=80?"text-[#10B981]":pt>=50?"text-[#F59E0B]":"text-[#DC2626]",yr=pt>=80?"bg-[#D1FAE5]":pt>=50?"bg-[#FEF3C7]":"bg-[#FEE2E2]",Qr=pt>=80?"Good":pt>=50?"Fair":"Poor";return s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{children:s.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-md ${yr}`,children:[s.jsx(na,{className:`w-3 h-3 ${bt}`}),s.jsx("span",{className:`text-xs ${bt}`,children:Qr})]})}),s.jsxs(Wr,{className:"max-w-xs",children:[s.jsx("p",{className:"mb-2",children:"Security Posture Checklist:"}),s.jsxs("ul",{className:"text-xs space-y-1",children:[s.jsxs("li",{children:[" BAA: ",ge.baaStatus]}),s.jsxs("li",{children:[" MFA: ",ge.mfaPercentage,"% of users"]}),s.jsxs("li",{children:[" Unverified Users: ",ge.unverifiedUsers]}),s.jsxs("li",{children:[" System Health: ",ge.systemHealth]})]})]})]})})},Or=()=>s.jsxs("nav",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>a("agencies"),className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors ${i==="agencies"?"bg-[#E0F2FE] text-[#0966CC]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsx(ya,{className:"w-5 h-5"}),s.jsx("span",{children:"Agencies"})]}),s.jsxs("button",{onClick:()=>a("profile"),className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors ${i==="profile"?"bg-[#E0F2FE] text-[#0966CC]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsx(Ts,{className:"w-5 h-5"}),s.jsx("span",{children:"Account Hub"})]}),s.jsxs("button",{onClick:()=>a("settings"),className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors ${i==="settings"?"bg-[#E0F2FE] text-[#0966CC]":"text-[#64748b] hover:bg-[#f8fafc]"}`,children:[s.jsx(rc,{className:"w-5 h-5"}),s.jsx("span",{children:"Preferences"})]}),s.jsx(Ur,{className:"my-2"}),s.jsxs("button",{onClick:()=>k(!0),className:"w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors text-[#64748b] hover:bg-[#f8fafc]",children:[s.jsx(lh,{className:"w-5 h-5"}),s.jsx("span",{children:"Audit Log"})]})]}),Dr=()=>s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[It>0&&s.jsxs("div",{className:"bg-[#FEF2F2] border border-[#FCA5A5] rounded-xl p-4 mb-6 flex items-start gap-3",children:[s.jsx(Zs,{className:"w-5 h-5 text-[#DC2626] mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-[#DC2626] mb-1",children:[It," Compliance Risk",It!==1?"s":""," Detected"]}),s.jsxs("p",{className:"text-sm text-[#7F1D1D]",children:[Pe>0&&`${Pe} pending BAA${Pe!==1?"s":""}. `,nt>0&&`${nt} BAA${nt!==1?"s":""} expiring soon. `,We>0&&`${We} suspended/at-risk ${We!==1?"agencies":"agency"}. `,ct>5&&`${ct} unverified users across system.`]})]}),s.jsx(fe,{variant:"outline",size:"sm",className:"border-[#DC2626] text-[#DC2626] hover:bg-[#FEE2E2] hidden sm:flex",children:"View Details"})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm text-[#64748b]",children:"Key Metrics"}),s.jsx("div",{className:"flex items-center gap-1 p-1 bg-white border border-[#e2e8f0] rounded-lg",children:["7d","30d","YTD"].map(ge=>s.jsx("button",{onClick:()=>w(ge),className:`px-3 py-1 text-xs rounded transition-colors ${y===ge?"bg-[#0966CC] text-white shadow-sm":"text-[#64748b] hover:text-[#0f172a] hover:bg-[#f8fafc]"}`,children:ge},ge))})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3 sm:gap-4 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4",children:[s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#E0F2FE] flex items-center justify-center",children:s.jsx(ya,{className:"w-5 h-5 text-[#0966CC]"})})}),s.jsx("p",{className:"text-2xl text-[#0f172a] mb-1",children:Ee}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Total Agencies"})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4",children:[s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#D1FAE5] flex items-center justify-center",children:s.jsx(ur,{className:"w-5 h-5 text-[#10B981]"})})}),s.jsx("p",{className:"text-2xl text-[#0f172a] mb-1",children:lt}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Active"})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4",children:[s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEF3C7] flex items-center justify-center",children:s.jsx(ir,{className:"w-5 h-5 text-[#F59E0B]"})})}),s.jsx("p",{className:"text-2xl text-[#0f172a] mb-1",children:Pe+nt}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Pending BAA"})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4",children:[s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FEE2E2] flex items-center justify-center",children:s.jsx(Zs,{className:"w-5 h-5 text-[#DC2626]"})})}),s.jsx("p",{className:"text-2xl text-[#0f172a] mb-1",children:We}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Suspended / At-Risk"})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4",children:[s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#DBEAFE] flex items-center justify-center",children:s.jsx(as,{className:"w-5 h-5 text-[#1E40AF]"})})}),s.jsx("p",{className:"text-2xl text-[#0f172a] mb-1",children:xt}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Total Clinicians"})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-3 sm:gap-4 mb-8",children:s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4",children:[s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#F3E8FF] flex items-center justify-center",children:s.jsx(ir,{className:"w-5 h-5 text-[#7C3AED]"})})}),s.jsx("p",{className:"text-2xl text-[#0f172a] mb-1",children:tr()}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:["Total Docs (",y,")"]})]})}),s.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[s.jsx("span",{className:"text-sm text-[#64748b]",children:"Quick filters:"}),kt("Active",!0),mr("Test",!0),mr("Production",!0),kt("At-Risk",!0),mr("Onboarding",!0)]}),R.length>0&&s.jsxs("div",{className:"flex items-center gap-2 mb-4 p-3 bg-[#f8fafc] rounded-lg border border-[#e2e8f0]",children:[s.jsx("span",{className:"text-sm text-[#64748b]",children:"Active filters:"}),R.map(ge=>s.jsxs(ft,{className:"bg-[#0966CC] text-white border-[#0966CC] gap-1",children:[ge,s.jsx("button",{onClick:()=>vt(ge),className:"hover:opacity-70",children:s.jsx(zs,{className:"w-3 h-3"})})]},ge)),s.jsx("button",{onClick:()=>z([]),className:"text-xs text-[#64748b] hover:text-[#0f172a] ml-auto",children:"Clear all"})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0]",children:[s.jsx("div",{className:"border-b border-[#e2e8f0] px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsx("h2",{className:"text-lg sm:text-xl text-[#0f172a]",children:"All Agencies"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-center",children:[s.jsxs("div",{className:"relative flex-1 sm:w-64",children:[s.jsx(wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#64748b]"}),s.jsx(it,{type:"text",placeholder:"Search or press Cmd+K...",value:c,onChange:ge=>u(ge.target.value),onFocus:()=>G(!0),className:"pl-10 border-[#e2e8f0] h-9"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ei,{value:h,onValueChange:m,children:[s.jsx(ri,{className:"w-[130px] h-9 border-[#e2e8f0]",children:s.jsx(ti,{placeholder:"Status"})}),s.jsxs(ni,{children:[s.jsx(At,{value:"all",children:"All Status"}),s.jsx(At,{value:"Active",children:"Active"}),s.jsx(At,{value:"Inactive",children:"Inactive"}),s.jsx(At,{value:"Suspended",children:"Suspended"}),s.jsx(At,{value:"At-Risk",children:"At-Risk"})]})]}),s.jsxs(ei,{value:x,onValueChange:p,children:[s.jsx(ri,{className:"w-[140px] h-9 border-[#e2e8f0]",children:s.jsx(ti,{placeholder:"Environment"})}),s.jsxs(ni,{children:[s.jsx(At,{value:"all",children:"All Env"}),s.jsx(At,{value:"Production",children:"Production"}),s.jsx(At,{value:"Test",children:"Test"}),s.jsx(At,{value:"Trial",children:"Trial"}),s.jsx(At,{value:"Onboarding",children:"Onboarding"})]})]}),s.jsxs(fe,{onClick:rr,variant:"outline",size:"sm",className:"h-9 border-[#e2e8f0]",children:[s.jsx(ga,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),s.jsxs(fe,{onClick:()=>l(!0),className:"bg-[#0966CC] hover:bg-[#0C4A6E] text-white h-9",size:"sm",children:[s.jsx($s,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Add Agency"}),s.jsx("span",{className:"sm:hidden",children:"Add"})]})]})]})]})}),s.jsx("div",{className:"divide-y divide-[#e2e8f0]",children:St.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-[#f8fafc] flex items-center justify-center",children:s.jsx(ya,{className:"w-8 h-8 text-[#94a3b8]"})}),s.jsx("h3",{className:"text-lg text-[#0f172a] mb-2",children:"No agencies found"}),s.jsx("p",{className:"text-sm text-[#64748b] mb-4",children:c?"Try adjusting your search or filters":"Get started by adding your first agency"}),!c&&s.jsxs(fe,{onClick:()=>l(!0),className:"bg-[#0966CC] hover:bg-[#0C4A6E] text-white",children:[s.jsx($s,{className:"w-4 h-4 mr-2"}),"Add Agency"]})]}):St.map(ge=>s.jsx("div",{className:"p-4 sm:p-6 hover:bg-[#f8fafc] transition-colors",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#0966CC] to-[#0C4A6E] flex items-center justify-center text-white flex-shrink-0",children:ge.name.substring(0,2).toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[s.jsx("h3",{className:"text-base sm:text-lg text-[#0f172a]",children:ge.name}),kt(ge.status),mr(ge.environment),Dt(ge)]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-[#64748b] flex-wrap",children:[s.jsx("span",{children:ge.subdomain}),s.jsx("span",{children:""}),s.jsx("span",{children:ge.contact}),ge.region&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{children:ge.region})]})]}),ge.onboardingComplete<100&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-[#64748b] mb-1",children:[s.jsx("span",{children:"Onboarding Progress"}),s.jsxs("span",{children:[ge.onboardingComplete,"%"]})]}),s.jsx("div",{className:"w-full h-2 bg-[#f1f5f9] rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-[#0966CC] transition-all",style:{width:`${ge.onboardingComplete}%`}})})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[Qt(ge.systemHealth),s.jsxs(tp,{children:[s.jsx(rp,{asChild:!0,children:s.jsx(fe,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:s.jsx(Fm,{className:"w-4 h-4"})})}),s.jsxs(np,{align:"end",className:"w-56",children:[s.jsx(Kb,{children:"Quick Actions"}),s.jsx(oc,{}),s.jsxs(fn,{onClick:()=>t.navigate("EditAgency",{agencyId:ge.id,agencyData:ge}),children:[s.jsx(rc,{className:"w-4 h-4 mr-2"}),"Agency Settings"]}),s.jsxs(fn,{children:[s.jsx(as,{className:"w-4 h-4 mr-2"}),"Manage Users"]}),s.jsxs(fn,{onClick:()=>t.navigate("AgencyAnalytics",{agencyId:ge.id,agencyName:ge.name}),children:[s.jsx(Cl,{className:"w-4 h-4 mr-2"}),"View Analytics"]}),s.jsxs(fn,{onClick:()=>k(!0),children:[s.jsx(ir,{className:"w-4 h-4 mr-2"}),"View Audit Log"]}),ge.baaStatus!=="BAA Not Signed"&&s.jsxs(fn,{onClick:()=>C(ge),children:[s.jsx(ga,{className:"w-4 h-4 mr-2"}),"View BAA Document"]}),s.jsxs(fn,{onClick:()=>{X(ge),B(!0)},children:[s.jsx(X9,{className:"w-4 h-4 mr-2"}),"Feature Flags"]}),s.jsx(oc,{}),s.jsxs(fn,{onClick:()=>{L(ge),M(!0)},className:"text-[#F59E0B]",children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Impersonate"]}),s.jsx(fn,{onClick:()=>{pe(ge),xe(!0)},className:"text-[#DC2626]",children:ge.status==="Suspended"?s.jsxs(s.Fragment,{children:[s.jsx(HN,{className:"w-4 h-4 mr-2"}),"Unsuspend Agency"]}):s.jsxs(s.Fragment,{children:[s.jsx($N,{className:"w-4 h-4 mr-2"}),"Suspend Agency"]})})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-3 text-sm",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1 text-[#64748b] mb-1",children:[s.jsx("span",{children:"BAA Status"}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{children:s.jsx(mh,{className:"w-3 h-3"})}),s.jsx(Wr,{children:s.jsx("p",{children:"Business Associate Agreement. Click to view details."})})]})})]}),ge.baaStatus!=="BAA Not Signed"?s.jsxs("button",{onClick:()=>C(ge),className:`flex items-center gap-1 hover:underline ${ge.baaStatus==="BAA Expiring Soon"?"text-[#F59E0B]":"text-[#10B981]"}`,children:[s.jsx(ir,{className:"w-3 h-3"}),ge.baaStatus==="BAA Expiring Soon"?"Expiring":"Signed",s.jsx(_1,{className:"w-3 h-3"})]}):s.jsx("span",{className:"text-[#DC2626]",children:"Not Signed"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#64748b] mb-1",children:"Plan & Usage"}),s.jsxs("div",{className:"text-[#0f172a]",children:[ge.billingPlan,s.jsxs("span",{className:`text-xs ml-1 ${ge.seatsUsed>=ge.seats?"text-[#DC2626]":"text-[#64748b]"}`,children:["(",ge.seatsUsed,"/",ge.seats,")"]})]})]}),ge.renewal&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[#64748b] mb-1",children:"Renewal"}),s.jsx("div",{className:"text-[#0f172a]",children:ge.renewal})]}),ge.lastActive&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[#64748b] mb-1",children:"Last Active"}),s.jsxs("div",{className:"flex items-center gap-1 text-[#0f172a]",children:[s.jsx(Qs,{className:"w-3 h-3"}),ge.lastActive]})]}),ge.lastImport&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[#64748b] mb-1",children:"Last Import"}),s.jsxs("div",{className:`flex items-center gap-1 ${ge.lastImportSuccess===!1?"text-[#DC2626]":"text-[#0f172a]"}`,children:[s.jsx(Cl,{className:"w-3 h-3"}),ge.lastImport,ge.lastImportSuccess===!1&&s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{children:s.jsx(Zs,{className:"w-3 h-3 text-[#DC2626]"})}),s.jsx(Wr,{children:s.jsx("p",{children:"Ingestion failing in last hour"})})]})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#64748b] mb-1",children:"Clinicians"}),s.jsxs("div",{className:"flex items-center gap-1 text-[#0f172a]",children:[s.jsx(as,{className:"w-3 h-3"}),ge.clinicianCount]})]}),ge.unverifiedUsers>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1 text-[#64748b] mb-1",children:[s.jsx("span",{children:"Unverified Users"}),s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{children:s.jsx(mh,{className:"w-3 h-3"})}),s.jsx(Wr,{children:s.jsx("p",{children:"Users who haven't completed email/MFA verification"})})]})})]}),s.jsxs("div",{className:"flex items-center gap-1 text-[#F59E0B]",children:[s.jsx(Zs,{className:"w-3 h-3"}),ge.unverifiedUsers]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#64748b] mb-1",children:"MFA Coverage"}),s.jsxs("div",{className:`${ge.mfaPercentage>=90?"text-[#10B981]":ge.mfaPercentage>=70?"text-[#F59E0B]":"text-[#DC2626]"}`,children:[ge.mfaPercentage,"%"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#64748b] mb-1",children:"Created"}),s.jsx("div",{className:"text-[#0f172a]",children:ge.created})]})]})]})},ge.id))})]})]}),Cr=()=>s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[s.jsx("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6 mb-6",children:s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(ys,{className:"w-16 h-16 bg-[#0966CC]",children:s.jsx(ws,{className:"bg-[#0966CC] text-white text-xl",children:"SA"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#64748b] mb-1",children:"Welcome back,"}),s.jsx("h2",{className:"text-2xl text-[#0f172a]",children:"System Administrator"})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(ys,{className:"w-12 h-12 bg-[#0966CC]",children:s.jsx(ws,{className:"bg-[#0966CC] text-white",children:"SA"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-[#0f172a]",children:"Account Information"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"View and manage your account details"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm text-[#64748b] mb-2 block",children:"Name"}),s.jsx("p",{className:"text-[#0f172a]",children:"System Administrator"})]}),s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm text-[#64748b] mb-2 block",children:"Role"}),s.jsx(ft,{className:"bg-[#0966CC] text-white border-[#0966CC]",children:"Super Admin"})]})]}),s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm text-[#64748b] mb-2 block",children:"Email"}),s.jsx("p",{className:"text-[#0f172a]",children:"admin@luminous.com"})]}),s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm text-[#64748b] mb-2 block",children:"Access Level"}),s.jsx("p",{className:"text-[#0f172a]",children:"Full System Access"})]}),s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm text-[#64748b] mb-2 block",children:"Agencies Managed"}),s.jsxs("p",{className:"text-[#0f172a]",children:[Ee," agencies"]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#D1FAE5] flex items-center justify-center",children:s.jsx(na,{className:"w-6 h-6 text-[#10B981]"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-[#0f172a]",children:"Multi-Factor Authentication"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Your account is protected"})]})]}),s.jsxs(ft,{className:"bg-[#D1FAE5] text-[#047857] border-[#A7F3D0]",children:[s.jsx(ur,{className:"w-3 h-3 mr-1"}),"Enabled"]})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[#64748b]",children:"Primary Method"}),s.jsx("span",{className:"text-[#0f172a]",children:"Authenticator App"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[#64748b]",children:"Backup Codes"}),s.jsxs(fe,{variant:"outline",size:"sm",className:"h-8",children:[s.jsx(ga,{className:"w-3 h-3 mr-1"}),"Download"]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#FEF3C7] flex items-center justify-center",children:s.jsx(Qs,{className:"w-6 h-6 text-[#F59E0B]"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-[#0f172a]",children:"Last Login"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Track your recent access"})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[#64748b]",children:[s.jsx(fo,{className:"w-4 h-4"}),s.jsx("span",{children:"Chrome on MacOS"})]}),s.jsx("div",{className:"flex items-center gap-2 text-[#64748b]",children:s.jsx("span",{children:" San Francisco, CA"})}),s.jsx("div",{className:"flex items-center gap-2 text-[#64748b]",children:s.jsx("span",{children:" Today at 9:42 AM"})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6 mb-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#DBEAFE] flex items-center justify-center",children:s.jsx(fo,{className:"w-6 h-6 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-[#0f172a]",children:"Active Sessions"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Manage your active sessions"})]})]})}),s.jsx("div",{className:"space-y-3",children:Be.map(ge=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-[#e2e8f0] rounded-lg",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#f8fafc] flex items-center justify-center",children:ge.device.includes("iPhone")?s.jsx(Jf,{className:"w-5 h-5 text-[#64748b]"}):s.jsx(fo,{className:"w-5 h-5 text-[#64748b]"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-[#0f172a] mb-1",children:[ge.device,ge.current&&s.jsx(ft,{className:"ml-2 bg-[#D1FAE5] text-[#047857] border-[#A7F3D0] text-xs",children:"Current"})]}),s.jsx("p",{className:"text-xs text-[#64748b]",children:ge.location}),s.jsx("p",{className:"text-xs text-[#64748b]",children:ge.lastActive})]})]}),!ge.current&&s.jsx(fe,{variant:"outline",size:"sm",className:"h-8 text-[#DC2626] border-[#DC2626] hover:bg-[#FEE2E2]",onClick:()=>Zt(ge.id),children:"Revoke"})]},ge.id))})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#FEE2E2] flex items-center justify-center",children:s.jsx(ym,{className:"w-6 h-6 text-[#DC2626]"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-[#0f172a]",children:"API Tokens"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Manage your API access tokens"})]})]}),s.jsxs(fe,{size:"sm",className:"bg-[#0966CC] hover:bg-[#0C4A6E] text-white",children:[s.jsx($s,{className:"w-4 h-4 mr-1"}),"Generate Token"]})]}),s.jsxs("div",{className:"text-sm text-[#64748b] text-center py-8 border border-dashed border-[#e2e8f0] rounded-lg",children:[s.jsx(ym,{className:"w-8 h-8 text-[#94a3b8] mx-auto mb-2"}),s.jsx("p",{children:"No API tokens generated yet"}),s.jsx("p",{className:"text-xs mt-1",children:"Create a token to access the Luminous API"})]})]})]}),Mt=()=>s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#DBEAFE] flex items-center justify-center",children:U?s.jsx(jD,{className:"w-6 h-6 text-[#0966CC]"}):s.jsx(QD,{className:"w-6 h-6 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-[#0f172a]",children:"Appearance"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Customize how Luminous looks to you"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm text-[#0f172a] mb-1 block",children:"Dark Mode"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Switch between light and dark themes"})]}),s.jsx(Mi,{checked:U,onCheckedChange:Q})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#D1FAE5] flex items-center justify-center",children:s.jsx(rc,{className:"w-6 h-6 text-[#10B981]"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-[#0f172a]",children:"Default Preferences"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Set your default view options"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm text-[#0f172a] mb-2 block",children:"Default Agency List Sort"}),s.jsxs(ei,{value:J,onValueChange:re,children:[s.jsx(ri,{className:"border-[#e2e8f0]",children:s.jsx(ti,{})}),s.jsxs(ni,{children:[s.jsx(At,{value:"created",children:"Most Recent"}),s.jsx(At,{value:"name",children:"Alphabetical"}),s.jsx(At,{value:"activity",children:"Last Active"}),s.jsx(At,{value:"status",children:"Status"})]})]})]}),s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm text-[#0f172a] mb-2 block",children:"Default Analytics Window"}),s.jsxs(ei,{value:le,onValueChange:ye,children:[s.jsx(ri,{className:"border-[#e2e8f0]",children:s.jsx(ti,{})}),s.jsxs(ni,{children:[s.jsx(At,{value:"7d",children:"Last 7 Days"}),s.jsx(At,{value:"30d",children:"Last 30 Days"}),s.jsx(At,{value:"90d",children:"Last 90 Days"}),s.jsx(At,{value:"YTD",children:"Year to Date"})]})]})]}),s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm text-[#0f172a] mb-2 block",children:"Email Digest Frequency"}),s.jsxs(ei,{value:je,onValueChange:Se,children:[s.jsx(ri,{className:"border-[#e2e8f0]",children:s.jsx(ti,{})}),s.jsxs(ni,{children:[s.jsx(At,{value:"realtime",children:"Real-time"}),s.jsx(At,{value:"daily",children:"Daily"}),s.jsx(At,{value:"weekly",children:"Weekly"}),s.jsx(At,{value:"never",children:"Never"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#FEF3C7] flex items-center justify-center",children:s.jsx(os,{className:"w-6 h-6 text-[#F59E0B]"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg text-[#0f172a]",children:"Change Password"}),s.jsx("p",{className:"text-sm text-[#64748b]",children:"Update your password to keep your account secure"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"current-password",className:"text-sm text-[#64748b] mb-2 block",children:"Current Password"}),s.jsx(it,{id:"current-password",type:"password",placeholder:"Enter current password",className:"border-[#e2e8f0]"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"new-password",className:"text-sm text-[#64748b] mb-2 block",children:"New Password"}),s.jsx(it,{id:"new-password",type:"password",placeholder:"Enter new password",className:"border-[#e2e8f0]"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"confirm-password",className:"text-sm text-[#64748b] mb-2 block",children:"Confirm New Password"}),s.jsx(it,{id:"confirm-password",type:"password",placeholder:"Confirm new password",className:"border-[#e2e8f0]"})]}),s.jsx(fe,{className:"w-full bg-[#0966CC] hover:bg-[#0C4A6E] text-white",children:"Update Password"})]})]})]});return s.jsxs("div",{className:"flex h-screen bg-[#f8fafc]",children:[s.jsxs("aside",{className:"hidden md:flex md:w-64 flex-col border-r border-[#e2e8f0] bg-white",children:[s.jsx("div",{className:"p-6 border-b border-[#e2e8f0]",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#0966CC] flex items-center justify-center",children:s.jsx(J2,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg text-[#0f172a]",children:"Luminous"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Super Admin"})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:Or()}),s.jsx("div",{className:"p-4 border-t border-[#e2e8f0]",children:s.jsxs("button",{onClick:fr,className:"w-full flex items-center gap-3 px-3 py-3 rounded-lg text-[#DC2626] hover:bg-[#FEE2E2] transition-colors",children:[s.jsx(Yc,{className:"w-5 h-5"}),s.jsx("span",{children:"Sign Out"})]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"bg-white border-b border-[#e2e8f0] px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>n(!0),className:"md:hidden p-2 hover:bg-[#f8fafc] rounded-lg transition-colors",children:s.jsx(A1,{className:"w-6 h-6 text-[#64748b]"})}),s.jsxs("h1",{className:"text-xl sm:text-2xl text-[#0f172a]",children:[i==="agencies"&&"Agency Management",i==="profile"&&"Account Hub",i==="settings"&&"Preferences"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zr,{children:s.jsxs(Hr,{children:[s.jsx(qr,{asChild:!0,children:s.jsxs(fe,{variant:"outline",size:"sm",className:"hidden sm:flex h-9 gap-2",onClick:()=>G(!0),children:[s.jsx(wa,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-xs text-[#64748b]",children:[s.jsx("kbd",{className:"px-1.5 py-0.5 text-xs bg-[#f8fafc] border border-[#e2e8f0] rounded",children:""}),s.jsx("kbd",{className:"px-1.5 py-0.5 text-xs bg-[#f8fafc] border border-[#e2e8f0] rounded ml-0.5",children:"K"})]})]})}),s.jsx(Wr,{children:s.jsx("p",{children:"Global search"})})]})}),s.jsxs(fe,{variant:"outline",size:"sm",className:"h-9",onClick:()=>k(!0),children:[s.jsx(lh,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Audit Log"})]}),s.jsx(ys,{className:"w-9 h-9 bg-[#0966CC] md:hidden",children:s.jsx(ws,{className:"bg-[#0966CC] text-white text-sm",children:"SA"})})]})]})}),s.jsxs("main",{className:"flex-1 overflow-y-auto",children:[i==="agencies"&&Dr(),i==="profile"&&Cr(),i==="settings"&&Mt()]})]}),s.jsx(Jd,{open:r,onOpenChange:n,children:s.jsxs(Qd,{side:"left",className:"w-64 p-0",children:[s.jsx(eu,{className:"p-6 border-b border-[#e2e8f0]",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#0966CC] flex items-center justify-center",children:s.jsx(J2,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx(tu,{className:"text-lg text-[#0f172a]",children:"Luminous"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Super Admin"})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:Or()}),s.jsx("div",{className:"p-4 border-t border-[#e2e8f0]",children:s.jsxs("button",{onClick:fr,className:"w-full flex items-center gap-3 px-3 py-3 rounded-lg text-[#DC2626] hover:bg-[#FEE2E2] transition-colors",children:[s.jsx(Yc,{className:"w-5 h-5"}),s.jsx("span",{children:"Sign Out"})]})})]})}),s.jsx(Nte,{isOpen:ie,onClose:()=>G(!1),agencies:ce,onSelectAgency:ge=>{const pt=ce.find(bt=>bt.id===ge);pt&&t.navigate("EditAgency",{agencyId:ge,agencyData:pt})}}),s.jsx(_r,{open:o,onOpenChange:l,children:s.jsxs(jr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Add New Agency"}),s.jsx(Pr,{children:"Create a new healthcare agency in the system"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"agency-name",className:"text-sm text-[#64748b] mb-2 block",children:"Agency Name *"}),s.jsx(it,{id:"agency-name",placeholder:"e.g., Sunrise Healthcare",value:Fe.agencyName,onChange:ge=>Ct("agencyName",ge.target.value),className:"border-[#e2e8f0]"})]}),s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm text-[#64748b] mb-2 block",children:"Subdomain *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(it,{placeholder:"subdomain",value:Fe.subdomain,onChange:ge=>Ct("subdomain",ge.target.value),className:"border-[#e2e8f0]"}),s.jsxs(ei,{value:Fe.domainSuffix,onValueChange:ge=>Ct("domainSuffix",ge),children:[s.jsx(ri,{className:"w-[120px] border-[#e2e8f0]",children:s.jsx(ti,{})}),s.jsxs(ni,{children:[s.jsx(At,{value:".app",children:".app"}),s.jsx(At,{value:".health",children:".health"})]})]})]}),s.jsxs("p",{className:"text-xs text-[#64748b] mt-1",children:["Full URL: ",Fe.subdomain||"subdomain",Fe.domainSuffix]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"ein",className:"text-sm text-[#64748b] mb-2 block",children:"EIN (Tax ID)"}),s.jsx(it,{id:"ein",placeholder:"12-3456789",value:Fe.ein,onChange:ge=>Ct("ein",ge.target.value),className:"border-[#e2e8f0]"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"contact-email",className:"text-sm text-[#64748b] mb-2 block",children:"Primary Contact Email *"}),s.jsx(it,{id:"contact-email",type:"email",placeholder:"admin@agency.com",value:Fe.contactEmail,onChange:ge=>Ct("contactEmail",ge.target.value),className:"border-[#e2e8f0]"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"contact-phone",className:"text-sm text-[#64748b] mb-2 block",children:"Contact Phone"}),s.jsx(it,{id:"contact-phone",type:"tel",placeholder:"(555) 123-4567",value:Fe.contactPhone,onChange:ge=>Ct("contactPhone",ge.target.value),className:"border-[#e2e8f0]"})]}),s.jsx(Ur,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm text-[#0f172a] mb-1 block",children:"BAA Signed"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Has the Business Associate Agreement been signed?"})]}),s.jsx(sa,{checked:Fe.baaSigned,onCheckedChange:ge=>Ct("baaSigned",ge)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm text-[#0f172a] mb-1 block",children:"Test Mode"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Create as a test/QA environment"})]}),s.jsx(sa,{checked:Fe.testMode,onCheckedChange:ge=>Ct("testMode",ge)})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>l(!1),className:"border-[#e2e8f0]",children:"Cancel"}),s.jsxs(fe,{onClick:mt,className:"bg-[#0966CC] hover:bg-[#0C4A6E] text-white",children:[s.jsx($s,{className:"w-4 h-4 mr-2"}),"Create Agency"]})]})]})}),s.jsx(_r,{open:!!j,onOpenChange:()=>C(null),children:s.jsxs(jr,{className:"max-w-2xl",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Business Associate Agreement"}),s.jsxs(Pr,{children:["BAA details for ",j?.name]})]}),j&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#f8fafc] rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${j.baaStatus==="BAA Expiring Soon"?"bg-[#FEF3C7]":"bg-[#D1FAE5]"}`,children:s.jsx(ir,{className:`w-6 h-6 ${j.baaStatus==="BAA Expiring Soon"?"text-[#F59E0B]":"text-[#10B981]"}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:j.baaStatus}),s.jsx("p",{className:"text-xs text-[#64748b]",children:j.baaStatus==="BAA Expiring Soon"?"Renewal required soon":"Fully executed and compliant"})]})]}),s.jsx(ft,{className:j.baaStatus==="BAA Expiring Soon"?"bg-[#FEF3C7] text-[#B45309] border-[#FDE68A]":"bg-[#D1FAE5] text-[#047857] border-[#A7F3D0]",children:j.baaStatus==="BAA Expiring Soon"?"Expiring":"Active"})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border border-[#e2e8f0] rounded-lg",children:[s.jsx("span",{className:"text-[#64748b]",children:"Signed Date"}),s.jsx("span",{className:"text-[#0f172a]",children:j.baaSignedDate})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border border-[#e2e8f0] rounded-lg",children:[s.jsx("span",{className:"text-[#64748b]",children:"Signatory"}),s.jsx("span",{className:"text-[#0f172a]",children:j.baaSignedBy})]}),j.baaRenewedDate&&s.jsxs("div",{className:"flex items-center justify-between p-3 border border-[#e2e8f0] rounded-lg",children:[s.jsx("span",{className:"text-[#64748b]",children:"Last Renewed"}),s.jsx("span",{className:"text-[#0f172a]",children:j.baaRenewedDate})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border border-[#e2e8f0] rounded-lg",children:[s.jsx("span",{className:"text-[#64748b]",children:"Document"}),s.jsxs(fe,{variant:"outline",size:"sm",children:[s.jsx(ga,{className:"w-3 h-3 mr-1"}),"Download PDF"]})]})]}),s.jsxs("div",{className:"bg-[#f8fafc] p-4 rounded-lg",children:[s.jsxs("h4",{className:"text-sm text-[#0f172a] mb-2 flex items-center gap-2",children:[s.jsx(lh,{className:"w-4 h-4"}),"History"]}),s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[#64748b]",children:[s.jsx(ur,{className:"w-3 h-3 text-[#10B981]"}),s.jsxs("span",{children:["Signed on ",j.baaSignedDate]})]}),j.baaRenewedDate&&s.jsxs("div",{className:"flex items-center gap-2 text-[#64748b]",children:[s.jsx(ur,{className:"w-3 h-3 text-[#10B981]"}),s.jsxs("span",{children:["Renewed on ",j.baaRenewedDate]})]})]})]})]}),s.jsx(Br,{children:s.jsx(fe,{variant:"outline",onClick:()=>C(null),children:"Close"})})]})}),s.jsx(_r,{open:A,onOpenChange:k,children:s.jsxs(jr,{className:"max-w-6xl max-h-[85vh] flex flex-col",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Audit Log"}),s.jsx(Pr,{children:"View recent system activities and changes"})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(it,{placeholder:"Search audit logs...",className:"flex-1 border-[#e2e8f0]"}),s.jsxs(fe,{variant:"outline",size:"sm",children:[s.jsx(ga,{className:"w-4 h-4 mr-1"}),"Export CSV"]})]}),s.jsx("div",{className:"border border-[#e2e8f0] rounded-lg overflow-hidden flex-1 min-h-0",children:s.jsx("div",{className:"overflow-auto h-full",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-[#f8fafc] border-b border-[#e2e8f0] sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left text-xs text-[#64748b] p-3 whitespace-nowrap",children:"Timestamp"}),s.jsx("th",{className:"text-left text-xs text-[#64748b] p-3 whitespace-nowrap",children:"Actor"}),s.jsx("th",{className:"text-left text-xs text-[#64748b] p-3 whitespace-nowrap",children:"Action"}),s.jsx("th",{className:"text-left text-xs text-[#64748b] p-3 whitespace-nowrap",children:"Entity"}),s.jsx("th",{className:"text-left text-xs text-[#64748b] p-3 whitespace-nowrap",children:"Details"})]})}),s.jsx("tbody",{className:"divide-y divide-[#e2e8f0]",children:$e.map(ge=>s.jsxs("tr",{className:"hover:bg-[#f8fafc]",children:[s.jsx("td",{className:"text-xs text-[#64748b] p-3 whitespace-nowrap",children:ge.timestamp}),s.jsx("td",{className:"text-xs text-[#0f172a] p-3 whitespace-nowrap",children:ge.actor}),s.jsx("td",{className:"text-xs p-3 whitespace-nowrap",children:s.jsx(ft,{className:"bg-[#DBEAFE] text-[#1E40AF] border-[#93C5FD] text-xs",children:ge.action})}),s.jsx("td",{className:"text-xs text-[#0f172a] p-3 whitespace-nowrap",children:ge.entity}),s.jsx("td",{className:"text-xs text-[#64748b] p-3",children:ge.details})]},ge.id))})]})})}),s.jsx("p",{className:"text-xs text-[#64748b] text-center mt-4",children:"Showing recent 20 entries  Total: 1,247 entries"})]})}),s.jsx(_r,{open:P,onOpenChange:M,children:s.jsxs(jr,{children:[s.jsxs(Er,{children:[s.jsxs(kr,{className:"flex items-center gap-2 text-[#F59E0B]",children:[s.jsx(Zs,{className:"w-5 h-5"}),"Impersonate Agency"]}),s.jsxs(Pr,{children:["You are about to impersonate ",$?.name,". This action will be logged."]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("div",{className:"bg-[#FEF3C7] border border-[#FDE68A] rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-[#92400E]",children:[s.jsx("strong",{children:"Important:"})," While impersonating, all actions will be tagged in the audit log. Session will automatically end after 15 minutes."]})}),s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm text-[#64748b] mb-2 block",children:"Reason for Impersonation *"}),s.jsx(lu,{placeholder:"e.g., Support request #1234, investigating reported issue...",value:D,onChange:ge=>V(ge.target.value),className:"border-[#e2e8f0] min-h-[100px]"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>{M(!1),V("")},children:"Cancel"}),s.jsxs(fe,{onClick:Et,className:"bg-[#F59E0B] hover:bg-[#D97706] text-white",children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Start Impersonation"]})]})]})}),s.jsx(_r,{open:ee,onOpenChange:xe,children:s.jsxs(jr,{children:[s.jsxs(Er,{children:[s.jsxs(kr,{className:"flex items-center gap-2 text-[#DC2626]",children:[s.jsx(Zs,{className:"w-5 h-5"}),oe?.status==="Suspended"?"Unsuspend":"Suspend"," Agency"]}),s.jsx(Pr,{children:oe?.status==="Suspended"?`Restore access for ${oe?.name}`:`Temporarily restrict access for ${oe?.name}`})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("div",{className:"bg-[#FEE2E2] border border-[#FECACA] rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-[#7F1D1D]",children:oe?.status==="Suspended"?"This will restore full access to the agency and all its users.":"This will immediately lock all agency users out and mark all data as read-only."})}),s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm text-[#64748b] mb-2 block",children:"Reason *"}),s.jsx(lu,{placeholder:"e.g., Payment failure, security concern, user request...",value:H,onChange:ge=>q(ge.target.value),className:"border-[#e2e8f0] min-h-[100px]"})]})]}),s.jsxs(Br,{children:[s.jsx(fe,{variant:"outline",onClick:()=>{xe(!1),q("")},children:"Cancel"}),s.jsx(fe,{onClick:jt,className:oe?.status==="Suspended"?"bg-[#10B981] hover:bg-[#059669] text-white":"bg-[#DC2626] hover:bg-[#B91C1C] text-white",children:oe?.status==="Suspended"?s.jsxs(s.Fragment,{children:[s.jsx(HN,{className:"w-4 h-4 mr-2"}),"Unsuspend Agency"]}):s.jsxs(s.Fragment,{children:[s.jsx($N,{className:"w-4 h-4 mr-2"}),"Suspend Agency"]})})]})]})}),s.jsx(_r,{open:ne,onOpenChange:B,children:s.jsxs(jr,{className:"max-w-2xl",children:[s.jsxs(Er,{children:[s.jsx(kr,{children:"Feature Flags"}),s.jsxs(Pr,{children:["Manage feature rollouts for ",F?.name]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("div",{className:"bg-[#f8fafc] p-4 rounded-lg",children:s.jsx("p",{className:"text-xs text-[#64748b] mb-3",children:"Enable or disable specific features for staged rollouts and testing"})}),s.jsxs("div",{className:"space-y-3",children:[["New OCR","Background sync v2","Biometric login"].map(ge=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-[#e2e8f0] rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:ge}),s.jsxs("p",{className:"text-xs text-[#64748b]",children:[ge==="New OCR"&&"Enhanced OCR with LLM integration",ge==="Background sync v2"&&"Improved background sync performance",ge==="Biometric login"&&"Face ID / Fingerprint authentication"]})]}),s.jsx(Mi,{checked:F?.featureFlags?.includes(ge),onCheckedChange:pt=>{et.success(pt?`${ge} enabled`:`${ge} disabled`)}})]},ge)),s.jsxs("div",{className:"border border-[#e2e8f0] rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#0f172a] mb-1",children:"Delivery options"}),s.jsx("p",{className:"text-xs text-[#64748b]",children:"Configure available chart delivery methods"})]}),s.jsx(Mi,{checked:F?.featureFlags?.includes("Delivery options"),onCheckedChange:ge=>{et.success(ge?"Delivery options enabled":"Delivery options disabled")}})]}),s.jsx("div",{className:"ml-4 space-y-2 pt-3 border-t border-[#e2e8f0]",children:["PDF","Print","Fax","Send via Email"].map(ge=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(qe,{className:"text-sm text-[#64748b]",children:ge}),s.jsx(sa,{defaultChecked:ge==="PDF"||ge==="Print",onCheckedChange:pt=>{et.success(`${ge} ${pt?"enabled":"disabled"}`)}})]},ge))})]})]})]}),s.jsx(Br,{children:s.jsx(fe,{variant:"outline",onClick:()=>B(!1),children:"Close"})})]})})]})}function Cte({navigation:t,route:e}){const r=e.params.agencyData,[n,i]=_.useState({agencyName:r?.name||"",subdomain:r?.subdomain?.replace(".app","")||"",ein:r?.ein||"",contactEmail:r?.contact||"",contactPhone:"",paymentToken:"",status:r?.status||"Active",baaSigned:r?.baaStatus==="BAA Signed",testMode:r?.testMode||!1}),a=(c,u)=>{i(h=>({...h,[c]:u}))},o=c=>{c.preventDefault(),console.log("Updating agency:",n),t.goBack()},l=()=>{t.goBack()};return s.jsxs("div",{className:"h-screen flex flex-col bg-[#f8fafc] overflow-hidden",children:[s.jsx("header",{className:"bg-white border-b border-[#e2e8f0] flex-shrink-0",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(fe,{onClick:()=>t.goBack(),variant:"ghost",size:"icon",className:"rounded-full flex-shrink-0",children:s.jsx(ln,{className:"w-5 h-5"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h1",{className:"text-xl sm:text-2xl text-[#0f172a] truncate",children:"Edit Agency"}),s.jsx("p",{className:"text-sm text-[#64748b] truncate",children:"Update agency information"})]})]})})}),s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 pb-8",children:s.jsxs("form",{onSubmit:o,className:"bg-white rounded-xl border border-[#e2e8f0] p-4 sm:p-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(qe,{htmlFor:"agencyName",children:["Agency Name ",s.jsx("span",{className:"text-[#DC2626]",children:"*"})]}),s.jsx(it,{id:"agencyName",type:"text",required:!0,value:n.agencyName,onChange:c=>a("agencyName",c.target.value),placeholder:"Enter agency name",className:"w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(qe,{htmlFor:"subdomain",children:["Subdomain ",s.jsx("span",{className:"text-[#DC2626]",children:"*"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(it,{id:"subdomain",type:"text",required:!0,value:n.subdomain,onChange:c=>a("subdomain",c.target.value),placeholder:"subdomain",className:"flex-1"}),s.jsx("span",{className:"text-[#64748b]",children:".app"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"ein",children:"EIN"}),s.jsx(it,{id:"ein",type:"text",value:n.ein,onChange:c=>a("ein",c.target.value),placeholder:"12-3456789",className:"w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(qe,{htmlFor:"contactEmail",children:["Contact Email ",s.jsx("span",{className:"text-[#DC2626]",children:"*"})]}),s.jsx(it,{id:"contactEmail",type:"email",required:!0,value:n.contactEmail,onChange:c=>a("contactEmail",c.target.value),placeholder:"admin@agency.com",className:"w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"contactPhone",children:"Contact Phone"}),s.jsx(it,{id:"contactPhone",type:"tel",value:n.contactPhone,onChange:c=>a("contactPhone",c.target.value),placeholder:"(555) 123-4567",className:"w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"paymentToken",children:"Payment Token"}),s.jsx(it,{id:"paymentToken",type:"text",value:n.paymentToken,onChange:c=>a("paymentToken",c.target.value),placeholder:"Stripe customer ID",className:"w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(qe,{htmlFor:"status",children:["Status ",s.jsx("span",{className:"text-[#DC2626]",children:"*"})]}),s.jsxs(ei,{value:n.status,onValueChange:c=>a("status",c),children:[s.jsx(ri,{className:"w-full",children:s.jsx(ti,{})}),s.jsxs(ni,{children:[s.jsx(At,{value:"Active",children:"Active"}),s.jsx(At,{value:"Inactive",children:"Inactive"})]})]})]}),s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sa,{id:"baaSigned",checked:n.baaSigned,onCheckedChange:c=>a("baaSigned",c)}),s.jsx(qe,{htmlFor:"baaSigned",className:"cursor-pointer",children:"BAA Signed"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sa,{id:"testMode",checked:n.testMode,onCheckedChange:c=>a("testMode",c)}),s.jsx(qe,{htmlFor:"testMode",className:"cursor-pointer",children:"Test Mode"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-[#e2e8f0]",children:[s.jsx(fe,{type:"button",onClick:l,variant:"outline",className:"flex-1",children:"Cancel"}),s.jsx(fe,{type:"submit",className:"flex-1 bg-[#0966CC] hover:bg-[#0C4A6E] text-white",children:"Save Changes"})]})]})})})]})}function _te({navigation:t,route:e}){const r=e.params.agencyName||"Agency",n={totalCharts:0,finalized:0,pending:0,activeUsers:0,ocrSuccessRates:{bottleScan:0,pdfImport:0,imageUpload:0},monthlyActivity:{chartsCreated:0}};return s.jsxs("div",{className:"h-screen flex flex-col bg-[#f8fafc] overflow-hidden",children:[s.jsx("header",{className:"bg-white border-b border-[#e2e8f0] flex-shrink-0",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(fe,{onClick:()=>t.goBack(),variant:"ghost",size:"icon",className:"rounded-full flex-shrink-0",children:s.jsx(ln,{className:"w-5 h-5"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h1",{className:"text-xl sm:text-2xl text-[#0f172a] truncate",children:r}),s.jsx("p",{className:"text-sm text-[#64748b] truncate",children:"Analytics & Performance Metrics"})]})]})})}),s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 pb-8 space-y-6 sm:space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4 sm:p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-[#E0F2FE] flex items-center justify-center",children:s.jsx(ir,{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#0966CC]"})})}),s.jsx("p",{className:"text-2xl sm:text-3xl text-[#0f172a] mb-1",children:n.totalCharts}),s.jsx("p",{className:"text-xs sm:text-sm text-[#64748b]",children:"Total Charts"})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4 sm:p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-[#D1FAE5] flex items-center justify-center",children:s.jsx(Js,{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#10B981]"})})}),s.jsx("p",{className:"text-2xl sm:text-3xl text-[#0f172a] mb-1",children:n.finalized}),s.jsx("p",{className:"text-xs sm:text-sm text-[#64748b]",children:"Finalized"})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4 sm:p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-[#FEF3C7] flex items-center justify-center",children:s.jsx(Qs,{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#F59E0B]"})})}),s.jsx("p",{className:"text-2xl sm:text-3xl text-[#0f172a] mb-1",children:n.pending}),s.jsx("p",{className:"text-xs sm:text-sm text-[#64748b]",children:"Pending"})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4 sm:p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-[#E0F2FE] flex items-center justify-center",children:s.jsx(as,{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#0966CC]"})})}),s.jsx("p",{className:"text-2xl sm:text-3xl text-[#0f172a] mb-1",children:n.activeUsers}),s.jsx("p",{className:"text-xs sm:text-sm text-[#64748b]",children:"Active Users"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4 sm:p-6",children:[s.jsx("h2",{className:"text-lg sm:text-xl text-[#0f172a] mb-4 sm:mb-6",children:"OCR Success Rates by Source"}),s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-[#E0F2FE] flex items-center justify-center flex-shrink-0",children:s.jsx(zf,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#0966CC]"})}),s.jsx("span",{className:"text-sm sm:text-base text-[#0f172a]",children:"Bottle Scan"})]}),s.jsxs("span",{className:"text-sm sm:text-base text-[#0f172a]",children:[n.ocrSuccessRates.bottleScan.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full h-2 bg-[#e2e8f0] rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-[#0966CC] rounded-full transition-all",style:{width:`${n.ocrSuccessRates.bottleScan}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-[#FEE2E2] flex items-center justify-center flex-shrink-0",children:s.jsx(bw,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#DC2626]"})}),s.jsx("span",{className:"text-sm sm:text-base text-[#0f172a]",children:"PDF Import"})]}),s.jsxs("span",{className:"text-sm sm:text-base text-[#0f172a]",children:[n.ocrSuccessRates.pdfImport.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full h-2 bg-[#e2e8f0] rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-[#DC2626] rounded-full transition-all",style:{width:`${n.ocrSuccessRates.pdfImport}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-[#D1FAE5] flex items-center justify-center flex-shrink-0",children:s.jsx(iD,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#10B981]"})}),s.jsx("span",{className:"text-sm sm:text-base text-[#0f172a]",children:"Image Upload"})]}),s.jsxs("span",{className:"text-sm sm:text-base text-[#0f172a]",children:[n.ocrSuccessRates.imageUpload.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full h-2 bg-[#e2e8f0] rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-[#10B981] rounded-full transition-all",style:{width:`${n.ocrSuccessRates.imageUpload}%`}})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-[#e2e8f0] p-4 sm:p-6",children:[s.jsx("h2",{className:"text-lg sm:text-xl text-[#0f172a] mb-3 sm:mb-4",children:"Monthly Activity"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-xl bg-[#E0F2FE] flex items-center justify-center flex-shrink-0",children:s.jsx(ir,{className:"w-6 h-6 sm:w-8 sm:h-8 text-[#0966CC]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl sm:text-3xl text-[#0f172a]",children:n.monthlyActivity.chartsCreated}),s.jsx("p",{className:"text-xs sm:text-sm text-[#64748b]",children:"charts created this month"})]})]})]}),s.jsx("div",{className:"bg-gradient-to-br from-[#FEF3C7] to-[#FDE68A] rounded-xl border border-[#F59E0B] p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-[#F59E0B] flex items-center justify-center flex-shrink-0",children:s.jsx(ir,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm sm:text-base text-[#0f172a] mb-1 sm:mb-2",children:"HIPAA Compliance Notice"}),s.jsx("p",{className:"text-xs sm:text-sm text-[#64748b]",children:"Note: This dashboard displays aggregated, non-PHI metrics only. Individual patient data is not accessible to Super Admins per HIPAA compliance."})]})]})})]})})]})}function Ate(){const[t,e]=_.useState("Landing"),[r,n]=_.useState({}),[i,a]=_.useState([]),c={navigate:(h,m={})=>{a([...i,{screen:t,params:r}]),e(h),n(m)},goBack:()=>{if(i.length>0){const h=i[i.length-1];e(h.screen),n(h.params),a(i.slice(0,-1))}}},u=()=>{const h={navigation:c,route:{params:r}};switch(t){case"Landing":return s.jsx(r4,{...h});case"Login":return s.jsx(jO,{...h});case"MFA":return s.jsx(CO,{...h});case"PasswordReset":return s.jsx(_O,{...h});case"AccountActivation":return s.jsx(AO,{...h});case"ClinicianDashboard":return s.jsx(CY,{...h});case"PatientChartList":return s.jsx(SY,{...h});case"NewPatientChart":return s.jsx(PY,{...h});case"NewPatientChartMedications":return s.jsx(DY,{...h});case"NewPatientChartReview":return s.jsx(FY,{...h});case"NewPatientChartComplete":return s.jsx(MY,{...h});case"CaptureSourceSelection":return s.jsx(BY,{...h});case"ChartDetail":return s.jsx(VZ,{...h});case"MedicationVerification":return s.jsx($Z,{...h});case"ChartSummary":return s.jsx(zZ,{...h});case"ChartDelivery":return s.jsx(Ree,{...h});case"ClinicianProfile":return s.jsx(Oee,{...h});case"ClinicianSettings":return s.jsx(Lee,{...h});case"AgencyAdminDashboard":return s.jsx(Gee,{...h});case"AgencyChartsView":return s.jsx(Kee,{...h});case"AgencyPatientsView":return s.jsx(jk,{...h});case"AgencyUsersView":return s.jsx(Dk,{...h});case"ChartDetailView":return s.jsx(Yee,{...h});case"PatientDetailEdit":return s.jsx(Xee,{...h});case"UserDetailEdit":return s.jsx(Zee,{...h});case"AgencyAdminProfile":return s.jsx(Jee,{...h});case"AgencyAdminSettings":return s.jsx(Qee,{...h});case"SchedulerDashboard":return s.jsx(bte,{...h});case"SchedulerProfile":return s.jsx(qk,{...h});case"SchedulerSettings":return s.jsx(Wk,{...h});case"SuperAdminDashboard":return s.jsx(jte,{...h});case"EditAgency":return s.jsx(Cte,{...h});case"AgencyAnalytics":return s.jsx(_te,{...h});default:return s.jsx(r4,{...h})}};return s.jsx(t9,{children:s.jsx("div",{className:"h-screen w-full overflow-hidden bg-[#f8fafc]",children:u()})})}DP.createRoot(document.getElementById("root")).render(s.jsx(Ate,{}));export{Sn as _,Ste as c,b1 as g};
